(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+BeD":function(e,t,n){"use strict";var i=n("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.LocalIndexedDBStoreBackend=d;var r=n("3sFX"),s=i(n("t+e4")),o=i(n("BLwL")),a=n("PrRn");function c(e,t,n){const i=e.openCursor(t);return new Promise((e,t)=>{const r=[];i.onerror=e=>{t(new Error("Query failed: "+e.target.errorCode))},i.onsuccess=t=>{const i=t.target.result;i?(r.push(n(i)),i.continue()):e(r)}})}function l(e){return new Promise((t,n)=>{e.oncomplete=function(e){t(e)},e.onerror=function(e){n(e.target.error)}})}function u(e){return new Promise((t,n)=>{e.onsuccess=function(e){t(e)},e.onerror=function(e){n(e.target.error)}})}function h(e){return u(e).then(e=>e.target.result)}function d(e,t){this.indexedDB=e,this._dbName="matrix-js-sdk:"+(t||"default"),this.db=null,this._disconnected=!0,this._syncAccumulator=new r.SyncAccumulator,this._isNewlyCreated=!1}d.exists=function(e,t){return o.exists(e,t="matrix-js-sdk:"+(t||"default"))},d.prototype={connect:function(){if(!this._disconnected)return a.logger.log("LocalIndexedDBStoreBackend.connect: already connected or connecting"),Promise.resolve();this._disconnected=!1,a.logger.log("LocalIndexedDBStoreBackend.connect: connecting...");const e=this.indexedDB.open(this._dbName,3);return e.onupgradeneeded=e=>{const t=e.target.result,n=e.oldVersion;a.logger.log("LocalIndexedDBStoreBackend.connect: upgrading from "+n),n<1&&(this._isNewlyCreated=!0,function(e){e.createObjectStore("users",{keyPath:["userId"]}),e.createObjectStore("accountData",{keyPath:["type"]}),e.createObjectStore("sync",{keyPath:["clobber"]})}(t)),n<2&&function(e){e.createObjectStore("oob_membership_events",{keyPath:["room_id","state_key"]}).createIndex("room","room_id")}(t),n<3&&function(e){e.createObjectStore("client_options",{keyPath:["clobber"]})}(t)},e.onblocked=()=>{a.logger.log("can't yet open LocalIndexedDBStoreBackend because it is open elsewhere")},a.logger.log("LocalIndexedDBStoreBackend.connect: awaiting connection..."),u(e).then(e=>(a.logger.log("LocalIndexedDBStoreBackend.connect: connected"),this.db=e.target.result,this.db.onversionchange=()=>{this.db.close()},this._init()))},isNewlyCreated:function(){return Promise.resolve(this._isNewlyCreated)},_init:function(){return Promise.all([this._loadAccountData(),this._loadSyncData()]).then(([e,t])=>{a.logger.log("LocalIndexedDBStoreBackend: loaded initial data"),this._syncAccumulator.accumulate({next_batch:t.nextBatch,rooms:t.roomsData,groups:t.groupsData,account_data:{events:e}})})},getOutOfBandMembers:function(e){return new Promise((t,n)=>{const i=this.db.transaction(["oob_membership_events"],"readonly").objectStore("oob_membership_events").index("room"),r=IDBKeyRange.only(e),s=i.openCursor(r),o=[];let a=!1;s.onsuccess=e=>{const n=e.target.result;if(!n)return t(o.length||a?o:null);const i=n.value;i.oob_written?a=!0:o.push(i),n.continue()},s.onerror=e=>{n(e)}}).then(t=>(a.logger.log("LL: got "+(t&&t.length)+` membershipEvents from storage for room ${e} ...`),t))},setOutOfBandMembers:async function(e,t){a.logger.log("LL: backend about to store "+t.length+" members for "+e);const n=this.db.transaction(["oob_membership_events"],"readwrite"),i=n.objectStore("oob_membership_events");t.forEach(e=>{i.put(e)}),i.put({room_id:e,oob_written:!0,state_key:0}),await l(n),a.logger.log(`LL: backend done storing for ${e}!`)},clearOutOfBandMembers:async function(e){const t=this.db.transaction(["oob_membership_events"],"readonly").objectStore("oob_membership_events").index("room"),n=IDBKeyRange.only(e),i=h(t.openKeyCursor(n,"next")).then(e=>e&&e.primaryKey[1]),r=h(t.openKeyCursor(n,"prev")).then(e=>e&&e.primaryKey[1]),[s,o]=await Promise.all([i,r]),c=this.db.transaction(["oob_membership_events"],"readwrite").objectStore("oob_membership_events"),l=IDBKeyRange.bound([e,s],[e,o]);var u;a.logger.log(`LL: Deleting all users + marker in storage for room ${e}, with key range:`,[e,s],[e,o]),await(u=c.delete(l),new Promise((e,t)=>{u.onsuccess=()=>e(u),u.onerror=e=>t(e)}))},clearDatabase:function(){return new Promise((e,t)=>{a.logger.log("Removing indexeddb instance: "+this._dbName);const n=this.indexedDB.deleteDatabase(this._dbName);n.onblocked=()=>{a.logger.log("can't yet delete indexeddb "+this._dbName+" because it is open elsewhere")},n.onerror=t=>{a.logger.warn("unable to delete js-sdk store indexeddb: "+t.target.error),e()},n.onsuccess=()=>{a.logger.log("Removed indexeddb instance: "+this._dbName),e()}})},getSavedSync:function(e){void 0===e&&(e=!0);const t=this._syncAccumulator.getJSON();return Promise.resolve(t.nextBatch?e?s.deepCopy(t):t:null)},getNextBatchToken:function(){return Promise.resolve(this._syncAccumulator.getNextBatchToken())},setSyncData:function(e){return Promise.resolve().then(()=>{this._syncAccumulator.accumulate(e)})},syncToDatabase:function(e){const t=this._syncAccumulator.getJSON();return Promise.all([this._persistUserPresenceEvents(e),this._persistAccountData(t.accountData),this._persistSyncData(t.nextBatch,t.roomsData,t.groupsData)])},_persistSyncData:function(e,t,n){return a.logger.log("Persisting sync data up to ",e),s.promiseTry(()=>{const i=this.db.transaction(["sync"],"readwrite");return i.objectStore("sync").put({clobber:"-",nextBatch:e,roomsData:t,groupsData:n}),l(i)})},_persistAccountData:function(e){return s.promiseTry(()=>{const t=this.db.transaction(["accountData"],"readwrite"),n=t.objectStore("accountData");for(let i=0;i<e.length;i++)n.put(e[i]);return l(t)})},_persistUserPresenceEvents:function(e){return s.promiseTry(()=>{const t=this.db.transaction(["users"],"readwrite"),n=t.objectStore("users");for(const i of e)n.put({userId:i[0],event:i[1]});return l(t)})},getUserPresenceEvents:function(){return s.promiseTry(()=>c(this.db.transaction(["users"],"readonly").objectStore("users"),void 0,e=>[e.value.userId,e.value.event]))},_loadAccountData:function(){return a.logger.log("LocalIndexedDBStoreBackend: loading account data..."),s.promiseTry(()=>c(this.db.transaction(["accountData"],"readonly").objectStore("accountData"),void 0,e=>e.value).then(e=>(a.logger.log("LocalIndexedDBStoreBackend: loaded account data"),e)))},_loadSyncData:function(){return a.logger.log("LocalIndexedDBStoreBackend: loading sync data..."),s.promiseTry(()=>c(this.db.transaction(["sync"],"readonly").objectStore("sync"),void 0,e=>e.value).then(e=>(a.logger.log("LocalIndexedDBStoreBackend: loaded sync data"),e.length>1&&a.logger.warn("loadSyncData: More than 1 sync row found."),e.length>0?e[0]:{})))},getClientOptions:function(){return Promise.resolve().then(()=>c(this.db.transaction(["client_options"],"readonly").objectStore("client_options"),void 0,e=>{if(e.value&&e.value&&e.value.options)return e.value.options}).then(e=>e[0]))},storeClientOptions:async function(e){const t=this.db.transaction(["client_options"],"readwrite");t.objectStore("client_options").put({clobber:"-",options:e}),await l(t)}}},"+qE3":function(e,t,n){"use strict";var i,r="object"==typeof Reflect?Reflect:null,s=r&&"function"==typeof r.apply?r.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};i=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(n,i){function r(){void 0!==s&&e.removeListener("error",s),n([].slice.call(arguments))}var s;"error"!==t&&(s=function(n){e.removeListener(t,r),i(n)},e.once("error",s)),e.once(t,r)}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function l(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function h(e,t,n,i){var r,s,o;if(l(n),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),o=s[t]),void 0===o)o=s[t]=n,++e._eventsCount;else if("function"==typeof o?o=s[t]=i?[n,o]:[o,n]:i?o.unshift(n):o.push(n),(r=u(e))>0&&o.length>r&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=o.length,console&&console.warn&&console.warn(a)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},r=d.bind(i);return r.listener=n,i.wrapFn=r,r}function m(e,t,n){var i=e._events;if(void 0===i)return[];var r=i[t];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(r):g(r,r.length)}function f(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return u(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,r=this._events;if(void 0!==r)i=i&&void 0===r.error;else if(!i)return!1;if(i){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=r[e];if(void 0===c)return!1;if("function"==typeof c)s(c,this,t);else{var l=c.length,u=g(c,l);for(n=0;n<l;++n)s(u[n],this,t)}return!0},a.prototype.on=a.prototype.addListener=function(e,t){return h(this,e,t,!1)},a.prototype.prependListener=function(e,t){return h(this,e,t,!0)},a.prototype.once=function(e,t){return l(t),this.on(e,p(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,p(this,e,t)),this},a.prototype.off=a.prototype.removeListener=function(e,t){var n,i,r,s,o;if(l(t),void 0===(i=this._events))return this;if(void 0===(n=i[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(r=-1,s=n.length-1;s>=0;s--)if(n[s]===t||n[s].listener===t){o=n[s].listener,r=s;break}if(r<0)return this;0===r?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,r),1===n.length&&(i[e]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",e,o||t)}return this},a.prototype.removeAllListeners=function(e){var t,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var r,s=Object.keys(n);for(i=0;i<s.length;++i)"removeListener"!==(r=s[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},a.prototype.listeners=function(e){return m(this,e,!0)},a.prototype.rawListeners=function(e){return m(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},a.prototype.listenerCount=f,a.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},"+w/m":function(e,t,n){"use strict";var i=n("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.OutgoingRoomKeyRequestManager=t.ROOM_KEY_REQUEST_STATES=void 0;var r=n("PrRn"),s=i(n("t+e4"));const o={UNSENT:0,SENT:1,CANCELLATION_PENDING:2,CANCELLATION_PENDING_AND_WILL_RESEND:3};function a(e){return e.room_id+" / "+e.session_id}function c(e){return"["+s.map(e,e=>`${e.userId}:${e.deviceId}`).join(",")+"]"}t.ROOM_KEY_REQUEST_STATES=o,t.OutgoingRoomKeyRequestManager=class{constructor(e,t,n){this._baseApis=e,this._deviceId=t,this._cryptoStore=n,this._sendOutgoingRoomKeyRequestsTimer=null,this._sendOutgoingRoomKeyRequestsRunning=!1,this._clientRunning=!1}start(){this._clientRunning=!0}stop(){r.logger.log("stopping OutgoingRoomKeyRequestManager"),this._clientRunning=!1}sendQueuedRequests(){this._startTimer()}async queueRoomKeyRequest(e,t,n=!1){const i=await this._cryptoStore.getOutgoingRoomKeyRequest(e);if(i)switch(i.state){case o.CANCELLATION_PENDING_AND_WILL_RESEND:case o.UNSENT:return;case o.CANCELLATION_PENDING:{const e=n?o.CANCELLATION_PENDING_AND_WILL_RESEND:o.SENT;await this._cryptoStore.updateOutgoingRoomKeyRequest(i.requestId,o.CANCELLATION_PENDING,{state:e,cancellationTxnId:this._baseApis.makeTxnId()});break}case o.SENT:if(n){const a=o.CANCELLATION_PENDING_AND_WILL_RESEND,c=await this._cryptoStore.updateOutgoingRoomKeyRequest(i.requestId,o.SENT,{state:a,cancellationTxnId:this._baseApis.makeTxnId(),requestTxnId:this._baseApis.makeTxnId()});if(!c)return await this.queueRoomKeyRequest(e,t,n);try{await this._sendOutgoingRoomKeyRequestCancellation(c,!0)}catch(s){r.logger.error("Error sending room key request cancellation; will retry later.",s)}}break;default:throw new Error("unhandled state: "+i.state)}else await this._cryptoStore.getOrAddOutgoingRoomKeyRequest({requestBody:e,recipients:t,requestId:this._baseApis.makeTxnId(),state:o.UNSENT})}cancelRoomKeyRequest(e){return this._cryptoStore.getOutgoingRoomKeyRequest(e).then(t=>{if(t)switch(t.state){case o.CANCELLATION_PENDING:case o.CANCELLATION_PENDING_AND_WILL_RESEND:return;case o.UNSENT:return r.logger.log("deleting unnecessary room key request for "+a(e)),this._cryptoStore.deleteOutgoingRoomKeyRequest(t.requestId,o.UNSENT);case o.SENT:return this._cryptoStore.updateOutgoingRoomKeyRequest(t.requestId,o.SENT,{state:o.CANCELLATION_PENDING,cancellationTxnId:this._baseApis.makeTxnId()}).then(t=>{t?this._sendOutgoingRoomKeyRequestCancellation(t).catch(e=>{r.logger.error("Error sending room key request cancellation; will retry later.",e),this._startTimer()}):r.logger.log("Tried to cancel room key request for "+a(e)+" but it was already cancelled in another tab")});default:throw new Error("unhandled state: "+t.state)}})}getOutgoingSentRoomKeyRequest(e,t){return this._cryptoStore.getOutgoingRoomKeyRequestsByTarget(e,t,[o.SENT])}async cancelAndResendAllOutgoingRequests(){const e=await this._cryptoStore.getAllOutgoingRoomKeyRequestsByState(o.SENT);return Promise.all(e.map(({requestBody:e,recipients:t})=>this.queueRoomKeyRequest(e,t,!0)))}_startTimer(){this._sendOutgoingRoomKeyRequestsTimer||(this._sendOutgoingRoomKeyRequestsTimer=global.setTimeout(()=>{if(this._sendOutgoingRoomKeyRequestsRunning)throw new Error("RoomKeyRequestSend already in progress!");this._sendOutgoingRoomKeyRequestsRunning=!0,this._sendOutgoingRoomKeyRequests().finally(()=>{this._sendOutgoingRoomKeyRequestsRunning=!1}).catch(e=>{r.logger.warn("error in OutgoingRoomKeyRequestManager: "+e)})},500))}_sendOutgoingRoomKeyRequests(){return this._clientRunning?this._cryptoStore.getOutgoingRoomKeyRequestByState([o.CANCELLATION_PENDING,o.CANCELLATION_PENDING_AND_WILL_RESEND,o.UNSENT]).then(e=>{if(!e)return void(this._sendOutgoingRoomKeyRequestsTimer=null);let t;switch(e.state){case o.UNSENT:t=this._sendOutgoingRoomKeyRequest(e);break;case o.CANCELLATION_PENDING:t=this._sendOutgoingRoomKeyRequestCancellation(e);break;case o.CANCELLATION_PENDING_AND_WILL_RESEND:t=this._sendOutgoingRoomKeyRequestCancellation(e,!0)}return t.then(()=>this._sendOutgoingRoomKeyRequests()).catch(e=>{r.logger.error("Error sending room key request; will retry later.",e),this._sendOutgoingRoomKeyRequestsTimer=null})}):(this._sendOutgoingRoomKeyRequestsTimer=null,Promise.resolve())}_sendOutgoingRoomKeyRequest(e){return r.logger.log("Requesting keys for "+a(e.requestBody)+" from "+c(e.recipients)+`(id ${e.requestId})`),this._sendMessageToDevices({action:"request",requesting_device_id:this._deviceId,request_id:e.requestId,body:e.requestBody},e.recipients,e.requestTxnId||e.requestId).then(()=>this._cryptoStore.updateOutgoingRoomKeyRequest(e.requestId,o.UNSENT,{state:o.SENT}))}_sendOutgoingRoomKeyRequestCancellation(e,t){return r.logger.log("Sending cancellation for key request for "+a(e.requestBody)+" to "+c(e.recipients)+" "+`(cancellation id ${e.cancellationTxnId})`),this._sendMessageToDevices({action:"request_cancellation",requesting_device_id:this._deviceId,request_id:e.requestId},e.recipients,e.cancellationTxnId).then(()=>t?this._cryptoStore.updateOutgoingRoomKeyRequest(e.requestId,o.CANCELLATION_PENDING_AND_WILL_RESEND,{state:o.UNSENT}):this._cryptoStore.deleteOutgoingRoomKeyRequest(e.requestId,o.CANCELLATION_PENDING))}_sendMessageToDevices(e,t,n){const i={};for(const r of t)i[r.userId]||(i[r.userId]={}),i[r.userId][r.deviceId]=e;return this._baseApis.sendToDevice("m.room_key_request",i,n)}}},"/3Bh":function(e,t,n){"use strict";var i=n("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.upgradeDatabase=function(e,t){r.logger.log("Upgrading IndexedDBCryptoStore from version "+t+" to 9"),t<1&&function(e){const t=e.createObjectStore("outgoingRoomKeyRequests",{keyPath:"requestId"});t.createIndex("session",["requestBody.room_id","requestBody.session_id"]),t.createIndex("state","state")}(e),t<2&&e.createObjectStore("account"),t<3&&e.createObjectStore("sessions",{keyPath:["deviceKey","sessionId"]}).createIndex("deviceKey","deviceKey"),t<4&&e.createObjectStore("inbound_group_sessions",{keyPath:["senderCurve25519Key","sessionId"]}),t<5&&e.createObjectStore("device_data"),t<6&&e.createObjectStore("rooms"),t<7&&e.createObjectStore("sessions_needing_backup",{keyPath:["senderCurve25519Key","sessionId"]}),t<8&&e.createObjectStore("inbound_group_sessions_withheld",{keyPath:["senderCurve25519Key","sessionId"]}),t<9&&(e.createObjectStore("session_problems",{keyPath:["deviceKey","time"]}).createIndex("deviceKey","deviceKey"),e.createObjectStore("notified_error_devices",{keyPath:["userId","deviceId"]}))},t.Backend=t.VERSION=void 0;var r=n("PrRn"),s=i(n("t+e4"));function o(e,t){e._mx_abortexception=t;try{e.abort()}catch(t){}}function a(e){return new Promise((t,n)=>{e.oncomplete=()=>{void 0!==e._mx_abortexception&&n(e._mx_abortexception),t()},e.onerror=t=>{void 0!==e._mx_abortexception?n(e._mx_abortexception):(r.logger.log("Error performing indexeddb txn",t),n(t.target.error))},e.onabort=t=>{void 0!==e._mx_abortexception?n(e._mx_abortexception):(r.logger.log("Error performing indexeddb txn",t),n(t.target.error))}})}t.VERSION=9,t.Backend=class{constructor(e){this._db=e,e.onversionchange=t=>{r.logger.log(`versionchange for indexeddb ${this._dbName}: closing`),e.close()}}getOrAddOutgoingRoomKeyRequest(e){const t=e.requestBody;return new Promise((n,i)=>{const s=this._db.transaction("outgoingRoomKeyRequests","readwrite");s.onerror=i,this._getOutgoingRoomKeyRequest(s,t,i=>{if(i)return r.logger.log(`already have key request outstanding for ${t.room_id} / ${t.session_id}: not sending another`),void n(i);r.logger.log(`enqueueing key request for ${t.room_id} / `+t.session_id),s.oncomplete=()=>{n(e)},s.objectStore("outgoingRoomKeyRequests").add(e)})})}getOutgoingRoomKeyRequest(e){return new Promise((t,n)=>{const i=this._db.transaction("outgoingRoomKeyRequests","readonly");i.onerror=n,this._getOutgoingRoomKeyRequest(i,e,e=>{t(e)})})}_getOutgoingRoomKeyRequest(e,t,n){e.objectStore("outgoingRoomKeyRequests").index("session").openCursor([t.room_id,t.session_id]).onsuccess=e=>{const i=e.target.result;if(!i)return void n(null);const r=i.value;s.deepCompare(r.requestBody,t)?n(r):i.continue()}}getOutgoingRoomKeyRequestByState(e){if(0===e.length)return Promise.resolve(null);let t,n=0;const i=this._db.transaction("outgoingRoomKeyRequests","readonly"),r=i.objectStore("outgoingRoomKeyRequests"),s=e[n];return r.index("state").openCursor(s).onsuccess=function i(r){const s=r.target.result;s?t=s.value:(n++,n>=e.length||(r.target.source.openCursor(e[n]).onsuccess=i))},a(i).then(()=>t)}getAllOutgoingRoomKeyRequestsByState(e){return new Promise((t,n)=>{const i=this._db.transaction("outgoingRoomKeyRequests","readonly").objectStore("outgoingRoomKeyRequests").index("state").getAll(e);i.onsuccess=e=>t(e.target.result),i.onerror=e=>n(e.target.error)})}getOutgoingRoomKeyRequestsByTarget(e,t,n){let i=0;const r=[],s=this._db.transaction("outgoingRoomKeyRequests","readonly"),o=s.objectStore("outgoingRoomKeyRequests"),c=n[i];return o.index("state").openCursor(c).onsuccess=function s(o){const a=o.target.result;if(a){const n=a.value;n.recipients.includes({userId:e,deviceId:t})&&r.push(n),a.continue()}else{if(i++,i>=n.length)return;o.target.source.openCursor(n[i]).onsuccess=s}},a(s).then(()=>r)}updateOutgoingRoomKeyRequest(e,t,n){let i=null;const s=this._db.transaction("outgoingRoomKeyRequests","readwrite");return s.objectStore("outgoingRoomKeyRequests").openCursor(e).onsuccess=function(e){const s=e.target.result;if(!s)return;const o=s.value;o.state==t?(Object.assign(o,n),s.update(o),i=o):r.logger.warn(`Cannot update room key request from ${t} as it was already updated to `+o.state)},a(s).then(()=>i)}deleteOutgoingRoomKeyRequest(e,t){const n=this._db.transaction("outgoingRoomKeyRequests","readwrite");return n.objectStore("outgoingRoomKeyRequests").openCursor(e).onsuccess=e=>{const n=e.target.result;if(!n)return;const i=n.value;i.state==t?n.delete():r.logger.warn(`Cannot delete room key request in state ${i.state} (expected ${t})`)},a(n)}getAccount(e,t){const n=e.objectStore("account").get("-");n.onsuccess=function(){try{t(n.result||null)}catch(i){o(e,i)}}}storeAccount(e,t){e.objectStore("account").put(t,"-")}getCrossSigningKeys(e,t){const n=e.objectStore("account").get("crossSigningKeys");n.onsuccess=function(){try{t(n.result||null)}catch(i){o(e,i)}}}getSecretStorePrivateKey(e,t,n){const i=e.objectStore("account").get("ssss_cache:"+n);i.onsuccess=function(){try{t(i.result||null)}catch(n){o(e,n)}}}storeCrossSigningKeys(e,t){e.objectStore("account").put(t,"crossSigningKeys")}storeSecretStorePrivateKey(e,t,n){e.objectStore("account").put(n,"ssss_cache:"+t)}countEndToEndSessions(e,t){const n=e.objectStore("sessions").count();n.onsuccess=function(){try{t(n.result)}catch(i){o(e,i)}}}getEndToEndSessions(e,t,n){const i=t.objectStore("sessions").index("deviceKey").openCursor(e),r={};i.onsuccess=function(){const e=i.result;if(e)r[e.value.sessionId]={session:e.value.session,lastReceivedMessageTs:e.value.lastReceivedMessageTs},e.continue();else try{n(r)}catch(s){o(t,s)}}}getEndToEndSession(e,t,n,i){const r=n.objectStore("sessions").get([e,t]);r.onsuccess=function(){try{i(r.result?{session:r.result.session,lastReceivedMessageTs:r.result.lastReceivedMessageTs}:null)}catch(e){o(n,e)}}}getAllEndToEndSessions(e,t){const n=e.objectStore("sessions").openCursor();n.onsuccess=function(){try{const e=n.result;e?(t(e.value),e.continue()):t(null)}catch(i){o(e,i)}}}storeEndToEndSession(e,t,n,i){i.objectStore("sessions").put({deviceKey:e,sessionId:t,session:n.session,lastReceivedMessageTs:n.lastReceivedMessageTs})}async storeEndToEndSessionProblem(e,t,n){const i=this._db.transaction("session_problems","readwrite");return i.objectStore("session_problems").put({deviceKey:e,type:t,fixed:n,time:Date.now()}),a(i)}async getEndToEndSessionProblem(e,t){let n;const i=this._db.transaction("session_problems","readwrite"),r=i.objectStore("session_problems").index("deviceKey").getAll(e);return r.onsuccess=e=>{const i=r.result;if(!i.length)return void(n=null);i.sort((e,t)=>e.time-t.time);const s=i[i.length-1];for(const r of i)if(r.time>t)return void(n=Object.assign({},r,{fixed:s.fixed}));n=s.fixed?null:s},await a(i),n}async filterOutNotifiedErrorDevices(e){const t=this._db.transaction("notified_error_devices","readwrite").objectStore("notified_error_devices"),n=[];return await Promise.all(e.map(e=>new Promise(i=>{const{userId:r,deviceInfo:s}=e,o=t.get([r,s.deviceId]);o.onsuccess=function(){o.result||(t.put({userId:r,deviceId:s.deviceId}),n.push(e)),i()}}))),n}getEndToEndInboundGroupSession(e,t,n,i){let r=!1,s=!1;const a=n.objectStore("inbound_group_sessions").get([e,t]);a.onsuccess=function(){try{r=a.result?a.result.session:null,!1!==s&&i(r,s)}catch(e){o(n,e)}};const c=n.objectStore("inbound_group_sessions_withheld").get([e,t]);c.onsuccess=function(){try{s=c.result?c.result.session:null,!1!==r&&i(r,s)}catch(e){o(n,e)}}}getAllEndToEndInboundGroupSessions(e,t){const n=e.objectStore("inbound_group_sessions").openCursor();n.onsuccess=function(){const i=n.result;if(i){try{t({senderKey:i.value.senderCurve25519Key,sessionId:i.value.sessionId,sessionData:i.value.session})}catch(r){o(e,r)}i.continue()}else try{t(null)}catch(r){o(e,r)}}}addEndToEndInboundGroupSession(e,t,n,i){const s=i.objectStore("inbound_group_sessions").add({senderCurve25519Key:e,sessionId:t,session:n});s.onerror=n=>{"ConstraintError"===s.error.name?(n.stopPropagation(),n.preventDefault(),r.logger.log("Ignoring duplicate inbound group session: "+e+" / "+t)):o(i,new Error("Failed to add inbound group session: "+s.error))}}storeEndToEndInboundGroupSession(e,t,n,i){i.objectStore("inbound_group_sessions").put({senderCurve25519Key:e,sessionId:t,session:n})}storeEndToEndInboundGroupSessionWithheld(e,t,n,i){i.objectStore("inbound_group_sessions_withheld").put({senderCurve25519Key:e,sessionId:t,session:n})}getEndToEndDeviceData(e,t){const n=e.objectStore("device_data").get("-");n.onsuccess=function(){try{t(n.result||null)}catch(i){o(e,i)}}}storeEndToEndDeviceData(e,t){t.objectStore("device_data").put(e,"-")}storeEndToEndRoom(e,t,n){n.objectStore("rooms").put(t,e)}getEndToEndRooms(e,t){const n={},i=e.objectStore("rooms").openCursor();i.onsuccess=function(){const r=i.result;if(r)n[r.key]=r.value,r.continue();else try{t(n)}catch(s){o(e,s)}}}getSessionsNeedingBackup(e){return new Promise((t,n)=>{const i=[],r=this._db.transaction(["sessions_needing_backup","inbound_group_sessions"],"readonly");r.onerror=n,r.oncomplete=function(){t(i)};const s=r.objectStore("sessions_needing_backup"),o=r.objectStore("inbound_group_sessions"),a=s.openCursor();a.onsuccess=function(){const t=a.result;if(t){const n=o.get(t.key);n.onsuccess=function(){i.push({senderKey:n.result.senderCurve25519Key,sessionId:n.result.sessionId,sessionData:n.result.session})},(!e||i.length<e)&&t.continue()}}})}countSessionsNeedingBackup(e){e||(e=this._db.transaction("sessions_needing_backup","readonly"));const t=e.objectStore("sessions_needing_backup");return new Promise((e,n)=>{const i=t.count();i.onerror=n,i.onsuccess=()=>e(i.result)})}unmarkSessionsNeedingBackup(e,t){t||(t=this._db.transaction("sessions_needing_backup","readwrite"));const n=t.objectStore("sessions_needing_backup");return Promise.all(e.map(e=>new Promise((t,i)=>{const r=n.delete([e.senderKey,e.sessionId]);r.onsuccess=t,r.onerror=i})))}markSessionsNeedingBackup(e,t){t||(t=this._db.transaction("sessions_needing_backup","readwrite"));const n=t.objectStore("sessions_needing_backup");return Promise.all(e.map(e=>new Promise((t,i)=>{const r=n.put({senderCurve25519Key:e.senderKey,sessionId:e.sessionId});r.onsuccess=t,r.onerror=i})))}doTxn(e,t,n){const i=this._db.transaction(t,e),r=a(i),s=n(i);return r.then(()=>s)}}},"/6GC":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RemoteIndexedDBStoreBackend=s;var i=n("PrRn"),r=n("t+e4");function s(e,t,n){this._workerScript=e,this._dbName=t,this._workerApi=n,this._worker=null,this._nextSeq=0,this._inFlight={},this._startPromise=null}s.prototype={connect:function(){return this._ensureStarted().then(()=>this._doCmd("connect"))},clearDatabase:function(){return this._ensureStarted().then(()=>this._doCmd("clearDatabase"))},isNewlyCreated:function(){return this._doCmd("isNewlyCreated")},getSavedSync:function(){return this._doCmd("getSavedSync")},getNextBatchToken:function(){return this._doCmd("getNextBatchToken")},setSyncData:function(e){return this._doCmd("setSyncData",[e])},syncToDatabase:function(e){return this._doCmd("syncToDatabase",[e])},getOutOfBandMembers:function(e){return this._doCmd("getOutOfBandMembers",[e])},setOutOfBandMembers:function(e,t){return this._doCmd("setOutOfBandMembers",[e,t])},clearOutOfBandMembers:function(e){return this._doCmd("clearOutOfBandMembers",[e])},getClientOptions:function(){return this._doCmd("getClientOptions")},storeClientOptions:function(e){return this._doCmd("storeClientOptions",[e])},getUserPresenceEvents:function(){return this._doCmd("getUserPresenceEvents")},_ensureStarted:function(){return null===this._startPromise&&(this._worker=new this._workerApi(this._workerScript),this._worker.onmessage=this._onWorkerMessage.bind(this),this._startPromise=this._doCmd("_setupWorker",[this._dbName]).then(()=>{i.logger.log("IndexedDB worker is ready")})),this._startPromise},_doCmd:function(e,t){return Promise.resolve().then(()=>{const n=this._nextSeq++,i=(0,r.defer)();return this._inFlight[n]=i,this._worker.postMessage({command:e,seq:n,args:t}),i.promise})},_onWorkerMessage:function(e){const t=e.data;if("cmd_success"==t.command||"cmd_fail"==t.command){if(void 0===t.seq)return void i.logger.error("Got reply from worker with no seq");const e=this._inFlight[t.seq];if(void 0===e)return void i.logger.error("Got reply for unknown seq "+t.seq);if(delete this._inFlight[t.seq],"cmd_success"==t.command)e.resolve(t.result);else{const n=new Error(t.error.message);n.name=t.error.name,e.reject(n)}}else i.logger.warn("Unrecognised message from worker: "+t)}}},"/pNf":function(e,t,n){"use strict";var i=n("beRh"),r=RegExp(Object.keys(i).map((function(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")})).join("|"),"g");function s(e){return i[e]}e.exports=function(e){return e.replace(r,s)}},0:function(e,t,n){e.exports=n("zUnb")},"0ZCT":function(e,t,n){"use strict";for(var i=/[\\\"\x00-\x1F]/g,r={},s=0;s<32;++s)r[String.fromCharCode(s)]="\\U"+("0000"+s.toString(16)).slice(-4).toUpperCase();function o(e){return i.lastIndex=0,e.replace(i,(function(e){return r[e]}))}r["\b"]="\\b",r["\t"]="\\t",r["\n"]="\\n",r["\f"]="\\f",r["\r"]="\\r",r['"']='\\"',r["\\"]="\\\\",e.exports={stringify:function e(t){switch(typeof t){case"string":return'"'+o(t)+'"';case"number":return isFinite(t)?t:"null";case"boolean":return t;case"object":return null===t?"null":Array.isArray(t)?function(t){for(var n="[",i="",r=0;r<t.length;++r)i+=n,n=",",i+=e(t[r]);return","!=n?"[]":i+"]"}(t):function(t){var n="{",i="",r=Object.keys(t);r.sort();for(var s=0;s<r.length;++s){var a=r[s];i+=n+'"'+o(a)+'":',n=",",i+=e(t[a])}return","!=n?"{}":i+"}"}(t);default:throw new Error("Cannot stringify: "+typeof t)}}}},"0jNN":function(e,t,n){"use strict";var i=Object.prototype.hasOwnProperty,r=Array.isArray,s=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),o=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},i=0;i<e.length;++i)void 0!==e[i]&&(n[i]=e[i]);return n};e.exports={arrayToObject:o,assign:function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],i=0;i<t.length;++i)for(var s=t[i],o=s.obj[s.prop],a=Object.keys(o),c=0;c<a.length;++c){var l=a[c],u=o[l];"object"==typeof u&&null!==u&&-1===n.indexOf(u)&&(t.push({obj:o,prop:l}),n.push(u))}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(r(n)){for(var i=[],s=0;s<n.length;++s)void 0!==n[s]&&i.push(n[s]);t.obj[t.prop]=i}}}(t),e},decode:function(e,t,n){var i=e.replace(/\+/g," ");if("iso-8859-1"===n)return i.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(i)}catch(r){return i}},encode:function(e,t,n){if(0===e.length)return e;var i="string"==typeof e?e:String(e);if("iso-8859-1"===n)return escape(i).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var r="",o=0;o<i.length;++o){var a=i.charCodeAt(o);45===a||46===a||95===a||126===a||a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122?r+=i.charAt(o):a<128?r+=s[a]:a<2048?r+=s[192|a>>6]+s[128|63&a]:a<55296||a>=57344?r+=s[224|a>>12]+s[128|a>>6&63]+s[128|63&a]:(a=65536+((1023&a)<<10|1023&i.charCodeAt(o+=1)),r+=s[240|a>>18]+s[128|a>>12&63]+s[128|a>>6&63]+s[128|63&a])}return r},isBuffer:function(e){return!(!e||"object"!=typeof e||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},merge:function e(t,n,s){if(!n)return t;if("object"!=typeof n){if(r(t))t.push(n);else{if(!t||"object"!=typeof t)return[t,n];(s&&(s.plainObjects||s.allowPrototypes)||!i.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(n);var a=t;return r(t)&&!r(n)&&(a=o(t,s)),r(t)&&r(n)?(n.forEach((function(n,r){if(i.call(t,r)){var o=t[r];o&&"object"==typeof o&&n&&"object"==typeof n?t[r]=e(o,n,s):t.push(n)}else t[r]=n})),t):Object.keys(n).reduce((function(t,r){var o=n[r];return t[r]=i.call(t,r)?e(t[r],o,s):o,t}),a)}}},"1F5k":function(e,t,n){"use strict";var i=n("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.MatrixHttpApi=c,t.retryNetworkOperation=async function(e,t){let n=0,i=null;for(;n<e;)try{if(n>0){const e=1e3*Math.pow(2,n);console.log(`network operation failed ${n} times, retrying in ${e}ms...`),await new Promise(t=>setTimeout(t,e))}return await t()}catch(r){if(!(r instanceof h))throw r;n+=1,i=r}throw i},t.AbortError=t.ConnectionError=t.MatrixError=t.PREFIX_MEDIA_R0=t.PREFIX_IDENTITY_V2=t.PREFIX_IDENTITY_V1=t.PREFIX_UNSTABLE=t.PREFIX_R0=void 0;var r=n("tA+R"),s=i(n("t+e4")),o=n("PrRn"),a=i(n("M/Il"));function c(e,t){s.checkObjectHasKeys(t,["baseUrl","request","prefix"]),t.onlyData=t.onlyData||!1,this.event_emitter=e,this.opts=t,this.useAuthorizationHeader=Boolean(t.useAuthorizationHeader),this.uploads=[]}t.PREFIX_R0="/_matrix/client/r0",t.PREFIX_UNSTABLE="/_matrix/client/unstable",t.PREFIX_IDENTITY_V1="/_matrix/identity/api/v1",t.PREFIX_IDENTITY_V2="/_matrix/identity/v2",t.PREFIX_MEDIA_R0="/_matrix/media/r0",c.prototype={setIdBaseUrl:function(e){this.opts.idBaseUrl=e},getContentUri:function(){return{base:this.opts.baseUrl,path:"/_matrix/media/r0/upload",params:{access_token:this.opts.accessToken}}},uploadContent:function(e,t){s.isFunction(t)?t={callback:t}:void 0===t&&(t={});const n=!1!==t.includeFilename,i=t.type||e.type||"application/octet-stream",r=t.name||e.name;let c=e;c.stream&&"function"!=typeof c.stream&&(o.logger.warn("Using `file.stream` as the content to upload. Future versions of the js-sdk will change this to expect `file` to be the content directly."),c=c.stream);let u=t.rawResponse;void 0===u&&(global.XMLHttpRequest?u=!1:(o.logger.warn("Returning the raw JSON from uploadContent(). Future versions of the js-sdk will change this default, to return the parsed object. Set opts.rawResponse=false to change this behaviour now."),u=!0));let h=t.onlyContentUri;u||void 0!==h||(global.XMLHttpRequest?(o.logger.warn("Returning only the content-uri from uploadContent(). Future versions of the js-sdk will change this default, to return the whole response object. Set opts.onlyContentUri=false to change this behaviour now."),h=!0):h=!1);const p={loaded:0,total:0};let m,f=null;if(u||(f=function(e){let t=JSON.parse(e);if(h&&(t=t.content_uri,void 0===t))throw Error("Bad response");return t}),global.XMLHttpRequest){const e=s.defer(),o=new global.XMLHttpRequest;p.xhr=o;const u=l(e,t.callback,this.opts.onlyData),h=function(){o.abort(),u(new Error("Timeout"))};o.timeout_timer=a.setTimeout(h,3e4),o.onreadystatechange=function(){switch(o.readyState){case global.XMLHttpRequest.DONE:var e;a.clearTimeout(o.timeout_timer);try{if(0===o.status)throw new d;if(!o.responseText)throw new Error("No response body.");e=o.responseText,f&&(e=f(e))}catch(t){return t.http_status=o.status,void u(t)}u(void 0,o,e)}},o.upload.addEventListener("progress",(function(e){a.clearTimeout(o.timeout_timer),p.loaded=e.loaded,p.total=e.total,o.timeout_timer=a.setTimeout(h,3e4),t.progressHandler&&t.progressHandler({loaded:e.loaded,total:e.total})}));let g=this.opts.baseUrl+"/_matrix/media/r0/upload";const _=[];n&&r&&_.push("filename="+encodeURIComponent(r)),this.useAuthorizationHeader||_.push("access_token="+encodeURIComponent(this.opts.accessToken)),_.length>0&&(g+="?"+_.join("&")),o.open("POST",g),this.useAuthorizationHeader&&o.setRequestHeader("Authorization","Bearer "+this.opts.accessToken),o.setRequestHeader("Content-Type",i),o.send(c),m=e.promise,m.abort=o.abort.bind(o)}else{const e={};n&&r&&(e.filename=r),m=this.authedRequest(t.callback,"POST","/upload",e,c,{prefix:"/_matrix/media/r0",headers:{"Content-Type":i},json:!1,bodyParser:f})}const g=this,_=m.finally((function(){for(let e=0;e<g.uploads.length;++e)if(g.uploads[e]===p)return void g.uploads.splice(e,1)}));return _.abort=m.abort,p.promise=_,this.uploads.push(p),_},cancelUpload:function(e){return!!e.abort&&(e.abort(),!0)},getCurrentUploads:function(){return this.uploads},idServerRequest:function(e,t,n,i,r,o){if(!this.opts.idBaseUrl)throw new Error("No Identity Server base URL set");const a=this.opts.idBaseUrl+r+n;if(void 0!==e&&!s.isFunction(e))throw Error("Expected callback to be a function but got "+typeof e);const c={uri:a,method:t,withCredentials:!1,json:!0,_matrix_opts:this.opts,headers:{}};"GET"===t?c.qs=i:"object"==typeof i&&(c.json=i),o&&(c.headers.Authorization="Bearer "+o);const u=s.defer();return this.opts.request(c,l(u,e,this.opts.onlyData)),u.promise},authedRequest:function(e,t,n,i,r,s){i||(i={}),this.useAuthorizationHeader?(isFinite(s)&&(s={localTimeoutMs:s}),s||(s={}),s.headers||(s.headers={}),s.headers.Authorization||(s.headers.Authorization="Bearer "+this.opts.accessToken),i.access_token&&delete i.access_token):i.access_token||(i.access_token=this.opts.accessToken);const o=this.request(e,t,n,i,r,s),a=this;return o.catch((function(e){"M_UNKNOWN_TOKEN"==e.errcode?a.event_emitter.emit("Session.logged_out",e):"M_CONSENT_NOT_GIVEN"==e.errcode&&a.event_emitter.emit("no_consent",e.message,e.data.consent_uri)})),o},request:function(e,t,n,i,r,s){return this.requestOtherUrl(e,t,this.opts.baseUrl+(void 0!==(s=s||{}).prefix?s.prefix:this.opts.prefix)+n,i,r,s)},requestOtherUrl:function(e,t,n,i,r,s){return null==s?s={}:isFinite(s)&&(s={localTimeoutMs:s}),this._request(e,t,n,i,r,s)},getUrl:function(e,t,n){let i="";return t&&(i="?"+s.encodeParams(t)),this.opts.baseUrl+n+e+i},_request:function(e,t,n,i,r,o){if(void 0!==e&&!s.isFunction(e))throw Error("Expected callback to be a function but got "+typeof e);o=o||{};const c=this;if(this.opts.extraParams)for(const s in this.opts.extraParams)this.opts.extraParams.hasOwnProperty(s)&&(i[s]=this.opts.extraParams[s]);const h=s.extend({},o.headers||{});let d=o.bodyParser;(void 0===o.json||o.json)&&(r&&(r=JSON.stringify(r),h["content-type"]="application/json"),h.accept||(h.accept="application/json"),void 0===d&&(d=function(e){return JSON.parse(e)}));const p=s.defer();let m,f,g=!1;const _=o.localTimeoutMs||this.opts.localTimeoutMs,y=()=>{_&&(m&&a.clearTimeout(m),m=a.setTimeout((function(){g=!0,f&&f.abort&&f.abort(),p.reject(new u({error:"Locally timed out waiting for a response",errcode:"ORG.MATRIX.JSSDK_TIMEOUT",timeout:_}))}),_))};y();const v=p.promise;try{f=this.opts.request({uri:n,method:t,withCredentials:!1,qs:i,qsStringifyOptions:o.qsStringifyOptions,useQuerystring:!0,body:r,json:!1,timeout:_,headers:h||{},_matrix_opts:this.opts},(function(t,n,i){_&&(a.clearTimeout(m),g)||l(p,e,c.opts.onlyData,d)(t,n,i)})),f&&("onprogress"in f&&(f.onprogress=e=>{y()}),f.abort&&(v.abort=f.abort.bind(f)))}catch(b){p.reject(b),e&&e(b)}return v}};const l=function(e,t,n,i){return t=t||function(){},function(s,o,a){if(s&&("AbortError"===s.name||"aborted"===s||s instanceof u||(s=new h("request failed",s))),!s)try{o.statusCode>=400?s=function(e,t){const n=e.statusCode,i=function(e){let t;if(e.getResponseHeader?t=e.getResponseHeader("Content-Type"):e.headers&&(t=e.headers["content-type"]||null),!t)return null;try{return(0,r.parse)(t)}catch(n){throw new Error(`Error parsing Content-Type '${t}': ${n}`)}}(e);let s;if(i)if("application/json"===i.type){const e="object"==typeof t?t:JSON.parse(t);s=new u(e)}else"text/plain"===i.type&&(s=new Error(`Server returned ${n} error: ${t}`));return s||(s=new Error(`Server returned ${n} error`)),s.httpStatus=n,s}(o,a):i&&(a=i(a))}catch(c){s=new Error("Error parsing server response: "+c)}if(s)e.reject(s),t(s);else{const i={code:o.statusCode,headers:o.headers,data:a};e.resolve(n?a:i),t(null,n?a:i)}}};class u extends Error{constructor(e){super("MatrixError: "+(e=e||{}).errcode),this.errcode=e.errcode,this.name=e.errcode||"Unknown error code",this.message=e.error||"Unknown message",this.data=e}}t.MatrixError=u;class h extends Error{constructor(e,t){super(e+(t?": "+t.message:"")),this._cause=t}get name(){return"ConnectionError"}get cause(){return this._cause}}t.ConnectionError=h;class d extends Error{constructor(){super("Operation aborted")}get name(){return"AbortError"}}t.AbortError=d},"284h":function(e,t,n){var i=n("cDf5");function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}e.exports=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var n={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=s?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}},"3afC":function(e,t,n){"use strict";var i=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.VerificationRequest=t.PHASE_DONE=t.PHASE_CANCELLED=t.PHASE_STARTED=t.PHASE_READY=t.PHASE_REQUESTED=t.PHASE_UNSENT=t.READY_TYPE=t.DONE_TYPE=t.CANCEL_TYPE=t.START_TYPE=t.REQUEST_TYPE=t.EVENT_PREFIX=void 0;var r=i(n("lSNA")),s=n("PrRn"),o=n("+qE3"),a=n("VEe5"),c=n("ucoE");const l="m.key.verification.";t.EVENT_PREFIX=l;const u=l+"request";t.REQUEST_TYPE=u;const h=l+"start";t.START_TYPE=h;const d=l+"cancel";t.CANCEL_TYPE=d,t.DONE_TYPE="m.key.verification.done";const p=l+"ready";t.READY_TYPE=p,t.PHASE_UNSENT=1,t.PHASE_REQUESTED=2,t.PHASE_READY=3,t.PHASE_STARTED=4,t.PHASE_CANCELLED=5,t.PHASE_DONE=6,t.VerificationRequest=class extends o.EventEmitter{constructor(e,t,n){super(),(0,r.default)(this,"_cancelOnTimeout",()=>{try{this.cancel(this.initiatedByMe?{reason:"Other party didn't accept in time",code:"m.timeout"}:{reason:"User didn't accept in time",code:"m.timeout"})}catch(e){s.logger.error("Error while cancelling verification request",e)}}),this.channel=e,this.channel._request=this,this._verificationMethods=t,this._client=n,this._commonMethods=[],this._setPhase(1,!1),this._eventsByUs=new Map,this._eventsByThem=new Map,this._observeOnly=!1,this._timeoutTimer=null,this._accepting=!1,this._declining=!1,this._verifierHasFinished=!1,this._cancelled=!1,this._chosenMethod=null,this._qrCodeData=null,this._requestReceivedAt=null}static validateEvent(e,t,n){const i=t.getContent();return!(!e||!e.startsWith(l))&&(i?e!==u&&e!==p||Array.isArray(i.methods)?e!==u&&e!==p&&e!==h||"string"==typeof i.from_device&&0!==i.from_device.length||(s.logger.log("VerificationRequest: validateEvent: fail because from_device"),!1):(s.logger.log("VerificationRequest: validateEvent: fail because methods"),!1):(s.logger.log("VerificationRequest: validateEvent: no content"),!1))}get invalid(){return 1===this.phase}get requested(){return 2===this.phase}get cancelled(){return 5===this.phase}get ready(){return 3===this.phase}get started(){return 4===this.phase}get done(){return 6===this.phase}get methods(){return this._commonMethods}get chosenMethod(){return this._chosenMethod}calculateEventTimeout(e){let t=this.channel.getTimestamp(e)+6e5;return this._requestReceivedAt&&!this.initiatedByMe&&this.phase<=2&&(t=Math.min(t,this._requestReceivedAt+12e4)),Math.max(0,t-Date.now())}get timeout(){const e=this._getEventByEither(u);return e?this.calculateEventTimeout(e):0}get requestEvent(){return this._getEventByEither(u)}get phase(){return this._phase}get verifier(){return this._verifier}get canAccept(){return this.phase<3&&!this._accepting&&!this._declining}get accepting(){return this._accepting}get declining(){return this._declining}get pending(){return!this.observeOnly&&6!==this._phase&&5!==this._phase}get qrCodeData(){return this._qrCodeData}otherPartySupportsMethod(e,t=!1){if(!t&&!this.ready&&!this.started)return!1;const n=this._eventsByThem.get(u)||this._eventsByThem.get(p);if(!n){if(this.started&&this.initiatedByMe){const t=this._eventsByUs.get(h),n=t&&t.getContent();return e==(n&&n.method)}return!1}const i=n.getContent();if(!i)return!1;const{methods:r}=i;return!!Array.isArray(r)&&r.includes(e)}get initiatedByMe(){if(1===this._phase&&this._eventsByUs.size+this._eventsByThem.size===0)return!0;const e=this._eventsByUs.has(u),t=this._eventsByThem.has(u);if(e&&!t)return!0;if(!e&&t)return!1;const n=this._eventsByUs.has(h),i=this._eventsByThem.has(h);return!(!n||i)}get requestingUserId(){return this.initiatedByMe?this._client.getUserId():this.otherUserId}get receivingUserId(){return this.initiatedByMe?this.otherUserId:this._client.getUserId()}get otherUserId(){return this.channel.userId}get isSelfVerification(){return this._client.getUserId()===this.otherUserId}get cancellingUserId(){const e=this._eventsByUs.get(d),t=this._eventsByThem.get(d);return e&&(!t||e.getId()<t.getId())?e.getSender():t?t.getSender():void 0}get cancellationCode(){const e=this._getEventByEither(d);return e?e.getContent().code:null}get observeOnly(){return this._observeOnly}get targetDevice(){const e=(this._eventsByThem.get(u)||this._eventsByThem.get(p)||this._eventsByThem.get(h)).getContent();return{userId:this.otherUserId,deviceId:e.from_device}}beginKeyVerification(e,t=null){if(!this.observeOnly&&!this._verifier&&(2===this.phase||3===this.phase||1===this.phase&&this.channel.constructor.canCreateRequest(h))){if(this._commonMethods.length&&!this._commonMethods.includes(e))throw(0,a.newUnknownMethodError)();if(this._verifier=this._createVerifier(e,null,t),!this._verifier)throw(0,a.newUnknownMethodError)();this._chosenMethod=e}return this._verifier}async sendRequest(){if(!this.observeOnly&&1===this._phase){const e=[...this._verificationMethods.keys()];await this.channel.send(u,{methods:e})}}async cancel({reason:e="User declined",code:t="m.user"}={}){if(!this.observeOnly&&5!==this._phase){if(this._declining=!0,this.emit("change"),this._verifier)return this._verifier.cancel((0,a.errorFactory)(t,e)());this._cancellingUserId=this._client.getUserId(),await this.channel.send(d,{code:t,reason:e})}}async accept(){if(!this.observeOnly&&2===this.phase&&!this.initiatedByMe){const e=[...this._verificationMethods.keys()];this._accepting=!0,this.emit("change"),await this.channel.send(p,{methods:e})}}waitFor(e){return new Promise((t,n)=>{const i=()=>{let r=!1;return e(this)?(t(this),r=!0):this.cancelled&&(n(new Error("cancelled")),r=!0),r&&this.off("change",i),r};i()||this.on("change",i)})}_setPhase(e,t=!0){this._phase=e,t&&this.emit("change")}_getEventByEither(e){return this._eventsByThem.get(e)||this._eventsByUs.get(e)}_getEventBy(e,t){return t?this._eventsByThem.get(e):this._eventsByUs.get(e)}_calculatePhaseTransitions(){const e=[{phase:1}],t=()=>e[e.length-1].phase,n=this._eventsByThem.has(u),i=this._getEventBy(u,n);i&&e.push({phase:2,event:i});const r=i&&this._getEventBy(p,!n);let s;if(r&&2===t()&&e.push({phase:3,event:r}),r||!i){const e=this._eventsByThem.get(h),t=this._eventsByUs.get(h);s=e&&t?e.getSender()<t.getSender()?e:t:e||t}else s=this._getEventBy(h,!n);if(s){const n=2===t()&&i.getSender()!==s.getSender(),r=1===t()&&this.channel.constructor.canCreateRequest(h);(n||3===t()||r)&&e.push({phase:4,event:s})}const o=this._eventsByUs.get("m.key.verification.done");(this._verifierHasFinished||o&&4===t())&&e.push({phase:6});const a=this._getEventByEither(d);return(this._cancelled||a)&&6!==t()?(e.push({phase:5,event:a}),e):e}_transitionToPhase(e){const{phase:t,event:n}=e;if((2===t||3===t)&&!this._wasSentByOwnDevice(n)){const e=n.getContent();this._commonMethods=e.methods.filter(e=>this._verificationMethods.has(e))}if(this.observeOnly||2!==t&&4!==t&&3!==t||this.channel.receiveStartFromOtherDevices&&this._wasSentByOwnUser(n)&&!this._wasSentByOwnDevice(n)&&(this._observeOnly=!0),4===t){const{method:e}=n.getContent();this._verifier||this.observeOnly||(this._verifier=this._createVerifier(e,n),this._verifier?this._chosenMethod=e:this.cancel({code:"m.unknown_method",reason:"Unknown method: "+e}))}}_applyPhaseTransitions(){const e=this._calculatePhaseTransitions(),t=e.findIndex(e=>e.phase===this.phase),n=e.slice(t+1);for(const i of n)this._transitionToPhase(i);return n}_isWinningStartRace(e){if(e.getType()!==h)return!1;const t=this._verifier.startEvent;let n,i;if(this.isSelfVerification)if(t){const e=t.getContent();n=e&&e.from_device}else n=this._client.getDeviceId();else n=t?t.getSender():this._client.getUserId();if(this.isSelfVerification){const t=e.getContent();i=t&&t.from_device}else i=e.getSender();return i<n}hasEventId(e){for(const t of this._eventsByUs.values())if(t.getId()===e)return!0;for(const t of this._eventsByThem.values())if(t.getId()===e)return!0;return!1}async handleEvent(e,t,n,i,r){if(this.done||this.cancelled)return;const o=this._observeOnly;if(this._adjustObserveOnly(t,n),!this.observeOnly&&!i&&await this._cancelOnError(e,t))return;if(r?this._eventsByUs.has(e):this._eventsByThem.has(e))return;const a=this.phase;this._addEvent(e,t,r);const l=this._applyPhaseTransitions();try{if(this._verifier&&!this.observeOnly){const n=this._isWinningStartRace(t);this._verifier.canSwitchStartEvent(t)&&n?this._verifier.switchStartEvent(t):i||(e===d||this._verifier.events&&this._verifier.events.includes(e))&&this._verifier.handleEvent(t)}if(l.length){n&&l.some(e=>3===e.phase)&&this.otherPartySupportsMethod(c.SCAN_QR_CODE_METHOD,!0)&&(this._qrCodeData=await c.QRCodeData.create(this,this._client));const e=l[l.length-1],{phase:t}=e;this._setupTimeout(t),this._setPhase(t)}else this._observeOnly!==o&&this.emit("change")}finally{s.logger.log(`Verification request ${this.channel.transactionId}: ${e} event with id:${t.getId()}, content:${JSON.stringify(t.getContent())} deviceId:${this.channel.deviceId}, sender:${t.getSender()}, isSentByUs:${r}, isLiveEvent:${n}, isRemoteEcho:${i}, phase:${a}=>${this.phase}, observeOnly:${o}=>${this._observeOnly}`)}}_setupTimeout(e){!this._timeoutTimer&&!this.observeOnly&&2===e&&(this._timeoutTimer=setTimeout(this._cancelOnTimeout,this.timeout)),this._timeoutTimer&&(4===e||3===e||6===e||5===e)&&(clearTimeout(this._timeoutTimer),this._timeoutTimer=null)}async _cancelOnError(e,t){if(e===h){const e=t.getContent().method;if(!this._verificationMethods.has(e))return await this.cancel((0,a.errorFromEvent)((0,a.newUnknownMethodError)())),!0}if(1!==this.phase&&(e===u&&1!==this.phase||e===p&&2!==this.phase)){s.logger.warn(`Cancelling, unexpected ${e} verification event from `+t.getSender());const n=`Unexpected ${e} event in phase ${this.phase}`;return await this.cancel((0,a.errorFromEvent)((0,a.newUnexpectedMessageError)({reason:n}))),!0}return!1}_adjustObserveOnly(e,t){t||(this._observeOnly=!0),this.calculateEventTimeout(e)<3e3&&(this._observeOnly=!0)}_addEvent(e,t,n){if(n?this._eventsByUs.set(e,t):this._eventsByThem.set(e,t),e===u){for(const[e,t]of this._eventsByThem.entries())t.getSender()!==this.otherUserId&&this._eventsByThem.delete(e);this._requestReceivedAt=Date.now()}}_createVerifier(e,t=null,n=null){n||(n=this.targetDevice);const{userId:i,deviceId:r}=n,o=this._verificationMethods.get(e);if(o)return new o(this.channel,this._client,i,r,t,this);s.logger.warn("could not find verifier constructor for method",e)}_wasSentByOwnUser(e){return e.getSender()===this._client.getUserId()}_wasSentByOwnDevice(e){if(!this._wasSentByOwnUser(e))return!1;const t=e.getContent();return!(!t||t.from_device!==this._client.getDeviceId())}onVerifierCancelled(){this._cancelled=!0;const e=this._applyPhaseTransitions();e.length&&this._setPhase(e[e.length-1].phase)}onVerifierFinished(){this.channel.send("m.key.verification.done",{}),this._verifierHasFinished=!0;const e=this._applyPhaseTransitions();e.length&&this._setPhase(e[e.length-1].phase)}getEventFromOtherParty(e){return this._eventsByThem.get(e)}}},"3sFX":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SyncAccumulator=void 0;var i=n("PrRn"),r=n("t+e4");function s(e,t){null!=t.state_key&&t.type&&(e[t.type]||(e[t.type]=Object.create(null)),e[t.type][t.state_key]=t)}t.SyncAccumulator=class{constructor(e){(e=e||{}).maxTimelineEntries=e.maxTimelineEntries||50,this.opts=e,this.accountData={},this.inviteRooms={},this.joinRooms={},this.nextBatch=null,this.groups={invite:{},join:{},leave:{}}}accumulate(e){this._accumulateRooms(e),this._accumulateGroups(e),this._accumulateAccountData(e),this.nextBatch=e.next_batch}_accumulateAccountData(e){e.account_data&&e.account_data.events&&e.account_data.events.forEach(e=>{this.accountData[e.type]=e})}_accumulateRooms(e){e.rooms&&(e.rooms.invite&&Object.keys(e.rooms.invite).forEach(t=>{this._accumulateRoom(t,"invite",e.rooms.invite[t])}),e.rooms.join&&Object.keys(e.rooms.join).forEach(t=>{this._accumulateRoom(t,"join",e.rooms.join[t])}),e.rooms.leave&&Object.keys(e.rooms.leave).forEach(t=>{this._accumulateRoom(t,"leave",e.rooms.leave[t])}))}_accumulateRoom(e,t,n){switch(t){case"invite":this._accumulateInviteState(e,n);break;case"join":this.inviteRooms[e]&&delete this.inviteRooms[e],this._accumulateJoinState(e,n);break;case"leave":this.inviteRooms[e]?delete this.inviteRooms[e]:delete this.joinRooms[e];break;default:i.logger.error("Unknown cateogory: ",t)}}_accumulateInviteState(e,t){if(!t.invite_state||!t.invite_state.events)return;if(!this.inviteRooms[e])return void(this.inviteRooms[e]={invite_state:t.invite_state});const n=this.inviteRooms[e];t.invite_state.events.forEach(e=>{let t=!1;for(let i=0;i<n.invite_state.events.length;i++){const r=n.invite_state.events[i];r.type===e.type&&r.state_key==e.state_key&&(n.invite_state.events[i]=e,t=!0)}t||n.invite_state.events.push(e)})}_accumulateJoinState(e,t){this.joinRooms[e]||(this.joinRooms[e]={_currentState:Object.create(null),_timeline:[],_accountData:Object.create(null),_unreadNotifications:{},_summary:{},_readReceipts:{}});const n=this.joinRooms[e];if(t.account_data&&t.account_data.events&&t.account_data.events.forEach(e=>{n._accountData[e.type]=e}),t.unread_notifications&&(n._unreadNotifications=t.unread_notifications),t.summary){const e="m.heroes",i="m.invited_member_count",r="m.joined_member_count",s=n._summary,o=t.summary;s[e]=o[e]||s[e],s[r]=o[r]||s[r],s[i]=o[i]||s[i]}if(t.ephemeral&&t.ephemeral.events&&t.ephemeral.events.forEach(e=>{"m.receipt"===e.type&&e.content&&Object.keys(e.content).forEach(t=>{e.content[t]["m.read"]&&Object.keys(e.content[t]["m.read"]).forEach(i=>{n._readReceipts[i]={data:e.content[t]["m.read"][i],eventId:t}})})}),t.timeline&&t.timeline.limited&&(n._timeline=[]),t.state&&t.state.events&&t.state.events.forEach(e=>{s(n._currentState,e)}),t.timeline&&t.timeline.events&&t.timeline.events.forEach((e,i)=>{s(n._currentState,e),n._timeline.push({event:e,token:0===i?t.timeline.prev_batch:null})}),n._timeline.length>this.opts.maxTimelineEntries)for(let i=n._timeline.length-this.opts.maxTimelineEntries;i<n._timeline.length;i++)if(n._timeline[i].token){n._timeline=n._timeline.slice(i,n._timeline.length);break}}_accumulateGroups(e){e.groups&&(e.groups.invite&&Object.keys(e.groups.invite).forEach(t=>{this._accumulateGroup(t,"invite",e.groups.invite[t])}),e.groups.join&&Object.keys(e.groups.join).forEach(t=>{this._accumulateGroup(t,"join",e.groups.join[t])}),e.groups.leave&&Object.keys(e.groups.leave).forEach(t=>{this._accumulateGroup(t,"leave",e.groups.leave[t])}))}_accumulateGroup(e,t,n){for(const i of["invite","join","leave"])delete this.groups[i][e];this.groups[t][e]=n}getJSON(){const e={join:{},invite:{},leave:{}};Object.keys(this.inviteRooms).forEach(t=>{e.invite[t]=this.inviteRooms[t]}),Object.keys(this.joinRooms).forEach(t=>{const n=this.joinRooms[t],i={ephemeral:{events:[]},account_data:{events:[]},state:{events:[]},timeline:{events:[],prev_batch:null},unread_notifications:n._unreadNotifications,summary:n._summary};Object.keys(n._accountData).forEach(e=>{i.account_data.events.push(n._accountData[e])});const o={type:"m.receipt",room_id:t,content:{}};Object.keys(n._readReceipts).forEach(e=>{const t=n._readReceipts[e];o.content[t.eventId]||(o.content[t.eventId]={"m.read":{}}),o.content[t.eventId]["m.read"][e]=t.data}),Object.keys(o.content).length>0&&i.ephemeral.events.push(o),n._timeline.forEach(e=>{if(!i.timeline.prev_batch){if(!e.token)return;i.timeline.prev_batch=e.token}i.timeline.events.push(e.event)});const a=Object.create(null);for(let e=i.timeline.events.length-1;e>=0;e--){const t=i.timeline.events[e];if(null==t.state_key)continue;const n=(0,r.deepCopy)(t);n.unsigned&&(n.unsigned.prev_content&&(n.content=n.unsigned.prev_content),n.unsigned.prev_sender&&(n.sender=n.unsigned.prev_sender)),s(a,n)}Object.keys(n._currentState).forEach(e=>{Object.keys(n._currentState[e]).forEach(t=>{let r=n._currentState[e][t];a[e]&&a[e][t]&&(r=a[e][t]),i.state.events.push(r)})}),e.join[t]=i});const t=[];return Object.keys(this.accountData).forEach(e=>{t.push(this.accountData[e])}),{nextBatch:this.nextBatch,roomsData:e,groupsData:this.groups,accountData:t}}getNextBatchToken(){return this.nextBatch}}},"49sm":function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},"4Cle":function(e,t,n){"use strict";var i=n("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.RoomState=c;var r=n("+qE3"),s=n("vR9v"),o=n("PrRn"),a=i(n("t+e4"));function c(e,t){this.roomId=e,this.members={},this.events={},this.paginationToken=null,this._sentinels={},this._updateModifiedTime(),this._displayNameToUserIds={},this._userIdsToDisplayNames={},this._tokenToInvite={},this._joinedMemberCount=null,this._summaryJoinedMemberCount=null,this._invitedMemberCount=null,this._summaryInvitedMemberCount=null,t||(t={status:1}),this._oobMemberFlags=t}function l(e,t,n){const i=e._userIdsToDisplayNames[t];if(delete e._userIdsToDisplayNames[t],i){const n=a.removeHiddenChars(i),r=e._displayNameToUserIds[n];if(r){const i=r.filter(e=>e!==t);e._displayNameToUserIds[n]=i}}e._userIdsToDisplayNames[t]=n;const r=n&&a.removeHiddenChars(n);r&&(e._displayNameToUserIds[r]||(e._displayNameToUserIds[r]=[]),e._displayNameToUserIds[r].push(t))}a.inherits(c,r.EventEmitter),c.prototype.getJoinedMemberCount=function(){return null!==this._summaryJoinedMemberCount?this._summaryJoinedMemberCount:(null===this._joinedMemberCount&&(this._joinedMemberCount=this.getMembers().reduce((e,t)=>"join"===t.membership?e+1:e,0)),this._joinedMemberCount)},c.prototype.setJoinedMemberCount=function(e){this._summaryJoinedMemberCount=e},c.prototype.getInvitedMemberCount=function(){return null!==this._summaryInvitedMemberCount?this._summaryInvitedMemberCount:(null===this._invitedMemberCount&&(this._invitedMemberCount=this.getMembers().reduce((e,t)=>"invite"===t.membership?e+1:e,0)),this._invitedMemberCount)},c.prototype.setInvitedMemberCount=function(e){this._summaryInvitedMemberCount=e},c.prototype.getMembers=function(){return a.values(this.members)},c.prototype.getMembersExcept=function(e){return a.values(this.members).filter(t=>!e.includes(t.userId))},c.prototype.getMember=function(e){return this.members[e]||null},c.prototype.getSentinelMember=function(e){if(!e)return null;let t=this._sentinels[e];if(void 0===t){t=new s.RoomMember(this.roomId,e);const n=this.members[e];n&&t.setMembershipEvent(n.events.member,this),this._sentinels[e]=t}return t},c.prototype.getStateEvents=function(e,t){return this.events[e]?void 0===t?a.values(this.events[e]):this.events[e][t]||null:void 0===t?[]:null},c.prototype.clone=function(){const e=new c(this.roomId,this._oobMemberFlags),t=this._oobMemberFlags.status;return this._oobMemberFlags.status=1,Object.values(this.events).forEach(t=>{const n=Object.values(t);e.setStateEvents(n)}),this._oobMemberFlags.status=t,null!==this._summaryInvitedMemberCount&&e.setInvitedMemberCount(this.getInvitedMemberCount()),null!==this._summaryJoinedMemberCount&&e.setJoinedMemberCount(this.getJoinedMemberCount()),3==this._oobMemberFlags.status&&this.getMembers().forEach(t=>{t.isOutOfBand()&&e.getMember(t.userId).markOutOfBand()}),e},c.prototype.setUnknownStateEvents=function(e){const t=e.filter(e=>void 0===this.events[e.getType()]||void 0===this.events[e.getType()][e.getStateKey()]);this.setStateEvents(t)},c.prototype.setStateEvents=function(e){const t=this;this._updateModifiedTime(),a.forEach(e,(function(e){if(e.getRoomId()!==t.roomId)return;if(!e.isState())return;const n=t._getStateEventMatching(e);t._setStateEvent(e),"m.room.member"===e.getType()&&(l(t,e.getStateKey(),e.getContent().displayname),function(e,t){if(!t.getContent().third_party_invite)return;const n=(t.getContent().third_party_invite.signed||{}).token;n&&e.getStateEvents("m.room.third_party_invite",n)&&(e._tokenToInvite[n]=t)}(t,e)),t.emit("RoomState.events",e,t,n)})),a.forEach(e,(function(e){if(e.getRoomId()===t.roomId&&e.isState())if("m.room.member"===e.getType()){const n=e.getStateKey();"leave"!==e.getContent().membership&&"ban"!==e.getContent().membership||(e.getContent().avatar_url=e.getContent().avatar_url||e.getPrevContent().avatar_url,e.getContent().displayname=e.getContent().displayname||e.getPrevContent().displayname);const i=t._getOrCreateMember(n,e);i.setMembershipEvent(e,t),t._updateMember(i),t.emit("RoomState.members",e,t,i)}else if("m.room.power_levels"===e.getType()){const n=a.values(t.members);a.forEach(n,(function(n){n.setPowerLevelEvent(e),t.emit("RoomState.members",e,t,n)})),t._sentinels={}}}))},c.prototype._getOrCreateMember=function(e,t){let n=this.members[e];return n||(n=new s.RoomMember(this.roomId,e),this.members[e]=n,this.emit("RoomState.newMember",t,this,n)),n},c.prototype._setStateEvent=function(e){void 0===this.events[e.getType()]&&(this.events[e.getType()]={}),this.events[e.getType()][e.getStateKey()]=e},c.prototype._getStateEventMatching=function(e){return this.events[e.getType()]?this.events[e.getType()][e.getStateKey()]:null},c.prototype._updateMember=function(e){const t=this.getStateEvents("m.room.power_levels","");t&&e.setPowerLevelEvent(t),delete this._sentinels[e.userId],this.members[e.userId]=e,this._joinedMemberCount=null,this._invitedMemberCount=null},c.prototype.needsOutOfBandMembers=function(){return 1===this._oobMemberFlags.status},c.prototype.markOutOfBandMembersStarted=function(){1===this._oobMemberFlags.status&&(this._oobMemberFlags.status=2)},c.prototype.markOutOfBandMembersFailed=function(){2===this._oobMemberFlags.status&&(this._oobMemberFlags.status=1)},c.prototype.clearOutOfBandMembers=function(){let e=0;Object.keys(this.members).forEach(t=>{this.members[t].isOutOfBand()&&(++e,delete this.members[t])}),o.logger.log(`LL: RoomState removed ${e} members...`),this._oobMemberFlags.status=1},c.prototype.setOutOfBandMembers=function(e){o.logger.log(`LL: RoomState about to set ${e.length} OOB members ...`),2===this._oobMemberFlags.status&&(o.logger.log("LL: RoomState put in OOB_STATUS_FINISHED state ..."),this._oobMemberFlags.status=3,e.forEach(e=>this._setOutOfBandMember(e)))},c.prototype._setOutOfBandMember=function(e){if("m.room.member"!==e.getType())return;const t=e.getStateKey(),n=this.getMember(t);if(n&&!n.isOutOfBand())return;const i=this._getOrCreateMember(t,e);i.setMembershipEvent(e,this),i.markOutOfBand(),l(this,i.userId,i.name),this._setStateEvent(e),this._updateMember(i),this.emit("RoomState.members",e,this,i)},c.prototype.setTypingEvent=function(e){a.forEach(a.values(this.members),(function(t){t.setTypingEvent(e)}))},c.prototype.getInviteForThreePidToken=function(e){return this._tokenToInvite[e]||null},c.prototype._updateModifiedTime=function(){this._modified=Date.now()},c.prototype.getLastModifiedTime=function(){return this._modified},c.prototype.getUserIdsWithDisplayName=function(e){return this._displayNameToUserIds[a.removeHiddenChars(e)]||[]},c.prototype.maySendRedactionForEvent=function(e,t){const n=this.getMember(t);if(!n||"leave"===n.membership)return!1;if(e.status||e.isRedacted())return!1;const i=this.maySendEvent("m.room.redaction",t);return e.getSender()===t?i:this._hasSufficientPowerLevelFor("redact",n.powerLevel)},c.prototype._hasSufficientPowerLevelFor=function(e,t){const n=this.getStateEvents("m.room.power_levels","");let i={};n&&(i=n.getContent());let r=50;return a.isNumber(i[e])&&(r=i[e]),t>=r},c.prototype.maySendMessage=function(e){return this._maySendEventOfType("m.room.message",e,!1)},c.prototype.maySendEvent=function(e,t){return this._maySendEventOfType(e,t,!1)},c.prototype.mayClientSendStateEvent=function(e,t){return!t.isGuest()&&this.maySendStateEvent(e,t.credentials.userId)},c.prototype.maySendStateEvent=function(e,t){return this._maySendEventOfType(e,t,!0)},c.prototype._maySendEventOfType=function(e,t,n){const i=this.getStateEvents("m.room.power_levels","");let r,s={},o=0,a=0,c=0;if(i){r=i.getContent(),s=r.events||{},o=Number.isFinite(r.state_default)?r.state_default:50;const e=r.users&&r.users[t];Number.isFinite(e)?c=e:Number.isFinite(r.users_default)&&(c=r.users_default),Number.isFinite(r.events_default)&&(a=r.events_default)}let l=n?o:a;return Number.isFinite(s[e])&&(l=s[e]),c>=l},c.prototype.mayTriggerNotifOfType=function(e,t){const n=this.getMember(t);if(!n)return!1;const i=this.getStateEvents("m.room.power_levels","");let r=50;return i&&i.getContent()&&i.getContent().notifications&&a.isNumber(i.getContent().notifications[e])&&(r=i.getContent().notifications[e]),n.powerLevel>=r}},"6MUB":function(e,t,n){"use strict";var i=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,r){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(r){var s=encodeURIComponent(i(r))+n;return Array.isArray(e[r])?e[r].map((function(e){return s+encodeURIComponent(i(e))})).join(t):s+encodeURIComponent(i(e[r]))})).join(t):r?encodeURIComponent(i(r))+n+encodeURIComponent(i(e)):""}},"7/Kr":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReEmitter=void 0,t.ReEmitter=class{constructor(e){this.target=e,this.boundHandlers={}}_handleEvent(e,...t){this.target.emit(e,...t)}reEmit(e,t){const n=(t,...n)=>{t(...n,e)};for(const i of t){void 0===this.boundHandlers[i]&&(this.boundHandlers[i]=this._handleEvent.bind(this,i));const t=n.bind(this,this.boundHandlers[i]);e.on(i,t)}}}},"7UXS":function(e,t,n){"use strict";var i=n("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.MatrixEvent=t.EventStatus=void 0;var r=n("+qE3"),s=i(n("t+e4")),o=n("PrRn");t.EventStatus={NOT_SENT:"not_sent",ENCRYPTING:"encrypting",SENDING:"sending",QUEUED:"queued",SENT:"sent",CANCELLED:"cancelled"};const a={};function c(e){return a[e]||(a[e]=e),a[e]}const l=function(e){["state_key","type","sender","room_id","membership"].forEach(t=>{e[t]&&(e[t]=c(e[t]))}),["membership","avatar_url","displayname"].forEach(t=>{e.content&&e.content[t]&&(e.content[t]=c(e.content[t]))}),["rel_type"].forEach(t=>{e.content&&e.content["m.relates_to"]&&e.content["m.relates_to"][t]&&(e.content["m.relates_to"][t]=c(e.content["m.relates_to"][t]))}),this.event=e||{},this.sender=null,this.target=null,this.status=null,this.error=null,this.forwardLooking=!0,this._pushActions=null,this._replacingEvent=null,this._localRedactionEvent=null,this._isCancelled=!1,this._clearEvent={},this._senderCurve25519Key=null,this._claimedEd25519Key=null,this._forwardingCurve25519KeyChain=[],this._untrusted=null,this._decryptionPromise=null,this._retryDecryption=!1,this.verificationRequest=null};t.MatrixEvent=l,s.inherits(l,r.EventEmitter),s.extend(l.prototype,{getId:function(){return this.event.event_id},getSender:function(){return this.event.sender||this.event.user_id},getType:function(){return this._clearEvent.type||this.event.type},getWireType:function(){return this.event.type},getRoomId:function(){return this.event.room_id},getTs:function(){return this.event.origin_server_ts},getDate:function(){return this.event.origin_server_ts?new Date(this.event.origin_server_ts):null},getOriginalContent:function(){return this._localRedactionEvent?{}:this._clearEvent.content||this.event.content||{}},getContent:function(){return this._localRedactionEvent?{}:this._replacingEvent?this._replacingEvent.getContent()["m.new_content"]||{}:this.getOriginalContent()},getWireContent:function(){return this.event.content||{}},getPrevContent:function(){return this.getUnsigned().prev_content||this.event.prev_content||{}},getDirectionalContent:function(){return this.forwardLooking?this.getContent():this.getPrevContent()},getAge:function(){return this.getUnsigned().age||this.event.age},getLocalAge:function(){return Date.now()-this.getTs()},getStateKey:function(){return this.event.state_key},isState:function(){return void 0!==this.event.state_key},makeEncrypted:function(e,t,n,i){this._clearEvent={type:this.event.type,content:this.event.content},this.event.type=e,this.event.content=t,this._senderCurve25519Key=n,this._claimedEd25519Key=i},isBeingDecrypted:function(){return null!=this._decryptionPromise},isDecryptionFailure:function(){return this._clearEvent&&this._clearEvent.content&&"m.bad.encrypted"===this._clearEvent.content.msgtype},attemptDecryption:async function(e,t){if(!this.isEncrypted())throw new Error("Attempt to decrypt event which isn't encrypted");if(this._clearEvent&&this._clearEvent.content&&"m.bad.encrypted"!==this._clearEvent.content.msgtype)throw new Error("Attempt to decrypt event which has already been decrypted");return this._decryptionPromise?(o.logger.log(`Event ${this.getId()} already being decrypted; queueing a retry`),this._retryDecryption=!0,this._decryptionPromise):(this._decryptionPromise=this._decryptionLoop(e,t),this._decryptionPromise)},cancelAndResendKeyRequest:function(e,t){const n=this.getWireContent();return e.requestRoomKey({algorithm:n.algorithm,room_id:this.getRoomId(),session_id:n.session_id,sender_key:n.sender_key},this.getKeyRequestRecipients(t),!0)},getKeyRequestRecipients:function(e){const t=this.getWireContent(),n=[{userId:e,deviceId:"*"}],i=this.getSender();return i!==e&&n.push({userId:i,deviceId:t.device_id}),n},_decryptionLoop:async function(e,t){for(await Promise.resolve();;){let i,r;this._retryDecryption=!1;try{e?(i=await e.decryptEvent(this),t&&o.logger.info(`Decrypted event on retry (id=${this.getId()})`)):i=this._badEncryptedMessage("Encryption not enabled")}catch(n){if("DecryptionError"!==n.name)return o.logger.error(`Error ${t?"re":""}decrypting event (id=${this.getId()}): ${n.stack||n}`),this._decryptionPromise=null,void(this._retryDecryption=!1);if(r=n,this._retryDecryption){o.logger.log(`Got error decrypting event (id=${this.getId()}: `+n+"), but retrying");continue}o.logger.warn(`Error decrypting event (id=${this.getId()}): ${n.detailedString}`),i=this._badEncryptedMessage(n.message)}return this._decryptionPromise=null,this._retryDecryption=!1,this._setClearData(i),this.setPushActions(null),void this.emit("Event.decrypted",this,r)}},_badEncryptedMessage:function(e){return{clearEvent:{type:"m.room.message",content:{msgtype:"m.bad.encrypted",body:"** Unable to decrypt: "+e+" **"}}}},_setClearData:function(e){this._clearEvent=e.clearEvent,this._senderCurve25519Key=e.senderCurve25519Key||null,this._claimedEd25519Key=e.claimedEd25519Key||null,this._forwardingCurve25519KeyChain=e.forwardingCurve25519KeyChain||[],this._untrusted=e.untrusted||!1},getClearContent:function(){const e=this._clearEvent;return e&&e.content?e.content:null},isEncrypted:function(){return"m.room.encrypted"===this.event.type},getSenderKey:function(){return this._senderCurve25519Key},getKeysClaimed:function(){return{ed25519:this._claimedEd25519Key}},getClaimedEd25519Key:function(){return this._claimedEd25519Key},getForwardingCurve25519KeyChain:function(){return this._forwardingCurve25519KeyChain},isKeySourceUntrusted:function(){return this._untrusted},getUnsigned:function(){return this.event.unsigned||{}},unmarkLocallyRedacted:function(){const e=this._localRedactionEvent;return this._localRedactionEvent=null,this.event.unsigned&&(this.event.unsigned.redacted_because=null),!!e},markLocallyRedacted:function(e){this._localRedactionEvent||(this.emit("Event.beforeRedaction",this,e),this._localRedactionEvent=e,this.event.unsigned||(this.event.unsigned={}),this.event.unsigned.redacted_because=e.event)},makeRedacted:function(e){if(!e.event)throw new Error("invalid redaction_event in makeRedacted");let t;for(t in this._localRedactionEvent=null,this.emit("Event.beforeRedaction",this,e),this._replacingEvent=null,this.event.unsigned||(this.event.unsigned={}),this.event.unsigned.redacted_because=e.event,this.event)this.event.hasOwnProperty(t)&&(u[t]||delete this.event[t]);const n=h[this.getType()]||{},i=this.getContent();for(t in i)i.hasOwnProperty(t)&&(n[t]||delete i[t])},isRedacted:function(){return Boolean(this.getUnsigned().redacted_because)},isRedaction:function(){return"m.room.redaction"===this.getType()},getPushActions:function(){return this._pushActions},setPushActions:function(e){this._pushActions=e},handleRemoteEcho:function(e){const t=this.getUnsigned(),n=this.getId();this.event=e,t.redacted_because&&(this.event.unsigned||(this.event.unsigned={}),this.event.unsigned.redacted_because=t.redacted_because),this.setStatus(null),this.getId()!==n&&this.emit("Event.localEventIdReplaced",this)},isSending(){return!!this.status},setStatus(e){this.status=e,this.emit("Event.status",this,e)},replaceLocalEventId(e){this.event.event_id=e,this.emit("Event.localEventIdReplaced",this)},isRelation(e){const t=this.getWireContent(),n=t&&t["m.relates_to"];return n&&n.rel_type&&n.event_id&&(e&&n.rel_type===e||!e)},getRelation(){return this.isRelation()?this.getWireContent()["m.relates_to"]:null},makeReplaced(e){this.isRedacted()&&e||this._replacingEvent!==e&&(this._replacingEvent=e,this.emit("Event.replaced",this))},getAssociatedStatus(){return this._replacingEvent?this._replacingEvent.status:this._localRedactionEvent?this._localRedactionEvent.status:this.status},getServerAggregatedRelation(e){const t=this.getUnsigned()["m.relations"];if(t)return t[e]},replacingEventId(){const e=this.getServerAggregatedRelation("m.replace");return e?e.event_id:this._replacingEvent?this._replacingEvent.getId():void 0},replacingEvent(){return this._replacingEvent},replacingEventDate(){const e=this.getServerAggregatedRelation("m.replace");if(e){const t=e.origin_server_ts;if(Number.isFinite(t))return new Date(t)}else if(this._replacingEvent)return this._replacingEvent.getDate()},localRedactionEvent(){return this._localRedactionEvent},getAssociatedId(){const e=this.getRelation();return e?e.event_id:this.isRedaction()?this.event.redacts:void 0},hasAssocation(){return!!this.getAssociatedId()},updateAssociatedId(e){const t=this.getRelation();t?t.event_id=e:this.isRedaction()&&(this.event.redacts=e)},flagCancelled(e=!0){this._isCancelled=e},isCancelled(){return this._isCancelled},toJSON(){const e={type:this.getType(),sender:this.getSender(),content:this.getContent(),event_id:this.getId(),origin_server_ts:this.getTs(),unsigned:this.getUnsigned(),room_id:this.getRoomId()};return this.isRedaction()&&(e.redacts=this.event.redacts),this.isEncrypted()?{decrypted:e,encrypted:this.event}:e},setVerificationRequest:function(e){this.verificationRequest=e}});const u=["event_id","type","room_id","user_id","sender","state_key","prev_state","content","unsigned","origin_server_ts"].reduce((function(e,t){return e[t]=1,e}),{}),h={"m.room.member":{membership:1},"m.room.create":{creator:1},"m.room.join_rules":{join_rule:1},"m.room.power_levels":{ban:1,events:1,events_default:1,kick:1,redact:1,state_default:1,users:1,users_default:1},"m.room.aliases":{aliases:1}}},"7kwF":function(e,t,n){"use strict";var i=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.VerificationBase=t.SwitchStartEventError=void 0;var r=i(n("lSNA")),s=n("7UXS"),o=n("+qE3"),a=n("PrRn"),c=n("Nfwx"),l=n("VEe5"),u=n("h3nd"),h=n("VRzr");const d=new Error("Verification timed out");class p extends Error{constructor(e){super(),this.startEvent=e}}t.SwitchStartEventError=p;class m extends o.EventEmitter{constructor(e,t,n,i,r,s){super(),this._channel=e,this._baseApis=t,this.userId=n,this.deviceId=i,this.startEvent=r,this.request=s,this.cancelled=!1,this._done=!1,this._promise=null,this._transactionTimeoutTimer=null}get initiatedByMe(){if(!this.startEvent)return!0;const e=this.startEvent.getSender(),t=this.startEvent.getContent();return e===this._baseApis.getUserId()&&t.from_device===this._baseApis.getDeviceId()}_resetTimer(){a.logger.info("Refreshing/starting the verification transaction timeout timer"),null!==this._transactionTimeoutTimer&&clearTimeout(this._transactionTimeoutTimer),this._transactionTimeoutTimer=setTimeout(()=>{this._done||this.cancelled||(a.logger.info("Triggering verification timeout"),this.cancel(d))},6e5)}_endTimer(){null!==this._transactionTimeoutTimer&&(clearTimeout(this._transactionTimeoutTimer),this._transactionTimeoutTimer=null)}_send(e,t){return this._channel.send(e,t)}_waitForEvent(e){if(this._done)return Promise.reject(new Error("Verification is already done"));const t=this.request.getEventFromOtherParty(e);return t?Promise.resolve(t):(this._expectedEvent=e,new Promise((e,t)=>{this._resolveEvent=e,this._rejectEvent=t}))}canSwitchStartEvent(){return!1}switchStartEvent(e){if(this.canSwitchStartEvent(e))if(a.logger.log("Verification Base: switching verification start event",{restartingFlow:!!this._rejectEvent}),this._rejectEvent){const t=this._rejectEvent;this._rejectEvent=void 0,t(new p(e))}else this.startEvent=e}handleEvent(e){if(!this._done)if(e.getType()===this._expectedEvent)"m.key.verification.done"!==this._expectedEvent&&(this._expectedEvent=void 0,this._rejectEvent=void 0,this._resetTimer(),this._resolveEvent(e));else if("m.key.verification.cancel"===e.getType()){const t=this._reject;if(this._reject=void 0,t){const n=e.getContent(),{reason:i,code:r}=n;t(new Error(`Other side cancelled verification because ${i} (${r})`))}}else if(this._expectedEvent){const t=new Error("Unexpected message: expecting "+this._expectedEvent+" but got "+e.getType());if(this._expectedEvent=void 0,this._rejectEvent){const e=this._rejectEvent;this._rejectEvent=void 0,e(t)}this.cancel(t)}}done(){if(this._endTimer(),!this._done){if(this.request.onVerifierFinished(),this._resolve(),this._baseApis.getUserId()!==this.userId)return;return console.log("VerificationBase.done: Self-verification done; requesting keys"),new Promise((e,t)=>{const n=this._baseApis,i=n._crypto._crossSigningInfo,r=new u.CrossSigningInfo(i.userId,{getCrossSigningKey:async e=>{console.debug("VerificationBase.done: requesting secret",e,this.deviceId);const{promise:t}=n.requestSecret("m.cross_signing."+e,[this.deviceId]),i=await t,r=(0,h.decodeBase64)(i);return Uint8Array.from(r)}},i._cacheCallbacks);r.keys=i.keys;const s=new Promise((e,t)=>{setTimeout(e,m.keyRequestTimeoutMs,new Error("Timeout"))}),o=new Promise(async e=>{if(!(await n._crypto.getSessionBackupPrivateKey())){a.logger.info("No cached backup key found. Requesting...");const e=n.requestSecret("m.megolm_backup.v1",[this.deviceId]),t=await e.promise;a.logger.info("Got key backup key, decoding...");const i=(0,h.decodeBase64)(t);a.logger.info("Decoded backup key, storing..."),n._crypto.storeSessionBackupPrivateKey(Uint8Array.from(i)),a.logger.info("Backup key stored. Starting backup restore...");const r=await n.getKeyBackupVersion();n.restoreKeyBackupWithCache(void 0,void 0,r).then(()=>{a.logger.info("Backup restored.")})}e()});return Promise.race([Promise.all([r.getCrossSigningKey("self_signing"),r.getCrossSigningKey("user_signing"),o]),s]).then(e,t)}).catch(e=>{console.warn("VerificationBase: failure while requesting keys:",e)})}}cancel(e){if(this._endTimer(),!this._done){if(this.cancelled=!0,this.request.onVerifierCancelled(),this.userId&&this.deviceId)if(e===d){const e=(0,l.newTimeoutError)();this._send(e.getType(),e.getContent())}else if(e instanceof s.MatrixEvent){if(e.getSender()!==this.userId){const t=e.getContent();"m.key.verification.cancel"===e.getType()?(t.code=t.code||"m.unknown",t.reason=t.reason||t.body||"Unknown reason",this._send("m.key.verification.cancel",t)):this._send("m.key.verification.cancel",{code:"m.unknown",reason:t.body||"Unknown reason"})}}else this._send("m.key.verification.cancel",{code:"m.unknown",reason:e.toString()});null!==this._promise?this._reject&&this._reject(e):this._promise=Promise.reject(e),this.emit("cancel",e)}}verify(){return this._promise||(this._promise=new Promise((e,t)=>{this._resolve=(...t)=>{this._done=!0,this._endTimer(),e(...t)},this._reject=(...e)=>{this._done=!0,this._endTimer(),t(...e)}}),this._doVerification&&!this._started&&(this._started=!0,this._resetTimer(),Promise.resolve(this._doVerification()).then(this.done.bind(this),this.cancel.bind(this)))),this._promise}async _verifyKeys(e,t,n){const i=[];for(const[r,s]of Object.entries(t)){const t=r.split(":",2)[1],o=this._baseApis.getStoredDevice(e,t);if(o)await n(r,o,s),i.push(t);else{const o=this._baseApis._crypto._deviceList.getStoredCrossSigningForUser(e);o&&o.getId()===t?(await n(r,c.DeviceInfo.fromStorage({keys:{[r]:t}},t),s),i.push(t)):a.logger.warn(`verification: Could not find device ${t} to verify`)}}if(!i.length)throw new Error("No devices could be verified");a.logger.info("Verification completed! Marking devices verified: ",i);for(const r of i)await this._baseApis.setDeviceVerified(e,r)}}t.VerificationBase=m,(0,r.default)(m,"keyRequestTimeoutMs",6e4)},"8zgi":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Filter=s;var i=n("OYp6");function r(e,t,n){const i=t.split(".");let r=e;for(let s=0;s<i.length-1;s++)r[i[s]]||(r[i[s]]={}),r=r[i[s]];r[i[i.length-1]]=n}function s(e,t){this.userId=e,this.filterId=t,this.definition={}}s.LAZY_LOADING_MESSAGES_FILTER={lazy_load_members:!0},s.prototype.getFilterId=function(){return this.filterId},s.prototype.getDefinition=function(){return this.definition},s.prototype.setDefinition=function(e){this.definition=e;const t=e.room,n={};t&&(t.rooms&&(n.rooms=t.rooms),t.rooms&&(n.not_rooms=t.not_rooms),this._include_leave=t.include_leave||!1),this._room_filter=new i.FilterComponent(n),this._room_timeline_filter=new i.FilterComponent(t&&t.timeline||{})},s.prototype.getRoomTimelineFilterComponent=function(){return this._room_timeline_filter},s.prototype.filterRoomTimeline=function(e){return this._room_timeline_filter.filter(this._room_filter.filter(e))},s.prototype.setTimelineLimit=function(e){r(this.definition,"room.timeline.limit",e)},s.prototype.setLazyLoadMembers=function(e){r(this.definition,"room.state.lazy_load_members",!!e)},s.prototype.setIncludeLeaveRooms=function(e){r(this.definition,"room.include_leave",e)},s.fromJson=function(e,t,n){const i=new s(e,t);return i.setDefinition(n),i}},"9BO/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerAlgorithm=function(e,t,n){i[e]=t,r[e]=n},t.UnknownDeviceError=t.DecryptionError=t.DecryptionAlgorithm=t.EncryptionAlgorithm=t.DECRYPTION_CLASSES=t.ENCRYPTION_CLASSES=void 0;const i={};t.ENCRYPTION_CLASSES=i;const r={};t.DECRYPTION_CLASSES=r,t.EncryptionAlgorithm=class{constructor(e){this._userId=e.userId,this._deviceId=e.deviceId,this._crypto=e.crypto,this._olmDevice=e.olmDevice,this._baseApis=e.baseApis,this._roomId=e.roomId}prepareToEncrypt(e){}onRoomMembership(e,t,n){}},t.DecryptionAlgorithm=class{constructor(e){this._userId=e.userId,this._crypto=e.crypto,this._olmDevice=e.olmDevice,this._baseApis=e.baseApis,this._roomId=e.roomId}onRoomKeyEvent(e){}importRoomKey(e){}hasKeysForKeyRequest(e){return Promise.resolve(!1)}shareKeysWithDevice(e){throw new Error("shareKeysWithDevice not supported for this DecryptionAlgorithm")}async retryDecryptionFromSender(e){}};class s extends Error{constructor(e,t,n){super(t),this.code=e,this.name="DecryptionError",this.detailedString=function(e,t){let n=e.name+"[msg: "+e.message;return t&&(n+=", "+Object.keys(t).map(e=>e+": "+t[e]).join(", ")),n+="]",n}(this,n)}}t.DecryptionError=s;class o extends Error{constructor(e,t){super(e),this.name="UnknownDeviceError",this.devices=t}}t.UnknownDeviceError=o},"9Nfa":function(e,t,n){"use strict";var i=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.encodeRecoveryKey=function(e){const t=new Buffer(s.length+e.length+1);t.set(s,0),t.set(e,s.length);let n=0;for(let i=0;i<t.length-1;++i)n^=t[i];return t[t.length-1]=n,r.default.encode(t).match(/.{1,4}/g).join(" ")},t.decodeRecoveryKey=function(e){const t=r.default.decode(e.replace(/ /g,""));let n=0;for(const i of t)n^=i;if(0!==n)throw new Error("Incorrect parity");for(let i=0;i<s.length;++i)if(t[i]!==s[i])throw new Error("Incorrect prefix");if(t.length!==s.length+global.Olm.PRIVATE_KEY_LENGTH+1)throw new Error("Incorrect length");return Uint8Array.from(t.slice(s.length,s.length+global.Olm.PRIVATE_KEY_LENGTH))};var r=i(n("B3Rj"));const s=[139,1]},B2hj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RoomList=void 0;var i=n("qN7M");t.RoomList=class{constructor(e){this._cryptoStore=e,this._roomEncryption={}}async init(){await this._cryptoStore.doTxn("readwrite",[i.IndexedDBCryptoStore.STORE_ROOMS],e=>{this._cryptoStore.getEndToEndRooms(e,e=>{this._roomEncryption=e})})}getRoomEncryption(e){return this._roomEncryption[e]||null}isRoomEncrypted(e){return Boolean(this.getRoomEncryption(e))}async setRoomEncryption(e,t){this._roomEncryption[e]=t,await this._cryptoStore.doTxn("readwrite",[i.IndexedDBCryptoStore.STORE_ROOMS],n=>{this._cryptoStore.storeEndToEndRoom(e,t,n)})}}},B3Rj:function(e,t,n){var i=n("QqcV");e.exports=i("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},BLwL:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.exists=function(e,t){return new Promise((n,i)=>{let r=!0;const s=e.open(t);s.onupgradeneeded=()=>{r=!1},s.onblocked=()=>i(),s.onsuccess=()=>{s.result.close(),r||e.deleteDatabase(t),n(r)},s.onerror=e=>i(e.target.error)})}},BqaI:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IllegalMethod=void 0;var i=n("7kwF");class r extends i.VerificationBase{static factory(...e){return new r(...e)}static get NAME(){return"org.matrix.illegal_method"}async _doVerification(){throw new Error("Verification is not possible with this method")}}t.IllegalMethod=r},C2mt:function(e,t,n){"use strict";var i=n("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.Group=o;var r=i(n("t+e4")),s=n("+qE3");function o(e){this.groupId=e,this.name=null,this.avatarUrl=null,this.myMembership=null,this.inviter=null}r.inherits(o,s.EventEmitter),o.prototype.setProfile=function(e,t){this.name===e&&this.avatarUrl===t||(this.name=e||this.groupId,this.avatarUrl=t,this.emit("Group.profile",this))},o.prototype.setMyMembership=function(e){this.myMembership!==e&&(this.myMembership=e,this.emit("Group.myMembership",this))},o.prototype.setInviter=function(e){this.inviter=e}},CxY0:function(e,t,n){"use strict";var i=n("rWzI"),r=n("Nehr");function s(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=v,t.resolve=function(e,t){return v(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?v(e,!1,!0).resolveObject(t):t},t.format=function(e){return r.isString(e)&&(e=v(e)),e instanceof s?e.format():s.prototype.format.call(e)},t.Url=s;var o=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(l),h=["%","/","?",";","#"].concat(u),d=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,m=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,f={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},_={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=n("r8II");function v(e,t,n){if(e&&r.isObject(e)&&e instanceof s)return e;var i=new s;return i.parse(e,t,n),i}s.prototype.parse=function(e,t,n){if(!r.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var s=e.indexOf("?"),a=-1!==s&&s<e.indexOf("#")?"?":"#",l=e.split(a);l[0]=l[0].replace(/\\/g,"/");var v=e=l.join(a);if(v=v.trim(),!n&&1===e.split("#").length){var b=c.exec(v);if(b)return this.path=v,this.href=v,this.pathname=b[1],b[2]?(this.search=b[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var w=o.exec(v);if(w){var S=(w=w[0]).toLowerCase();this.protocol=S,v=v.substr(w.length)}if(n||w||v.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===v.substr(0,2);!E||w&&g[w]||(v=v.substr(2),this.slashes=!0)}if(!g[w]&&(E||w&&!_[w])){for(var k,C,x=-1,T=0;T<d.length;T++)-1!==(I=v.indexOf(d[T]))&&(-1===x||I<x)&&(x=I);for(-1!==(C=-1===x?v.lastIndexOf("@"):v.lastIndexOf("@",x))&&(k=v.slice(0,C),v=v.slice(C+1),this.auth=decodeURIComponent(k)),x=-1,T=0;T<h.length;T++){var I;-1!==(I=v.indexOf(h[T]))&&(-1===x||I<x)&&(x=I)}-1===x&&(x=v.length),this.host=v.slice(0,x),v=v.slice(x),this.parseHost(),this.hostname=this.hostname||"";var R="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!R)for(var O=this.hostname.split(/\./),A=(T=0,O.length);T<A;T++){var D=O[T];if(D&&!D.match(p)){for(var P="",M=0,N=D.length;M<N;M++)D.charCodeAt(M)>127?P+="x":P+=D[M];if(!P.match(p)){var L=O.slice(0,T),F=O.slice(T+1),U=D.match(m);U&&(L.push(U[1]),F.unshift(U[2])),F.length&&(v="/"+F.join(".")+v),this.hostname=L.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),R||(this.hostname=i.toASCII(this.hostname)),this.host=(this.hostname||"")+(this.port?":"+this.port:""),this.href+=this.host,R&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==v[0]&&(v="/"+v))}if(!f[S])for(T=0,A=u.length;T<A;T++){var B=u[T];if(-1!==v.indexOf(B)){var j=encodeURIComponent(B);j===B&&(j=escape(B)),v=v.split(B).join(j)}}var V=v.indexOf("#");-1!==V&&(this.hash=v.substr(V),v=v.slice(0,V));var K=v.indexOf("?");return-1!==K?(this.search=v.substr(K),this.query=v.substr(K+1),t&&(this.query=y.parse(this.query)),v=v.slice(0,K)):t&&(this.search="",this.query={}),v&&(this.pathname=v),_[S]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(this.pathname||"")+(this.search||"")),this.href=this.format(),this},s.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",i=this.hash||"",s=!1,o="";this.host?s=e+this.host:this.hostname&&(s=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(s+=":"+this.port)),this.query&&r.isObject(this.query)&&Object.keys(this.query).length&&(o=y.stringify(this.query));var a=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||_[t])&&!1!==s?(s="//"+(s||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):s||(s=""),i&&"#"!==i.charAt(0)&&(i="#"+i),a&&"?"!==a.charAt(0)&&(a="?"+a),t+s+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(a=a.replace("#","%23"))+i},s.prototype.resolve=function(e){return this.resolveObject(v(e,!1,!0)).format()},s.prototype.resolveObject=function(e){if(r.isString(e)){var t=new s;t.parse(e,!1,!0),e=t}for(var n=new s,i=Object.keys(this),o=0;o<i.length;o++){var a=i[o];n[a]=this[a]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var c=Object.keys(e),l=0;l<c.length;l++){var u=c[l];"protocol"!==u&&(n[u]=e[u])}return _[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!_[e.protocol]){for(var h=Object.keys(e),d=0;d<h.length;d++){var p=h[d];n[p]=e[p]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||g[e.protocol])n.pathname=e.pathname;else{for(var m=(e.pathname||"").split("/");m.length&&!(e.host=m.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==m[0]&&m.unshift(""),m.length<2&&m.unshift(""),n.pathname=m.join("/")}return n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,(n.pathname||n.search)&&(n.path=(n.pathname||"")+(n.search||"")),n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var f=n.pathname&&"/"===n.pathname.charAt(0),y=e.host||e.pathname&&"/"===e.pathname.charAt(0),v=y||f||n.host&&e.pathname,b=v,w=n.pathname&&n.pathname.split("/")||[],S=(m=e.pathname&&e.pathname.split("/")||[],n.protocol&&!_[n.protocol]);if(S&&(n.hostname="",n.port=null,n.host&&(""===w[0]?w[0]=n.host:w.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===m[0]?m[0]=e.host:m.unshift(e.host)),e.host=null),v=v&&(""===m[0]||""===w[0])),y)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,w=m;else if(m.length)w||(w=[]),w.pop(),w=w.concat(m),n.search=e.search,n.query=e.query;else if(!r.isNullOrUndefined(e.search))return S&&(n.hostname=n.host=w.shift(),(T=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=T.shift(),n.host=n.hostname=T.shift())),n.search=e.search,n.query=e.query,r.isNull(n.pathname)&&r.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!w.length)return n.pathname=null,n.path=n.search?"/"+n.search:null,n.href=n.format(),n;for(var E=w.slice(-1)[0],k=(n.host||e.host||w.length>1)&&("."===E||".."===E)||""===E,C=0,x=w.length;x>=0;x--)"."===(E=w[x])?w.splice(x,1):".."===E?(w.splice(x,1),C++):C&&(w.splice(x,1),C--);if(!v&&!b)for(;C--;C)w.unshift("..");!v||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),k&&"/"!==w.join("/").substr(-1)&&w.push("");var T,I=""===w[0]||w[0]&&"/"===w[0].charAt(0);return S&&(n.hostname=n.host=I?"":w.length?w.shift():"",(T=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=T.shift(),n.host=n.hostname=T.shift())),(v=v||n.host&&w.length)&&!I&&w.unshift(""),w.length?n.pathname=w.join("/"):(n.pathname=null,n.path=null),r.isNull(n.pathname)&&r.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},s.prototype.parseHost=function(){var e=this.host,t=a.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},"Dr/U":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RoomSummary=function(e,t){this.roomId=e,this.info=t}},EEJ8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TimelineWindow=r,t.TimelineIndex=s;var i=n("tyto");function r(e,t,n){n=n||{},this._client=e,this._timelineSet=t,this._start=null,this._end=null,this._eventCount=0,this._windowLimit=n.windowLimit||1e3}function s(e,t){this.timeline=e,this.index=t}n("PrRn"),r.prototype.load=function(e,t){const n=this;t=t||20;const i=function(i){let r;const o=i.getEvents();if(e){for(let t=0;t<o.length;t++)if(o[t].getId()==e){r=t;break}if(void 0===r)throw new Error("getEventTimeline result didn't include requested event")}else r=o.length;const a=Math.min(o.length,r+Math.ceil(t/2)),c=Math.max(0,a-t);n._start=new s(i,c-i.getBaseIndex()),n._end=new s(i,a-i.getBaseIndex()),n._eventCount=a-c};if(e){const t=this._timelineSet.getTimelineForEvent(e);return t?(i(t),Promise.resolve(t)):this._client.getEventTimeline(this._timelineSet,e).then(i)}return i(this._timelineSet.getLiveTimeline()),Promise.resolve()},r.prototype.getTimelineIndex=function(e){if(e==i.EventTimeline.BACKWARDS)return this._start;if(e==i.EventTimeline.FORWARDS)return this._end;throw new Error("Invalid direction '"+e+"'")},r.prototype.extend=function(e,t){const n=this.getTimelineIndex(e);if(!n)return!1;const r=e==i.EventTimeline.BACKWARDS?n.retreat(t):n.advance(t);if(r){this._eventCount+=r;const t=this._eventCount-this._windowLimit;return t>0&&this.unpaginate(t,e!=i.EventTimeline.BACKWARDS),!0}return!1},r.prototype.canPaginate=function(e){const t=this.getTimelineIndex(e);if(!t)return!1;if(e==i.EventTimeline.BACKWARDS){if(t.index>t.minIndex())return!0}else if(t.index<t.maxIndex())return!0;return Boolean(t.timeline.getNeighbouringTimeline(e)||t.timeline.getPaginationToken(e))},r.prototype.paginate=function(e,t,n,r){void 0===n&&(n=!0),void 0===r&&(r=5);const s=this.getTimelineIndex(e);if(!s)return Promise.resolve(!1);if(s.pendingPaginate)return s.pendingPaginate;if(this.extend(e,t))return Promise.resolve(!0);if(!n||0===r)return Promise.resolve(!1);if(!s.timeline.getPaginationToken(e))return Promise.resolve(!1);const o=this,a=this._client.paginateEventTimeline(s.timeline,{backwards:e==i.EventTimeline.BACKWARDS,limit:t}).finally((function(){s.pendingPaginate=null})).then((function(n){return!!n&&o.paginate(e,t,!0,r-1)}));return s.pendingPaginate=a,a},r.prototype.unpaginate=function(e,t){const n=t?this._start:this._end;if(e>this._eventCount||e<0)throw new Error("Attemting to unpaginate "+e+" events, but only have "+this._eventCount+" in the timeline");for(;e>0;){const i=t?n.advance(e):n.retreat(e);if(i<=0)throw new Error("Unable to unpaginate any further, but still have "+this._eventCount+" events");e-=i,this._eventCount-=i}},r.prototype.getEvents=function(){if(!this._start)return[];const e=[];let t=this._start.timeline;for(;;){const n=t.getEvents();let r=0,s=n.length;t===this._start.timeline&&(r=this._start.index+t.getBaseIndex()),t===this._end.timeline&&(s=this._end.index+t.getBaseIndex());for(let t=r;t<s;t++)e.push(n[t]);if(t===this._end.timeline)break;t=t.getNeighbouringTimeline(i.EventTimeline.FORWARDS)}return e},s.prototype.minIndex=function(){return-1*this.timeline.getBaseIndex()},s.prototype.maxIndex=function(){return this.timeline.getEvents().length-this.timeline.getBaseIndex()},s.prototype.advance=function(e){if(!e)return 0;let t;if(e<0){if(t=Math.max(e,this.minIndex()-this.index),t<0)return this.index+=t,t}else if(t=Math.min(e,this.maxIndex()-this.index),t>0)return this.index+=t,t;const n=this.timeline.getNeighbouringTimeline(e<0?i.EventTimeline.BACKWARDS:i.EventTimeline.FORWARDS);return n?(this.timeline=n,this.index=e<0?this.maxIndex():this.minIndex(),this.advance(e)):0},s.prototype.retreat=function(e){return-1*this.advance(-1*e)}},EP5U:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeHtmlMessage=function(e,t){return{msgtype:"m.text",format:"org.matrix.custom.html",body:e,formatted_body:t}},t.makeHtmlNotice=function(e,t){return{msgtype:"m.notice",format:"org.matrix.custom.html",body:e,formatted_body:t}},t.makeHtmlEmote=function(e,t){return{msgtype:"m.emote",format:"org.matrix.custom.html",body:e,formatted_body:t}},t.makeTextMessage=function(e){return{msgtype:"m.text",body:e}},t.makeNotice=function(e){return{msgtype:"m.notice",body:e}},t.makeEmoteMessage=function(e){return{msgtype:"m.emote",body:e}}},F3w2:function(e,t,n){"use strict";var i=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.SAS=void 0;var r=n("7kwF"),s=i(n("0ZCT")),o=n("VEe5"),a=n("PrRn");const c="m.key.verification.start",l=["m.key.verification.accept","m.key.verification.key","m.key.verification.mac"];let u;const h=(0,o.errorFactory)("m.mismatched_sas","Mismatched short authentication string"),d=(0,o.errorFactory)("m.mismatched_commitment","Mismatched commitment"),p=[["\ud83d\udc36","dog"],["\ud83d\udc31","cat"],["\ud83e\udd81","lion"],["\ud83d\udc0e","horse"],["\ud83e\udd84","unicorn"],["\ud83d\udc37","pig"],["\ud83d\udc18","elephant"],["\ud83d\udc30","rabbit"],["\ud83d\udc3c","panda"],["\ud83d\udc13","rooster"],["\ud83d\udc27","penguin"],["\ud83d\udc22","turtle"],["\ud83d\udc1f","fish"],["\ud83d\udc19","octopus"],["\ud83e\udd8b","butterfly"],["\ud83c\udf37","flower"],["\ud83c\udf33","tree"],["\ud83c\udf35","cactus"],["\ud83c\udf44","mushroom"],["\ud83c\udf0f","globe"],["\ud83c\udf19","moon"],["\u2601\ufe0f","cloud"],["\ud83d\udd25","fire"],["\ud83c\udf4c","banana"],["\ud83c\udf4e","apple"],["\ud83c\udf53","strawberry"],["\ud83c\udf3d","corn"],["\ud83c\udf55","pizza"],["\ud83c\udf82","cake"],["\u2764\ufe0f","heart"],["\ud83d\ude42","smiley"],["\ud83e\udd16","robot"],["\ud83c\udfa9","hat"],["\ud83d\udc53","glasses"],["\ud83d\udd27","spanner"],["\ud83c\udf85","santa"],["\ud83d\udc4d","thumbs up"],["\u2602\ufe0f","umbrella"],["\u231b","hourglass"],["\u23f0","clock"],["\ud83c\udf81","gift"],["\ud83d\udca1","light bulb"],["\ud83d\udcd5","book"],["\u270f\ufe0f","pencil"],["\ud83d\udcce","paperclip"],["\u2702\ufe0f","scissors"],["\ud83d\udd12","lock"],["\ud83d\udd11","key"],["\ud83d\udd28","hammer"],["\u260e\ufe0f","telephone"],["\ud83c\udfc1","flag"],["\ud83d\ude82","train"],["\ud83d\udeb2","bicycle"],["\u2708\ufe0f","aeroplane"],["\ud83d\ude80","rocket"],["\ud83c\udfc6","trophy"],["\u26bd","ball"],["\ud83c\udfb8","guitar"],["\ud83c\udfba","trumpet"],["\ud83d\udd14","bell"],["\u2693\ufe0f","anchor"],["\ud83c\udfa7","headphones"],["\ud83d\udcc1","folder"],["\ud83d\udccc","pin"]],m={decimal:function(e){return[1e3+(e[0]<<5|e[1]>>3),1e3+((7&e[1])<<10|e[2]<<2|e[3]>>6),1e3+((63&e[3])<<7|e[4]>>1)]},emoji:function(e){return[e[0]>>2,(3&e[0])<<4|e[1]>>4,(15&e[1])<<2|e[2]>>6,63&e[2],e[3]>>2,(3&e[3])<<4|e[4]>>4,(15&e[4])<<2|e[5]>>6].map(e=>p[e])}};function f(e,t){const n={};for(const i of t)i in m&&(n[i]=m[i](e));return n}const g={"hkdf-hmac-sha256":"calculate_mac","hmac-sha256":"calculate_mac_long_kdf"};function _(e,t){return function(...n){const i=e[g[t]].apply(e,n);return a.logger.log("SAS calculateMAC:",t,n,i),i}}const y={"curve25519-hkdf-sha256":function(e,t,n){const i=`${e._baseApis.getUserId()}|${e._baseApis.deviceId}|`+e.ourSASPubKey+"|",r=`${e.userId}|${e.deviceId}|${e.theirSASPubKey}|`;return t.generate_bytes("MATRIX_KEY_VERIFICATION_SAS|"+(e.initiatedByMe?i+r:r+i)+e._channel.transactionId,n)},curve25519:function(e,t,n){const i=`${e._baseApis.getUserId()}${e._baseApis.deviceId}`,r=`${e.userId}${e.deviceId}`;return t.generate_bytes("MATRIX_KEY_VERIFICATION_SAS"+(e.initiatedByMe?i+r:r+i)+e._channel.transactionId,n)}},v=["curve25519-hkdf-sha256","curve25519"],b=["sha256"],w=["hkdf-hmac-sha256","hmac-sha256"],S=Object.keys(m),E=new Set(v),k=new Set(b),C=new Set(w),x=new Set(S);function T(e,t){return e instanceof Array?e.filter(e=>t.has(e)):[]}class I extends r.VerificationBase{static get NAME(){return"m.sas.v1"}get events(){return l}async _doVerification(){await global.Olm.init(),u=u||new global.Olm.Utility,await this._baseApis.downloadKeys([this.userId]);let e=!1;do{try{return this.initiatedByMe?await this._doSendVerification():await this._doRespondVerification()}catch(t){if(!(t instanceof r.SwitchStartEventError))throw t;this.startEvent=t.startEvent,e=!0}}while(e)}canSwitchStartEvent(e){if(e.getType()!==c)return!1;const t=e.getContent();return t&&t.method===I.NAME&&this._waitingForAccept}async _sendStart(){const e=this._channel.completeContent(c,{method:I.NAME,from_device:this._baseApis.deviceId,key_agreement_protocols:v,hashes:b,message_authentication_codes:w,short_authentication_string:S});return await this._channel.sendCompleted(c,e),e}async _doSendVerification(){let e,t;if(this._waitingForAccept=!0,e=this.startEvent?this._channel.completedContentFromEvent(this.startEvent):await this._sendStart(),!this.initiatedByMe)throw new r.SwitchStartEventError(this.startEvent);try{t=await this._waitForEvent("m.key.verification.accept")}finally{this._waitingForAccept=!1}let n=t.getContent();const i=T(n.short_authentication_string,x);if(!(E.has(n.key_agreement_protocol)&&k.has(n.hash)&&C.has(n.message_authentication_code)&&i.length))throw(0,o.newUnknownMethodError)();if("string"!=typeof n.commitment)throw(0,o.newInvalidMessageError)();const a=n.key_agreement_protocol,c=n.message_authentication_code,l=n.commitment,p=new global.Olm.SAS;try{this.ourSASPubKey=p.get_pubkey(),await this._send("m.key.verification.key",{key:this.ourSASPubKey}),t=await this._waitForEvent("m.key.verification.key"),n=t.getContent();const r=n.key+s.default.stringify(e);if(u.sha256(r)!==l)throw d();this.theirSASPubKey=n.key,p.set_their_key(n.key);const m=y[a](this,p,6),g=new Promise((e,t)=>{this.sasEvent={sas:f(m,i),confirm:async()=>{try{await this._sendMAC(p,c),e()}catch(n){t(n)}},cancel:()=>t((0,o.newUserCancelledError)()),mismatch:()=>t(h())},this.emit("show_sas",this.sasEvent)});[t]=await Promise.all([this._waitForEvent("m.key.verification.mac").then(e=>(this._expectedEvent="m.key.verification.done",e)),g]),n=t.getContent(),await this._checkMAC(p,n,c)}finally{p.free()}}async _doRespondVerification(){let e=this._channel.completedContentFromEvent(this.startEvent);const t=T(v,new Set(e.key_agreement_protocols))[0],n=T(b,new Set(e.hashes))[0],i=T(w,new Set(e.message_authentication_codes))[0],r=T(e.short_authentication_string,x);if(void 0===t||void 0===n||void 0===i||!r.length)throw(0,o.newUnknownMethodError)();const a=new global.Olm.SAS;try{const c=a.get_pubkey()+s.default.stringify(e);await this._send("m.key.verification.accept",{key_agreement_protocol:t,hash:n,message_authentication_code:i,short_authentication_string:r,commitment:u.sha256(c)});let l=await this._waitForEvent("m.key.verification.key");e=l.getContent(),this.theirSASPubKey=e.key,a.set_their_key(e.key),this.ourSASPubKey=a.get_pubkey(),await this._send("m.key.verification.key",{key:this.ourSASPubKey});const d=y[t](this,a,6),p=new Promise((e,t)=>{this.sasEvent={sas:f(d,r),confirm:async()=>{try{await this._sendMAC(a,i),e()}catch(n){t(n)}},cancel:()=>t((0,o.newUserCancelledError)()),mismatch:()=>t(h())},this.emit("show_sas",this.sasEvent)});[l]=await Promise.all([this._waitForEvent("m.key.verification.mac").then(e=>(this._expectedEvent="m.key.verification.done",e)),p]),e=l.getContent(),await this._checkMAC(a,e,i)}finally{a.free()}}_sendMAC(e,t){const n={},i=[],r="MATRIX_KEY_VERIFICATION_MAC"+this._baseApis.getUserId()+this._baseApis.deviceId+this.userId+this.deviceId+this._channel.transactionId,s="ed25519:"+this._baseApis.deviceId;n[s]=_(e,t)(this._baseApis.getDeviceEd25519Key(),r+s),i.push(s);const o=this._baseApis.getCrossSigningId();if(o){const s="ed25519:"+o;n[s]=_(e,t)(o,r+s),i.push(s)}const a=_(e,t)(i.sort().join(","),r+"KEY_IDS");return this._send("m.key.verification.mac",{mac:n,keys:a})}async _checkMAC(e,t,n){const i="MATRIX_KEY_VERIFICATION_MAC"+this.userId+this.deviceId+this._baseApis.getUserId()+this._baseApis.deviceId+this._channel.transactionId;if(t.keys!==_(e,n)(Object.keys(t.mac).sort().join(","),i+"KEY_IDS"))throw(0,o.newKeyMismatchError)();await this._verifyKeys(this.userId,t.mac,(t,r,s)=>{if(s!==_(e,n)(r.keys[t],i+t))throw(0,o.newKeyMismatchError)()})}}t.SAS=I},FyV3:function(e,t,n){"use strict";function i(e){this._timeline=[e],this._ourEventIndex=0,this._paginateTokens={b:null,f:null},this._paginateRequests={b:null,f:null}}Object.defineProperty(t,"__esModule",{value:!0}),t.EventContext=i,i.prototype.getEvent=function(){return this._timeline[this._ourEventIndex]},i.prototype.getTimeline=function(){return this._timeline},i.prototype.getOurEventIndex=function(){return this._ourEventIndex},i.prototype.getPaginateToken=function(e){return this._paginateTokens[e?"b":"f"]},i.prototype.setPaginateToken=function(e,t){this._paginateTokens[t?"b":"f"]=e},i.prototype.addEvents=function(e,t){t?(this._timeline=e.concat(this._timeline),this._ourEventIndex+=e.length):this._timeline=this._timeline.concat(e)}},Gghg:function(e,t,n){"use strict";var i=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0});var r={ContentHelpers:!0,request:!0,getRequest:!0,wrapRequest:!0,setCryptoStoreFactory:!0,createClient:!0,createNewMatrixCall:!0,setMatrixCallAudioOutput:!0,setMatrixCallAudioInput:!0,setMatrixCallVideoInput:!0};t.request=function(e){D=e},t.getRequest=function(){return D},t.wrapRequest=function(e){const t=D;D=function(n,i){return e(t,n,i)}},t.setCryptoStoreFactory=function(e){P=e},t.createClient=function(e){return"string"==typeof e&&(e={baseUrl:e}),e.request=e.request||D,e.store=e.store||new a.MemoryStore({localStorage:global.localStorage}),e.scheduler=e.scheduler||new c.MatrixScheduler,e.cryptoStore=e.cryptoStore||P(),new l.MatrixClient(e)},Object.defineProperty(t,"createNewMatrixCall",{enumerable:!0,get:function(){return O.createNewMatrixCall}}),Object.defineProperty(t,"setMatrixCallAudioOutput",{enumerable:!0,get:function(){return O.setAudioOutput}}),Object.defineProperty(t,"setMatrixCallAudioInput",{enumerable:!0,get:function(){return O.setAudioInput}}),Object.defineProperty(t,"setMatrixCallVideoInput",{enumerable:!0,get:function(){return O.setVideoInput}}),t.ContentHelpers=void 0;var s=i(n("284h")),o=n("qdUr");Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var a=n("OLzX");Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var c=n("LxUt");Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}}))}));var l=n("YuxU");Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}}))}));var u=n("1F5k");Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}}))}));var h=n("ZP3D");Object.keys(h).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return h[e]}}))}));var d=n("3sFX");Object.keys(d).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}}))}));var p=n("Hzpt");Object.keys(p).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return p[e]}}))}));var m=n("7UXS");Object.keys(m).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return m[e]}}))}));var f=n("tyrX");Object.keys(f).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return f[e]}}))}));var g=n("C2mt");Object.keys(g).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return g[e]}}))}));var _=n("tyto");Object.keys(_).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return _[e]}}))}));var y=n("ouil");Object.keys(y).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return y[e]}}))}));var v=n("vR9v");Object.keys(v).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return v[e]}}))}));var b=n("4Cle");Object.keys(b).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return b[e]}}))}));var w=n("rWBP");Object.keys(w).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return w[e]}}))}));var S=n("8zgi");Object.keys(S).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return S[e]}}))}));var E=n("EEJ8");Object.keys(E).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return E[e]}}))}));var k=n("Nq7u");Object.keys(k).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return k[e]}}))}));var C=n("g4kb");Object.keys(C).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return C[e]}}))}));var x=n("e/yG");Object.keys(x).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return x[e]}}))}));var T=n("mhv5");Object.keys(T).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return T[e]}}))}));var I=n("qN7M");Object.keys(I).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return I[e]}}))}));var R=n("JOJy");Object.keys(R).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return R[e]}}))}));var O=n("HtZB");const A=Promise.resolve().then(()=>(0,s.default)(n("EP5U")));let D;t.ContentHelpers=A;let P=()=>new o.MemoryCryptoStore},H7XF:function(e,t,n){"use strict";t.byteLength=function(e){var t=l(e),n=t[1];return 3*(t[0]+n)/4-n},t.toByteArray=function(e){var t,n,i=l(e),o=i[0],a=i[1],c=new s(function(e,t,n){return 3*(t+n)/4-n}(0,o,a)),u=0,h=a>0?o-4:o;for(n=0;n<h;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;return 2===a&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[u++]=255&t),1===a&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t),c},t.fromByteArray=function(e){for(var t,n=e.length,r=n%3,s=[],o=0,a=n-r;o<a;o+=16383)s.push(u(e,o,o+16383>a?a:o+16383));return 1===r?s.push(i[(t=e[n-1])>>2]+i[t<<4&63]+"=="):2===r&&s.push(i[(t=(e[n-2]<<8)+e[n-1])>>10]+i[t>>4&63]+i[t<<2&63]+"="),s.join("")};for(var i=[],r=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,c=o.length;a<c;++a)i[a]=o[a],r[o.charCodeAt(a)]=a;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,n){for(var r,s=[],o=t;o<n;o+=3)s.push(i[(r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]))>>18&63]+i[r>>12&63]+i[r>>6&63]+i[63&r]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},HtZB:function(e,t,n){"use strict";var i=n("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.MatrixCall=a,t.setAudioOutput=function(e){x=e},t.setAudioInput=function(e){T=e},t.setVideoInput=function(e){I=e},t.createNewMatrixCall=function(e,t,n){const i=global.window,s=global.document;if(!i||!s)return null;const o={isOpenWebRTC:function(){const e=s.getElementById("script");if(!e||!e.length)return!1;for(let t=0;t<e.length;t++)if(e[t].src.indexOf("owr.js")>-1)return!0;return!1}},c=i.navigator.getUserMedia||i.navigator.webkitGetUserMedia||i.navigator.mozGetUserMedia;c&&(o.getUserMedia=function(){return c.apply(i.navigator,arguments)});const l=i.navigator.mediaDevices&&i.navigator.mediaDevices.getDisplayMedia||i.navigator.getDisplayMedia;l&&(o.getDisplayMedia=l.bind(i.navigator.mediaDevices));try{o.RtcPeerConnection=i.RTCPeerConnection||i.webkitRTCPeerConnection||i.mozRTCPeerConnection,o.RtcSessionDescription=i.RTCSessionDescription||i.webkitRTCSessionDescription||i.mozRTCSessionDescription,o.RtcIceCandidate=i.RTCIceCandidate||i.webkitRTCIceCandidate||i.mozRTCIceCandidate,o.vendor=null,i.mozRTCPeerConnection?o.vendor="mozilla":i.webkitRTCPeerConnection?o.vendor="webkit":i.RTCPeerConnection&&(o.vendor="generic")}catch(h){return r.logger.error("Failed to set up WebRTC object: possible browser interference?"),r.logger.error(h),null}if(!(o.RtcIceCandidate&&o.RtcSessionDescription&&o.RtcPeerConnection&&o.getUserMedia))return null;const u=!!n&&n.forceTURN;return new a({webRtc:o,client:e,URL:i.URL,roomId:t,turnServers:e.getTurnServers(),forceTURN:e._forceTURN||u})};var r=n("PrRn"),s=n("+qE3"),o=i(n("t+e4"));function a(e){this.roomId=e.roomId,this.client=e.client,this.webRtc=e.webRtc,this.forceTURN=e.forceTURN,this.URL=e.URL,this.turnServers=e.turnServers||[],0===this.turnServers.length&&this.client.isFallbackICEServerAllowed()&&this.turnServers.push({urls:[a.FALLBACK_ICE_SERVER]}),o.forEach(this.turnServers,(function(e){o.checkObjectHasKeys(e,["urls"])})),this.callId="c"+(new Date).getTime()+Math.random(),this.state="fledgling",this.didConnect=!1,this.candidateSendQueue=[],this.candidateSendTries=0,this.mediaPromises=Object.create(null),this.screenSharingStream=null,this._answerContent=null}a.CALL_TIMEOUT_MS=6e4,a.FALLBACK_ICE_SERVER="stun:turn.matrix.org",a.ERR_LOCAL_OFFER_FAILED="local_offer_failed",a.ERR_NO_USER_MEDIA="no_user_media",a.ERR_UNKNOWN_DEVICES="unknown_devices",a.ERR_SEND_INVITE="send_invite",a.ERR_SEND_ANSWER="send_answer",o.inherits(a,s.EventEmitter),a.prototype.placeVoiceCall=function(){v("placeVoiceCall"),_(this),w(this,E("voice")),this.type="voice"},a.prototype.placeVideoCall=function(e,t){v("placeVideoCall"),_(this),this.localVideoElement=t,this.remoteVideoElement=e,w(this,E("video")),this.type="video",f(this)},a.prototype.placeScreenSharingCall=async function(e,t){v("placeScreenSharingCall"),_(this),this.localVideoElement=t,this.remoteVideoElement=e;const n=this;try{n.screenSharingStream=await this.webRtc.getDisplayMedia({audio:!1}),v("Got screen stream, requesting audio stream...");const e=E("voice");w(n,e)}catch(i){n.emit("error",y(a.ERR_NO_USER_MEDIA,"Failed to get screen-sharing stream: "+i))}this.type="video",f(this)},a.prototype.playElement=function(e,t){r.logger.log("queuing play on "+t+" and element "+e),this.mediaPromises[t]=this.mediaPromises[t]?this.mediaPromises[t].then((function(){return r.logger.log("previous promise completed for "+t),e.play()}),(function(){return r.logger.log("previous promise failed for "+t),e.play()})):e.play()},a.prototype.pauseElement=function(e,t){r.logger.log("queuing pause on "+t+" and element "+e),this.mediaPromises[t]=this.mediaPromises[t]?this.mediaPromises[t].then((function(){return r.logger.log("previous promise completed for "+t),e.pause()}),(function(){return r.logger.log("previous promise failed for "+t),e.pause()})):e.pause()},a.prototype.assignElement=function(e,t,n){r.logger.log("queuing assign on "+n+" element "+e+" for "+t),this.mediaPromises[n]?this.mediaPromises[n]=this.mediaPromises[n].then((function(){r.logger.log("previous promise completed for "+n),e.srcObject=t}),(function(){r.logger.log("previous promise failed for "+n),e.srcObject=t})):e.srcObject=t},a.prototype.getLocalVideoElement=function(){return this.localVideoElement},a.prototype.getRemoteVideoElement=function(){return this.remoteVideoElement},a.prototype.getRemoteAudioElement=function(){return this.remoteAudioElement},a.prototype.setLocalVideoElement=function(e){if(this.localVideoElement=e,e&&this.localAVStream&&"video"===this.type){e.autoplay=!0,this.assignElement(e,this.localAVStream,"localVideo"),e.muted=!0;const t=this;setTimeout((function(){const e=t.getLocalVideoElement();e.play&&t.playElement(e,"localVideo")}),0)}},a.prototype.setRemoteVideoElement=function(e){this.remoteVideoElement=e,f(this)},a.prototype.setRemoteAudioElement=function(e){this.remoteVideoElement.muted=!0,this.remoteAudioElement=e,this.remoteAudioElement.muted=!1,g(this)},a.prototype._initWithInvite=function(e){this.msg=e.getContent(),this.peerConn=S(this);const t=this;this.peerConn&&this.peerConn.setRemoteDescription(new this.webRtc.RtcSessionDescription(this.msg.offer),k(t,t._onSetRemoteDescriptionSuccess),k(t,t._onSetRemoteDescriptionError)),u(this,"ringing"),this.direction="inbound",this.type=this.msg.offer&&this.msg.offer.sdp&&this.msg.offer.sdp.indexOf("m=video")>-1?"video":"voice",e.getAge()&&setTimeout((function(){"ringing"==t.state&&(v("Call invite has expired. Hanging up."),t.hangupParty="remote",u(t,"ended"),m(t),"closed"!=t.peerConn.signalingState&&t.peerConn.close(),t.emit("hangup",t))}),this.msg.lifetime-e.getAge())},a.prototype._initWithHangup=function(e){this.msg=e.getContent(),u(this,"ended")},a.prototype.answer=function(){v("Answering call %s of type %s",this.callId,this.type),this._answerContent?this._sendAnswer():this.localAVStream||this.waitForLocalAVStream?this.localAVStream?this._maybeGotUserMediaForAnswer(this.localAVStream):this.waitForLocalAVStream&&u(this,"wait_local_media"):(this.webRtc.getUserMedia(E(this.type),k(this,this._maybeGotUserMediaForAnswer),k(this,this._maybeGotUserMediaForAnswer)),u(this,"wait_local_media"))},a.prototype._replacedBy=function(e){v(this.callId+" being replaced by "+e.callId),"wait_local_media"==this.state?(v("Telling new call to wait for local media"),e.waitForLocalAVStream=!0):("create_offer"==this.state||"invite_sent"==this.state)&&(v("Handing local stream to new call"),e._maybeGotUserMediaForAnswer(this.localAVStream),delete this.localAVStream),e.localVideoElement=this.localVideoElement,e.remoteVideoElement=this.remoteVideoElement,e.remoteAudioElement=this.remoteAudioElement,this.successor=e,this.emit("replaced",e),this.hangup(!0)},a.prototype.hangup=function(e,t){"ended"!=this.state&&(v("Ending call "+this.callId),p(this,"local",e,!t),h(this,"m.call.hangup",{version:0,call_id:this.callId,reason:e}))},a.prototype.setLocalVideoMuted=function(e){this.localAVStream&&c(this.localAVStream.getVideoTracks(),!e)},a.prototype.isLocalVideoMuted=function(){return!!this.localAVStream&&!l(this.localAVStream.getVideoTracks())},a.prototype.setMicrophoneMuted=function(e){this.localAVStream&&c(this.localAVStream.getAudioTracks(),!e)},a.prototype.isMicrophoneMuted=function(){return!!this.localAVStream&&!l(this.localAVStream.getAudioTracks())},a.prototype._maybeGotUserMediaForInvite=function(e){if(this.successor)return void this.successor._maybeGotUserMediaForAnswer(e);if("ended"==this.state)return;v("_maybeGotUserMediaForInvite -> "+this.type);const t=this,n=e,i={mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:"video"===t.type}};if(e instanceof MediaStream){const n=this.getLocalVideoElement();n&&"video"==this.type&&(n.autoplay=!0,this.screenSharingStream?(v("Setting screen sharing stream to the local video element"),this.assignElement(n,this.screenSharingStream,"localVideo")):this.assignElement(n,e,"localVideo"),n.muted=!0,setTimeout((function(){const e=t.getLocalVideoElement();e.play&&t.playElement(e,"localVideo")}),0)),this.screenSharingStream&&(this.screenSharingStream.addTrack(e.getAudioTracks()[0]),e=this.screenSharingStream),this.localAVStream=e,c(e.getAudioTracks(),!0),this.peerConn=S(this),this.peerConn.addStream(e)}else{if("PermissionDeniedError"!==n.name)return v("Failed to getUserMedia: "+n.name),void this._getUserMediaFailed(n);v("User denied access to camera/microphone. Or possibly you are using an insecure domain. Receiving only."),this.peerConn=S(this)}this.peerConn.createOffer(k(t,t._gotLocalOffer),k(t,t._getLocalOfferFailed),i),u(t,"create_offer")},a.prototype._sendAnswer=function(e){h(this,"m.call.answer",this._answerContent).then(()=>{u(this,"connecting"),b(this)}).catch(e=>{u(this,"ringing"),this.client.cancelPendingEvent(e.event);let t=a.ERR_SEND_ANSWER,n="Failed to send answer";throw"UnknownDeviceError"==e.name&&(t=a.ERR_UNKNOWN_DEVICES,n="Unknown devices present in the room"),this.emit("error",y(t,n)),e})},a.prototype._maybeGotUserMediaForAnswer=function(e){const t=this;if("ended"==t.state)return;const n=e;if(e instanceof MediaStream){const n=t.getLocalVideoElement();n&&"video"==t.type&&(n.autoplay=!0,this.assignElement(n,e,"localVideo"),n.muted=!0,setTimeout((function(){const e=t.getLocalVideoElement();e.play&&t.playElement(e,"localVideo")}),0)),t.localAVStream=e,c(e.getAudioTracks(),!0),t.peerConn.addStream(e)}else{if("PermissionDeniedError"!==n.name)return v("Failed to getUserMedia: "+n.name),void this._getUserMediaFailed(n);v("User denied access to camera/microphone. Or possibly you are using an insecure domain. Receiving only.")}const i={mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:"video"===t.type}};t.peerConn.createAnswer((function(e){v("Created answer: ",e),t.peerConn.setLocalDescription(e,(function(){t._answerContent={version:0,call_id:t.callId,answer:{sdp:t.peerConn.localDescription.sdp,type:t.peerConn.localDescription.type}},t._sendAnswer()}),(function(){v("Error setting local description!")}),i)}),(function(e){v("Failed to create answer: "+e)})),u(t,"create_answer")},a.prototype._gotLocalIceCandidate=function(e){if(e.candidate){if(v("Got local ICE "+e.candidate.sdpMid+" candidate: "+e.candidate.candidate),"ended"==this.state)return;d(this,{candidate:e.candidate.candidate,sdpMid:e.candidate.sdpMid,sdpMLineIndex:e.candidate.sdpMLineIndex})}},a.prototype._gotRemoteIceCandidate=function(e){"ended"!=this.state&&(v("Got remote ICE "+e.sdpMid+" candidate: "+e.candidate),this.peerConn.addIceCandidate(new this.webRtc.RtcIceCandidate(e),(function(){}),(function(e){})))},a.prototype._receivedAnswer=function(e){"ended"!=this.state&&(this.peerConn.setRemoteDescription(new this.webRtc.RtcSessionDescription(e.answer),k(this,this._onSetRemoteDescriptionSuccess),k(this,this._onSetRemoteDescriptionError)),u(this,"connecting"))},a.prototype._gotLocalOffer=function(e){const t=this;v("Created offer: ",e),"ended"!=t.state?t.peerConn.setLocalDescription(e,(function(){h(t,"m.call.invite",{version:0,call_id:t.callId,offer:{sdp:t.peerConn.localDescription.sdp,type:t.peerConn.localDescription.type},lifetime:a.CALL_TIMEOUT_MS}).then(()=>{u(t,"invite_sent"),setTimeout((function(){"invite_sent"==t.state&&t.hangup("invite_timeout")}),a.CALL_TIMEOUT_MS)}).catch(e=>{let n=a.ERR_SEND_INVITE,i="Failed to send invite";throw"UnknownDeviceError"==e.name&&(n=a.ERR_UNKNOWN_DEVICES,i="Unknown devices present in the room"),t.client.cancelPendingEvent(e.event),p(t,"local",n,!1),t.emit("error",y(n,i)),e})}),(function(){v("Error setting local description!")})):v("Ignoring newly created offer on call ID "+t.callId+" because the call has ended")},a.prototype._getLocalOfferFailed=function(e){this.emit("error",y(a.ERR_LOCAL_OFFER_FAILED,"Failed to start audio for call!"))},a.prototype._getUserMediaFailed=function(e){p(this,"local","user_media_failed",!1),this.emit("error",y(a.ERR_NO_USER_MEDIA,"Couldn't start capturing media! Is your microphone set up and does this app have permission?"))},a.prototype._onIceConnectionStateChanged=function(){"ended"!=this.state&&(v("Ice connection state changed to: "+this.peerConn.iceConnectionState),"completed"==this.peerConn.iceConnectionState||"connected"==this.peerConn.iceConnectionState?(u(this,"connected"),this.didConnect=!0):"failed"==this.peerConn.iceConnectionState&&this.hangup("ice_failed"))},a.prototype._onSignallingStateChanged=function(){v("call "+this.callId+": Signalling state changed to: "+this.peerConn.signalingState)},a.prototype._onSetRemoteDescriptionSuccess=function(){v("Set remote description")},a.prototype._onSetRemoteDescriptionError=function(e){v("Failed to set remote description"+e)},a.prototype._onAddStream=function(e){v("Stream id "+e.stream.id+" added");const t=e.stream;t.getVideoTracks().length>0?(this.type="video",this.remoteAVStream=t,this.remoteAStream=t):(this.type="voice",this.remoteAStream=t);const n=this;C(t,(function(e){v("Track id "+e.id+" added"),e.onstarted=k(n,n._onRemoteStreamTrackStarted)})),void 0!==e.stream.oninactive?e.stream.oninactive=k(n,n._onRemoteStreamEnded):e.stream.onended=k(n,n._onRemoteStreamEnded),e.stream.onstarted=k(n,n._onRemoteStreamStarted),"video"===this.type?(f(this),g(this)):g(this)},a.prototype._onRemoteStreamStarted=function(e){u(this,"connected")},a.prototype._onRemoteStreamEnded=function(e){v("Remote stream ended"),this.hangupParty="remote",u(this,"ended"),m(this),"closed"!=this.peerConn.signalingState&&this.peerConn.close(),this.emit("hangup",this)},a.prototype._onRemoteStreamTrackStarted=function(e){u(this,"connected")},a.prototype._onHangupReceived=function(e){v("Hangup received"),p(this,"remote",e.reason,!0)},a.prototype._onAnsweredElsewhere=function(e){v("Answered elsewhere"),p(this,"remote","answered_elsewhere",!0)};const c=function(e,t){for(let n=0;n<e.length;n++)e[n].enabled=t},l=function(e){for(let t=0;t<e.length;t++)if(e[t].enabled)return!0;return!1},u=function(e,t){const n=e.state;e.state=t,e.emit("state",t,n)},h=function(e,t,n){return e.client.sendEvent(e.roomId,t,n)},d=function(e,t){e.candidateSendQueue.push(t),"ringing"!=e.state&&0===e.candidateSendTries&&setTimeout((function(){b(e)}),100)},p=function(e,t,n,i){e.getRemoteVideoElement()&&(e.getRemoteVideoElement().pause&&e.pauseElement(e.getRemoteVideoElement(),"remoteVideo"),e.assignElement(e.getRemoteVideoElement(),null,"remoteVideo")),e.getRemoteAudioElement()&&(e.getRemoteAudioElement().pause&&e.pauseElement(e.getRemoteAudioElement(),"remoteAudio"),e.assignElement(e.getRemoteAudioElement(),null,"remoteAudio")),e.getLocalVideoElement()&&(e.getLocalVideoElement().pause&&e.pauseElement(e.getLocalVideoElement(),"localVideo"),e.assignElement(e.getLocalVideoElement(),null,"localVideo")),e.hangupParty=t,e.hangupReason=n,u(e,"ended"),m(e),e.peerConn&&"closed"!==e.peerConn.signalingState&&e.peerConn.close(),i&&e.emit("hangup",e)},m=function(e){v("stopAllMedia (stream=%s)",e.localAVStream),e.localAVStream&&(C(e.localAVStream,(function(e){e.stop&&e.stop()})),e.localAVStream.stop&&e.localAVStream.stop()),e.screenSharingStream&&(C(e.screenSharingStream,(function(e){e.stop&&e.stop()})),e.screenSharingStream.stop&&e.screenSharingStream.stop()),e.remoteAVStream&&C(e.remoteAVStream,(function(e){e.stop&&e.stop()})),e.remoteAStream&&C(e.remoteAStream,(function(e){e.stop&&e.stop()}))},f=function(e){if(e.getRemoteVideoElement()&&e.remoteAVStream){const t=e.getRemoteVideoElement();t.autoplay=!0,e.assignElement(t,e.remoteAVStream,"remoteVideo"),setTimeout((function(){const t=e.getRemoteVideoElement();t.play&&e.playElement(t,"remoteVideo"),e.webRtc.isOpenWebRTC()&&u(e,"connected")}),0)}},g=async function(e){if(e.getRemoteAudioElement()&&e.remoteAStream){const t=e.getRemoteAudioElement();x&&await t.setSinkId(x),t.autoplay=!0,e.assignElement(t,e.remoteAStream,"remoteAudio"),setTimeout((function(){const t=e.getRemoteAudioElement();t.play&&e.playElement(t,"remoteAudio"),e.webRtc.isOpenWebRTC()&&u(e,"connected")}),0)}},_=function(e){if(0===e.listeners("error").length)throw new Error("You MUST attach an error listener using call.on('error', function() {})")},y=function(e,t){const n=new Error(t);return n.code=e,n},v=function(){r.logger.log(...arguments)},b=function(e){if(0===e.candidateSendQueue.length)return;const t=e.candidateSendQueue;e.candidateSendQueue=[],++e.candidateSendTries;const n={version:0,call_id:e.callId,candidates:t};v("Attempting to send "+t.length+" candidates"),h(e,"m.call.candidates",n).then((function(){e.candidateSendTries=0,b(e)}),(function(n){for(let r=0;r<t.length;r++)e.candidateSendQueue.push(t[r]);if(e.candidateSendTries>5)return v("Failed to send candidates on attempt %s. Giving up for now.",e.candidateSendTries),void(e.candidateSendTries=0);const i=500*Math.pow(2,e.candidateSendTries);++e.candidateSendTries,v("Failed to send candidates. Retrying in "+i+"ms"),setTimeout((function(){b(e)}),i)}))},w=function(e,t){e.client.callList[e.callId]=e,e.webRtc.getUserMedia(t,k(e,e._maybeGotUserMediaForInvite),k(e,e._maybeGotUserMediaForInvite)),u(e,"wait_local_media"),e.direction="outbound",e.config=t},S=function(e){const t=new e.webRtc.RtcPeerConnection({iceTransportPolicy:e.forceTURN?"relay":void 0,iceServers:e.turnServers});return t.oniceconnectionstatechange=k(e,e._onIceConnectionStateChanged),t.onsignalingstatechange=k(e,e._onSignallingStateChanged),t.onicecandidate=k(e,e._gotLocalIceCandidate),t.onaddstream=k(e,e._onAddStream),t},E=function(e){const t=!!global.window.navigator.webkitGetUserMedia;switch(e){case"voice":return{audio:{deviceId:T?{ideal:T}:void 0},video:!1};case"video":return{audio:{deviceId:T?{ideal:T}:void 0},video:{deviceId:I?{ideal:I}:void 0,width:t?{exact:640}:{ideal:640},height:t?{exact:360}:{ideal:360}}}}},k=function(e,t){return function(){return t.apply(e,arguments)}},C=function(e,t){!function(e,t){const n=e.getVideoTracks();for(let i=0;i<n.length;i++)t(n[i])}(e,t),function(e,t){const n=e.getAudioTracks();for(let i=0;i<n.length;i++)t(n[i])}(e,t)};let x,T,I},Hzpt:function(e,t,n){"use strict";function i(e,t){const n=Reflect.construct(Error,[`Store is invalid because ${e}, please stop the client, delete all data and start the client again`]);return Reflect.setPrototypeOf(n,Reflect.getPrototypeOf(this)),n.reason=e,n.value=t,n}function r(e){const t=Reflect.construct(Error,[`Crypto store is invalid because ${e}, please stop the client, delete all data and start the client again`]);return Reflect.setPrototypeOf(t,Reflect.getPrototypeOf(this)),t.reason=e,t.name="InvalidCryptoStoreError",t}Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidStoreError=i,t.InvalidCryptoStoreError=r,t.KeySignatureUploadError=void 0,i.TOGGLED_LAZY_LOADING="TOGGLED_LAZY_LOADING",i.prototype=Object.create(Error.prototype,{constructor:{value:Error,enumerable:!1,writable:!0,configurable:!0}}),Reflect.setPrototypeOf(i,Error),r.TOO_NEW="TOO_NEW",r.prototype=Object.create(Error.prototype,{constructor:{value:Error,enumerable:!1,writable:!0,configurable:!0}}),Reflect.setPrototypeOf(r,Error);class s extends Error{constructor(e,t){super(e),this.value=t}}t.KeySignatureUploadError=s},IzJ1:function(e,t,n){"use strict";var i=n("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.SecretStorage=t.SECRET_STORAGE_ALGORITHM_V1_AES=void 0;var r=n("+qE3"),s=n("PrRn"),o=i(n("VRzr")),a=n("PwFS"),c=n("uMDy");t.SECRET_STORAGE_ALGORITHM_V1_AES="m.secret_storage.v1.aes-hmac-sha2";class l extends r.EventEmitter{constructor(e,t){super(),this._baseApis=e,this._cryptoCallbacks=t,this._requests={},this._incomingRequests={}}async getDefaultKeyId(){const e=await this._baseApis.getAccountDataFromServer("m.secret_storage.default_key");return e?e.key:null}setDefaultKeyId(e){return new Promise(async(t,n)=>{const i=n=>{"m.secret_storage.default_key"===n.getType()&&n.getContent().key===e&&(this._baseApis.removeListener("accountData",i),t())};this._baseApis.on("accountData",i);try{await this._baseApis.setAccountData("m.secret_storage.default_key",{key:e})}catch(r){this._baseApis.removeListener("accountData",i),n(r)}})}async addKey(e,t,n){const i={algorithm:e};if(t||(t={}),t.name&&(i.name=t.name),"m.secret_storage.v1.aes-hmac-sha2"!==e)throw new Error("Unknown key algorithm "+t.algorithm);if(t.passphrase&&(i.passphrase=t.passphrase),t.key){const{iv:e,mac:n}=await l._calculateKeyCheck(t.key);i.iv=e,i.mac=n}if(!n)do{n=(0,a.randomString)(32)}while(await this._baseApis.getAccountDataFromServer("m.secret_storage.key."+n));return await this._baseApis.setAccountData("m.secret_storage.key."+n,i),n}async getKey(e){if(e||(e=await this.getDefaultKeyId()),!e)return null;const t=await this._baseApis.getAccountDataFromServer("m.secret_storage.key."+e);return t?[e,t]:null}async hasKey(e){return!!(await this.getKey(e))}async checkKey(e,t){if("m.secret_storage.v1.aes-hmac-sha2"===t.algorithm){if(t.mac){const{mac:n}=await l._calculateKeyCheck(e,t.iv);return t.mac.replace(/=+$/g,"")===n.replace(/=+$/g,"")}return!0}throw new Error("Unknown algorithm")}static async _calculateKeyCheck(e,t){return await(0,c.encryptAES)("\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0",e,"",t)}async store(e,t,n){const i={};if(!n){const e=await this.getDefaultKeyId();if(!e)throw new Error("No keys specified and no default key present");n=[e]}if(0===n.length)throw new Error("Zero keys given to encrypt with!");for(const r of n){const n=await this._baseApis.getAccountDataFromServer("m.secret_storage.key."+r);if(!n)throw new Error("Unknown key: "+r);if("m.secret_storage.v1.aes-hmac-sha2"===n.algorithm){const s={[r]:n},[,o]=await this._getSecretStorageKey(s,e);i[r]=await o.encrypt(t)}else s.logger.warn("unknown algorithm for secret storage key "+r+": "+n.algorithm)}await this._baseApis.setAccountData(e,{encrypted:i})}async _fixupStoredSecret(e,t){const n=Object.keys(t);return 1===n.length&&"encrypted"!==n[0]&&t[n[0]].passthrough&&await this.hasKey(n[0])?(console.log("Fixing up passthrough secret: "+e),await this.storePassthrough(e,n[0]),await this._baseApis.getAccountDataFromServer(e)):null}async get(e){let t=await this._baseApis.getAccountDataFromServer(e);if(!t)return;if(!t.encrypted&&(t=await this._fixupStoredSecret(e,t),!t||!t.encrypted))throw new Error("Content is not encrypted!");const n={};for(const s of Object.keys(t.encrypted)){const e=await this._baseApis.getAccountDataFromServer("m.secret_storage.key."+s),i=t.encrypted[s];"m.secret_storage.v1.aes-hmac-sha2"===e.algorithm&&i.iv&&i.ciphertext&&i.mac&&(n[s]=e)}if(0===Object.keys(n).length)throw new Error(`Could not decrypt ${e} because none of the keys it is encrypted with are for a supported algorithm`);let i,r;try{[i,r]=await this._getSecretStorageKey(n,e);const s=t.encrypted[i];return s.passthrough?(0,o.encodeBase64)(r.get_private_key()):await r.decrypt(s)}finally{r&&r.free&&r.free()}}async isStored(e,t){let n=await this._baseApis.getAccountDataFromServer(e);if(!n)return null;if(!n.encrypted&&(n=await this._fixupStoredSecret(e,n),!n||!n.encrypted))return null;void 0===t&&(t=!0);const i={};for(const r of Object.keys(n.encrypted)){const e=await this._baseApis.getAccountDataFromServer("m.secret_storage.key."+r);if(!e)continue;const t=n.encrypted[r];"m.secret_storage.v1.aes-hmac-sha2"===e.algorithm&&t.iv&&t.ciphertext&&t.mac&&(i[r]=e)}return Object.keys(i).length?i:null}request(e,t){const n=this._baseApis.makeTxnId(),i=this._requests[n]={devices:t},r=new Promise((e,t)=>{i.resolve=e,i.reject=t}),o={name:e,action:"request",requesting_device_id:this._baseApis.deviceId,request_id:n},a={};for(const s of t)a[s]=o;return s.logger.info(`Request secret ${e} from ${t}, id ${n}`),this._baseApis.sendToDevice("m.secret.request",{[this._baseApis.getUserId()]:a}),{request_id:n,promise:r,cancel:e=>{const r={action:"request_cancellation",requesting_device_id:this._baseApis.deviceId,request_id:n},s={};for(const n of t)s[n]=r;this._baseApis.sendToDevice("m.secret.request",{[this._baseApis.getUserId()]:s}),i.reject(new Error(e||"Cancelled"))}}}async _onRequestReceived(e){const t=e.getSender(),n=e.getContent();if(t!==this._baseApis.getUserId()||!(n.name&&n.action&&n.requesting_device_id&&n.request_id))return;const i=n.requesting_device_id;if("request_cancellation"===n.action)this._incomingRequests[i]&&this._incomingRequests[i][n.request_id]&&(s.logger.info("received request cancellation for secret ("+t+", "+i+", "+n.request_id+")"),this.baseApis.emit("crypto.secrets.requestCancelled",{user_id:t,device_id:i,request_id:n.request_id}));else if("request"===n.action){if(i===this._baseApis.deviceId)return;if(s.logger.info("received request for secret ("+t+", "+i+", "+n.request_id+")"),!this._cryptoCallbacks.onSecretRequested)return;const e=await this._cryptoCallbacks.onSecretRequested({user_id:t,device_id:i,request_id:n.request_id,name:n.name,device_trust:this._baseApis.checkDeviceTrust(t,i)});if(e){s.logger.info(`Preparing ${n.name} secret for ${i}`);const r={type:"m.secret.send",content:{request_id:n.request_id,secret:e}},a={algorithm:o.OLM_ALGORITHM,sender_key:this._baseApis._crypto._olmDevice.deviceCurve25519Key,ciphertext:{}};await o.ensureOlmSessionsForDevices(this._baseApis._crypto._olmDevice,this._baseApis,{[t]:[this._baseApis.getStoredDevice(t,i)]}),await o.encryptMessageForDevice(a.ciphertext,this._baseApis.getUserId(),this._baseApis.deviceId,this._baseApis._crypto._olmDevice,t,this._baseApis.getStoredDevice(t,i),r);const c={[t]:{[i]:a}};s.logger.info(`Sending ${n.name} secret for ${i}`),this._baseApis.sendToDevice("m.room.encrypted",c)}else s.logger.info(`Request denied for ${n.name} secret for ${i}`)}}_onSecretReceived(e){if(e.getSender()!==this._baseApis.getUserId())return;const t=e.getContent();s.logger.log("got secret share for request",t.request_id);const n=this._requests[t.request_id];if(n){const i=this._baseApis._crypto._deviceList.getDeviceByIdentityKey(o.OLM_ALGORITHM,e.getSenderKey());if(!i)return void s.logger.log("secret share from unknown device with key",e.getSenderKey());if(!n.devices.includes(i.deviceId))return void s.logger.log("unsolicited secret share from device",i.deviceId);n.resolve(t.secret)}}async _getSecretStorageKey(e,t){if(!this._cryptoCallbacks.getSecretStorageKey)throw new Error("No getSecretStorageKey callback supplied");const n=await this._cryptoCallbacks.getSecretStorageKey({keys:e},t);if(!n)throw new Error("getSecretStorageKey callback returned falsey");if(n.length<2)throw new Error("getSecretStorageKey callback returned invalid data");const[i,r]=n;if(!e[i])throw new Error("App returned unknown key from getSecretStorageKey!");if("m.secret_storage.v1.aes-hmac-sha2"===e[i].algorithm)return[i,{encrypt:async function(e){return await(0,c.encryptAES)(e,r,t)},decrypt:async function(e){return await(0,c.decryptAES)(e,r,t)}}];throw new Error("Unknown key type: "+e[i].algorithm)}}t.SecretStorage=l},JOJy:function(e,t,n){"use strict";var i=n("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.getHttpUriForMxc=function(e,t,n,i,s,o){if("string"!=typeof t||!t)return"";if(0!==t.indexOf("mxc://"))return o?t:"";let a=t.slice(6),c="/_matrix/media/r0/download/";const l={};n&&(l.width=Math.round(n)),i&&(l.height=Math.round(i)),s&&(l.method=s),r.keys(l).length>0&&(c="/_matrix/media/r0/thumbnail/");const u=a.indexOf("#");let h="";return u>=0&&(h=a.substr(u),a=a.substr(0,u)),e+c+a+(0===r.keys(l).length?"":"?"+r.encodeParams(l))+h},t.getIdenticonUri=function(e,t,n,i){if(!t)return null;n||(n=96),i||(i=96);const s={width:n,height:i};return e+r.encodeUri("/_matrix/media/unstable/identicon/$ident",{$ident:t})+(0===r.keys(s).length?"":"?"+r.encodeParams(s))};var r=i(n("t+e4"))},K5J2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n("ML54"),n("tMY0");var i=n("9BO/");Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})}))},LxUt:function(e,t,n){"use strict";var i=n("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.MatrixScheduler=s;var r=i(n("t+e4"));function s(e,t){this.retryAlgorithm=e||s.RETRY_BACKOFF_RATELIMIT,this.queueAlgorithm=t||s.QUEUE_MESSAGES,this._queues={},this._activeQueues=[],this._procFn=null}function o(e){e._procFn&&r.forEach(r.filter(r.keys(e._queues),(function(t){return-1===e._activeQueues.indexOf(t)&&e._queues[t].length>0})),(function(t){e._activeQueues.push(t),function e(t,n){const i=function(e,t){const n=e._queues[t];return r.isArray(n)?n[0]:null}(t,n);if(i)Promise.resolve().then(()=>t._procFn(i.event)).then((function(r){a(t,n),i.event.getId(),i.defer.resolve(r),e(t,n)}),(function(r){i.attempts+=1;const s=t.retryAlgorithm(i.event,i.attempts,r);i.event.getId(),-1===s?(i.event.getId(),a(t,n),i.defer.reject(r),e(t,n)):setTimeout((function(){e(t,n)}),s)}));else{const e=t._activeQueues.indexOf(n);e>=0&&t._activeQueues.splice(e,1)}}(e,t)}))}function a(e,t){const n=e._queues[t];return r.isArray(n)?n.shift():null}n("PrRn"),s.prototype.getQueueForEvent=function(e){const t=this.queueAlgorithm(e);return t&&this._queues[t]?r.map(this._queues[t],(function(e){return e.event})):null},s.prototype.removeEventFromQueue=function(e){const t=this.queueAlgorithm(e);if(!t||!this._queues[t])return!1;let n=!1;return r.removeElement(this._queues[t],(function(t){if(t.event.getId()===e.getId())return n=!0,!0})),n},s.prototype.setProcessFunction=function(e){this._procFn=e,o(this)},s.prototype.queueEvent=function(e){const t=this.queueAlgorithm(e);if(!t)return null;this._queues[t]||(this._queues[t]=[]);const n=r.defer();return this._queues[t].push({event:e,defer:n,attempts:0}),e.getId(),o(this),n.promise},s.RETRY_BACKOFF_RATELIMIT=function(e,t,n){if(400===n.httpStatus||403===n.httpStatus||401===n.httpStatus)return-1;if("rejected"===n.cors)return-1;if("M_TOO_LARGE"===n.name)return-1;if("M_LIMIT_EXCEEDED"===n.name){const e=n.data.retry_after_ms;if(e)return e}return t>4?-1:1e3*Math.pow(2,t)},s.QUEUE_MESSAGES=function(e){return"m.room.message"===e.getType()||e.hasAssocation()?"message":null}},"M/Il":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setNow=function(e){a=e||Date.now},t.setTimeout=function(e,t){(t=t||0)<0&&(t=0);const n=Array.prototype.slice.call(arguments,2),i=a()+t,r=s++,l={runAt:i,func:e,params:n,key:r},h=u(o,(function(e){return e.runAt-i}));return o.splice(h,0,l),c(),r},t.clearTimeout=function(e){if(0===o.length)return;let t;for(t=0;t<o.length;t++)if(o[t].key==e){o.splice(t,1);break}0===t&&c()};var i=n("PrRn");let r,s=0;const o=[];let a=Date.now;function c(){r&&global.clearTimeout(r);const e=o[0];if(!e)return;const t=a(),n=Math.min(e.runAt-t,1e3);r=global.setTimeout(l,n)}function l(){let e;const t=a(),n=[];for(;;){const i=o[0];if(!i||i.runAt>t)break;e=o.shift(),n.push(e)}c();for(let s=0;s<n.length;s++){e=n[s];try{e.func.apply(global,e.params)}catch(r){i.logger.error("Uncaught exception in callback function",r.stack||r)}}}function u(e,t){let n=0,i=e.length;for(;n<i;){const r=n+i>>1;t(e[r])>0?i=r:n=r+1}return n}},M2bJ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LocalStorageCryptoStore=void 0;var i=n("PrRn"),r=n("qdUr");function s(e){return"crypto.sessions/"+e}function o(e){return"crypto.session.problems/"+e}function a(e,t){return"crypto.inboundgroupsessions/"+e+"/"+t}function c(e,t){return"crypto.inboundgroupsessions.withheld/"+e+"/"+t}function l(e){return"crypto.rooms/"+e}function u(e,t){try{return JSON.parse(e.getItem(t))}catch(n){i.logger.log("Error: Failed to get key %s: %s",t,n.stack||n),i.logger.log(n.stack)}return null}function h(e,t,n){e.setItem(t,JSON.stringify(n))}t.LocalStorageCryptoStore=class extends r.MemoryCryptoStore{constructor(e){super(),this.store=e}static exists(e){const t=e.length;for(let n=0;n<t;n++)if(e.key(n).startsWith("crypto."))return!0;return!1}countEndToEndSessions(e,t){let n=0;for(let i=0;i<this.store.length;++i)this.store.key(i).startsWith(s(""))&&++n;t(n)}_getEndToEndSessions(e,t,n){const i=u(this.store,s(e)),r={};for(const[s,o]of Object.entries(i||{}))r[s]="string"==typeof o?{session:o}:o;return r}getEndToEndSession(e,t,n,i){i(this._getEndToEndSessions(e)[t]||{})}getEndToEndSessions(e,t,n){n(this._getEndToEndSessions(e)||{})}getAllEndToEndSessions(e,t){for(let n=0;n<this.store.length;++n)if(this.store.key(n).startsWith(s(""))){const e=this.store.key(n).split("/")[1];for(const n of Object.values(this._getEndToEndSessions(e)))t(n)}}storeEndToEndSession(e,t,n,i){const r=this._getEndToEndSessions(e)||{};r[t]=n,h(this.store,s(e),r)}async storeEndToEndSessionProblem(e,t,n){const i=o(e),r=u(this.store,i)||[];r.push({type:t,fixed:n,time:Date.now()}),r.sort((e,t)=>e.time-t.time),h(this.store,i,r)}async getEndToEndSessionProblem(e,t){const n=o(e),i=u(this.store,n)||[];if(!i.length)return null;const r=i[i.length-1];for(const s of i)if(s.time>t)return Object.assign({},s,{fixed:r.fixed});return r.fixed?null:r}async filterOutNotifiedErrorDevices(e){const t=u(this.store,"crypto.notified_error_devices")||{},n=[];for(const i of e){const{userId:e,deviceInfo:r}=i;e in t?r.deviceId in t[e]||(n.push(i),t[e][r.deviceId]=!0):(n.push(i),t[e]={[r.deviceId]:!0})}return h(this.store,"crypto.notified_error_devices",t),n}getEndToEndInboundGroupSession(e,t,n,i){i(u(this.store,a(e,t)),u(this.store,c(e,t)))}getAllEndToEndInboundGroupSessions(e,t){for(let n=0;n<this.store.length;++n){const e=this.store.key(n);e.startsWith("crypto.inboundgroupsessions/")&&t({senderKey:e.substr("crypto.inboundgroupsessions/".length,43),sessionId:e.substr("crypto.inboundgroupsessions/".length+44),sessionData:u(this.store,e)})}t(null)}addEndToEndInboundGroupSession(e,t,n,i){u(this.store,a(e,t))||this.storeEndToEndInboundGroupSession(e,t,n,i)}storeEndToEndInboundGroupSession(e,t,n,i){h(this.store,a(e,t),n)}storeEndToEndInboundGroupSessionWithheld(e,t,n,i){h(this.store,c(e,t),n)}getEndToEndDeviceData(e,t){t(u(this.store,"crypto.device_data"))}storeEndToEndDeviceData(e,t){h(this.store,"crypto.device_data",e)}storeEndToEndRoom(e,t,n){h(this.store,l(e),t)}getEndToEndRooms(e,t){const n={},i=l("");for(let r=0;r<this.store.length;++r){const e=this.store.key(r);e.startsWith(i)&&(n[e.substr(i.length)]=u(this.store,e))}t(n)}getSessionsNeedingBackup(e){const t=u(this.store,"crypto.sessionsneedingbackup")||{},n=[];for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const t=i.substr(0,43),r=i.substr(44);if(this.getEndToEndInboundGroupSession(t,r,null,e=>{n.push({senderKey:t,sessionId:r,sessionData:e})}),e&&i.length>=e)break}return Promise.resolve(n)}countSessionsNeedingBackup(){const e=u(this.store,"crypto.sessionsneedingbackup")||{};return Promise.resolve(Object.keys(e).length)}unmarkSessionsNeedingBackup(e){const t=u(this.store,"crypto.sessionsneedingbackup")||{};for(const n of e)delete t[n.senderKey+"/"+n.sessionId];return h(this.store,"crypto.sessionsneedingbackup",t),Promise.resolve()}markSessionsNeedingBackup(e){const t=u(this.store,"crypto.sessionsneedingbackup")||{};for(const n of e)t[n.senderKey+"/"+n.sessionId]=!0;return h(this.store,"crypto.sessionsneedingbackup",t),Promise.resolve()}deleteAllData(){return this.store.removeItem("crypto.account"),Promise.resolve()}getAccount(e,t){t(u(this.store,"crypto.account"))}storeAccount(e,t){h(this.store,"crypto.account",t)}getCrossSigningKeys(e,t){t(u(this.store,"crypto.cross_signing_keys"))}getSecretStorePrivateKey(e,t,n){t(u(this.store,"crypto.ssss_cache."+n))}storeCrossSigningKeys(e,t){h(this.store,"crypto.cross_signing_keys",t)}storeSecretStorePrivateKey(e,t,n){h(this.store,"crypto.ssss_cache."+t,n)}doTxn(e,t,n){return Promise.resolve(n(null))}}},ML54:function(e,t,n){"use strict";var i=n("284h"),r=n("PrRn"),s=i(n("t+e4")),o=i(n("VRzr")),a=n("Nfwx"),c=n("9BO/");const l=a.DeviceInfo.DeviceVerification;function u(e){(0,s.polyfillSuper)(this,c.EncryptionAlgorithm,e),this._sessionPrepared=!1,this._prepPromise=null}function h(e){(0,s.polyfillSuper)(this,c.DecryptionAlgorithm,e)}s.inherits(u,c.EncryptionAlgorithm),u.prototype._ensureSession=function(e){if(this._prepPromise)return this._prepPromise;if(this._sessionPrepared)return Promise.resolve();const t=this;return this._prepPromise=t._crypto.downloadKeys(e).then((function(n){return t._crypto.ensureOlmSessionsForUsers(e)})).then((function(){t._sessionPrepared=!0})).finally((function(){t._prepPromise=null})),this._prepPromise},u.prototype.encryptMessage=async function(e,t,n){const i=await e.getEncryptionTargetMembers(),r=s.map(i,(function(e){return e.userId})),a=this;await this._ensureSession(r);const c={room_id:e.roomId,type:t,content:n},u={algorithm:o.OLM_ALGORITHM,sender_key:a._olmDevice.deviceCurve25519Key,ciphertext:{}},h=[];for(let s=0;s<r.length;++s){const e=r[s],t=a._crypto.getStoredDevicesForUser(e);for(let n=0;n<t.length;++n){const i=t[n];i.getIdentityKey()!=a._olmDevice.deviceCurve25519Key&&i.verified!=l.BLOCKED&&h.push(o.encryptMessageForDevice(u.ciphertext,a._userId,a._deviceId,a._olmDevice,e,i,c))}}return await Promise.all(h).then(()=>u)},s.inherits(h,c.DecryptionAlgorithm),h.prototype.decryptEvent=async function(e){const t=e.getWireContent(),n=t.sender_key,i=t.ciphertext;if(!i)throw new c.DecryptionError("OLM_MISSING_CIPHERTEXT","Missing ciphertext");if(!(this._olmDevice.deviceCurve25519Key in i))throw new c.DecryptionError("OLM_NOT_INCLUDED_IN_RECIPIENTS","Not included in recipients");const r=i[this._olmDevice.deviceCurve25519Key];let s;try{s=await this._decryptMessage(n,r)}catch(a){throw new c.DecryptionError("OLM_BAD_ENCRYPTED_MESSAGE","Bad Encrypted Message",{sender:n,err:a})}const o=JSON.parse(s);if(o.recipient!=this._userId)throw new c.DecryptionError("OLM_BAD_RECIPIENT","Message was intented for "+o.recipient);if(o.recipient_keys.ed25519!=this._olmDevice.deviceEd25519Key)throw new c.DecryptionError("OLM_BAD_RECIPIENT_KEY","Message not intended for this device",{intended:o.recipient_keys.ed25519,our_key:this._olmDevice.deviceEd25519Key});if(o.sender!=e.getSender())throw new c.DecryptionError("OLM_FORWARDED_MESSAGE","Message forwarded from "+o.sender,{reported_sender:e.getSender()});if(o.room_id!==e.getRoomId())throw new c.DecryptionError("OLM_BAD_ROOM","Message intended for room "+o.room_id,{reported_room:e.room_id});return{clearEvent:o,senderCurve25519Key:n,claimedEd25519Key:(o.keys||{}).ed25519||null}},h.prototype._decryptMessage=async function(e,t){if(0!==t.type)return this._reallyDecryptMessage(e,t);{const n=this._olmDevice._olmPrekeyPromise.then(()=>this._reallyDecryptMessage(e,t));return this._olmDevice._olmPrekeyPromise=n.catch(()=>{}),await n}},h.prototype._reallyDecryptMessage=async function(e,t){const n=await this._olmDevice.getSessionIdsForDevice(e),i={};for(let a=0;a<n.length;a++){const s=n[a];try{const n=await this._olmDevice.decryptMessage(e,s,t.type,t.body);return r.logger.log("Decrypted Olm message from "+e+" with session "+s),n}catch(o){if(await this._olmDevice.matchesSession(e,s,t.type,t.body))throw new Error("Error decrypting prekey message with existing session id "+s+": "+o.message);i[s]=o.message}}if(0!==t.type){if(0===n.length)throw new Error("No existing sessions");throw new Error("Error decrypting non-prekey message with existing sessions: "+JSON.stringify(i))}let s;try{s=await this._olmDevice.createInboundSession(e,t.type,t.body)}catch(o){throw i["(new)"]=o.message,new Error("Error decrypting prekey message: "+JSON.stringify(i))}return r.logger.log("created new inbound Olm session ID "+s.session_id+" with "+e),s.payload},(0,c.registerAlgorithm)(o.OLM_ALGORITHM,u,h)},Nehr:function(e,t,n){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},Nfwx:function(e,t,n){"use strict";function i(e){Object.defineProperty(this,"deviceId",{enumerable:!0,value:e}),this.algorithms=[],this.keys={},this.verified=r.UNVERIFIED,this.known=!1,this.unsigned={},this.signatures={}}Object.defineProperty(t,"__esModule",{value:!0}),t.DeviceInfo=i,i.fromStorage=function(e,t){const n=new i(t);for(const i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);return n},i.prototype.toStorage=function(){return{algorithms:this.algorithms,keys:this.keys,verified:this.verified,known:this.known,unsigned:this.unsigned,signatures:this.signatures}},i.prototype.getFingerprint=function(){return this.keys["ed25519:"+this.deviceId]},i.prototype.getIdentityKey=function(){return this.keys["curve25519:"+this.deviceId]},i.prototype.getDisplayName=function(){return this.unsigned.device_display_name||null},i.prototype.isBlocked=function(){return this.verified==r.BLOCKED},i.prototype.isVerified=function(){return this.verified==r.VERIFIED},i.prototype.isUnverified=function(){return this.verified==r.UNVERIFIED},i.prototype.isKnown=function(){return 1==this.known};const r=i.DeviceVerification={VERIFIED:1,UNVERIFIED:0,BLOCKED:-1}},Nq7u:function(e,t,n){"use strict";var i=n("284h"),r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.InteractiveAuth=c;var s=r(n("CxY0")),o=i(n("t+e4")),a=n("PrRn");function c(e){this._matrixClient=e.matrixClient,this._data=e.authData||{},this._requestCallback=e.doRequest,this._busyChangedCallback=e.busyChanged,this._stateUpdatedCallback=e.stateUpdated||e.startAuthStage,this._resolveFunc=null,this._rejectFunc=null,this._inputs=e.inputs||{},this._requestEmailTokenCallback=e.requestEmailToken,e.sessionId&&(this._data.session=e.sessionId),this._clientSecret=e.clientSecret||this._matrixClient.generateClientSecret(),this._emailSid=e.emailSid,void 0===this._emailSid&&(this._emailSid=null),this._requestingEmailToken=!1,this._chosenFlow=null,this._currentStage=null,this._submitPromise=null}c.prototype={attemptAuth:function(){return new Promise((e,t)=>{if(this._resolveFunc=e,this._rejectFunc=t,this._data&&this._data.flows)this._startNextAuthStage();else{this._busyChangedCallback&&this._busyChangedCallback(!0);let e=null;this._data.session&&(e={session:this._data.session}),this._doRequest(e).finally(()=>{this._busyChangedCallback&&this._busyChangedCallback(!1)})}})},poll:async function(){if(!this._data.session)return;if(!this._resolveFunc)return;if(this._submitPromise)return;let e={};if("m.login.email.identity"==this._currentStage&&this._emailSid){const t={sid:this._emailSid,client_secret:this._clientSecret};if(await this._matrixClient.doesServerRequireIdServerParam()){const e=s.default.parse(this._matrixClient.getIdentityServerUrl());t.id_server=e.host}e={type:"m.login.email.identity",threepid_creds:t,threepidCreds:t}}this.submitAuthDict(e,!0)},getSessionId:function(){return this._data?this._data.session:void 0},getClientSecret:function(){return this._clientSecret},getStageParams:function(e){let t={};return this._data&&this._data.params&&(t=this._data.params),t[e]},getChosenFlow(){return this._chosenFlow},submitAuthDict:async function(e,t){if(!this._resolveFunc)throw new Error("submitAuthDict() called before attemptAuth()");for(!t&&this._busyChangedCallback&&this._busyChangedCallback(!0);this._submitPromise;)try{await this._submitPromise}catch(i){}let n;this._data.session?(n={session:this._data.session},o.extend(n,e)):n=e;try{this._submitPromise=this._doRequest(n,t),await this._submitPromise}finally{this._submitPromise=null,!t&&this._busyChangedCallback&&this._busyChangedCallback(!1)}},getEmailSid:function(){return this._emailSid},setEmailSid:function(e){this._emailSid=e},_doRequest:async function(e,t){try{const n=await this._requestCallback(e,t);this._resolveFunc(n),this._resolveFunc=null,this._rejectFunc=null}catch(n){const e=n.data?n.data.flows:null,r=this._data.flows||Boolean(e);401===n.httpStatus&&n.data&&r||(t?a.logger.log("Background poll request failed doing UI auth: ignoring",n):this._rejectFunc(n)),n.data.flows||n.data.completed||n.data.session||(n.data.flows=this._data.flows,n.data.completed=this._data.completed,n.data.session=this._data.session),this._data=n.data;try{this._startNextAuthStage()}catch(i){this._rejectFunc(i),this._resolveFunc=null,this._rejectFunc=null}if(!this._emailSid&&!this._requestingEmailToken&&this._chosenFlow.stages.includes("m.login.email.identity")){this._requestingEmailToken=!0;try{const e=await this._requestEmailTokenCallback(this._inputs.emailAddress,this._clientSecret,1,this._data.session);this._emailSid=e.sid}catch(i){this._rejectFunc(i),this._resolveFunc=null,this._rejectFunc=null}finally{this._requestingEmailToken=!1}}}},_startNextAuthStage:function(){const e=this._chooseStage();if(!e)throw new Error("No incomplete flows from the server");if(this._currentStage=e,"m.login.dummy"===e)return void this.submitAuthDict({type:"m.login.dummy"});if(this._data&&this._data.errcode||this._data.error)return void this._stateUpdatedCallback(e,{errcode:this._data.errcode||"",error:this._data.error||""});const t={};"m.login.email.identity"==e&&(t.emailSid=this._emailSid),this._stateUpdatedCallback(e,t)},_chooseStage:function(){null===this._chosenFlow&&(this._chosenFlow=this._chooseFlow()),a.logger.log("Active flow => %s",JSON.stringify(this._chosenFlow));const e=this._firstUncompletedStage(this._chosenFlow);return a.logger.log("Next stage: %s",e),e},_chooseFlow:function(){const e=this._data.flows||[],t=Boolean(this._inputs.emailAddress)||Boolean(this._emailSid),n=Boolean(this._inputs.phoneCountry)&&Boolean(this._inputs.phoneNumber);for(const r of e){let e=!1,i=!1;for(const t of r.stages)"m.login.email.identity"===t?e=!0:"m.login.msisdn"==t&&(i=!0);if(e==t&&i==n)return r}const i=new Error("No appropriate authentication flow found");throw i.name="NoAuthFlowFoundError",i.required_stages=[],t&&i.required_stages.push("m.login.email.identity"),n&&i.required_stages.push("m.login.msisdn"),i.available_flows=e,i},_firstUncompletedStage:function(e){const t=(this._data||{}).completed||[];for(let n=0;n<e.stages.length;++n){const i=e.stages[n];if(-1===t.indexOf(i))return i}}}},NxCW:function(e,t,n){"use strict";function i(){this.fromToken=null}Object.defineProperty(t,"__esModule",{value:!0}),t.StubStore=i,i.prototype={isNewlyCreated:function(){return Promise.resolve(!0)},getSyncToken:function(){return this.fromToken},setSyncToken:function(e){this.fromToken=e},storeGroup:function(e){},getGroup:function(e){return null},getGroups:function(){return[]},storeRoom:function(e){},getRoom:function(e){return null},getRooms:function(){return[]},removeRoom:function(e){},getRoomSummaries:function(){return[]},storeUser:function(e){},getUser:function(e){return null},getUsers:function(){return[]},scrollback:function(e,t){return[]},storeEvents:function(e,t,n,i){},storeFilter:function(e){},getFilter:function(e,t){return null},getFilterIdByName:function(e){return null},setFilterIdByName:function(e,t){},storeAccountDataEvents:function(e){},getAccountData:function(e){},setSyncData:function(e){return Promise.resolve()},wantsSave:function(){return!1},save:function(){},startup:function(){return Promise.resolve()},getSavedSync:function(){return Promise.resolve(null)},getSavedSyncToken:function(){return Promise.resolve(null)},deleteAllData:function(){return Promise.resolve()},getOutOfBandMembers:function(){return Promise.resolve(null)},setOutOfBandMembers:function(){return Promise.resolve()},clearOutOfBandMembers:function(){return Promise.resolve()},getClientOptions:function(){return Promise.resolve()},storeClientOptions:function(){return Promise.resolve()}}},OLzX:function(e,t,n){"use strict";var i=n("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.MemoryStore=a;var r=n("rWBP"),s=i(n("t+e4"));function o(e){return"string"==typeof e&&!!e&&"undefined"!==e&&"null"!==e||"number"==typeof e}function a(e){e=e||{},this.rooms={},this.groups={},this.users={},this.syncToken=null,this.filters={},this.accountData={},this.localStorage=e.localStorage,this._oobMembers={},this._clientOptions={}}a.prototype={getSyncToken:function(){return this.syncToken},isNewlyCreated:function(){return Promise.resolve(!0)},setSyncToken:function(e){this.syncToken=e},storeGroup:function(e){this.groups[e.groupId]=e},getGroup:function(e){return this.groups[e]||null},getGroups:function(){return s.values(this.groups)},storeRoom:function(e){this.rooms[e.roomId]=e,e.currentState.on("RoomState.members",this._onRoomMember.bind(this));const t=this;e.currentState.getMembers().forEach((function(n){t._onRoomMember(null,e.currentState,n)}))},_onRoomMember:function(e,t,n){if("invite"===n.membership)return;const i=this.users[n.userId]||new r.User(n.userId);n.name&&(i.setDisplayName(n.name),n.events.member&&i.setRawDisplayName(n.events.member.getDirectionalContent().displayname)),n.events.member&&n.events.member.getContent().avatar_url&&i.setAvatarUrl(n.events.member.getContent().avatar_url),this.users[i.userId]=i},getRoom:function(e){return this.rooms[e]||null},getRooms:function(){return s.values(this.rooms)},removeRoom:function(e){this.rooms[e]&&this.rooms[e].removeListener("RoomState.members",this._onRoomMember),delete this.rooms[e]},getRoomSummaries:function(){return s.map(s.values(this.rooms),(function(e){return e.summary}))},storeUser:function(e){this.users[e.userId]=e},getUser:function(e){return this.users[e]||null},getUsers:function(){return s.values(this.users)},scrollback:function(e,t){return[]},storeEvents:function(e,t,n,i){},storeFilter:function(e){e&&(this.filters[e.userId]||(this.filters[e.userId]={}),this.filters[e.userId][e.filterId]=e)},getFilter:function(e,t){return this.filters[e]&&this.filters[e][t]?this.filters[e][t]:null},getFilterIdByName:function(e){if(!this.localStorage)return null;const t="mxjssdk_memory_filter_"+e;try{const e=this.localStorage.getItem(t);if(o(e))return e}catch(n){}return null},setFilterIdByName:function(e,t){if(!this.localStorage)return;const n="mxjssdk_memory_filter_"+e;try{o(t)?this.localStorage.setItem(n,t):this.localStorage.removeItem(n)}catch(i){}},storeAccountDataEvents:function(e){const t=this;e.forEach((function(e){t.accountData[e.getType()]=e}))},getAccountData:function(e){return this.accountData[e]},setSyncData:function(e){return Promise.resolve()},wantsSave:function(){return!1},save:function(e){},startup:function(){return Promise.resolve()},getSavedSync:function(){return Promise.resolve(null)},getSavedSyncToken:function(){return Promise.resolve(null)},deleteAllData:function(){return this.rooms={},this.users={},this.syncToken=null,this.filters={},this.accountData={},Promise.resolve()},getOutOfBandMembers:function(e){return Promise.resolve(this._oobMembers[e]||null)},setOutOfBandMembers:function(e,t){return this._oobMembers[e]=t,Promise.resolve()},clearOutOfBandMembers:function(){return this._oobMembers={},Promise.resolve()},getClientOptions:function(){return Promise.resolve(this._clientOptions)},storeClientOptions:function(e){return this._clientOptions=Object.assign({},e),Promise.resolve()}}},OYp6:function(e,t,n){"use strict";function i(e){this.filter_json=e,this.types=e.types||null,this.not_types=e.not_types||[],this.rooms=e.rooms||null,this.not_rooms=e.not_rooms||[],this.senders=e.senders||null,this.not_senders=e.not_senders||[],this.contains_url=e.contains_url||null}Object.defineProperty(t,"__esModule",{value:!0}),t.FilterComponent=i,i.prototype.check=function(e){return this._checkFields(e.getRoomId(),e.getSender(),e.getType(),!!e.getContent()&&void 0!==e.getContent().url)},i.prototype._checkFields=function(e,t,n,i){const r={rooms:function(t){return e===t},senders:function(e){return t===e},types:function(e){return function(e,t){if(t.endsWith("*")){const n=t.slice(0,-1);return e.substr(0,n.length)===n}return e===t}(n,e)}},s=this;for(let a=0;a<Object.keys(r).length;a++){const e=Object.keys(r)[a],t=r[e];if(s["not_"+e].filter(t).length>0)return!1;const n=s[e];if(n&&n.length>0&&!n.some(t))return!1}const o=this.filter_json.contains_url;return void 0===o||o===i},i.prototype.filter=function(e){return e.filter(this.check,this)},i.prototype.limit=function(){return void 0!==this.filter_json.limit?this.filter_json.limit:10}},"P5+E":function(e,t,n){"use strict";var i=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.Relations=void 0;var r=i(n("lSNA")),s=n("+qE3"),o=n("7UXS");t.Relations=class extends s.EventEmitter{constructor(e,t,n){super(),(0,r.default)(this,"_onEventStatus",(e,t)=>{e.isSending()?t===o.EventStatus.CANCELLED&&(e.removeListener("Event.status",this._onEventStatus),this._removeEvent(e)):e.removeListener("Event.status",this._onEventStatus)}),(0,r.default)(this,"_onBeforeRedaction",e=>{this._relations.has(e)&&(this._relations.delete(e),"m.annotation"===this.relationType?this._removeAnnotationFromAggregation(e):"m.replace"===this.relationType&&this._targetEvent&&this._targetEvent.makeReplaced(this.getLastReplacement()),e.removeListener("Event.beforeRedaction",this._onBeforeRedaction),this.emit("Relations.redaction",e))}),this.relationType=e,this.eventType=t,this._relations=new Set,this._annotationsByKey={},this._annotationsBySender={},this._sortedAnnotationsByKey=[],this._targetEvent=null}addEvent(e){if(this._relations.has(e))return;const t=e.getRelation();if(!t)return void console.error("Event must have relation info");const n=t.rel_type,i=e.getType();this.relationType===n&&this.eventType===i?(e.isSending()&&e.on("Event.status",this._onEventStatus),this._relations.add(e),"m.annotation"===this.relationType?this._addAnnotationToAggregation(e):"m.replace"===this.relationType&&this._targetEvent&&this._targetEvent.makeReplaced(this.getLastReplacement()),e.on("Event.beforeRedaction",this._onBeforeRedaction),this.emit("Relations.add",e)):console.error("Event relation info doesn't match this container")}_removeEvent(e){if(!this._relations.has(e))return;const t=e.getRelation();if(!t)return void console.error("Event must have relation info");const n=t.rel_type,i=e.getType();this.relationType===n&&this.eventType===i?(this._relations.delete(e),"m.annotation"===this.relationType?this._removeAnnotationFromAggregation(e):"m.replace"===this.relationType&&this._targetEvent&&this._targetEvent.makeReplaced(this.getLastReplacement()),this.emit("Relations.remove",e)):console.error("Event relation info doesn't match this container")}getRelations(){return[...this._relations]}_addAnnotationToAggregation(e){const{key:t}=e.getRelation();if(!t)return;let n=this._annotationsByKey[t];n||(n=this._annotationsByKey[t]=new Set,this._sortedAnnotationsByKey.push([t,n])),n.add(e),this._sortedAnnotationsByKey.sort((e,t)=>t[1].size-e[1].size);const i=e.getSender();let r=this._annotationsBySender[i];r||(r=this._annotationsBySender[i]=new Set),r.add(e)}_removeAnnotationFromAggregation(e){const{key:t}=e.getRelation();if(!t)return;const n=this._annotationsByKey[t];n&&(n.delete(e),this._sortedAnnotationsByKey.sort((e,t)=>t[1].size-e[1].size));const i=e.getSender(),r=this._annotationsBySender[i];r&&r.delete(e)}getSortedAnnotationsByKey(){return"m.annotation"!==this.relationType?null:this._sortedAnnotationsByKey}getAnnotationsBySender(){return"m.annotation"!==this.relationType?null:this._annotationsBySender}getLastReplacement(){if("m.replace"!==this.relationType)return null;if(!this._targetEvent)return null;const e=this._targetEvent.getServerAggregatedRelation("m.replace"),t=e&&e.origin_server_ts;return this.getRelations().reduce((e,n)=>n.getSender()!==this._targetEvent.getSender()||t&&t>n.getTs()||e&&e.getTs()>n.getTs()?e:n,null)}setTargetEvent(e){if(!this._targetEvent&&(this._targetEvent=e,"m.replace"===this.relationType)){const e=this.getLastReplacement();e&&this._targetEvent.makeReplaced(e)}}}},PAYk:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InRoomRequests=t.InRoomChannel=void 0;var i=n("3afC"),r=n("PrRn");class s{constructor(e,t,n=null){this._client=e,this._roomId=t,this.userId=n,this._requestEventId=null}get receiveStartFromOtherDevices(){return!0}get roomId(){return this._roomId}get transactionId(){return this._requestEventId}static getOtherPartyUserId(e,t){if(s.getEventType(e)!==i.REQUEST_TYPE)return;const n=t.getUserId(),r=e.getSender(),o=e.getContent().to;return r===n?o:o===n?r:void 0}getTimestamp(e){return e.getTs()}static canCreateRequest(e){return e===i.REQUEST_TYPE}static getTransactionId(e){if(s.getEventType(e)===i.REQUEST_TYPE)return e.getId();{const t=e.getRelation();if(t&&"m.reference"===t.rel_type)return t.event_id}}static validateEvent(e,t){const n=s.getTransactionId(e);if("string"!=typeof n||0===n.length)return!1;const o=s.getEventType(e),a=e.getContent();if(o===i.REQUEST_TYPE){if(!a||"string"!=typeof a.to||!a.to.length)return r.logger.log("InRoomChannel: validateEvent: no valid to "+(a&&a.to)),!1;if(!s.getOtherPartyUserId(e,t))return r.logger.log("InRoomChannel: validateEvent: not directed to or sent by me: "+e.getSender()+", "+(a&&a.to)),!1}return i.VerificationRequest.validateEvent(o,e,t)}static getEventType(e){const t=e.getType();if("m.room.message"===t){const t=e.getContent();if(t){const{msgtype:e}=t;if(e===i.REQUEST_TYPE)return i.REQUEST_TYPE}}return t&&t!==i.REQUEST_TYPE?t:""}async handleEvent(e,t,n){if(t.hasEventId(e.getId()))return;const i=s.getEventType(e);if(e.getRoomId()!==this._roomId)return;if(null===this.userId){const t=s.getOtherPartyUserId(e,this._client);t&&(this.userId=t)}const o=this._client.getUserId(),a=e.getSender();if(null!==this.userId&&a!==o&&a!==this.userId)return void r.logger.log("InRoomChannel: ignoring verification event from non-participating sender "+a);null===this._requestEventId&&(this._requestEventId=s.getTransactionId(e));const c=!!e.getUnsigned().transaction_id,l=e.getSender()===this._client.getUserId();return await t.handleEvent(i,e,n,c,l)}completedContentFromEvent(e){const t=Object.assign({},e.getContent());return t["m.relates_to"]=e.getRelation(),t}completeContent(e,t){return t=Object.assign({},t),e!==i.REQUEST_TYPE&&e!==i.READY_TYPE&&e!==i.START_TYPE||(t.from_device=this._client.getDeviceId()),e===i.REQUEST_TYPE?t={body:this._client.getUserId()+" is requesting to verify your key, but your client does not support in-chat key verification.  You will need to use legacy key verification to verify keys.",msgtype:i.REQUEST_TYPE,to:this.userId,from_device:t.from_device,methods:t.methods}:t["m.relates_to"]={rel_type:"m.reference",event_id:this.transactionId},t}send(e,t){const n=this.completeContent(e,t);return this.sendCompleted(e,n)}async sendCompleted(e,t){let n=e;e===i.REQUEST_TYPE&&(n="m.room.message");const r=await this._client.sendEvent(this._roomId,n,t);e===i.REQUEST_TYPE&&(this._requestEventId=r.event_id)}}t.InRoomChannel=s,t.InRoomRequests=class{constructor(){this._requestsByRoomId=new Map}getRequest(e){const t=e.getRoomId(),n=s.getTransactionId(e);return this._getRequestByTxnId(t,n)}getRequestByChannel(e){return this._getRequestByTxnId(e.roomId,e.transactionId)}_getRequestByTxnId(e,t){const n=this._requestsByRoomId.get(e);if(n)return n.get(t)}setRequest(e,t){this._setRequest(e.getRoomId(),s.getTransactionId(e),t)}setRequestByChannel(e,t){this._setRequest(e.roomId,e.transactionId,t)}_setRequest(e,t,n){let i=this._requestsByRoomId.get(e);i||(i=new Map,this._requestsByRoomId.set(e,i)),i.set(t,n)}removeRequest(e){const t=e.getRoomId(),n=this._requestsByRoomId.get(t);n&&(n.delete(s.getTransactionId(e)),0===n.size&&this._requestsByRoomId.delete(t))}findRequestInProgress(e){const t=this._requestsByRoomId.get(e);if(t)for(const n of t.values())if(n.pending)return n}}},PrRn:function(e,t,n){"use strict";var i=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.logger=void 0;var r=i(n("XH0y"));r.default.methodFactory=function(e,t,n){return function(...t){return"error"===e||"warn"===e||"trace"===e||"info"===e?console[e](...t):console.log(...t)}};const s=r.default.getLogger("matrix");t.logger=s,s.setLevel(r.default.levels.DEBUG)},PwFS:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomString=function(e){let t="";const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let i=0;i<e;++i)t+=n.charAt(Math.floor(Math.random()*n.length));return t}},QSc6:function(e,t,n){"use strict";var i=n("0jNN"),r=n("sxOR"),s=Object.prototype.hasOwnProperty,o={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},a=Array.isArray,c=Array.prototype.push,l=function(e,t){c.apply(e,a(t)?t:[t])},u=Date.prototype.toISOString,h={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:i.encode,encodeValuesOnly:!1,formatter:r.formatters[r.default],indices:!1,serializeDate:function(e){return u.call(e)},skipNulls:!1,strictNullHandling:!1},d=function e(t,n,r,s,o,c,u,d,p,m,f,g,_){var y=t;if("function"==typeof u?y=u(n,y):y instanceof Date?y=m(y):"comma"===r&&a(y)&&(y=y.join(",")),null===y){if(s)return c&&!g?c(n,h.encoder,_):n;y=""}if("string"==typeof y||"number"==typeof y||"boolean"==typeof y||i.isBuffer(y))return c?[f(g?n:c(n,h.encoder,_))+"="+f(c(y,h.encoder,_))]:[f(n)+"="+f(String(y))];var v,b=[];if(void 0===y)return b;if(a(u))v=u;else{var w=Object.keys(y);v=d?w.sort(d):w}for(var S=0;S<v.length;++S){var E=v[S];o&&null===y[E]||(a(y)?l(b,e(y[E],"function"==typeof r?r(n,E):n,r,s,o,c,u,d,p,m,f,g,_)):l(b,e(y[E],n+(p?"."+E:"["+E+"]"),r,s,o,c,u,d,p,m,f,g,_)))}return b};e.exports=function(e,t){var n,i=e,c=function(e){if(!e)return h;if(null!=e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||h.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=r.default;if(void 0!==e.format){if(!s.call(r.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=r.formatters[n],o=h.filter;return("function"==typeof e.filter||a(e.filter))&&(o=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:h.addQueryPrefix,allowDots:void 0===e.allowDots?h.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:h.charsetSentinel,delimiter:void 0===e.delimiter?h.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:h.encode,encoder:"function"==typeof e.encoder?e.encoder:h.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:h.encodeValuesOnly,filter:o,formatter:i,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:h.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:h.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:h.strictNullHandling}}(t);"function"==typeof c.filter?i=(0,c.filter)("",i):a(c.filter)&&(n=c.filter);var u=[];if("object"!=typeof i||null===i)return"";var p=o[t&&t.arrayFormat in o?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices"];n||(n=Object.keys(i)),c.sort&&n.sort(c.sort);for(var m=0;m<n.length;++m){var f=n[m];c.skipNulls&&null===i[f]||l(u,d(i[f],f,p,c.strictNullHandling,c.skipNulls,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.formatter,c.encodeValuesOnly,c.charset))}var g=u.join(c.delimiter),_=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&(_+="iso-8859-1"===c.charset?"utf8=%26%2310003%3B&":"utf8=%E2%9C%93&"),g.length>0?_+g:""}},QqcV:function(e,t,n){"use strict";var i=n("hwdV").Buffer;e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var r=0;r<e.length;r++){var s=e.charAt(r),o=s.charCodeAt(0);if(255!==t[o])throw new TypeError(s+" is ambiguous");t[o]=r}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return i.alloc(0);var n=0;if(" "!==e[n]){for(var r=0,s=0;e[n]===c;)r++,n++;for(var o=(e.length-n)*l+1>>>0,u=new Uint8Array(o);e[n];){var h=t[e.charCodeAt(n)];if(255===h)return;for(var d=0,p=o-1;(0!==h||d<s)&&-1!==p;p--,d++)u[p]=(h+=a*u[p]>>>0)%256>>>0,h=h/256>>>0;if(0!==h)throw new Error("Non-zero carry");s=d,n++}if(" "!==e[n]){for(var m=o-s;m!==o&&0===u[m];)m++;var f=i.allocUnsafe(r+(o-m));f.fill(0,0,r);for(var g=r;m!==o;)f[g++]=u[m++];return f}}}return{encode:function(t){if((Array.isArray(t)||t instanceof Uint8Array)&&(t=i.from(t)),!i.isBuffer(t))throw new TypeError("Expected Buffer");if(0===t.length)return"";for(var n=0,r=0,s=0,o=t.length;s!==o&&0===t[s];)s++,n++;for(var l=(o-s)*u+1>>>0,h=new Uint8Array(l);s!==o;){for(var d=t[s],p=0,m=l-1;(0!==d||p<r)&&-1!==m;m--,p++)h[m]=(d+=256*h[m]>>>0)%a>>>0,d=d/a>>>0;if(0!==d)throw new Error("Non-zero carry");r=p,s++}for(var f=l-r;f!==l&&0===h[f];)f++;for(var g=c.repeat(n);f<l;++f)g+=e.charAt(h[f]);return g},decodeUnsafe:h,decode:function(e){var t=h(e);if(t)return t;throw new Error("Non-base"+a+" character")}}}},Qyje:function(e,t,n){"use strict";var i=n("QSc6"),r=n("nmq7"),s=n("sxOR");e.exports={formats:s,parse:r,stringify:i}},RmcG:function(e,t,n){"use strict";var i=n("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.SyncApi=f;var r=n("rWBP"),s=n("tyrX"),o=n("C2mt"),a=i(n("t+e4")),c=n("8zgi"),l=n("tyto"),u=n("TXj3"),h=n("PrRn"),d=n("Hzpt");function p(e,t){return"FILTER_SYNC_"+e+(t?"_"+t:"")}function m(...e){h.logger.log(...e)}function f(e,t){this.client=e,(t=t||{}).initialSyncLimit=void 0===t.initialSyncLimit?8:t.initialSyncLimit,t.resolveInvitesToProfiles=t.resolveInvitesToProfiles||!1,t.pollTimeout=t.pollTimeout||3e4,t.pendingEventOrdering=t.pendingEventOrdering||"chronological",t.canResetEntireTimeline||(t.canResetEntireTimeline=function(e){return!1}),this.opts=t,this._peekRoomId=null,this._currentSyncRequest=null,this._syncState=null,this._syncStateData=null,this._catchingUp=!1,this._running=!1,this._keepAliveTimer=null,this._connectionReturnedDefer=null,this._notifEvents=[],this._failedSyncCount=0,this._storeIsInvalid=!1,e.getNotifTimelineSet()&&e.reEmitter.reEmit(e.getNotifTimelineSet(),["Room.timeline","Room.timelineReset"])}function g(e,t){const n=new r.User(t);return e.reEmitter.reEmit(n,["User.avatarUrl","User.displayName","User.presence","User.currentlyActive","User.lastPresenceTs"]),n}f.prototype.createRoom=function(e){const t=this.client,{timelineSupport:n,unstableClientRelationAggregation:i}=t,r=new s.Room(e,t,t.getUserId(),{lazyLoadMembers:this.opts.lazyLoadMembers,pendingEventOrdering:this.opts.pendingEventOrdering,timelineSupport:n,unstableClientRelationAggregation:i});return t.reEmitter.reEmit(r,["Room.name","Room.timeline","Room.redaction","Room.redactionCancelled","Room.receipt","Room.tags","Room.timelineReset","Room.localEchoUpdated","Room.accountData","Room.myMembership","Room.replaceEvent"]),this._registerStateListeners(r),r},f.prototype.createGroup=function(e){const t=this.client,n=new o.Group(e);return t.reEmitter.reEmit(n,["Group.profile","Group.myMembership"]),t.store.storeGroup(n),n},f.prototype._registerStateListeners=function(e){const t=this.client;t.reEmitter.reEmit(e.currentState,["RoomState.events","RoomState.members","RoomState.newMember"]),e.currentState.on("RoomState.newMember",(function(e,n,i){i.user=t.getUser(i.userId),t.reEmitter.reEmit(i,["RoomMember.name","RoomMember.typing","RoomMember.powerLevel","RoomMember.membership"])}))},f.prototype._deregisterStateListeners=function(e){e.currentState.removeAllListeners("RoomState.events"),e.currentState.removeAllListeners("RoomState.members"),e.currentState.removeAllListeners("RoomState.newMember")},f.prototype.syncLeftRooms=function(){const e=this.client,t=this,n=new c.Filter(this.client.credentials.userId);n.setTimelineLimit(1),n.setIncludeLeaveRooms(!0);const i=this.opts.pollTimeout+8e4,r={timeout:0};return e.getOrCreateFilter(p(e.credentials.userId,"LEFT_ROOMS"),n).then((function(t){return r.filter=t,e._http.authedRequest(void 0,"GET","/sync",r,void 0,i)})).then((function(n){let i=[];n.rooms&&n.rooms.leave&&(i=t._mapSyncResponseToRoomArray(n.rooms.leave));const r=[];return i.forEach((function(n){const i=n.room;if(r.push(i),!n.isBrandNewRoom)return;n.timeline=n.timeline||{};const s=t._mapSyncEventsFormat(n.timeline,i),o=t._mapSyncEventsFormat(n.state,i);i.getLiveTimeline().setPaginationToken(n.timeline.prev_batch,l.EventTimeline.BACKWARDS),t._processRoomEvents(i,o,s),i.recalculate(),e.store.storeRoom(i),e.emit("Room",i),t._processEventsForNotifs(i,s)})),r}))},f.prototype.peek=function(e){const t=this,n=this.client;return this._peekRoomId=e,this.client.roomInitialSync(e,20).then((function(i){i.messages=i.messages||{},i.messages.chunk=i.messages.chunk||[],i.state=i.state||[];const r=t.createRoom(e),s=a.map(a.deepCopy(i.state),n.getEventMapper()),o=a.map(i.state,n.getEventMapper()),c=a.map(i.messages.chunk,n.getEventMapper());return i.presence&&a.isArray(i.presence)&&i.presence.map(n.getEventMapper()).forEach((function(e){let t=n.store.getUser(e.getContent().user_id);t?t.setPresenceEvent(e):(t=g(n,e.getContent().user_id),t.setPresenceEvent(e),n.store.storeUser(t)),n.emit("event",e)})),i.messages.start&&(r.oldState.paginationToken=i.messages.start),r.oldState.setStateEvents(s),r.currentState.setStateEvents(o),t._resolveInvites(r),r.recalculate(),r.addEventsToTimeline(c.reverse(),!0,r.getLiveTimeline(),i.messages.start),n.store.storeRoom(r),n.emit("Room",r),t._peekPoll(r),r}))},f.prototype.stopPeeking=function(){this._peekRoomId=null},f.prototype._peekPoll=function(e,t){if(this._peekRoomId!==e.roomId)return void m("Stopped peeking in room %s",e.roomId);const n=this;this.client._http.authedRequest(void 0,"GET","/events",{room_id:e.roomId,timeout:3e4,from:t},void 0,5e4).then((function(t){if(n._peekRoomId!==e.roomId)return void m("Stopped peeking in room %s",e.roomId);t.chunk.filter((function(e){return"m.presence"===e.type})).map(n.client.getEventMapper()).forEach((function(e){let t=n.client.store.getUser(e.getContent().user_id);t?t.setPresenceEvent(e):(t=g(n.client,e.getContent().user_id),t.setPresenceEvent(e),n.client.store.storeUser(t)),n.client.emit("event",e)}));const i=t.chunk.filter((function(t){return t.room_id===e.roomId&&t.event_id})).map(n.client.getEventMapper());e.addLiveEvents(i),n._peekPoll(e,t.end)}),(function(i){h.logger.error("[%s] Peek poll failed: %s",e.roomId,i),setTimeout((function(){n._peekPoll(e,t)}),3e4)}))},f.prototype.getSyncState=function(){return this._syncState},f.prototype.getSyncStateData=function(){return this._syncStateData},f.prototype.recoverFromSyncStartupError=async function(e,t){await e;const n=this._startKeepAlives();this._updateSyncState("ERROR",{error:t}),await n},f.prototype._wasLazyLoadingToggled=async function(e){e=!!e;let t=!1;if(!(await this.client.store.isNewlyCreated())){const n=await this.client.store.getClientOptions();return n&&(t=!!n.lazyLoadMembers),t!==e}return!1},f.prototype._shouldAbortSync=function(e){return"M_UNKNOWN_TOKEN"===e.errcode&&(h.logger.warn("Token no longer valid - assuming logout"),this.stop(),!0)},f.prototype.sync=function(){const e=this.client,t=this;this._running=!0,global.document&&(this._onOnlineBound=this._onOnline.bind(this),global.document.addEventListener("online",this._onOnlineBound,!1));let n=Promise.resolve(),i=null;function r(){const n=new c.Filter(e.credentials.userId);return n.setTimelineLimit(t.opts.initialSyncLimit),n}const s=async()=>{if(m("Checking lazy load status..."),this.opts.lazyLoadMembers&&e.isGuest()&&(this.opts.lazyLoadMembers=!1),this.opts.lazyLoadMembers&&(m("Checking server lazy load support..."),await e.doesServerSupportLazyLoading()?(m("Enabling lazy load on sync filter..."),this.opts.filter||(this.opts.filter=r()),this.opts.filter.setLazyLoadMembers(!0)):(m("LL: lazy loading requested but not supported by server, so disabling"),this.opts.lazyLoadMembers=!1)),m("Checking whether lazy loading has changed in store..."),await this._wasLazyLoadingToggled(this.opts.lazyLoadMembers)){this._storeIsInvalid=!0;const e=new d.InvalidStoreError(d.InvalidStoreError.TOGGLED_LAZY_LOADING,!!this.opts.lazyLoadMembers);return this._updateSyncState("ERROR",{error:e}),void h.logger.warn("InvalidStoreError: store is not usable: stopping sync.")}this.opts.lazyLoadMembers&&this.opts.crypto&&this.opts.crypto.enableLazyLoading();try{m("Storing client options..."),await this.client._storeClientOptions(),m("Stored client options")}catch(s){throw h.logger.error("Storing client options failed",s),s}!async function o(){let a,c;m("Getting filter..."),a=t.opts.filter?t.opts.filter:r();try{c=await e.getOrCreateFilter(p(e.credentials.userId),a)}catch(s){if(h.logger.error("Getting filter failed",s),t._shouldAbortSync(s))return;return m("Waiting for saved sync before retrying filter..."),await t.recoverFromSyncStartupError(n,s),void o()}e.resetNotifTimelineSet(),null===t._currentSyncRequest&&(m("Sending first sync request..."),t._currentSyncRequest=t._doSyncRequest({filterId:c},i)),m("Waiting for saved sync before starting sync processing..."),await n,t._sync({filterId:c})}()};e.isGuest()?t._sync({}):(m("Getting saved sync token..."),n=e.store.getSavedSyncToken().then(t=>(m("Got saved sync token"),i=t,m("Getting saved sync..."),e.store.getSavedSync())).then(e=>{if(m("Got reply from saved sync, exists? "+!!e),e)return t._syncFromCache(e)}).catch(e=>{h.logger.error("Getting saved sync failed",e)}),async function i(){try{m("Getting push rules...");const t=await e.getPushRules();m("Got push rules"),e.pushRules=t}catch(r){if(h.logger.error("Getting push rules failed",r),t._shouldAbortSync(r))return;return m("Waiting for saved sync before retrying push rules..."),await t.recoverFromSyncStartupError(n,r),void i()}s()}())},f.prototype.stop=function(){m("SyncApi.stop"),global.document&&(global.document.removeEventListener("online",this._onOnlineBound,!1),this._onOnlineBound=void 0),this._running=!1,this._currentSyncRequest&&this._currentSyncRequest.abort(),this._keepAliveTimer&&(clearTimeout(this._keepAliveTimer),this._keepAliveTimer=null)},f.prototype.retryImmediately=function(){return!!this._connectionReturnedDefer&&(this._startKeepAlives(0),!0)},f.prototype._syncFromCache=async function(e){m("sync(): not doing HTTP hit, instead returning stored /sync data");const t=e.nextBatch;this.client.store.setSyncToken(t);const n={oldSyncToken:null,nextSyncToken:t,catchingUp:!1,fromCache:!0},i={next_batch:t,rooms:e.roomsData,groups:e.groupsData,account_data:{events:e.accountData}};try{await this._processSyncResponse(n,i)}catch(r){h.logger.error("Error processing cached sync",r.stack||r)}this._storeIsInvalid||this._updateSyncState("PREPARED",n)},f.prototype._sync=async function(e){const t=this.client;if(!this._running)return m("Sync no longer running: exiting."),this._connectionReturnedDefer&&(this._connectionReturnedDefer.reject(),this._connectionReturnedDefer=null),void this._updateSyncState("STOPPED");const n=t.store.getSyncToken();let i;try{null===this._currentSyncRequest&&(this._currentSyncRequest=this._doSyncRequest(e,n)),i=await this._currentSyncRequest}catch(s){return void this._onSyncError(s,e)}finally{this._currentSyncRequest=null}t.store.setSyncToken(i.next_batch),this._failedSyncCount=0,await t.store.setSyncData(i);const r={oldSyncToken:n,nextSyncToken:i.next_batch,catchingUp:this._catchingUp};this.opts.crypto&&await this.opts.crypto.onSyncWillProcess(r);try{await this._processSyncResponse(r,i)}catch(s){h.logger.error("Caught /sync error",s.stack||s),this.client.emit("sync.unexpectedError",s)}r.catchingUp=this._catchingUp,e.hasSyncedBefore||(this._updateSyncState("PREPARED",r),e.hasSyncedBefore=!0),this.opts.crypto&&await this.opts.crypto.onSyncCompleted(r),this._updateSyncState("SYNCING",r),t.store.wantsSave()&&(this.opts.crypto&&await this.opts.crypto.saveDeviceList(0),t.store.save()),this._sync(e)},f.prototype._doSyncRequest=function(e,t){const n=this._getSyncParams(e,t);return this.client._http.authedRequest(void 0,"GET","/sync",n,void 0,n.timeout+8e4)},f.prototype._getSyncParams=function(e,t){let n=this.opts.pollTimeout;("SYNCING"!==this.getSyncState()||this._catchingUp)&&(this._catchingUp=!0,n=0);let i=e.filterId;this.client.isGuest()&&!i&&(i=this._getGuestFilter());const r={filter:i,timeout:n};return this.opts.disablePresence&&(r.set_presence="offline"),t?r.since=t:r._cacheBuster=Date.now(),"ERROR"!=this.getSyncState()&&"RECONNECTING"!=this.getSyncState()||(r.timeout=0),r},f.prototype._onSyncError=function(e,t){if(!this._running)return m("Sync no longer running: exiting"),this._connectionReturnedDefer&&(this._connectionReturnedDefer.reject(),this._connectionReturnedDefer=null),void this._updateSyncState("STOPPED");h.logger.error("/sync error %s",e),h.logger.error(e),this._shouldAbortSync(e)||(this._failedSyncCount++,h.logger.log("Number of consecutive failed sync requests:",this._failedSyncCount),m("Starting keep-alive"),this._startKeepAlives().then(e=>{e&&"ERROR"===this.getSyncState()&&this._updateSyncState("CATCHUP",{oldSyncToken:null,nextSyncToken:null,catchingUp:!0}),this._sync(t)}),this._currentSyncRequest=null,this._updateSyncState(this._failedSyncCount>=3?"ERROR":"RECONNECTING",{error:e}))},f.prototype._processSyncResponse=async function(e,t){const n=this.client,i=this;if(t.presence&&a.isArray(t.presence.events)&&t.presence.events.map(n.getEventMapper()).forEach((function(e){let t=n.store.getUser(e.getSender());t?t.setPresenceEvent(e):(t=g(n,e.getSender()),t.setPresenceEvent(e),n.store.storeUser(t)),n.emit("event",e)})),t.account_data&&a.isArray(t.account_data.events)){const e=t.account_data.events.map(n.getEventMapper()),i=e.reduce((e,t)=>(e[t.getId()]=n.store.getAccountData(t.getType()),e),{});n.store.storeAccountDataEvents(e),e.forEach((function(e){if("m.push_rules"===e.getType()){const t=e.getContent();n.pushRules=u.PushProcessor.rewriteDefaultRules(t)}const t=i[e.getId()];return n.emit("accountData",e,t),e}))}if(t.to_device&&a.isArray(t.to_device.events)&&t.to_device.events.length>0){const e=[];t.to_device.events.map(n.getEventMapper()).map(t=>{if("m.key.verification.cancel"===t.getType()){const n=t.getContent().transaction_id;n&&e.push(n)}return t}).forEach((function(t){const i=t.getContent();"m.room.message"!=t.getType()||"m.bad.encrypted"!=i.msgtype?("m.key.verification.start"!==t.getType()&&"m.key.verification.request"!==t.getType()||e.includes(i.transaction_id)&&t.flagCancelled(),n.emit("toDeviceEvent",t)):h.logger.log("Ignoring undecryptable to-device event from "+t.getSender())}))}else this._catchingUp=!1;t.groups&&(t.groups.invite&&this._processGroupSyncEntry(t.groups.invite,"invite"),t.groups.join&&this._processGroupSyncEntry(t.groups.join,"join"),t.groups.leave&&this._processGroupSyncEntry(t.groups.leave,"leave"));let r=[],s=[],o=[];t.rooms&&(t.rooms.invite&&(r=this._mapSyncResponseToRoomArray(t.rooms.invite)),t.rooms.join&&(s=this._mapSyncResponseToRoomArray(t.rooms.join)),t.rooms.leave&&(o=this._mapSyncResponseToRoomArray(t.rooms.leave))),this._notifEvents=[],r.forEach((function(e){const t=e.room,r=i._mapSyncEventsFormat(e.invite_state,t);i._processRoomEvents(t,r),e.isBrandNewRoom&&(t.recalculate(),n.store.storeRoom(t),n.emit("Room",t)),r.forEach((function(e){n.emit("event",e)})),t.updateMyMembership("invite")})),await a.promiseMapSeries(s,(async function(t){const r=t.room,s=i._mapSyncEventsFormat(t.state,r),o=i._mapSyncEventsFormat(t.timeline,r),c=i._mapSyncEventsFormat(t.ephemeral),u=i._mapSyncEventsFormat(t.account_data);if(t.unread_notifications){r.setUnreadNotificationCount("total",t.unread_notifications.notification_count);const e=n.isRoomEncrypted(r.roomId);(!e||e&&r.getUnreadNotificationCount("highlight")<=0)&&r.setUnreadNotificationCount("highlight",t.unread_notifications.highlight_count)}if(t.timeline=t.timeline||{},t.isBrandNewRoom)r.getLiveTimeline().setPaginationToken(t.timeline.prev_batch,l.EventTimeline.BACKWARDS);else if(t.timeline.limited){let s=!0;for(let e=o.length-1;e>=0;e--){const t=o[e].getId();if(r.getTimelineForEvent(t)){m("Already have event "+t+" in limited sync - not resetting"),s=!1,o.splice(0,e);break}}s&&(i._deregisterStateListeners(r),r.resetLiveTimeline(t.timeline.prev_batch,i.opts.canResetEntireTimeline(r.roomId)?null:e.oldSyncToken),n.resetNotifTimelineSet(),i._registerStateListeners(r))}async function h(e){if(n.emit("event",e),e.isState()&&"m.room.encryption"==e.getType()&&i.opts.crypto&&await i.opts.crypto.onCryptoEvent(e),e.isState()&&"im.vector.user_status"===e.getType()){let t=n.store.getUser(e.getStateKey());t?t._unstable_updateStatusMessage(e):(t=g(n,e.getStateKey()),t._unstable_updateStatusMessage(e),n.store.storeUser(t))}}i._processRoomEvents(r,s,o,e.fromCache),t.summary&&r.setSummary(t.summary),r.addEphemeralEvents(c),r.addAccountData(u),r.recalculate(),t.isBrandNewRoom&&(n.store.storeRoom(r),n.emit("Room",r)),i._processEventsForNotifs(r,o),await a.promiseMapSeries(s,h),await a.promiseMapSeries(o,h),c.forEach((function(e){n.emit("event",e)})),u.forEach((function(e){n.emit("event",e)})),r.updateMyMembership("join")})),o.forEach((function(e){const t=e.room,r=i._mapSyncEventsFormat(e.state,t),s=i._mapSyncEventsFormat(e.timeline,t),o=i._mapSyncEventsFormat(e.account_data);i._processRoomEvents(t,r,s),t.addAccountData(o),t.recalculate(),e.isBrandNewRoom&&(n.store.storeRoom(t),n.emit("Room",t)),i._processEventsForNotifs(t,s),r.forEach((function(e){n.emit("event",e)})),s.forEach((function(e){n.emit("event",e)})),o.forEach((function(e){n.emit("event",e)})),t.updateMyMembership("leave")})),e.oldSyncToken&&this._notifEvents.length&&(this._notifEvents.sort((function(e,t){return e.getTs()-t.getTs()})),this._notifEvents.forEach((function(e){n.getNotifTimelineSet().addLiveEvent(e)}))),t.device_lists&&this.opts.crypto&&await this.opts.crypto.handleDeviceListChanges(e,t.device_lists),this.opts.crypto&&t.device_one_time_keys_count&&this.opts.crypto.updateOneTimeKeyCount(t.device_one_time_keys_count.signed_curve25519||0)},f.prototype._startKeepAlives=function(e){return void 0===e&&(e=2e3+Math.floor(5e3*Math.random())),null!==this._keepAliveTimer&&clearTimeout(this._keepAliveTimer),e>0?this._keepAliveTimer=setTimeout(this._pokeKeepAlive.bind(this),e):this._pokeKeepAlive(),this._connectionReturnedDefer||(this._connectionReturnedDefer=a.defer()),this._connectionReturnedDefer.promise},f.prototype._pokeKeepAlive=function(e){void 0===e&&(e=!1);const t=this;function n(){clearTimeout(t._keepAliveTimer),t._connectionReturnedDefer&&(t._connectionReturnedDefer.resolve(e),t._connectionReturnedDefer=null)}this.client._http.request(void 0,"GET","/_matrix/client/versions",void 0,void 0,{prefix:"",localTimeoutMs:15e3}).then((function(){n()}),(function(i){400==i.httpStatus||404==i.httpStatus?t._keepAliveTimer=setTimeout(n,2e3):(e=!0,t._keepAliveTimer=setTimeout(t._pokeKeepAlive.bind(t,e),5e3+Math.floor(5e3*Math.random())),t._updateSyncState("ERROR",{error:i}))}))},f.prototype._processGroupSyncEntry=function(e,t){for(const n of Object.keys(e)){const i=e[n];let r=this.client.store.getGroup(n);const s=null===r;null===r&&(r=this.createGroup(n)),i.profile&&r.setProfile(i.profile.name,i.profile.avatar_url),i.inviter&&r.setInviter({userId:i.inviter}),r.setMyMembership(t),s&&this.client.emit("Group",r)}},f.prototype._mapSyncResponseToRoomArray=function(e){const t=this.client,n=this;return a.keys(e).map((function(i){const r=e[i];let s=t.store.getRoom(i),o=!1;return s||(s=n.createRoom(i),o=!0),r.room=s,r.isBrandNewRoom=o,r}))},f.prototype._mapSyncEventsFormat=function(e,t){if(!e||!a.isArray(e.events))return[];const n=this.client.getEventMapper();return e.events.map((function(e){return t&&(e.room_id=t.roomId),n(e)}))},f.prototype._resolveInvites=function(e){if(!e||!this.opts.resolveInvitesToProfiles)return;const t=this.client;e.getMembersWithMembership("invite").forEach((function(n){if(n._requestedProfileInfo)return;n._requestedProfileInfo=!0;const i=t.getUser(n.userId);let r;r=i?Promise.resolve({avatar_url:i.avatarUrl,displayname:i.displayName}):t.getProfileInfo(n.userId),r.then((function(t){const i=n.events.member;"invite"===i.getContent().membership&&(i.getContent().avatar_url=t.avatar_url,i.getContent().displayname=t.displayname,n.setMembershipEvent(i,e.currentState))}),(function(e){}))}))},f.prototype._processRoomEvents=function(e,t,n,i){const r=e.getLiveTimeline(),s=0==r.getEvents().length;if(s){for(const e of t)this.client.getPushActionsForEvent(e);r.initialiseState(t)}this._resolveInvites(e),e.recalculate(),s||(e.oldState.setStateEvents(t||[]),e.currentState.setStateEvents(t||[])),e.addLiveEvents(n||[],null,i)},f.prototype._processEventsForNotifs=function(e,t){if(this.client.getNotifTimelineSet())for(let n=0;n<t.length;n++){const e=this.client.getPushActionsForEvent(t[n]);e&&e.notify&&e.tweaks&&e.tweaks.highlight&&this._notifEvents.push(t[n])}},f.prototype._getGuestFilter=function(){return this.client._guestRooms?JSON.stringify({room:{timeline:{limit:20}}}):"{}"},f.prototype._updateSyncState=function(e,t){const n=this._syncState;this._syncState=e,this._syncStateData=t,this.client.emit("sync",this._syncState,n,t)},f.prototype._onOnline=function(){m("Browser thinks we are back online"),this._startKeepAlives(0)}},TXj3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PushProcessor=o;var i=n("t+e4");const r=["override","content","room","sender","underride"],s=[{rule_id:".m.rule.tombstone",default:!0,enabled:!0,conditions:[{kind:"event_match",key:"type",pattern:"m.room.tombstone"},{kind:"event_match",key:"state_key",pattern:""}],actions:["notify",{set_tweak:"highlight",value:!0}]},{rule_id:".m.rule.reaction",default:!0,enabled:!0,conditions:[{kind:"event_match",key:"type",pattern:"m.reaction"}],actions:["dont_notify"]}];function o(e){const t={},n=(e,t)=>{for(let n=0;n<r.length;++n){const i=r[n],o=t[i];if(o)for(let t=0;t<o.length;++t){const n=o[t];if(!n.enabled)continue;const r=s(i,n);if(r&&this.ruleMatchesEvent(r,e))return n.kind=i,n}}return null},s=function(e,t){const n={rule_id:t.rule_id,actions:t.actions,conditions:[]};switch(e){case"underride":case"override":n.conditions=t.conditions;break;case"room":if(!t.rule_id)return null;n.conditions.push({kind:"event_match",key:"room_id",value:t.rule_id});break;case"sender":if(!t.rule_id)return null;n.conditions.push({kind:"event_match",key:"user_id",value:t.rule_id});break;case"content":if(!t.pattern)return null;n.conditions.push({kind:"event_match",key:"content.body",pattern:t.pattern})}return n},a=function(e,t){const n={event_match:h,contains_display_name:u,room_member_count:l,sender_notification_permission:c};return!!n[e.kind]&&n[e.kind](e,t)},c=function(t,n){const i=t.key;if(!i)return!1;const r=e.getRoom(n.getRoomId());return!(!r||!r.currentState)&&r.currentState.mayTriggerNotifOfType(i,n.getSender())},l=function(t,n){if(!t.is)return!1;const i=e.getRoom(n.getRoomId());if(!i||!i.currentState||!i.currentState.members)return!1;const r=i.currentState.getJoinedMemberCount(),s=t.is.match(/^([=<>]*)([0-9]*)$/);if(!s)return!1;const o=s[1],a=parseInt(s[2]);if(isNaN(a))return!1;switch(o){case"":case"==":return r==a;case"<":return r<a;case">":return r>a;case"<=":return r<=a;case">=":return r>=a;default:return!1}},u=function(t,n){let r=n.getContent();if(n.isEncrypted()&&n.getClearContent()&&(r=n.getClearContent()),!r||!r.body||"string"!=typeof r.body)return!1;const s=e.getRoom(n.getRoomId());if(!(s&&s.currentState&&s.currentState.members&&s.currentState.getMember(e.credentials.userId)))return!1;const o=s.currentState.getMember(e.credentials.userId).name,a=new RegExp("(^|\\W)"+(0,i.escapeRegExp)(o)+"(\\W|$)","i");return r.body.search(a)>-1},h=function(e,t){if(!e.key)return!1;const n=p(e.key,t);if("string"!=typeof n)return!1;if(e.value)return e.value===n;let i;return i="content.body"==e.key?d("(^|\\W)",e.pattern,"(\\W|$)"):d("^",e.pattern,"$"),!!n.match(i)},d=function(e,n,r){return t[n]||(t[n]=new RegExp(e+(0,i.globToRegexp)(n)+r,"i")),t[n]},p=function(e,t){const n=e.split(".");let r;const s=n[0];for("content"===s?(r=t.getContent(),n.shift()):"type"===s?(r=t.getType(),n.shift()):r=t.event;n.length>0;){const e=n.shift();if((0,i.isNullOrUndefined)(r[e]))return null;r=r[e]}return r};this.ruleMatchesEvent=function(e,t){let n=!0;for(let i=0;i<e.conditions.length;++i)n&=a(e.conditions[i],t);return n},this.actionsForEvent=function(t){return function(t,i){const r=function(t,i){return i?t.getSender()===e.credentials.userId?null:n(t,i.global):null}(t,i);if(!r)return{};const s=o.actionListToActionsObject(r.actions);return void 0===s.tweaks.highlight&&(s.tweaks.highlight="content"==r.kind),s}(t,e.pushRules)},this.getPushRuleById=function(t){for(const n of["global"])if(void 0!==e.pushRules[n])for(const i of r)if(void 0!==e.pushRules[n][i])for(const r of e.pushRules[n][i])if(r.rule_id===t)return r;return null}}o.actionListToActionsObject=function(e){const t={notify:!1,tweaks:{}};for(let n=0;n<e.length;++n){const i=e[n];"notify"===i?t.notify=!0:"object"==typeof i&&(void 0===i.value&&(i.value=!0),t.tweaks[i.set_tweak]=i.value)}return t},o.rewriteDefaultRules=function(e){let t=JSON.parse(JSON.stringify(e));t||(t={}),t.global||(t.global={}),t.global.override||(t.global.override=[]);const n=t.global.override;for(const i of s){const e=n.find(e=>e.rule_id===i.rule_id);e?(e.default=i.default,e.conditions=i.conditions,e.actions=i.actions):(console.warn("Adding default global override for "+i.rule_id),n.push(i))}return t}},TqRt:function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},VEe5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.newVerificationError=r,t.errorFactory=s,t.errorFromEvent=function(e){const t=e.getContent();if(t){const{code:e,reason:n}=t;return{code:e,reason:n}}return{code:"Unknown error",reason:"m.unknown"}},t.newInvalidMessageError=t.newUserMismatchError=t.newKeyMismatchError=t.newUnexpectedMessageError=t.newUnknownMethodError=t.newUnknownTransactionError=t.newTimeoutError=t.newUserCancelledError=void 0;var i=n("7UXS");function r(e,t,n){const r=Object.assign({},{code:e,reason:t},n);return new i.MatrixEvent({type:"m.key.verification.cancel",content:r})}function s(e,t){return function(n){return r(e,t,n)}}const o=s("m.user","Cancelled by user");t.newUserCancelledError=o;const a=s("m.timeout","Timed out");t.newTimeoutError=a;const c=s("m.unknown_transaction","Unknown transaction");t.newUnknownTransactionError=c;const l=s("m.unknown_method","Unknown method");t.newUnknownMethodError=l;const u=s("m.unexpected_message","Unexpected message");t.newUnexpectedMessageError=u;const h=s("m.key_mismatch","Key mismatch");t.newKeyMismatchError=h;const d=s("m.user_error","User mismatch");t.newUserMismatchError=d;const p=s("m.invalid_message","Invalid message");t.newInvalidMessageError=p},VRzr:function(e,t,n){"use strict";var i=n("TqRt"),r=n("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.encryptMessageForDevice=async function(e,t,n,i,r,a,c){const l=a.getIdentityKey(),u=await i.getSessionIdForDevice(l);if(null===u)return;s.logger.log("Using sessionid "+u+" for device "+r+":"+a.deviceId);const h={sender:t,sender_device:n,keys:{ed25519:i.deviceEd25519Key},recipient:r,recipient_keys:{ed25519:a.getFingerprint()}};o.extend(h,c),e[l]=await i.encryptMessage(l,u,JSON.stringify(h))},t.getExistingOlmSessions=async function(e,t,n){const i={},r={},s=[];for(const[o,a]of Object.entries(n))for(const t of a){const n=t.deviceId,a=t.getIdentityKey();s.push((async()=>{const s=await e.getSessionIdForDevice(a,!0);null===s?(i[o]=i[o]||[],i[o].push(t)):(r[o]=r[o]||{},r[o][n]={device:t,sessionId:s})})())}return await Promise.all(s),[i,r]},t.ensureOlmSessionsForDevices=async function(e,t,n,i,r,o){"number"==typeof i&&(o=r,r=i,i=!1);const a=[],l={},u={};for(const[c,f]of Object.entries(n)){l[c]={};for(const t of f){const n=t.deviceId,r=t.getIdentityKey();if(r===e.deviceCurve25519Key){s.logger.info("Attempted to start session with ourself! Ignoring"),l[c][n]={device:t,sessionId:null};continue}e._sessionsInProgress[r]||(e._sessionsInProgress[r]=new Promise((t,n)=>{u[r]={resolve:(...n)=>{delete e._sessionsInProgress[r],t(...n)},reject:(...t)=>{delete e._sessionsInProgress[r],n(...t)}}}));const o=await e.getSessionIdForDevice(r,u[r]);null!==o&&u[r]&&(delete e._sessionsInProgress[r],u[r].resolve(),delete u[r]),(null===o||i)&&(s.logger.info(i?"Forcing new Olm session for "+c+":"+n:"Making new Olm session for "+c+":"+n),a.push([c,n])),l[c][n]={device:t,sessionId:o}}}if(0===a.length)return l;let h;try{h=await t.claimOneTimeKeys(a,"signed_curve25519",r)}catch(m){for(const e of Object.values(u))e.resolve();throw s.logger.log("failed to claim one-time keys",m,a),m}o&&"failures"in h&&o.push(...Object.keys(h.failures));const d=h.one_time_keys||{},p=[];for(const[f,g]of Object.entries(n)){const t=d[f]||{};for(let n=0;n<g.length;n++){const r=g[n],o=r.deviceId,a=r.getIdentityKey();if(a===e.deviceCurve25519Key)continue;if(l[f][o].sessionId&&!i)continue;const h=t[o]||{};let d=null;for(const e in h)0===e.indexOf("signed_curve25519:")&&(d=h[e]);d?p.push(c(e,d,f,r).then(e=>{u[a]&&u[a].resolve(e),l[f][o].sessionId=e},e=>{throw u[a]&&u[a].resolve(),e})):(s.logger.warn("No one-time keys (alg=signed_curve25519) for device "+f+":"+o),u[a]&&u[a].resolve())}}return await Promise.all(p),l},t.verifySignature=l,t.pkSign=function(e,t,n,i){let r=!1;if(t instanceof Uint8Array){const e=new global.Olm.PkSigning;i=e.init_with_seed(t),t=e,r=!0}const s=e.signatures||{};delete e.signatures;const o=e.unsigned;e.unsigned&&delete e.unsigned;try{const c=s[n]||{};return s[n]=c,c["ed25519:"+i]=t.sign(a.default.stringify(e))}finally{e.signatures=s,o&&(e.unsigned=o),r&&t.free()}},t.pkVerify=function(e,t,n){const i="ed25519:"+t;if(!(e.signatures&&e.signatures[n]&&e.signatures[n][i]))throw new Error("No signature");const r=e.signatures[n][i],s=new global.Olm.Utility,o=e.signatures;delete e.signatures;const c=e.unsigned;e.unsigned&&delete e.unsigned;try{s.ed25519_verify(t,a.default.stringify(e),r)}finally{e.signatures=o,c&&(e.unsigned=c),s.free()}},t.encodeBase64=u,t.encodeUnpaddedBase64=function(e){return u(e).replace(/=+$/g,"")},t.decodeBase64=function(e){return Buffer.from(e,"base64")},t.MEGOLM_BACKUP_ALGORITHM=t.MEGOLM_ALGORITHM=t.OLM_ALGORITHM=void 0;var s=n("PrRn"),o=r(n("t+e4")),a=i(n("0ZCT"));async function c(e,t,n,i){const r=i.deviceId;try{await l(e,t,n,r,i.getFingerprint())}catch(a){return s.logger.error("Unable to verify signature on one-time key for device "+n+":"+r+":",a),null}let o;try{o=await e.createOutboundSession(i.getIdentityKey(),t.key)}catch(a){return s.logger.error("Error starting olm session with device "+n+":"+r+": "+a),null}return s.logger.log("Started new olm sessionid "+o+" for device "+n+":"+r),o}async function l(e,t,n,i,r){const s=((t.signatures||{})[n]||{})["ed25519:"+i];if(!s)throw Error("No signature");const o=Object.assign({},t);delete o.unsigned,delete o.signatures;const c=a.default.stringify(o);e.verifySignature(r,c,s)}function u(e){return Buffer.from(e).toString("base64")}t.OLM_ALGORITHM="m.olm.v1.curve25519-aes-sha2",t.MEGOLM_ALGORITHM="m.megolm.v1.aes-sha2",t.MEGOLM_BACKUP_ALGORITHM="m.megolm_backup.v1.curve25519-aes-sha2"},XH0y:function(e,t,n){var i,r;!function(s,o){"use strict";void 0===(r="function"==typeof(i=function(){var e=function(){},t="undefined"!=typeof window&&void 0!==window.navigator&&/Trident\/|MSIE /.test(window.navigator.userAgent),n=["trace","debug","info","warn","error"];function i(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(i){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function r(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function s(n){return"debug"===n&&(n="log"),"undefined"!=typeof console&&("trace"===n&&t?r:void 0!==console[n]?i(console,n):void 0!==console.log?i(console,"log"):e)}function o(t,i){for(var r=0;r<n.length;r++){var s=n[r];this[s]=r<t?e:this.methodFactory(s,t,i)}this.log=this.debug}function a(e,t,n){return function(){"undefined"!=typeof console&&(o.call(this,t,n),this[e].apply(this,arguments))}}function c(e,t,n){return s(e)||a.apply(this,arguments)}function l(e,t,i){var r,s=this,a="loglevel";function l(){var e;if("undefined"!=typeof window){try{e=window.localStorage[a]}catch(i){}if(void 0===e)try{var t=window.document.cookie,n=t.indexOf(encodeURIComponent(a)+"=");-1!==n&&(e=/^([^;]+)/.exec(t.slice(n))[1])}catch(i){}return void 0===s.levels[e]&&(e=void 0),e}}e&&(a+=":"+e),s.name=e,s.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},s.methodFactory=i||c,s.getLevel=function(){return r},s.setLevel=function(t,i){if("string"==typeof t&&void 0!==s.levels[t.toUpperCase()]&&(t=s.levels[t.toUpperCase()]),!("number"==typeof t&&t>=0&&t<=s.levels.SILENT))throw"log.setLevel() called with invalid level: "+t;if(r=t,!1!==i&&function(e){var t=(n[e]||"silent").toUpperCase();if("undefined"!=typeof window){try{return void(window.localStorage[a]=t)}catch(i){}try{window.document.cookie=encodeURIComponent(a)+"="+t+";"}catch(i){}}}(t),o.call(s,t,e),"undefined"==typeof console&&t<s.levels.SILENT)return"No console available for logging"},s.setDefaultLevel=function(e){l()||s.setLevel(e,!1)},s.enableAll=function(e){s.setLevel(s.levels.TRACE,e)},s.disableAll=function(e){s.setLevel(s.levels.SILENT,e)};var u=l();null==u&&(u=null==t?"WARN":t),s.setLevel(u,!1)}var u=new l,h={};u.getLogger=function(e){if("string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=h[e];return t||(t=h[e]=new l(e,u.getLevel(),u.methodFactory)),t};var d="undefined"!=typeof window?window.log:void 0;return u.noConflict=function(){return"undefined"!=typeof window&&window.log===u&&(window.log=d),u},u.getLoggers=function(){return h},u})?i.call(t,n,t,e):i)||(e.exports=r)}()},YcCt:function(e,t,n){"use strict";function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,r){n=n||"=";var s={};if("string"!=typeof e||0===e.length)return s;var o=/\+/g;e=e.split(t=t||"&");var a=1e3;r&&"number"==typeof r.maxKeys&&(a=r.maxKeys);var c=e.length;a>0&&c>a&&(c=a);for(var l=0;l<c;++l){var u,h,d,p,m=e[l].replace(o,"%20"),f=m.indexOf(n);f>=0?(u=m.substr(0,f),h=m.substr(f+1)):(u=m,h=""),d=decodeURIComponent(u),p=decodeURIComponent(h),i(s,d)?Array.isArray(s[d])?s[d].push(p):s[d]=[s[d],p]:s[d]=p}return s}},YuTi:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},YuxU:function(e,t,n){"use strict";var i=n("284h"),r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.MatrixClient=P,t.CRYPTO_ENABLED=void 0;var s=r(n("CxY0")),o=n("+qE3"),a=n("j0j2"),c=n("8zgi"),l=n("RmcG"),u=n("7UXS"),h=n("tyto"),d=n("tXbD"),p=n("NxCW"),m=n("HtZB"),f=i(n("t+e4")),g=n("1F5k"),_=n("JOJy"),y=i(n("EP5U")),v=i(n("VRzr")),b=n("7/Kr"),w=n("B2hj"),S=n("PrRn"),E=n("fmda"),k=n("9Nfa"),C=n("qmDw"),x=n("PwFS"),T=n("TXj3"),I=n("rWBP"),R=n("ZP3D");const O=(0,E.isCryptoAvailable)();function A(e,t,n){const i=[];for(const[s,o]of Object.entries(e))try{const e=D(o,t);e.session_id=s,e.room_id=n,i.push(e)}catch(r){S.logger.log("Failed to decrypt megolm session from backup",r)}return i}function D(e,t){return JSON.parse(t.decrypt(e.session_data.ephemeral,e.session_data.mac,e.session_data.ciphertext))}function P(e){if(e.baseUrl=f.ensureNoTrailingSlash(e.baseUrl),e.idBaseUrl=f.ensureNoTrailingSlash(e.idBaseUrl),a.MatrixBaseApis.call(this,e),this.olmVersion=null,this.reEmitter=new b.ReEmitter(this),this.store=e.store||new p.StubStore,this.deviceId=e.deviceId||null,this.credentials={userId:e.userId||null},e.deviceToImport?this.deviceId?S.logger.warn("not importing device because device ID is provided to constructor independently of exported data"):this.credentials.userId?S.logger.warn("not importing device because user ID is provided to constructor independently of exported data"):e.deviceToImport.deviceId?(this.deviceId=e.deviceToImport.deviceId,this.credentials.userId=e.deviceToImport.userId,this._exportedOlmDeviceToImport=e.deviceToImport.olmDevice):S.logger.warn("not importing device because no device ID in exported data"):e.pickleKey&&(this.pickleKey=e.pickleKey),this.scheduler=e.scheduler,this.scheduler){const e=this;this.scheduler.setProcessFunction((async function(t){const n=e.getRoom(t.getRoomId());t.status!==u.EventStatus.SENDING&&F(n,t,u.EventStatus.SENDING);const i=await U(e,t);return n&&n.updatePendingEvent(t,u.EventStatus.SENT,i.event_id),i}))}this.clientRunning=!1,this.callList={};const t=(0,m.createNewMatrixCall)(this);this._supportsVoip=!1,t&&(function(e){const t={};let n=[];function i(){if("SYNCING"===e.getSyncState()){if(n.some(e=>e.isBeingDecrypted()))return;const e={};for(let t=n.length-1;t>=0;t--){const i=n[t];"m.call.answer"!==i.getType()&&"m.call.hangup"!==i.getType()||(e[i.getContent().call_id]="yep")}n.forEach((function(t){"m.call.invite"===t.getType()&&e[t.getContent().call_id]||r(t)})),n=[]}}function r(n){const i=n.getContent();let r,s=i.call_id?e.callList[i.call_id]:void 0;if("m.call.invite"===n.getType()){if(n.getSender()===e.credentials.userId)return;if(n.getAge()>i.lifetime)return;if(s&&"ended"===s.state)return;if(s&&S.logger.log("WARN: Already have a MatrixCall with id %s but got an invite. Clobbering.",i.call_id),s=(0,m.createNewMatrixCall)(e,n.getRoomId(),{forceTURN:e._forceTURN}),!s)return void S.logger.log("Incoming call ID "+i.call_id+" but this client doesn't support WebRTC");if(s.callId=i.call_id,s._initWithInvite(n),e.callList[s.callId]=s,t[s.callId])for(r=0;r<t[s.callId].length;r++)s._gotRemoteIceCandidate(t[s.callId][r]);let o;const a=f.values(e.callList);for(r=0;r<a.length;++r){const e=a[r];if(s.roomId===e.roomId&&"outbound"===e.direction&&-1!==["wait_local_media","create_offer","invite_sent"].indexOf(e.state)){o=e;break}}o?"wait_local_media"===o.state||"create_offer"===o.state||o.callId>s.callId?(S.logger.log("Glare detected: answering incoming call "+s.callId+" and canceling outgoing call "+o.callId),o._replacedBy(s),s.answer()):(S.logger.log("Glare detected: rejecting incoming call "+s.callId+" and keeping outgoing call "+o.callId),s.hangup()):e.emit("Call.incoming",s)}else if("m.call.answer"===n.getType()){if(!s)return;n.getSender()===e.credentials.userId?"ringing"===s.state&&s._onAnsweredElsewhere(i):s._receivedAnswer(i)}else if("m.call.candidates"===n.getType()){if(n.getSender()===e.credentials.userId)return;if(s)for(r=0;r<i.candidates.length;r++)s._gotRemoteIceCandidate(i.candidates[r]);else t[i.call_id]||(t[i.call_id]=[]),t[i.call_id]=t[i.call_id].concat(i.candidates)}else"m.call.hangup"===n.getType()&&(s?"ended"!==s.state&&(s._onHangupReceived(i),delete e.callList[i.call_id]):(s=(0,m.createNewMatrixCall)(e,n.getRoomId()),s&&(s.callId=i.call_id,s._initWithHangup(n),e.callList[i.call_id]=s)))}e.on("sync",i),e.on("event",(function(e){(0===e.getType().indexOf("m.call.")||e.isBeingDecrypted())&&n.push(e),(e.isBeingDecrypted()||e.isDecryptionFailure())&&e.once("Event.decrypted",()=>{-1!==e.getType().indexOf("m.call.")&&(n.includes(e)?i():r(e))})}))}(this),this._supportsVoip=!0),this._syncingRetry=null,this._syncApi=null,this._peekSync=null,this._isGuest=!1,this._ongoingScrollbacks={},this.timelineSupport=Boolean(e.timelineSupport),this.urlPreviewCache={},this._notifTimelineSet=null,this.unstableClientRelationAggregation=!!e.unstableClientRelationAggregation,this._crypto=null,this._cryptoStore=e.cryptoStore,this._sessionStore=e.sessionStore,this._verificationMethods=e.verificationMethods,this._cryptoCallbacks=e.cryptoCallbacks||{},this._forceTURN=e.forceTURN||!1,this._fallbackICEServerAllowed=e.fallbackICEServerAllowed||!1,this._roomList=new w.RoomList(this._cryptoStore),this._pushProcessor=new T.PushProcessor(this),this._serverVersionsCache=null,this._cachedCapabilities=null,this.on("Event.decrypted",e=>{const t=e.getPushActions(),n=this._pushProcessor.actionsForEvent(e);e.setPushActions(n);const i=this.getRoom(e.getRoomId());if(!i)return;const r=i.getUnreadNotificationCount("highlight"),s=!(!t||!t.tweaks||!t.tweaks.highlight),o=!(!n||!n.tweaks||!n.tweaks.highlight);if((s!==o||r>0)&&!i.hasUserReadEvent(this.getUserId(),e.getId())){let e=r;o&&!s&&e++,!o&&s&&e--,i.setUnreadNotificationCount("highlight",e),i.getUnreadNotificationCount("total")<e&&i.setUnreadNotificationCount("total",e)}}),this.on("Room.receipt",(e,t)=>{if(t&&this.isRoomEncrypted(t.roomId)){const n=e.getContent();if(!(Object.keys(n).filter(e=>Object.keys(n[e]["m.read"]).includes(this.getUserId())).length>0))return;const i=20,r=t.getLiveTimeline().getEvents();let s=0;for(let e=r.length-1;e>=0;e--){if(e===r.length-i)return;const n=r[e];if(t.hasUserReadEvent(this.getUserId(),n.getId()))break;const o=this.getPushActionsForEvent(n);s+=o.tweaks&&o.tweaks.highlight?1:0}t.setUnreadNotificationCount("highlight",s)}})}async function M(e,t,n,i,r,s){if(!e._crypto)throw new Error("End-to-End encryption disabled");await e._crypto.setDeviceVerification(t,n,i,r,s)}function N(e,t){for(const n of t)e.prototype[n]=function(...e){if(!this._crypto)throw new Error("End-to-end encryption disabled");return this._crypto[n](...e)}}function L(e,t,n,i){return Promise.resolve().then((function(){const i=function(e,t,n){if(t.isEncrypted())return null;if(!e.isRoomEncrypted(t.getRoomId()))return null;if("m.reaction"===t.getType())return null;if(!e._crypto)throw new Error("This room is configured to use encryption, but your client does not support encryption.");return e._crypto.encryptEvent(t,n)}(e,n,t);return i?(F(t,n,u.EventStatus.ENCRYPTING),i.then(()=>{F(t,n,u.EventStatus.SENDING)})):null})).then((function(){let i;return e.scheduler&&(i=e.scheduler.queueEvent(n),i&&e.scheduler.getQueueForEvent(n).length>1&&F(t,n,u.EventStatus.QUEUED)),i||(i=U(e,n),t&&(i=i.then(e=>(t.updatePendingEvent(n,u.EventStatus.SENT,e.event_id),e)))),i})).then((function(e){return i&&i(null,e),e}),(function(e){S.logger.error("Error sending event",e.stack||e);try{n.error=e,F(t,n,u.EventStatus.NOT_SENT),e.event=n,i&&i(e)}catch(r){S.logger.error("Exception in error handler!",r.stack||e)}throw e}))}function F(e,t,n){e?e.updatePendingEvent(t,n):t.setStatus(n)}function U(e,t){const n=t._txnId?t._txnId:e.makeTxnId(),i={$roomId:t.getRoomId(),$eventType:t.getWireType(),$stateKey:t.getStateKey(),$txnId:n};let r;if(t.isState()){let e="/rooms/$roomId/state/$eventType";t.getStateKey()&&t.getStateKey().length>0&&(e="/rooms/$roomId/state/$eventType/$stateKey"),r=f.encodeUri(e,i)}else r=t.isRedaction()?f.encodeUri("/rooms/$roomId/redact/$redactsEventId/$txnId",Object.assign({$redactsEventId:t.event.redacts},i)):f.encodeUri("/rooms/$roomId/send/$eventType/$txnId",i);return e._http.authedRequest(void 0,"PUT",r,void 0,t.getWireContent()).then(e=>(S.logger.log(`Event sent to ${t.getRoomId()} with event id ${e.event_id}`),e))}function B(e,t,n,i,r,s){f.isFunction(r)&&(s=r,r=void 0);const o=f.encodeUri("/rooms/$room_id/$membership",{$room_id:t,$membership:i});return e._http.authedRequest(s,"POST",o,void 0,{user_id:n,reason:r})}function j(e,t,n){e&&e(n),t(n)}function V(e,t,n){e&&e(null,n),t(n)}function K(e,t){const n=Boolean(t&&t.preventReEmit);return function(t){const i=new u.MatrixEvent(t);i.isEncrypted()&&(n||e.reEmitter.reEmit(i,["Event.decrypted"]),i.attemptDecryption(e._crypto));const r=e.getRoom(i.getRoomId());return r&&!n&&r.reEmitter.reEmit(i,["Event.replaced"]),i}}t.CRYPTO_ENABLED=O,f.inherits(P,o.EventEmitter),f.extend(P.prototype,a.MatrixBaseApis.prototype),P.prototype.exportDevice=async function(){if(this._crypto)return{userId:this.credentials.userId,deviceId:this.deviceId,olmDevice:await this._crypto._olmDevice.export()};S.logger.warn("not exporting device if crypto is not enabled")},P.prototype.clearStores=function(){if(this._clientRunning)throw new Error("Cannot clear stores while client is running");const e=[];return e.push(this.store.deleteAllData()),this._cryptoStore&&e.push(this._cryptoStore.deleteAllData()),Promise.all(e)},P.prototype.getUserId=function(){return this.credentials&&this.credentials.userId?this.credentials.userId:null},P.prototype.getDomain=function(){return this.credentials&&this.credentials.userId?this.credentials.userId.replace(/^.*?:/,""):null},P.prototype.getUserIdLocalpart=function(){return this.credentials&&this.credentials.userId?this.credentials.userId.split(":")[0].substring(1):null},P.prototype.getDeviceId=function(){return this.deviceId},P.prototype.supportsVoip=function(){return this._supportsVoip},P.prototype.setForceTURN=function(e){this._forceTURN=e},P.prototype.getSyncState=function(){return this._syncApi?this._syncApi.getSyncState():null},P.prototype.getSyncStateData=function(){return this._syncApi?this._syncApi.getSyncStateData():null},P.prototype.isInitialSyncComplete=function(){const e=this.getSyncState();return!!e&&("PREPARED"===e||"SYNCING"===e)},P.prototype.isGuest=function(){return this._isGuest},P.prototype.getScheduler=function(){return this.scheduler},P.prototype.setGuest=function(e){this._isGuest=e},P.prototype.retryImmediately=function(){return this._syncApi.retryImmediately()},P.prototype.getNotifTimelineSet=function(){return this._notifTimelineSet},P.prototype.setNotifTimelineSet=function(e){this._notifTimelineSet=e},P.prototype.getCapabilities=function(e=!1){const t=(new Date).getTime();return this._cachedCapabilities&&!e&&t<this._cachedCapabilities.expiration?(S.logger.log("Returning cached capabilities"),Promise.resolve(this._cachedCapabilities.capabilities)):this._http.authedRequest(void 0,"GET","/capabilities").catch(e=>(S.logger.error(e),null)).then(e=>{e||(e={});const n=e.capabilities||{},i=Object.keys(n).length?216e5:6e4+5e3*Math.random();return this._cachedCapabilities={capabilities:n,expiration:t+i},S.logger.log("Caching capabilities: ",n),n})},P.prototype.initCrypto=async function(){if(!(0,E.isCryptoAvailable)())throw new Error("End-to-end encryption not supported in this js-sdk build: did you remember to load the olm library?");if(this._crypto)return void S.logger.warn("Attempt to re-initialise e2e encryption on MatrixClient");if(!this._sessionStore)throw new Error("Cannot enable encryption: no sessionStore provided");if(!this._cryptoStore)throw new Error("Cannot enable encryption: no cryptoStore provided");S.logger.log("Crypto: Starting up crypto store..."),await this._cryptoStore.startup(),S.logger.log("Crypto: initialising roomlist..."),await this._roomList.init();const e=this.getUserId();if(null===e)throw new Error("Cannot enable encryption on MatrixClient with unknown userId: ensure userId is passed in createClient().");if(null===this.deviceId)throw new Error("Cannot enable encryption on MatrixClient with unknown deviceId: ensure deviceId is passed in createClient().");const t=new E.Crypto(this,this._sessionStore,e,this.deviceId,this.store,this._cryptoStore,this._roomList,this._verificationMethods);this.reEmitter.reEmit(t,["crypto.keyBackupFailed","crypto.keyBackupSessionsRemaining","crypto.roomKeyRequest","crypto.roomKeyRequestCancellation","crypto.warning","crypto.devicesUpdated","crypto.willUpdateDevices","deviceVerificationChanged","userTrustStatusChanged","crossSigning.keysChanged"]),S.logger.log("Crypto: initialising crypto object..."),await t.init({exportedOlmDevice:this._exportedOlmDeviceToImport,pickleKey:this.pickleKey}),delete this._exportedOlmDeviceToImport,this.olmVersion=E.Crypto.getOlmVersion(),t.registerEventHandlers(this),this._crypto=t},P.prototype.isCryptoEnabled=function(){return null!==this._crypto},P.prototype.getDeviceEd25519Key=function(){return this._crypto?this._crypto.getDeviceEd25519Key():null},P.prototype.getDeviceCurve25519Key=function(){return this._crypto?this._crypto.getDeviceCurve25519Key():null},P.prototype.uploadKeys=function(){if(null===this._crypto)throw new Error("End-to-end encryption disabled");return this._crypto.uploadDeviceKeys()},P.prototype.downloadKeys=function(e,t){return null===this._crypto?Promise.reject(new Error("End-to-end encryption disabled")):this._crypto.downloadKeys(e,t)},P.prototype.getStoredDevicesForUser=function(e){if(null===this._crypto)throw new Error("End-to-end encryption disabled");return this._crypto.getStoredDevicesForUser(e)||[]},P.prototype.getStoredDevice=function(e,t){if(null===this._crypto)throw new Error("End-to-end encryption disabled");return this._crypto.getStoredDevice(e,t)||null},P.prototype.setDeviceVerified=function(e,t,n){void 0===n&&(n=!0);const i=M(this,e,t,n,null);return e==this.credentials.userId&&this._crypto.checkKeyBackup(),i},P.prototype.setDeviceBlocked=function(e,t,n){return void 0===n&&(n=!0),M(this,e,t,null,n)},P.prototype.setDeviceKnown=function(e,t,n){return void 0===n&&(n=!0),M(this,e,t,null,null,n)},P.prototype.requestVerificationDM=function(e,t){if(null===this._crypto)throw new Error("End-to-end encryption disabled");return this._crypto.requestVerificationDM(e,t)},P.prototype.findVerificationRequestDMInProgress=function(e){if(null===this._crypto)throw new Error("End-to-end encryption disabled");return this._crypto.findVerificationRequestDMInProgress(e)},P.prototype.getVerificationRequestsToDeviceInProgress=function(e){if(null===this._crypto)throw new Error("End-to-end encryption disabled");return this._crypto.getVerificationRequestsToDeviceInProgress(e)},P.prototype.requestVerification=function(e,t){if(null===this._crypto)throw new Error("End-to-end encryption disabled");return this._crypto.requestVerification(e,t)},P.prototype.beginKeyVerification=function(e,t,n){if(null===this._crypto)throw new Error("End-to-end encryption disabled");return this._crypto.beginKeyVerification(e,t,n)},P.prototype.setGlobalBlacklistUnverifiedDevices=function(e){if(null===this._crypto)throw new Error("End-to-end encryption disabled");this._crypto.setGlobalBlacklistUnverifiedDevices(e)},P.prototype.getGlobalBlacklistUnverifiedDevices=function(){if(null===this._crypto)throw new Error("End-to-end encryption disabled");return this._crypto.getGlobalBlacklistUnverifiedDevices()},P.prototype.setGlobalErrorOnUnknownDevices=function(e){if(null===this._crypto)throw new Error("End-to-end encryption disabled");this._crypto.setGlobalErrorOnUnknownDevices(e)},P.prototype.getGlobalErrorOnUnknownDevices=function(){if(null===this._crypto)throw new Error("End-to-end encryption disabled");return this._crypto.getGlobalErrorOnUnknownDevices()},N(P,["getCrossSigningId","getStoredCrossSigningForUser","checkUserTrust","checkDeviceTrust","checkOwnCrossSigningTrust","checkCrossSigningPrivateKey","legacyDeviceVerification","prepareToEncrypt","isCrossSigningReady","getCryptoTrustCrossSignedDevices","setCryptoTrustCrossSignedDevices"]),N(P,["getEventEncryptionInfo","createRecoveryKeyFromPassphrase","bootstrapSecretStorage","addSecretStorageKey","hasSecretStorageKey","storeSecret","getSecret","isSecretStored","requestSecret","getDefaultSecretStorageKeyId","setDefaultSecretStorageKeyId","checkSecretStorageKey","checkSecretStoragePrivateKey"]),P.prototype.getEventSenderDeviceInfo=async function(e){return this._crypto?this._crypto.getEventSenderDeviceInfo(e):null},P.prototype.isEventSenderVerified=async function(e){const t=await this.getEventSenderDeviceInfo(e);return!!t&&t.isVerified()},P.prototype.cancelAndResendEventRoomKeyRequest=function(e){return e.cancelAndResendKeyRequest(this._crypto,this.getUserId())},P.prototype.setRoomEncryption=function(e,t){if(!this._crypto)throw new Error("End-to-End encryption disabled");return this._crypto.setRoomEncryption(e,t)},P.prototype.isRoomEncrypted=function(e){const t=this.getRoom(e);return!!t&&(!!t.currentState.getStateEvents("m.room.encryption","")||this._roomList.isRoomEncrypted(e))},P.prototype.forceDiscardSession=function(e){if(!this._crypto)throw new Error("End-to-End encryption disabled");this._crypto.forceDiscardSession(e)},P.prototype.exportRoomKeys=function(){return this._crypto?this._crypto.exportRoomKeys():Promise.reject(new Error("End-to-end encryption disabled"))},P.prototype.importRoomKeys=function(e,t){if(!this._crypto)throw new Error("End-to-end encryption disabled");return this._crypto.importRoomKeys(e,t)},P.prototype.checkKeyBackup=function(){return this._crypto.checkKeyBackup()},P.prototype.getKeyBackupVersion=function(){return this._http.authedRequest(void 0,"GET","/room_keys/version",void 0,void 0,{prefix:g.PREFIX_UNSTABLE}).then(e=>e.algorithm!==v.MEGOLM_BACKUP_ALGORITHM?Promise.reject("Unknown backup algorithm: "+e.algorithm):"object"==typeof e.auth_data&&e.auth_data.public_key?e:Promise.reject("Invalid backup data returned")).catch(e=>{if("M_NOT_FOUND"===e.errcode)return null;throw e})},P.prototype.isKeyBackupTrusted=function(e){return this._crypto.isKeyBackupTrusted(e)},P.prototype.getKeyBackupEnabled=function(){if(null===this._crypto)throw new Error("End-to-end encryption disabled");return this._crypto._checkedForBackup?Boolean(this._crypto.backupKey):null},P.prototype.enableKeyBackup=function(e){if(null===this._crypto)throw new Error("End-to-end encryption disabled");this._crypto.backupInfo=e,this._crypto.backupKey&&this._crypto.backupKey.free(),this._crypto.backupKey=new global.Olm.PkEncryption,this._crypto.backupKey.set_recipient_key(e.auth_data.public_key),this.emit("crypto.keyBackupStatus",!0),this._crypto.scheduleKeyBackupSend()},P.prototype.disableKeyBackup=function(){if(null===this._crypto)throw new Error("End-to-end encryption disabled");this._crypto.backupInfo=null,this._crypto.backupKey&&this._crypto.backupKey.free(),this._crypto.backupKey=null,this.emit("crypto.keyBackupStatus",!1)},P.prototype.prepareKeyBackupVersion=async function(e,{secureSecretStorage:t=!1}={}){if(null===this._crypto)throw new Error("End-to-end encryption disabled");const{keyInfo:n,encodedPrivateKey:i,privateKey:r}=await this.createRecoveryKeyFromPassphrase(e);t&&(await this.storeSecret("m.megolm_backup.v1",(0,v.encodeBase64)(r)),S.logger.info("Key backup private key stored in secret storage"));const s={public_key:n.pubkey};return n.passphrase&&(s.private_key_salt=n.passphrase.salt,s.private_key_iterations=n.passphrase.iterations),{algorithm:v.MEGOLM_BACKUP_ALGORITHM,auth_data:s,recovery_key:i}},P.prototype.isKeyBackupKeyStored=async function(){return this.isSecretStored("m.megolm_backup.v1",!1)},P.prototype.createKeyBackupVersion=async function(e){if(null===this._crypto)throw new Error("End-to-end encryption disabled");const t={algorithm:e.algorithm,auth_data:e.auth_data};await this._crypto._signObject(t.auth_data),this._cryptoCallbacks.getCrossSigningKey&&this._crypto._crossSigningInfo.getId()&&await this._crypto._crossSigningInfo.signObject(t.auth_data,"master");const n=await this._http.authedRequest(void 0,"POST","/room_keys/version",void 0,t,{prefix:g.PREFIX_UNSTABLE});return await this.checkKeyBackup(),this.getKeyBackupEnabled()||S.logger.error("Key backup not usable even though we just created it"),n},P.prototype.deleteKeyBackupVersion=function(e){if(null===this._crypto)throw new Error("End-to-end encryption disabled");this._crypto.backupInfo&&this._crypto.backupInfo.version===e&&this.disableKeyBackup();const t=f.encodeUri("/room_keys/version/$version",{$version:e});return this._http.authedRequest(void 0,"DELETE",t,void 0,void 0,{prefix:g.PREFIX_UNSTABLE})},P.prototype._makeKeyBackupPath=function(e,t,n){let i;return i=void 0!==t?f.encodeUri("/room_keys/keys/$roomId/$sessionId",{$roomId:e,$sessionId:t}):void 0!==e?f.encodeUri("/room_keys/keys/$roomId",{$roomId:e}):"/room_keys/keys",{path:i,queryData:void 0===n?void 0:{version:n}}},P.prototype.sendKeyBackup=function(e,t,n,i){if(null===this._crypto)throw new Error("End-to-end encryption disabled");const r=this._makeKeyBackupPath(e,t,n);return this._http.authedRequest(void 0,"PUT",r.path,r.queryData,i,{prefix:g.PREFIX_UNSTABLE})},P.prototype.scheduleAllGroupSessionsForBackup=async function(){if(null===this._crypto)throw new Error("End-to-end encryption disabled");await this._crypto.scheduleAllGroupSessionsForBackup()},P.prototype.flagAllGroupSessionsForBackup=function(){if(null===this._crypto)throw new Error("End-to-end encryption disabled");return this._crypto.flagAllGroupSessionsForBackup()},P.prototype.isValidRecoveryKey=function(e){try{return(0,k.decodeRecoveryKey)(e),!0}catch(t){return!1}},P.prototype.keyBackupKeyFromPassword=function(e,t){return(0,C.keyFromAuthData)(t.auth_data,e)},P.prototype.keyBackupKeyFromRecoveryKey=function(e){return(0,k.decodeRecoveryKey)(e)},P.RESTORE_BACKUP_ERROR_BAD_KEY="RESTORE_BACKUP_ERROR_BAD_KEY",P.prototype.restoreKeyBackupWithPassword=async function(e,t,n,i,r){const s=await(0,C.keyFromAuthData)(i.auth_data,e);return this._restoreKeyBackup(s,t,n,i,r)},P.prototype.restoreKeyBackupWithSecretStorage=async function(e,t,n,i){const r=await this.getSecret("m.megolm_backup.v1"),s=(0,E.fixBackupKey)(r);if(s){const[e]=await this._crypto.getSecretStorageKey();await this.storeSecret("m.megolm_backup.v1",s,[e])}const o=(0,v.decodeBase64)(s||r);return this._restoreKeyBackup(o,t,n,e,i)},P.prototype.restoreKeyBackupWithRecoveryKey=function(e,t,n,i,r){const s=(0,k.decodeRecoveryKey)(e);return this._restoreKeyBackup(s,t,n,i,r)},P.prototype.restoreKeyBackupWithCache=async function(e,t,n,i){const r=await this._crypto.getSessionBackupPrivateKey();if(!r)throw new Error("Couldn't get key");return this._restoreKeyBackup(r,e,t,n,i)},P.prototype._restoreKeyBackup=function(e,t,n,i,{cacheCompleteCallback:r,progressCallback:s}={}){if(null===this._crypto)throw new Error("End-to-end encryption disabled");let o=0,a=[];const c=this._makeKeyBackupPath(t,n,i.version),l=new global.Olm.PkDecryption;let u;try{u=l.init_with_private_key(e)}catch(h){throw l.free(),h}return u!==i.auth_data.public_key?Promise.reject({errcode:P.RESTORE_BACKUP_ERROR_BAD_KEY}):(this._crypto.storeSessionBackupPrivateKey(e).catch(e=>{console.warn("Error caching session backup key:",e)}).then(r),s&&s({stage:"fetch"}),this._http.authedRequest(void 0,"GET",c.path,c.queryData,void 0,{prefix:g.PREFIX_UNSTABLE}).then(e=>{if(e.rooms)for(const[t,n]of Object.entries(e.rooms)){if(!n.sessions)continue;o+=Object.keys(n.sessions).length;const e=A(n.sessions,l,t);for(const n of e)n.room_id=t,a.push(n)}else if(e.sessions)o=Object.keys(e.sessions).length,a=A(e.sessions,l,t);else{o=1;try{const i=D(e,l);i.room_id=t,i.session_id=n,a.push(i)}catch(h){S.logger.log("Failed to decrypt megolm session from backup",h)}}return this.importRoomKeys(a,{progressCallback:s,untrusted:!0,source:"backup"})}).then(()=>this._crypto.setTrustedBackupPubKey(u)).then(()=>({total:o,imported:a.length})).finally(()=>{l.free()}))},P.prototype.deleteKeysFromBackup=function(e,t,n){if(null===this._crypto)throw new Error("End-to-end encryption disabled");const i=this._makeKeyBackupPath(e,t,n);return this._http.authedRequest(void 0,"DELETE",i.path,i.queryData,void 0,{prefix:g.PREFIX_UNSTABLE})},P.prototype.getGroup=function(e){return this.store.getGroup(e)},P.prototype.getGroups=function(){return this.store.getGroups()},P.prototype.getMediaConfig=function(e){return this._http.authedRequest(e,"GET","/config",void 0,void 0,{prefix:g.PREFIX_MEDIA_R0})},P.prototype.getRoom=function(e){return this.store.getRoom(e)},P.prototype.getRooms=function(){return this.store.getRooms()},P.prototype.getVisibleRooms=function(){const e=this.store.getRooms(),t=new Set;for(const n of e){const e=n.currentState.getStateEvents("m.room.create","");if(e){const n=e.getContent().predecessor;n&&n.room_id&&t.add(n.room_id)}}return e.filter(e=>!e.currentState.getStateEvents("m.room.tombstone","")||!t.has(e.roomId))},P.prototype.getUser=function(e){return this.store.getUser(e)},P.prototype.getUsers=function(){return this.store.getUsers()},P.prototype.setAccountData=function(e,t,n){const i=f.encodeUri("/user/$userId/account_data/$type",{$userId:this.credentials.userId,$type:e}),r=(0,g.retryNetworkOperation)(5,()=>this._http.authedRequest(void 0,"PUT",i,void 0,t));return n&&r.then(e=>n(null,e),n),r},P.prototype.getAccountData=function(e){return this.store.getAccountData(e)},P.prototype.getAccountDataFromServer=async function(e){if(this.isInitialSyncComplete()){const t=this.store.getAccountData(e);return t?t.getContent():null}const t=f.encodeUri("/user/$userId/account_data/$type",{$userId:this.credentials.userId,$type:e});try{return await this._http.authedRequest(void 0,"GET",t,void 0)}catch(n){if(n.data&&"M_NOT_FOUND"===n.data.errcode)return null;throw n}},P.prototype.getIgnoredUsers=function(){const e=this.getAccountData("m.ignored_user_list");return e&&e.getContent()&&e.getContent().ignored_users?Object.keys(e.getContent().ignored_users):[]},P.prototype.setIgnoredUsers=function(e,t){const n={ignored_users:{}};return e.map(e=>n.ignored_users[e]={}),this.setAccountData("m.ignored_user_list",n,t)},P.prototype.isUserIgnored=function(e){return-1!==this.getIgnoredUsers().indexOf(e)},P.prototype.joinRoom=function(e,t,n){if(f.isFunction(t))throw new Error("Expected 'opts' object, got function.");void 0===(t=t||{}).syncRoom&&(t.syncRoom=!0);const i=this.getRoom(e);if(i&&i.hasMembershipState(this.credentials.userId,"join"))return Promise.resolve(i);let r=Promise.resolve();t.inviteSignUrl&&(r=this._http.requestOtherUrl(void 0,"POST",t.inviteSignUrl,{mxid:this.credentials.userId}));const s={};t.viaServers&&(s.server_name=t.viaServers);const o={qsStringifyOptions:{arrayFormat:"repeat"}},a=this;return new Promise((t,i)=>{r.then((function(t){const n={};t&&(n.third_party_signed=t);const i=f.encodeUri("/join/$roomid",{$roomid:e});return a._http.authedRequest(void 0,"POST",i,s,n,o)})).then((function(e){const t=e.room_id,n=new l.SyncApi(a,a._clientOpts).createRoom(t);return Promise.resolve(n)})).then((function(e){V(n,t,e)}),(function(e){j(n,i,e)}))})},P.prototype.resendEvent=function(e,t){return F(t,e,u.EventStatus.SENDING),L(this,t,e)},P.prototype.cancelPendingEvent=function(e){if([u.EventStatus.QUEUED,u.EventStatus.NOT_SENT].indexOf(e.status)<0)throw new Error("cannot cancel an event with status "+e.status);this.scheduler&&this.scheduler.removeEventFromQueue(e),F(this.getRoom(e.getRoomId()),e,u.EventStatus.CANCELLED)},P.prototype.setRoomName=function(e,t,n){return this.sendStateEvent(e,"m.room.name",{name:t},void 0,n)},P.prototype.setRoomTopic=function(e,t,n){return this.sendStateEvent(e,"m.room.topic",{topic:t},void 0,n)},P.prototype.getRoomTags=function(e,t){const n=f.encodeUri("/user/$userId/rooms/$roomId/tags/",{$userId:this.credentials.userId,$roomId:e});return this._http.authedRequest(t,"GET",n,void 0)},P.prototype.setRoomTag=function(e,t,n,i){const r=f.encodeUri("/user/$userId/rooms/$roomId/tags/$tag",{$userId:this.credentials.userId,$roomId:e,$tag:t});return this._http.authedRequest(i,"PUT",r,void 0,n)},P.prototype.deleteRoomTag=function(e,t,n){const i=f.encodeUri("/user/$userId/rooms/$roomId/tags/$tag",{$userId:this.credentials.userId,$roomId:e,$tag:t});return this._http.authedRequest(n,"DELETE",i,void 0,void 0)},P.prototype.setRoomAccountData=function(e,t,n,i){const r=f.encodeUri("/user/$userId/rooms/$roomId/account_data/$type",{$userId:this.credentials.userId,$roomId:e,$type:t});return this._http.authedRequest(i,"PUT",r,void 0,n)},P.prototype.setPowerLevel=function(e,t,n,i,r){let s={users:{}};i&&"m.room.power_levels"===i.getType()&&(s=f.deepCopy(i.getContent())),s.users[t]=n;const o=f.encodeUri("/rooms/$roomId/state/m.room.power_levels",{$roomId:e});return this._http.authedRequest(r,"PUT",o,void 0,s)},P.prototype.sendEvent=function(e,t,n,i,r){return this._sendCompleteEvent(e,{type:t,content:n},i,r)},P.prototype._sendCompleteEvent=function(e,t,n,i){f.isFunction(n)&&(i=n,n=void 0),n||(n=this.makeTxnId());const r=new u.MatrixEvent(Object.assign(t,{event_id:"~"+e+":"+n,user_id:this.credentials.userId,sender:this.credentials.userId,room_id:e,origin_server_ts:(new Date).getTime()})),s=this.getRoom(e),o=r.getAssociatedId();if(o&&o.startsWith("~")){const e=s.getPendingEvents().find(e=>e.getId()===o);e.once("Event.localEventIdReplaced",()=>{r.updateAssociatedId(e.getId())})}const a=r.getType();return S.logger.log(`sendEvent of type ${a} in ${e} with txnId ${n}`),r._txnId=n,r.setStatus(u.EventStatus.SENDING),s&&s.addPendingEvent(r,n),r.status===u.EventStatus.NOT_SENT?Promise.reject(new Error("Event blocked by other events not yet sent")):L(this,s,r,i)},P.prototype.redactEvent=function(e,t,n,i){return this._sendCompleteEvent(e,{type:"m.room.redaction",content:{},redacts:t},n,i)},P.prototype.sendMessage=function(e,t,n,i){return f.isFunction(n)&&(i=n,n=void 0),this.sendEvent(e,"m.room.message",t,n,i)},P.prototype.sendTextMessage=function(e,t,n,i){const r=y.makeTextMessage(t);return this.sendMessage(e,r,n,i)},P.prototype.sendNotice=function(e,t,n,i){const r=y.makeNotice(t);return this.sendMessage(e,r,n,i)},P.prototype.sendEmoteMessage=function(e,t,n,i){const r=y.makeEmoteMessage(t);return this.sendMessage(e,r,n,i)},P.prototype.sendImageMessage=function(e,t,n,i,r){return f.isFunction(i)&&(r=i,i=void 0),i||(i="Image"),this.sendMessage(e,{msgtype:"m.image",url:t,info:n,body:i},r)},P.prototype.sendStickerMessage=function(e,t,n,i,r){return f.isFunction(i)&&(r=i,i=void 0),i||(i="Sticker"),this.sendEvent(e,"m.sticker",{url:t,info:n,body:i},r,void 0)},P.prototype.sendHtmlMessage=function(e,t,n,i){const r=y.makeHtmlMessage(t,n);return this.sendMessage(e,r,i)},P.prototype.sendHtmlNotice=function(e,t,n,i){const r=y.makeHtmlNotice(t,n);return this.sendMessage(e,r,i)},P.prototype.sendHtmlEmote=function(e,t,n,i){const r=y.makeHtmlEmote(t,n);return this.sendMessage(e,r,i)},P.prototype.sendReceipt=function(e,t,n,i){if("function"==typeof n&&(i=n,n={}),this.isGuest())return Promise.resolve({});const r=f.encodeUri("/rooms/$roomId/receipt/$receiptType/$eventId",{$roomId:e.getRoomId(),$receiptType:t,$eventId:e.getId()}),s=this._http.authedRequest(i,"POST",r,void 0,n||{}),o=this.getRoom(e.getRoomId());return o&&o._addLocalEchoReceipt(this.credentials.userId,e,t),s},P.prototype.sendReadReceipt=async function(e,t,n){"function"==typeof t&&(n=t,t={}),t||(t={});const i=e.getId(),r=this.getRoom(e.getRoomId());if(r&&r.hasPendingEvent(i))throw new Error(`Cannot set read receipt to a pending event (${i})`);const s={"m.hidden":Boolean(t.hidden)};return this.sendReceipt(e,"m.read",s,n)},P.prototype.setRoomReadMarkers=async function(e,t,n,i){const r=this.getRoom(e);if(r&&r.hasPendingEvent(t))throw new Error(`Cannot set read marker to a pending event (${t})`);let s;if(n){if(s=n.getId(),r&&r.hasPendingEvent(s))throw new Error(`Cannot set read receipt to a pending event (${s})`);r&&r._addLocalEchoReceipt(this.credentials.userId,n,"m.read")}return this.setRoomReadMarkersHttpRequest(e,t,s,i)},P.prototype.getUrlPreview=function(e,t,n){const i=(t=6e4*Math.floor(t/6e4))+"_"+e,r=this.urlPreviewCache[i];if(r)return n&&r.then(n).catch(n),r;const s=this._http.authedRequest(n,"GET","/preview_url",{url:e,ts:t},void 0,{prefix:g.PREFIX_MEDIA_R0});return this.urlPreviewCache[i]=s,s},P.prototype.sendTyping=function(e,t,n,i){if(this.isGuest())return Promise.resolve({});const r=f.encodeUri("/rooms/$roomId/typing/$userId",{$roomId:e,$userId:this.credentials.userId}),s={typing:t};return t&&(s.timeout=n||2e4),this._http.authedRequest(i,"PUT",r,void 0,s)},P.prototype.getRoomUpgradeHistory=function(e,t=!1){let n=this.getRoom(e);if(!n)return[];const i=[n];let r=n.currentState.getStateEvents("m.room.create","");for(;r;){S.logger.log("Looking at "+r.getId());const e=r.getContent().predecessor;if(!e||!e.room_id)break;{S.logger.log("Looking at predecessor "+e.room_id);const n=this.getRoom(e.room_id);if(!n)break;if(t){const e=n.currentState.getStateEvents("m.room.tombstone","");if(!e||e.getContent().replacement_room!==n.roomId)break}i.splice(0,0,n),r=n.currentState.getStateEvents("m.room.create","")}}let s=n.currentState.getStateEvents("m.room.tombstone","");for(;s;){const e=this.getRoom(s.getContent().replacement_room);if(!e)break;if(e.roomId===n.roomId)break;if(t){if(r=e.currentState.getStateEvents("m.room.create",""),!r||!r.getContent().predecessor)break;if(r.getContent().predecessor.room_id!==n.roomId)break}if(i.push(e),new Set(i.map(e=>e.roomId)).size<i.length)return i.slice(0,i.length-1);n=e,s=n.currentState.getStateEvents("m.room.tombstone","")}return i},P.prototype.invite=function(e,t,n){return B(this,e,t,"invite",void 0,n)},P.prototype.inviteByEmail=function(e,t,n){return this.inviteByThreePid(e,"email",t,n)},P.prototype.inviteByThreePid=async function(e,t,n,i){const r=f.encodeUri("/rooms/$roomId/invite",{$roomId:e}),s=this.getIdentityServerUrl(!0);if(!s)return Promise.reject(new g.MatrixError({error:"No supplied identity server URL",errcode:"ORG.MATRIX.JSSDK_MISSING_PARAM"}));const o={id_server:s,medium:t,address:n};if(this.identityServer&&this.identityServer.getAccessToken&&await this.doesServerAcceptIdentityAccessToken()){const e=await this.identityServer.getAccessToken();e&&(o.id_access_token=e)}return this._http.authedRequest(i,"POST",r,void 0,o)},P.prototype.leave=function(e,t){return B(this,e,void 0,"leave",void 0,t)},P.prototype.leaveRoomChain=function(e,t=!0){const n=this.getRoomUpgradeHistory(e);let i=n;if(!t){i=[];for(const t of n)if(i.push(t),t.roomId===e)break}const r={},s=[],o=e=>this.leave(e).then(()=>{r[e]=null}).catch(t=>(r[e]=t,null));for(const a of i)s.push(o(a.roomId));return Promise.all(s).then(()=>r)},P.prototype.ban=function(e,t,n,i){return B(this,e,t,"ban",n,i)},P.prototype.forget=function(e,t,n){void 0===t&&(t=!0);const i=B(this,e,void 0,"forget",void 0,n);if(!t)return i;const r=this;return i.then((function(t){return r.store.removeRoom(e),r.emit("deleteRoom",e),t}))},P.prototype.unban=function(e,t,n){const i=f.encodeUri("/rooms/$roomId/unban",{$roomId:e});return this._http.authedRequest(n,"POST",i,void 0,{user_id:t})},P.prototype.kick=function(e,t,n,i){return function(e,t,n,i,r,s){f.isFunction(r)&&(s=r,r=void 0);const o=f.encodeUri("/rooms/$roomId/state/m.room.member/$userId",{$roomId:t,$userId:n});return e._http.authedRequest(s,"PUT",o,void 0,{membership:"leave",reason:r})}(this,e,t,0,n,i)},P.prototype.getPushActionsForEvent=function(e){return e.getPushActions()||e.setPushActions(this._pushProcessor.actionsForEvent(e)),e.getPushActions()},P.prototype.setProfileInfo=function(e,t,n){const i=f.encodeUri("/profile/$userId/$info",{$userId:this.credentials.userId,$info:e});return this._http.authedRequest(n,"PUT",i,void 0,t)},P.prototype.setDisplayName=function(e,t){return this.setProfileInfo("displayname",{displayname:e},t)},P.prototype.setAvatarUrl=function(e,t){return this.setProfileInfo("avatar_url",{avatar_url:e},t)},P.prototype.mxcUrlToHttp=function(e,t,n,i,r){return(0,_.getHttpUriForMxc)(this.baseUrl,e,t,n,i,r)},P.prototype._unstable_setStatusMessage=function(e){const t="im.vector.user_status";return Promise.all(this.getRooms().map(n=>{const i="join"===n.getMyMembership(),r=2===n.getInvitedAndJoinedMemberCount();return i&&r&&n.currentState.mayClientSendStateEvent(t,this)?this.sendStateEvent(n.roomId,t,{status:e},this.getUserId()):Promise.resolve()}))},P.prototype.setPresence=function(e,t){const n=f.encodeUri("/presence/$userId/status",{$userId:this.credentials.userId});if("string"==typeof e&&(e={presence:e}),-1==["offline","online","unavailable"].indexOf(e.presence))throw new Error("Bad presence value: "+e.presence);return this._http.authedRequest(t,"PUT",n,void 0,e)},P.prototype.scrollback=function(e,t,n){f.isFunction(t)&&(n=t,t=void 0),t=t||30;let i=0,r=this._ongoingScrollbacks[e.roomId]||{};if(r.promise)return r.promise;if(r.errorTs){const e=Date.now()-r.errorTs;i=Math.max(3e3-e,0)}if(null===e.oldState.paginationToken)return Promise.resolve(e);const s=this.store.scrollback(e,t).length;if(s===t)return Promise.resolve(e);t-=s;const o=this,a=new Promise((r,s)=>{(0,f.sleep)(i).then((function(){return o._createMessagesRequest(e.roomId,e.oldState.paginationToken,t,"b")})).then((function(t){const i=f.map(t.chunk,K(o));if(t.state){const n=f.map(t.state,K(o));e.currentState.setUnknownStateEvents(n)}e.addEventsToTimeline(i,!0,e.getLiveTimeline()),e.oldState.paginationToken=t.end,0===t.chunk.length&&(e.oldState.paginationToken=null),o.store.storeEvents(e,i,t.end,!0),o._ongoingScrollbacks[e.roomId]=null,V(n,r,e)}),(function(t){o._ongoingScrollbacks[e.roomId]={errorTs:Date.now()},j(n,s,t)}))});return r={promise:a,errorTs:null},this._ongoingScrollbacks[e.roomId]=r,a},P.prototype.getEventTimeline=function(e,t){if(!this.timelineSupport)throw new Error("timeline support is disabled. Set the 'timelineSupport' parameter to true when creating MatrixClient to enable it.");if(e.getTimelineForEvent(t))return Promise.resolve(e.getTimelineForEvent(t));const n=f.encodeUri("/rooms/$roomId/context/$eventId",{$roomId:e.room.roomId,$eventId:t});let i=void 0;this._clientOpts.lazyLoadMembers&&(i={filter:JSON.stringify(c.Filter.LAZY_LOADING_MESSAGES_FILTER)});const r=this;return r._http.authedRequest(void 0,"GET",n,i).then((function(n){if(!n.event)throw new Error("'event' not in '/context' result - homeserver too old?");if(e.getTimelineForEvent(t))return e.getTimelineForEvent(t);n.events_after.reverse();const i=n.events_after.concat([n.event]).concat(n.events_before),s=f.map(i,r.getEventMapper());let o=e.getTimelineForEvent(s[0].getId());if(o){const e=f.map(n.state,r.getEventMapper());o.getState(h.EventTimeline.BACKWARDS).setUnknownStateEvents(e)}else o=e.addTimeline(),o.initialiseState(f.map(n.state,r.getEventMapper())),o.getState(h.EventTimeline.FORWARDS).paginationToken=n.end;return e.addEventsToTimeline(s,!0,o,n.start),e.getTimelineForEvent(t)||o}))},P.prototype._createMessagesRequest=function(e,t,n,i,r){const s=f.encodeUri("/rooms/$roomId/messages",{$roomId:e});void 0===n&&(n=30);const o={from:t,limit:n,dir:i};let a=null;return this._clientOpts.lazyLoadMembers&&(a=Object.assign({},c.Filter.LAZY_LOADING_MESSAGES_FILTER)),r&&(a=a||{},Object.assign(a,r.getRoomTimelineFilterComponent())),a&&(o.filter=JSON.stringify(a)),this._http.authedRequest(void 0,"GET",s,o)},P.prototype.paginateEventTimeline=function(e,t){const n=e.getTimelineSet()===this._notifTimelineSet,i=(t=t||{}).backwards||!1;if(n&&!i)throw new Error("paginateNotifTimeline can only paginate backwards");const r=i?h.EventTimeline.BACKWARDS:h.EventTimeline.FORWARDS,s=e.getPaginationToken(r);if(!s)return Promise.resolve(!1);const o=e._paginationRequests[r];if(o)return o;let a,c,l;const u=this;if(n)a="/notifications",c={limit:"limit"in t?t.limit:30,only:"highlight"},s&&"end"!==s&&(c.from=s),l=this._http.authedRequest(void 0,"GET","/notifications",c,void 0).then((function(t){const n=t.next_token,s=[];for(let e=0;e<t.notifications.length;e++){const n=t.notifications[e],i=u.getEventMapper()(n.event);i.setPushActions(T.PushProcessor.actionListToActionsObject(n.actions)),i.event.room_id=n.room_id,s[e]=i}return e.getTimelineSet().addEventsToTimeline(s,i,e,n),i&&!t.next_token&&e.setPaginationToken(null,r),!!t.next_token})).finally((function(){e._paginationRequests[r]=null})),e._paginationRequests[r]=l;else{if(!this.getRoom(e.getRoomId()))throw new Error("Unknown room "+e.getRoomId());l=this._createMessagesRequest(e.getRoomId(),s,t.limit,r,e.getFilter()),l.then((function(t){if(t.state){const n=e.getState(r),i=f.map(t.state,u.getEventMapper());n.setUnknownStateEvents(i)}const n=t.end,s=f.map(t.chunk,u.getEventMapper());return e.getTimelineSet().addEventsToTimeline(s,i,e,n),i&&t.end==t.start&&e.setPaginationToken(null,r),t.end!=t.start})).finally((function(){e._paginationRequests[r]=null})),e._paginationRequests[r]=l}return l},P.prototype.resetNotifTimelineSet=function(){this._notifTimelineSet&&this._notifTimelineSet.resetLiveTimeline("end",null)},P.prototype.peekInRoom=function(e){return this._peekSync&&this._peekSync.stopPeeking(),this._peekSync=new l.SyncApi(this,this._clientOpts),this._peekSync.peek(e)},P.prototype.stopPeeking=function(){this._peekSync&&(this._peekSync.stopPeeking(),this._peekSync=null)},P.prototype.setGuestAccess=function(e,t){const n=this.sendStateEvent(e,"m.room.guest_access",{guest_access:t.allowJoin?"can_join":"forbidden"});let i=Promise.resolve();return t.allowRead&&(i=this.sendStateEvent(e,"m.room.history_visibility",{history_visibility:"world_readable"})),Promise.all([i,n])},P.prototype.requestRegisterEmailToken=function(e,t,n,i){return this._requestTokenFromEndpoint("/register/email/requestToken",{email:e,client_secret:t,send_attempt:n,next_link:i})},P.prototype.requestRegisterMsisdnToken=function(e,t,n,i,r){return this._requestTokenFromEndpoint("/register/msisdn/requestToken",{country:e,phone_number:t,client_secret:n,send_attempt:i,next_link:r})},P.prototype.requestAdd3pidEmailToken=function(e,t,n,i){return this._requestTokenFromEndpoint("/account/3pid/email/requestToken",{email:e,client_secret:t,send_attempt:n,next_link:i})},P.prototype.requestAdd3pidMsisdnToken=function(e,t,n,i,r){return this._requestTokenFromEndpoint("/account/3pid/msisdn/requestToken",{country:e,phone_number:t,client_secret:n,send_attempt:i,next_link:r})},P.prototype.requestPasswordEmailToken=function(e,t,n,i){return this._requestTokenFromEndpoint("/account/password/email/requestToken",{email:e,client_secret:t,send_attempt:n,next_link:i})},P.prototype.requestPasswordMsisdnToken=function(e,t,n,i,r){return this._requestTokenFromEndpoint("/account/password/msisdn/requestToken",{country:e,phone_number:t,client_secret:n,send_attempt:i,next_link:r})},P.prototype._requestTokenFromEndpoint=async function(e,t){const n=Object.assign({},t);if(!(await this.doesServerSupportSeparateAddAndBind())&&this.idBaseUrl){const e=s.default.parse(this.idBaseUrl);if(!e.host)throw new Error("Invalid ID server URL: "+this.idBaseUrl);if(n.id_server=e.host,this.identityServer&&this.identityServer.getAccessToken&&await this.doesServerAcceptIdentityAccessToken()){const e=await this.identityServer.getAccessToken();e&&(n.id_access_token=e)}}return this._http.request(void 0,"POST",e,void 0,n)},P.prototype.getRoomPushRule=function(e,t){if(!this.pushRules)throw new Error("SyncApi.sync() must be done before accessing to push rules.");for(let n=0;n<this.pushRules[e].room.length;n++){const i=this.pushRules[e].room[n];if(i.rule_id===t)return i}},P.prototype.setRoomMutePushRule=function(e,t,n){const i=this;let r,s;const o=this.getRoomPushRule(e,t);if(o&&0<=o.actions.indexOf("dont_notify")&&(s=!0),n?o?s||(r=f.defer(),this.deletePushRule(e,"room",o.rule_id).then((function(){i.addPushRule(e,"room",t,{actions:["dont_notify"]}).then((function(){r.resolve()}),(function(e){r.reject(e)}))}),(function(e){r.reject(e)})),r=r.promise):r=this.addPushRule(e,"room",t,{actions:["dont_notify"]}):s&&(r=this.deletePushRule(e,"room",o.rule_id)),r)return new Promise((e,t)=>{r.then((function(){i.getPushRules().then((function(t){i.pushRules=t,e()}),(function(e){t(e)}))}),(function(e){i.getPushRules().then((function(n){i.pushRules=n,t(e)}),(function(n){t(e)}))}))})},P.prototype.searchMessageText=function(e,t){const n={search_term:e.query};return"keys"in e&&(n.keys=e.keys),this.search({body:{search_categories:{room_events:n}}},t)},P.prototype.searchRoomEvents=function(e){const t={search_categories:{room_events:{search_term:e.term,filter:e.filter,order_by:"recent",event_context:{before_limit:1,after_limit:1,include_profile:!0}}}},n={_query:t,results:[],highlights:[]};return this.search({body:t}).then(this._processRoomEventsSearch.bind(this,n))},P.prototype.backPaginateRoomEventsSearch=function(e){if(!e.next_batch)return Promise.reject(new Error("Cannot backpaginate event search any further"));if(e.pendingRequest)return e.pendingRequest;const t=this.search({body:e._query,next_batch:e.next_batch}).then(this._processRoomEventsSearch.bind(this,e)).finally((function(){e.pendingRequest=null}));return e.pendingRequest=t,t},P.prototype._processRoomEventsSearch=function(e,t){const n=t.search_categories.room_events;e.count=n.count,e.next_batch=n.next_batch;const i={};n.highlights.forEach((function(e){i[e]=1})),e.highlights.forEach((function(e){i[e]=1})),e.highlights=Object.keys(i);for(let r=0;r<n.results.length;r++){const t=d.SearchResult.fromJson(n.results[r],this.getEventMapper());e.results.push(t)}return e},P.prototype.syncLeftRooms=function(){if(this._syncedLeftRooms)return Promise.resolve([]);if(this._syncLeftRoomsPromise)return this._syncLeftRoomsPromise;const e=this,t=new l.SyncApi(this,this._clientOpts);return this._syncLeftRoomsPromise=t.syncLeftRooms(),this._syncLeftRoomsPromise.then((function(t){S.logger.log("Marking success of sync left room request"),e._syncedLeftRooms=!0})).finally((function(){e._syncLeftRoomsPromise=null})),this._syncLeftRoomsPromise},P.prototype.createFilter=function(e){const t=this,n=f.encodeUri("/user/$userId/filter",{$userId:this.credentials.userId});return this._http.authedRequest(void 0,"POST",n,void 0,e).then((function(n){const i=c.Filter.fromJson(t.credentials.userId,n.filter_id,e);return t.store.storeFilter(i),i}))},P.prototype.getFilter=function(e,t,n){if(n){const n=this.store.getFilter(e,t);if(n)return Promise.resolve(n)}const i=this,r=f.encodeUri("/user/$userId/filter/$filterId",{$userId:e,$filterId:t});return this._http.authedRequest(void 0,"GET",r,void 0,void 0).then((function(n){const r=c.Filter.fromJson(e,t,n);return i.store.storeFilter(r),r}))},P.prototype.getOrCreateFilter=async function(e,t){const n=this.store.getFilterIdByName(e);let i=void 0;if(n){try{const e=await this.getFilter(this.credentials.userId,n,!0);if(e){const r=e.getDefinition(),s=t.getDefinition();f.deepCompare(r,s)&&(i=n)}}catch(s){if("M_UNKNOWN"!==s.errcode&&"M_NOT_FOUND"!==s.errcode)throw s}i||this.store.setFilterIdByName(e,void 0)}if(i)return i;const r=await this.createFilter(t.getDefinition());return this.store.setFilterIdByName(e,r.filterId),r.filterId},P.prototype.getOpenIdToken=function(){const e=f.encodeUri("/user/$userId/openid/request_token",{$userId:this.credentials.userId});return this._http.authedRequest(void 0,"POST",e,void 0,{})},P.prototype.turnServer=function(e){return this._http.authedRequest(e,"GET","/voip/turnServer")},P.prototype.getTurnServers=function(){return this._turnServers||[]},P.prototype.setFallbackICEServerAllowed=function(e){this._fallbackICEServerAllowed=e},P.prototype.isFallbackICEServerAllowed=function(){return this._fallbackICEServerAllowed},P.prototype.isSynapseAdministrator=function(){const e=f.encodeUri("/_synapse/admin/v1/users/$userId/admin",{$userId:this.getUserId()});return this._http.authedRequest(void 0,"GET",e,void 0,void 0,{prefix:""}).then(e=>e.admin)},P.prototype.whoisSynapseUser=function(e){const t=f.encodeUri("/_synapse/admin/v1/whois/$userId",{$userId:e});return this._http.authedRequest(void 0,"GET",t,void 0,void 0,{prefix:""})},P.prototype.deactivateSynapseUser=function(e){const t=f.encodeUri("/_synapse/admin/v1/deactivate/$userId",{$userId:e});return this._http.authedRequest(void 0,"POST",t,void 0,void 0,{prefix:""})},P.prototype.startClient=async function(e){if(this.clientRunning)return;this.clientRunning=!0,"number"==typeof e&&(e={initialSyncLimit:e});const t=this.getUserId();t&&this.store.storeUser(new I.User(t)),this._crypto&&(this._crypto.uploadDeviceKeys(),this._crypto.start()),function e(t){t._supportsVoip&&t.turnServer().then((function(n){n.uris&&(S.logger.log("Got TURN URIs: "+n.uris+" refresh in "+n.ttl+" secs"),t._turnServers=[{urls:n.uris,username:n.username,credential:n.password}],t._checkTurnServersTimeoutID=setTimeout(()=>{e(t)},1e3*(n.ttl||3600)*.9))}),(function(n){S.logger.error("Failed to get TURN URIs"),t._checkTurnServersTimeoutID=setTimeout((function(){e(t)}),6e4)}))}(this),this._syncApi&&(S.logger.error("Still have sync object whilst not running: stopping old one"),this._syncApi.stop()),(e=Object.assign({},e)).crypto=this._crypto,e.canResetEntireTimeline=e=>!!this._canResetTimelineCallback&&this._canResetTimelineCallback(e),this._clientOpts=e,this._syncApi=new l.SyncApi(this,e),this._syncApi.sync(),void 0!==e.clientWellKnownPollPeriod&&(this._clientWellKnownIntervalID=setInterval(()=>{this._fetchClientWellKnown()},1e3*e.clientWellKnownPollPeriod),this._fetchClientWellKnown())},P.prototype._fetchClientWellKnown=async function(){try{this._clientWellKnown=await R.AutoDiscovery.getRawClientConfig(this.getDomain()),this.emit("WellKnown.client",this._clientWellKnown)}catch(e){S.logger.error("Failed to get client well-known",e),this._clientWellKnown=void 0,this.emit("WellKnown.error",e)}},P.prototype.getClientWellKnown=function(){return this._clientWellKnown},P.prototype._storeClientOptions=function(){const e=["boolean","string","number"],t=Object.entries(this._clientOpts).filter(([t,n])=>e.includes(typeof n)).reduce((e,[t,n])=>(e[t]=n,e),{});return this.store.storeClientOptions(t)},P.prototype.stopClient=function(){S.logger.log("stopping MatrixClient"),this.clientRunning=!1,this._syncApi&&(this._syncApi.stop(),this._syncApi=null),this._crypto&&this._crypto.stop(),this._peekSync&&this._peekSync.stopPeeking(),global.clearTimeout(this._checkTurnServersTimeoutID),void 0!==this._clientWellKnownIntervalID&&global.clearInterval(this._clientWellKnownIntervalID)},P.prototype.getVersions=async function(){return null===this._serverVersionsCache&&(this._serverVersionsCache=await this._http.request(void 0,"GET","/_matrix/client/versions",void 0,void 0,{prefix:""})),this._serverVersionsCache},P.prototype.isVersionSupported=async function(e){const{versions:t}=await this.getVersions();return t&&t.includes(e)},P.prototype.doesServerSupportLazyLoading=async function(){const e=await this.getVersions();if(!e)return!1;const t=e.versions,n=e.unstable_features;return t&&t.includes("r0.5.0")||n&&n["m.lazy_load_members"]},P.prototype.doesServerRequireIdServerParam=async function(){const e=await this.getVersions();if(!e)return!0;const t=e.versions;if(t&&t.includes("r0.6.0"))return!1;const n=e.unstable_features;return!n||void 0===n["m.require_identity_server"]||n["m.require_identity_server"]},P.prototype.doesServerAcceptIdentityAccessToken=async function(){const e=await this.getVersions();if(!e)return!1;const t=e.versions,n=e.unstable_features;return t&&t.includes("r0.6.0")||n&&n["m.id_access_token"]},P.prototype.doesServerSupportSeparateAddAndBind=async function(){const e=await this.getVersions();if(!e)return!1;const t=e.versions,n=e.unstable_features;return t&&t.includes("r0.6.0")||n&&n["m.separate_add_and_bind"]},P.prototype.doesServerSupportUnstableFeature=async function(e){const t=await this.getVersions();if(!t)return!1;const n=t.unstable_features;return n&&!!n[e]},P.prototype.hasLazyLoadMembersEnabled=function(){return!!this._clientOpts.lazyLoadMembers},P.prototype.setCanResetTimelineCallback=function(e){this._canResetTimelineCallback=e},P.prototype.getCanResetTimelineCallback=function(){return this._canResetTimelineCallback},P.prototype.relations=async function(e,t,n,i,r={}){const s=function(e,t,n){return"m.reaction"===n?n:e.isRoomEncrypted(t)?"m.room.encrypted":n}(this,e,i),o=await this.fetchRelations(e,t,n,s,r),a=this.getEventMapper();let c;o.original_event&&(c=a(o.original_event));let l=o.chunk.map(a);if("m.room.encrypted"===s){const e=c?l.concat(c):l;await Promise.all(e.map(e=>new Promise(t=>e.once("Event.decrypted",t)))),l=l.filter(e=>e.getType()===i)}return{originalEvent:c,events:l,nextBatch:o.next_batch}},P.prototype.getEventMapper=function(e){return K(this,e)},P.prototype.getCrossSigningCacheCallbacks=function(){return this._crypto&&this._crypto._crossSigningInfo.getCacheCallbacks()},P.prototype.generateClientSecret=function(){return(0,x.randomString)(32)}},ZP3D:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoDiscovery=void 0;var i=n("PrRn"),r=n("CxY0");class s{static get ERROR_INVALID(){return"Invalid homeserver discovery response"}static get ERROR_GENERIC_FAILURE(){return"Failed to get autodiscovery configuration from server"}static get ERROR_INVALID_HS_BASE_URL(){return"Invalid base_url for m.homeserver"}static get ERROR_INVALID_HOMESERVER(){return"Homeserver URL does not appear to be a valid Matrix homeserver"}static get ERROR_INVALID_IS_BASE_URL(){return"Invalid base_url for m.identity_server"}static get ERROR_INVALID_IDENTITY_SERVER(){return"Identity server URL does not appear to be a valid identity server"}static get ERROR_INVALID_IS(){return"Invalid identity server discovery response"}static get ERROR_MISSING_WELLKNOWN(){return"No .well-known JSON file found"}static get ERROR_INVALID_JSON(){return"Invalid JSON"}static get ALL_ERRORS(){return[s.ERROR_INVALID,s.ERROR_GENERIC_FAILURE,s.ERROR_INVALID_HS_BASE_URL,s.ERROR_INVALID_HOMESERVER,s.ERROR_INVALID_IS_BASE_URL,s.ERROR_INVALID_IDENTITY_SERVER,s.ERROR_INVALID_IS,s.ERROR_MISSING_WELLKNOWN,s.ERROR_INVALID_JSON]}static get FAIL_ERROR(){return"FAIL_ERROR"}static get FAIL_PROMPT(){return"FAIL_PROMPT"}static get PROMPT(){return"PROMPT"}static get SUCCESS(){return"SUCCESS"}static async fromDiscoveryConfig(e){const t={"m.homeserver":{state:s.FAIL_ERROR,error:s.ERROR_INVALID,base_url:null},"m.identity_server":{state:s.PROMPT,error:null,base_url:null}};if(!e||!e["m.homeserver"])return i.logger.error("No m.homeserver key in config"),t["m.homeserver"].state=s.FAIL_PROMPT,t["m.homeserver"].error=s.ERROR_INVALID,Promise.resolve(t);if(!e["m.homeserver"].base_url)return i.logger.error("No m.homeserver base_url in config"),t["m.homeserver"].state=s.FAIL_PROMPT,t["m.homeserver"].error=s.ERROR_INVALID_HS_BASE_URL,Promise.resolve(t);const n=this._sanitizeWellKnownUrl(e["m.homeserver"].base_url);if(!n)return i.logger.error("Invalid base_url for m.homeserver"),t["m.homeserver"].error=s.ERROR_INVALID_HS_BASE_URL,Promise.resolve(t);const r=await this._fetchWellKnownObject(n+"/_matrix/client/versions");if(!r||!r.raw.versions)return i.logger.error("Invalid /versions response"),t["m.homeserver"].error=s.ERROR_INVALID_HOMESERVER,t["m.homeserver"].base_url=n,Promise.resolve(t);t["m.homeserver"]={state:s.SUCCESS,error:null,base_url:n};let o="";if(e["m.identity_server"]){const n={"m.homeserver":t["m.homeserver"],"m.identity_server":{state:s.FAIL_PROMPT,error:s.ERROR_INVALID_IS,base_url:null}};if(o=this._sanitizeWellKnownUrl(e["m.identity_server"].base_url),!o)return i.logger.error("Invalid base_url for m.identity_server"),n["m.identity_server"].error=s.ERROR_INVALID_IS_BASE_URL,Promise.resolve(n);const r=await this._fetchWellKnownObject(o+"/_matrix/identity/api/v1");if(!r||!r.raw||"SUCCESS"!==r.action)return i.logger.error("Invalid /api/v1 response"),n["m.identity_server"].error=s.ERROR_INVALID_IDENTITY_SERVER,n["m.identity_server"].base_url=o,Promise.resolve(n)}return o&&o.length>0&&(t["m.identity_server"]={state:s.SUCCESS,error:null,base_url:o}),Object.keys(e).map(n=>{if("m.homeserver"===n||"m.identity_server"===n){const i=["error","state","base_url"];for(const r of Object.keys(e[n]))i.includes(r)||(t[n][r]=e[n][r])}else t[n]=e[n]}),Promise.resolve(t)}static async findClientConfig(e){if(!e||"string"!=typeof e||0===e.length)throw new Error("'domain' must be a string of non-zero length");const t={"m.homeserver":{state:s.FAIL_ERROR,error:s.ERROR_INVALID,base_url:null},"m.identity_server":{state:s.PROMPT,error:null,base_url:null}},n=await this._fetchWellKnownObject(`https://${e}/.well-known/matrix/client`);return n&&"SUCCESS"===n.action?s.fromDiscoveryConfig(n.raw):(i.logger.error("No response or error when parsing .well-known"),n.reason&&i.logger.error(n.reason),"IGNORE"===n.action?t["m.homeserver"]={state:s.PROMPT,error:null,base_url:null}:(t["m.homeserver"].state=s.FAIL_PROMPT,t["m.homeserver"].error=s.ERROR_INVALID),Promise.resolve(t))}static async getRawClientConfig(e){if(!e||"string"!=typeof e||0===e.length)throw new Error("'domain' must be a string of non-zero length");const t=await this._fetchWellKnownObject(`https://${e}/.well-known/matrix/client`);return t&&t.raw||{}}static _sanitizeWellKnownUrl(e){if(!e)return!1;try{let n=null;try{n=r.URL?new r.URL(e):new URL(e)}catch(t){n=new URL(e)}if(!n||!n.hostname)return!1;if("http:"!==n.protocol&&"https:"!==n.protocol)return!1;let i=`${n.protocol}//${n.hostname}${n.port?":"+n.port:""}${n.pathname?n.pathname:""}`;return i.endsWith("/")&&(i=i.substring(0,i.length-1)),i}catch(t){return i.logger.error(t),!1}}static async _fetchWellKnownObject(e){return new Promise((function(t,i){const r=n("Gghg").getRequest();if(!r)throw new Error("No request library available");r({method:"GET",uri:e,timeout:5e3},(e,n,i)=>{if(e||n&&(n.statusCode<200||n.statusCode>=300)){let i="FAIL_PROMPT",r=(e?e.message:null)||"General failure";return n&&404===n.statusCode&&(i="IGNORE",r=s.ERROR_MISSING_WELLKNOWN),void t({raw:{},action:i,reason:r,error:e})}try{t({raw:JSON.parse(i),action:"SUCCESS"})}catch(r){let e=s.ERROR_INVALID;"SyntaxError"===r.name&&(e=s.ERROR_INVALID_JSON),t({raw:{},action:"FAIL_PROMPT",reason:e,error:r})}})}))}}t.AutoDiscovery=s},beRh:function(e){e.exports=JSON.parse('{"0":"O","1":"l","\u05ad":"\u0596","\u05ae":"\u0598","\u05a8":"\u0599","\u05a4":"\u059a","\u1ab4":"\u06db","\u20db":"\u06db","\u0619":"\u0313","\u08f3":"\u0313","\u0343":"\u0313","\u0315":"\u0313","\u064f":"\u0313","\u065d":"\u0314","\u059c":"\u0301","\u059d":"\u0301","\u0618":"\u0301","\u0747":"\u0301","\u0341":"\u0301","\u0954":"\u0301","\u064e":"\u0301","\u0340":"\u0300","\u0953":"\u0300","\u030c":"\u0306","\ua67c":"\u0306","\u0658":"\u0306","\u065a":"\u0306","\u036e":"\u0306","\u06e8":"\u0306\u0307","\u0310":"\u0306\u0307","\u0901":"\u0306\u0307","\u0981":"\u0306\u0307","\u0a81":"\u0306\u0307","\u0b01":"\u0306\u0307","\u0c00":"\u0306\u0307","\u0c81":"\u0306\u0307","\u0d01":"\u0306\u0307","\ud805\udcbf":"\u0306\u0307","\u1cd0":"\u0302","\u0311":"\u0302","\u065b":"\u0302","\u07ee":"\u0302","\ua6f0":"\u0302","\u05af":"\u030a","\u06df":"\u030a","\u17d3":"\u030a","\u309a":"\u030a","\u0652":"\u030a","\u0b82":"\u030a","\u1036":"\u030a","\u17c6":"\u030a","\ud804\udf00":"\u030a","\u0e4d":"\u030a","\u0ecd":"\u030a","\u0366":"\u030a","\u2dea":"\u030a","\u08eb":"\u0308","\u07f3":"\u0308","\u064b":"\u030b","\u08f0":"\u030b","\u0342":"\u0303","\u0653":"\u0303","\u05c4":"\u0307","\u06ec":"\u0307","\u0740":"\u0307","\u08ea":"\u0307","\u0741":"\u0307","\u0358":"\u0307","\u05b9":"\u0307","\u05ba":"\u0307","\u05c2":"\u0307","\u05c1":"\u0307","\u07ed":"\u0307","\u0902":"\u0307","\u0a02":"\u0307","\u0a82":"\u0307","\u0bcd":"\u0307","\u0337":"\u0338","\u1ab7":"\u0328","\u0322":"\u0328","\u0345":"\u0328","\u1cd2":"\u0304","\u0305":"\u0304","\u0659":"\u0304","\u07eb":"\u0304","\ua6f1":"\u0304","\u1cda":"\u030e","\u0657":"\u0312","\u0357":"\u0350","\u08ff":"\u0350","\u08f8":"\u0350","\u0900":"\u0352","\u1ced":"\u0316","\u1cdc":"\u0329","\u0656":"\u0329","\u1cd5":"\u032b","\u0347":"\u0333","\u08f9":"\u0354","\u08fa":"\u0355","\u309b":"\uff9e","\u309c":"\uff9f","\u0336":"\u0335","\u302c":"\u0309","\u05c5":"\u0323","\u08ed":"\u0323","\u1cdd":"\u0323","\u05b4":"\u0323","\u065c":"\u0323","\u093c":"\u0323","\u09bc":"\u0323","\u0a3c":"\u0323","\u0abc":"\u0323","\u0b3c":"\u0323","\ud804\uddca":"\u0323","\ud805\udcc3":"\u0323","\ud802\ude3a":"\u0323","\u08ee":"\u0324","\u1cde":"\u0324","\u0f37":"\u0325","\u302d":"\u0325","\u0327":"\u0326","\u0321":"\u0326","\u0339":"\u0326","\u1cd9":"\u032d","\u1cd8":"\u032e","\u0952":"\u0331","\u0320":"\u0331","\u08f1":"\u064c","\u08e8":"\u064c","\u08e5":"\u064c","\ufc5e":"\ufe72\u0651","\u08f2":"\u064d","\ufc5f":"\ufe74\u0651","\ufcf2":"\ufe77\u0651","\ufc60":"\ufe76\u0651","\ufcf3":"\ufe79\u0651","\ufc61":"\ufe78\u0651","\u061a":"\u0650","\u0317":"\u0650","\ufcf4":"\ufe7b\u0651","\ufc62":"\ufe7a\u0651","\ufc63":"\ufe7c\u0670","\u065f":"\u0655","\u030d":"\u0670","\u0742":"\u073c","\u0a03":"\u0983","\u0c03":"\u0983","\u0c83":"\u0983","\u0d03":"\u0983","\u0d83":"\u0983","\u1038":"\u0983","\ud805\udcc1":"\u0983","\u17cb":"\u0e48","\u0ec8":"\u0e48","\u0ec9":"\u0e49","\u0eca":"\u0e4a","\u0ecb":"\u0e4b","\ua66f":"\u20e9","\\u2028":" ","\\u2029":" ","\u1680":" ","\u2000":" ","\u2001":" ","\u2002":" ","\u2003":" ","\u2004":" ","\u2005":" ","\u2006":" ","\u2008":" ","\u2009":" ","\u200a":" ","\u205f":" ","\xa0":" ","\u2007":" ","\u202f":" ","\u07fa":"_","\ufe4d":"_","\ufe4e":"_","\ufe4f":"_","\u2010":"-","\u2011":"-","\u2012":"-","\u2013":"-","\ufe58":"-","\u06d4":"-","\u2043":"-","\u02d7":"-","\u2212":"-","\u2796":"-","\u2cba":"-","\u2a29":"-\u0313","\u2e1a":"-\u0308","\ufb29":"-\u0307","\u2238":"-\u0307","\u2a2a":"-\u0323","\ua4fe":"-.","\uff5e":"\u301c","\u060d":",","\u066b":",","\u201a":",","\xb8":",","\ua4f9":",","\u2e32":"\u060c","\u066c":"\u060c","\u037e":";","\u2e35":"\u061b","\u0903":":","\u0a83":":","\uff1a":":","\u0589":":","\u0703":":","\u0704":":","\u16ec":":","\ufe30":":","\u1803":":","\u1809":":","\u205a":":","\u05c3":":","\u02f8":":","\ua789":":","\u2236":":","\u02d0":":","\ua4fd":":","\u2a74":"::=","\u29f4":":\u2192","\uff01":"!","\u01c3":"!","\u2d51":"!","\u203c":"!!","\u2049":"!?","\u0294":"?","\u0241":"?","\u097d":"?","\u13ae":"?","\ua6eb":"?","\u2048":"?!","\u2047":"??","\u2e2e":"\u061f","\ud834\udd6d":".","\u2024":".","\u0701":".","\u0702":".","\ua60e":".","\ud802\ude50":".","\u0660":".","\u06f0":".","\ua4f8":".","\ua4fb":".,","\u2025":"..","\ua4fa":"..","\u2026":"...","\ua6f4":"\ua6f3\ua6f3","\u30fb":"\xb7","\uff65":"\xb7","\u16eb":"\xb7","\u0387":"\xb7","\u2e31":"\xb7","\ud800\udd01":"\xb7","\u2022":"\xb7","\u2027":"\xb7","\u2219":"\xb7","\u22c5":"\xb7","\ua78f":"\xb7","\u1427":"\xb7","\u22ef":"\xb7\xb7\xb7","\u2d48":"\xb7\xb7\xb7","\u1444":"\xb7<","\u22d7":"\xb7>","\u1437":"\xb7>","\u1440":"\xb7>","\u152f":"\xb74","\u147e":"\xb7b","\u1480":"\xb7b\u0307","\u147a":"\xb7d","\u1498":"\xb7J","\u14b6":"\xb7L","\u1476":"\xb7P","\u1457":"\xb7U","\u143a":"\xb7V","\u143c":"\xb7\u0245","\u14ae":"\xb7\u0393","\u140e":"\xb7\u0394","\u1459":"\xb7\u0548","\u140c":"\xb7\u1401","\u1410":"\xb7\u1404","\u1412":"\xb7\u1405","\u1414":"\xb7\u1406","\u1417":"\xb7\u140a","\u1419":"\xb7\u140b","\u143e":"\xb7\u1432","\u1442":"\xb7\u1434","\u1446":"\xb7\u1439","\u145b":"\xb7\u144f","\u1454":"\xb7\u1450","\u145d":"\xb7\u1450","\u145f":"\xb7\u1451","\u1461":"\xb7\u1455","\u1463":"\xb7\u1456","\u1474":"\xb7\u146b","\u1478":"\xb7\u146e","\u147c":"\xb7\u1470","\u1492":"\xb7\u1489","\u1494":"\xb7\u148b","\u1496":"\xb7\u148c","\u149a":"\xb7\u148e","\u149c":"\xb7\u1490","\u149e":"\xb7\u1491","\u14ac":"\xb7\u14a3","\u14b0":"\xb7\u14a6","\u14b2":"\xb7\u14a7","\u14b4":"\xb7\u14a8","\u14b8":"\xb7\u14ab","\u14c9":"\xb7\u14c0","\u18c6":"\xb7\u14c2","\u18c8":"\xb7\u14c3","\u18ca":"\xb7\u14c4","\u18cc":"\xb7\u14c5","\u14cb":"\xb7\u14c7","\u14cd":"\xb7\u14c8","\u14dc":"\xb7\u14d3","\u14de":"\xb7\u14d5","\u14e0":"\xb7\u14d6","\u14e2":"\xb7\u14d7","\u14e4":"\xb7\u14d8","\u14e6":"\xb7\u14da","\u14e8":"\xb7\u14db","\u14f6":"\xb7\u14ed","\u14f8":"\xb7\u14ef","\u14fa":"\xb7\u14f0","\u14fc":"\xb7\u14f1","\u14fe":"\xb7\u14f2","\u1500":"\xb7\u14f4","\u1502":"\xb7\u14f5","\u1517":"\xb7\u1510","\u1519":"\xb7\u1511","\u151b":"\xb7\u1512","\u151d":"\xb7\u1513","\u151f":"\xb7\u1514","\u1521":"\xb7\u1515","\u1523":"\xb7\u1516","\u1531":"\xb7\u1528","\u1533":"\xb7\u1529","\u1535":"\xb7\u152a","\u1537":"\xb7\u152b","\u1539":"\xb7\u152d","\u153b":"\xb7\u152e","\u18ce":"\xb7\u1543","\u18cf":"\xb7\u1546","\u18d0":"\xb7\u1547","\u18d1":"\xb7\u1548","\u18d2":"\xb7\u1549","\u18d3":"\xb7\u154b","\u154e":"\xb7\u154c","\u155b":"\xb7\u155a","\u1568":"\xb7\u1567","\u18b3":"\xb7\u18b1","\u18b6":"\xb7\u18b4","\u18b9":"\xb7\u18b8","\u18c2":"\xb7\u18c0","\ua830":"\u0964","\u0965":"\u0964\u0964","\u1c3c":"\u1c3b\u1c3b","\u104b":"\u104a\u104a","\u1aa9":"\u1aa8\u1aa8","\u1aab":"\u1aaa\u1aa8","\u1b5f":"\u1b5e\u1b5e","\ud802\ude57":"\ud802\ude56\ud802\ude56","\ud805\udc4c":"\ud805\udc4b\ud805\udc4b","\ud805\ude42":"\ud805\ude41\ud805\ude41","\ud807\udc42":"\ud807\udc41\ud807\udc41","\u1c7f":"\u1c7e\u1c7e","\u055d":"\'","\uff07":"\'","\u2018":"\'","\u2019":"\'","\u201b":"\'","\u2032":"\'","\u2035":"\'","\u055a":"\'","\u05f3":"\'","`":"\'","\u1fef":"\'","\uff40":"\'","\xb4":"\'","\u0384":"\'","\u1ffd":"\'","\u1fbd":"\'","\u1fbf":"\'","\u1ffe":"\'","\u02b9":"\'","\u0374":"\'","\u02c8":"\'","\u02ca":"\'","\u02cb":"\'","\u02f4":"\'","\u02bb":"\'","\u02bd":"\'","\u02bc":"\'","\u02be":"\'","\ua78c":"\'","\u05d9":"\'","\u07f4":"\'","\u07f5":"\'","\u144a":"\'","\u16cc":"\'","\ud81b\udf51":"\'","\ud81b\udf52":"\'","\u1cd3":"\'\'","\\"":"\'\'","\uff02":"\'\'","\u201c":"\'\'","\u201d":"\'\'","\u201f":"\'\'","\u2033":"\'\'","\u2036":"\'\'","\u3003":"\'\'","\u05f4":"\'\'","\u02dd":"\'\'","\u02ba":"\'\'","\u02f6":"\'\'","\u02ee":"\'\'","\u05f2":"\'\'","\u2034":"\'\'\'","\u2037":"\'\'\'","\u2057":"\'\'\'\'","\u0181":"\'B","\u018a":"\'D","\u0149":"\'n","\u01a4":"\'P","\u01ac":"\'T","\u01b3":"\'Y","\uff3b":"(","\u2768":"(","\u2772":"(","\u3014":"(","\ufd3e":"(","\u2e28":"((","\u3220":"(\u30fc)","\u2475":"(2)","\u2487":"(2O)","\u2476":"(3)","\u2477":"(4)","\u2478":"(5)","\u2479":"(6)","\u247a":"(7)","\u247b":"(8)","\u247c":"(9)","\u249c":"(a)","\ud83c\udd10":"(A)","\u249d":"(b)","\ud83c\udd11":"(B)","\u249e":"(c)","\ud83c\udd12":"(C)","\u249f":"(d)","\ud83c\udd13":"(D)","\u24a0":"(e)","\ud83c\udd14":"(E)","\u24a1":"(f)","\ud83c\udd15":"(F)","\u24a2":"(g)","\ud83c\udd16":"(G)","\u24a3":"(h)","\ud83c\udd17":"(H)","\u24a4":"(i)","\u24a5":"(j)","\ud83c\udd19":"(J)","\u24a6":"(k)","\ud83c\udd1a":"(K)","\u2474":"(l)","\ud83c\udd18":"(l)","\u24a7":"(l)","\ud83c\udd1b":"(L)","\u247f":"(l2)","\u2480":"(l3)","\u2481":"(l4)","\u2482":"(l5)","\u2483":"(l6)","\u2484":"(l7)","\u2485":"(l8)","\u2486":"(l9)","\u247e":"(ll)","\u247d":"(lO)","\ud83c\udd1c":"(M)","\u24a9":"(n)","\ud83c\udd1d":"(N)","\u24aa":"(o)","\ud83c\udd1e":"(O)","\u24ab":"(p)","\ud83c\udd1f":"(P)","\u24ac":"(q)","\ud83c\udd20":"(Q)","\u24ad":"(r)","\ud83c\udd21":"(R)","\u24a8":"(rn)","\u24ae":"(s)","\ud83c\udd22":"(S)","\ud83c\udd2a":"(S)","\u24af":"(t)","\ud83c\udd23":"(T)","\u24b0":"(u)","\ud83c\udd24":"(U)","\u24b1":"(v)","\ud83c\udd25":"(V)","\u24b2":"(w)","\ud83c\udd26":"(W)","\u24b3":"(x)","\ud83c\udd27":"(X)","\u24b4":"(y)","\ud83c\udd28":"(Y)","\u24b5":"(z)","\ud83c\udd29":"(Z)","\u3200":"(\u1100)","\u320e":"(\uac00)","\u3201":"(\u1102)","\u320f":"(\ub098)","\u3202":"(\u1103)","\u3210":"(\ub2e4)","\u3203":"(\u1105)","\u3211":"(\ub77c)","\u3204":"(\u1106)","\u3212":"(\ub9c8)","\u3205":"(\u1107)","\u3213":"(\ubc14)","\u3206":"(\u1109)","\u3214":"(\uc0ac)","\u3207":"(\u110b)","\u3215":"(\uc544)","\u321d":"(\uc624\uc804)","\u321e":"(\uc624\ud6c4)","\u3208":"(\u110c)","\u3216":"(\uc790)","\u321c":"(\uc8fc)","\u3209":"(\u110e)","\u3217":"(\ucc28)","\u320a":"(\u110f)","\u3218":"(\uce74)","\u320b":"(\u1110)","\u3219":"(\ud0c0)","\u320c":"(\u1111)","\u321a":"(\ud30c)","\u320d":"(\u1112)","\u321b":"(\ud558)","\u3226":"(\u4e03)","\u3222":"(\u4e09)","\ud83c\ude41":"(\u4e09)","\u3228":"(\u4e5d)","\u3221":"(\u4e8c)","\ud83c\ude42":"(\u4e8c)","\u3224":"(\u4e94)","\u3239":"(\u4ee3)","\u323d":"(\u4f01)","\u3241":"(\u4f11)","\u3227":"(\u516b)","\u3225":"(\u516d)","\u3238":"(\u52b4)","\ud83c\ude47":"(\u52dd)","\u3229":"(\u5341)","\u323f":"(\u5354)","\u3234":"(\u540d)","\u323a":"(\u547c)","\u3223":"(\u56db)","\u322f":"(\u571f)","\u323b":"(\u5b66)","\ud83c\ude43":"(\u5b89)","\ud83c\ude45":"(\u6253)","\ud83c\ude48":"(\u6557)","\u3230":"(\u65e5)","\u322a":"(\u6708)","\u3232":"(\u6709)","\u322d":"(\u6728)","\ud83c\ude40":"(\u672c)","\u3231":"(\u682a)","\u322c":"(\u6c34)","\u322b":"(\u706b)","\ud83c\ude44":"(\u70b9)","\u3235":"(\u7279)","\ud83c\ude46":"(\u76d7)","\u323c":"(\u76e3)","\u3233":"(\u793e)","\u3237":"(\u795d)","\u3240":"(\u796d)","\u3242":"(\u81ea)","\u3243":"(\u81f3)","\u3236":"(\u8ca1)","\u323e":"(\u8cc7)","\u322e":"(\u91d1)","\uff3d":")","\u2769":")","\u2773":")","\u3015":")","\ufd3f":")","\u2e29":"))","\u2774":"{","\ud834\udd14":"{","\u2775":"}","\u301a":"\u27e6","\u301b":"\u27e7","\u27e8":"\u276c","\u2329":"\u276c","\u3008":"\u276c","\u31db":"\u276c","\u304f":"\u276c","\ud847\udfe8":"\u276c","\u27e9":"\u276d","\u232a":"\u276d","\u3009":"\u276d","\uff3e":"\ufe3f","\u2e3f":"\xb6","\u204e":"*","\u066d":"*","\u2217":"*","\ud800\udf1f":"*","\u1735":"/","\u2041":"/","\u2215":"/","\u2044":"/","\u2571":"/","\u27cb":"/","\u29f8":"/","\ud834\ude3a":"/","\u31d3":"/","\u3033":"/","\u2cc6":"/","\u30ce":"/","\u4e3f":"/","\u2f03":"/","\u29f6":"/\u0304","\u2afd":"//","\u2afb":"///","\uff3c":"\\\\","\ufe68":"\\\\","\u2216":"\\\\","\u27cd":"\\\\","\u29f5":"\\\\","\u29f9":"\\\\","\ud834\ude0f":"\\\\","\ud834\ude3b":"\\\\","\u31d4":"\\\\","\u4e36":"\\\\","\u2f02":"\\\\","\u2cf9":"\\\\\\\\","\u244a":"\\\\\\\\","\u27c8":"\\\\\u1455","\ua778":"&","\u0af0":"\u0970","\ud804\udcbb":"\u0970","\ud804\uddc7":"\u0970","\u26ac":"\u0970","\ud804\udddb":"\ua8fc","\u17d9":"\u0e4f","\u17d5":"\u0e5a","\u17da":"\u0e5b","\u0f0c":"\u0f0b","\u0f0e":"\u0f0d\u0f0d","\u02c4":"^","\u02c6":"^","\ua67e":"\u02c7","\u02d8":"\u02c7","\u203e":"\u02c9","\ufe49":"\u02c9","\ufe4a":"\u02c9","\ufe4b":"\u02c9","\ufe4c":"\u02c9","\xaf":"\u02c9","\uffe3":"\u02c9","\u2594":"\u02c9","\u044a":"\u02c9b","\ua651":"\u02c9bi","\u0375":"\u02cf","\u02fb":"\u02ea","\ua716":"\u02ea","\ua714":"\u02eb","\u3002":"\u02f3","\u2e30":"\xb0","\u02da":"\xb0","\u2218":"\xb0","\u25cb":"\xb0","\u25e6":"\xb0","\u235c":"\xb0\u0332","\u2364":"\xb0\u0308","\u2103":"\xb0C","\u2109":"\xb0F","\u0bf5":"\u0bf3","\u0f1b":"\u0f1a\u0f1a","\u0f1f":"\u0f1a\u0f1d","\u0fce":"\u0f1d\u0f1a","\u0f1e":"\u0f1d\u0f1d","\u24b8":"\xa9","\u24c7":"\xae","\u24c5":"\u2117","\ud834\ude1b":"\u2144","\u2bec":"\u219e","\u2bed":"\u219f","\u2bee":"\u21a0","\u2bef":"\u21a1","\u21b5":"\u21b2","\u2965":"\u21c3\u21c2","\u296f":"\u21c3\u16da","\ud835\udedb":"\u2202","\ud835\udf15":"\u2202","\ud835\udf4f":"\u2202","\ud835\udf89":"\u2202","\ud835\udfc3":"\u2202","\ud83a\udccc":"\u2202","\ud83a\udccd":"\u2202\u0335","\xf0":"\u2202\u0335","\u2300":"\u2205","\ud835\udec1":"\u2207","\ud835\udefb":"\u2207","\ud835\udf35":"\u2207","\ud835\udf6f":"\u2207","\ud835\udfa9":"\u2207","\ud806\udca8":"\u2207","\u2362":"\u2207\u0308","\u236b":"\u2207\u0334","\u2588":"\u220e","\u25a0":"\u220e","\u2a3f":"\u2210","\u16ed":"+","\u2795":"+","\ud800\ude9b":"+","\u2a23":"+\u0302","\u2a22":"+\u030a","\u2a24":"+\u0303","\u2214":"+\u0307","\u2a25":"+\u0323","\u2a26":"+\u0330","\u2a27":"+\u2082","\u2797":"\xf7","\u2039":"<","\u276e":"<","\u02c2":"<","\ud834\ude36":"<","\u1438":"<","\u16b2":"<","\u22d6":"<\xb7","\u2cb4":"<\xb7","\u1445":"<\xb7","\u226a":"<<","\u22d8":"<<<","\u1400":"=","\u2e40":"=","\u30a0":"=","\ua4ff":"=","\u225a":"=\u0306","\u2259":"=\u0302","\u2257":"=\u030a","\u2250":"=\u0307","\u2251":"=\u0307\u0323","\u2a6e":"=\u20f0","\u2a75":"==","\u2a76":"===","\u225e":"=\u036b","\u203a":">","\u276f":">","\u02c3":">","\ud834\ude37":">","\u1433":">","\ud81b\udf3f":">","\u1441":">\xb7","\u2aa5":"><","\u226b":">>","\u2a20":">>","\u22d9":">>>","\u2053":"~","\u02dc":"~","\u1fc0":"~","\u223c":"~","\u2368":"~\u0308","\u2e1e":"~\u0307","\u2a6a":"~\u0307","\u2e1f":"~\u0323","\ud83a\udcc8":"\u2220","\u22c0":"\u2227","\u222f":"\u222e\u222e","\u2230":"\u222e\u222e\u222e","\u2e2b":"\u2234","\u2e2a":"\u2235","\u2e2c":"\u2237","\ud804\uddde":"\u2248","\u264e":"\u224f","\ud83d\udf5e":"\u224f","\u2263":"\u2261","\u2a03":"\u228d","\u2a04":"\u228e","\ud834\ude38":"\u228f","\ud834\ude39":"\u2290","\u2a05":"\u2293","\u2a06":"\u2294","\u2a02":"\u2297","\u235f":"\u229b","\ud83d\udf71":"\u22a0","\ud83d\udf55":"\u22a1","\u25c1":"\u22b2","\u25b7":"\u22b3","\u2363":"\u22c6\u0308","\ufe34":"\u2307","\u25e0":"\u2312","\u2a3d":"\u2319","\u2325":"\u2324","\u29c7":"\u233b","\u25ce":"\u233e","\u29be":"\u233e","\u29c5":"\u2342","\u29b0":"\u2349","\u23c3":"\u234b","\u23c2":"\u234e","\u23c1":"\u2355","\u23c6":"\u236d","\u2638":"\u2388","\ufe35":"\u23dc","\ufe36":"\u23dd","\ufe37":"\u23de","\ufe38":"\u23df","\ufe39":"\u23e0","\ufe3a":"\u23e1","\u25b1":"\u23e5","\u23fc":"\u23fb","\ufe31":"\u2502","\uff5c":"\u2502","\u2503":"\u2502","\u250f":"\u250c","\u2523":"\u251c","\u2590":"\u258c","\u2597":"\u2596","\u259d":"\u2598","\u2610":"\u25a1","\uffed":"\u25aa","\u25b8":"\u25b6","\u25ba":"\u25b6","\u2ce9":"\u2627","\ud83d\udf0a":"\u2629","\ud83c\udf12":"\u263d","\ud83c\udf19":"\u263d","\u23fe":"\u263e","\ud83c\udf18":"\u263e","\u29d9":"\u299a","\ud83d\udf3a":"\u29df","\u2a3e":"\u2a1f","\ud800\udda0":"\u2ce8","\u2669":"\ud834\udd58\ud834\udd65","\u266a":"\ud834\udd58\ud834\udd65\ud834\udd6e","\u24ea":"\ud83c\udd0d","\u21ba":"\ud83c\udd0e","\u02d9":"\u0971","\u0d4e":"\u0971","\uff0d":"\u30fc","\u2014":"\u30fc","\u2015":"\u30fc","\u2500":"\u30fc","\u2501":"\u30fc","\u31d0":"\u30fc","\ua7f7":"\u30fc","\u1173":"\u30fc","\u3161":"\u30fc","\u4e00":"\u30fc","\u2f00":"\u30fc","\u1196":"\u30fc\u30fc","\ud7b9":"\u30fc\u1161","\ud7ba":"\u30fc\u1165","\ud7bb":"\u30fc\u1165\u4e28","\ud7bc":"\u30fc\u1169","\u1195":"\u30fc\u116e","\u1174":"\u30fc\u4e28","\u3162":"\u30fc\u4e28","\u1197":"\u30fc\u4e28\u116e","\ud83c\udd0f":"$\u20e0","\u20a4":"\xa3","\u3012":"\u20b8","\u3036":"\u20b8","\u1b5c":"\u1b50","\ua9c6":"\ua9d0","\ud805\udcd1":"\u09e7","\u0ce7":"\u0c67","\u1065":"\u1041","\u2460":"\u2780","\u2469":"\u2789","\u23e8":"\u2081\u2080","\ud835\udfd0":"2","\ud835\udfda":"2","\ud835\udfe4":"2","\ud835\udfee":"2","\ud835\udff8":"2","\ud83e\udff2":"2","\ua75a":"2","\u01a7":"2","\u03e8":"2","\ua644":"2","\u14bf":"2","\ua6ef":"2","\ua9cf":"\u0662","\u06f2":"\u0662","\u0ae8":"\u0968","\ud805\udcd2":"\u09e8","\u0ce8":"\u0c68","\u2461":"\u2781","\u01bb":"2\u0335","\ud83c\udd03":"2,","\u2489":"2.","\u33f5":"22\u65e5","\u336e":"22\u70b9","\u33f6":"23\u65e5","\u336f":"23\u70b9","\u33f7":"24\u65e5","\u3370":"24\u70b9","\u33f8":"25\u65e5","\u33f9":"26\u65e5","\u33fa":"27\u65e5","\u33fb":"28\u65e5","\u33fc":"29\u65e5","\u33f4":"2l\u65e5","\u336d":"2l\u70b9","\u249b":"2O.","\u33f3":"2O\u65e5","\u336c":"2O\u70b9","\u0de9":"\u0de8\u0dcf","\u0def":"\u0de8\u0dd3","\u33e1":"2\u65e5","\u32c1":"2\u6708","\u335a":"2\u70b9","\ud834\ude06":"3","\ud835\udfd1":"3","\ud835\udfdb":"3","\ud835\udfe5":"3","\ud835\udfef":"3","\ud835\udff9":"3","\ud83e\udff3":"3","\ua7ab":"3","\u021c":"3","\u01b7":"3","\ua76a":"3","\u2ccc":"3","\u0417":"3","\u04e0":"3","\ud81b\udf3b":"3","\ud806\udcca":"3","\u06f3":"\u0663","\ud83a\udcc9":"\u0663","\u0ae9":"\u0969","\u2462":"\u2782","\u0498":"3\u0326","\ud83c\udd04":"3,","\u248a":"3.","\u33fe":"3l\u65e5","\u33fd":"3O\u65e5","\u33e2":"3\u65e5","\u32c2":"3\u6708","\u335b":"3\u70b9","\ud835\udfd2":"4","\ud835\udfdc":"4","\ud835\udfe6":"4","\ud835\udff0":"4","\ud835\udffa":"4","\ud83e\udff4":"4","\u13ce":"4","\ud806\udcaf":"4","\u06f4":"\u0664","\u0aea":"\u096a","\u2463":"\u2783","\ud83c\udd05":"4,","\u248b":"4.","\u1530":"4\xb7","\u33e3":"4\u65e5","\u32c3":"4\u6708","\u335c":"4\u70b9","\ud835\udfd3":"5","\ud835\udfdd":"5","\ud835\udfe7":"5","\ud835\udff1":"5","\ud835\udffb":"5","\ud83e\udff5":"5","\u01bc":"5","\ud806\udcbb":"5","\u2464":"\u2784","\ud83c\udd06":"5,","\u248c":"5.","\u33e4":"5\u65e5","\u32c4":"5\u6708","\u335d":"5\u70b9","\ud835\udfd4":"6","\ud835\udfde":"6","\ud835\udfe8":"6","\ud835\udff2":"6","\ud835\udffc":"6","\ud83e\udff6":"6","\u2cd2":"6","\u0431":"6","\u13ee":"6","\ud806\udcd5":"6","\u06f6":"\u0666","\ud805\udcd6":"\u09ec","\u2465":"\u2785","\ud83c\udd07":"6,","\u248d":"6.","\u33e5":"6\u65e5","\u32c5":"6\u6708","\u335e":"6\u70b9","\ud834\ude12":"7","\ud835\udfd5":"7","\ud835\udfdf":"7","\ud835\udfe9":"7","\ud835\udff3":"7","\ud835\udffd":"7","\ud83e\udff7":"7","\ud801\udcd2":"7","\ud806\udcc6":"7","\u2466":"\u2786","\ud83c\udd08":"7,","\u248e":"7.","\u33e6":"7\u65e5","\u32c6":"7\u6708","\u335f":"7\u70b9","\u0b03":"8","\u09ea":"8","\u0a6a":"8","\ud83a\udccb":"8","\ud835\udfd6":"8","\ud835\udfe0":"8","\ud835\udfea":"8","\ud835\udff4":"8","\ud835\udffe":"8","\ud83e\udff8":"8","\u0223":"8","\u0222":"8","\ud800\udf1a":"8","\u0aee":"\u096e","\u2467":"\u2787","\ud83c\udd09":"8,","\u248f":"8.","\u33e7":"8\u65e5","\u32c7":"8\u6708","\u3360":"8\u70b9","\u0a67":"9","\u0b68":"9","\u09ed":"9","\u0d6d":"9","\ud835\udfd7":"9","\ud835\udfe1":"9","\ud835\udfeb":"9","\ud835\udff5":"9","\ud835\udfff":"9","\ud83e\udff9":"9","\ua76e":"9","\u2cca":"9","\ud806\udccc":"9","\ud806\udcac":"9","\ud806\udcd6":"9","\u0967":"\u0669","\ud806\udce4":"\u0669","\u06f9":"\u0669","\u0cef":"\u0c6f","\u2468":"\u2788","\ud83c\udd0a":"9,","\u2490":"9.","\u33e8":"9\u65e5","\u32c8":"9\u6708","\u3361":"9\u70b9","\u237a":"a","\uff41":"a","\ud835\udc1a":"a","\ud835\udc4e":"a","\ud835\udc82":"a","\ud835\udcb6":"a","\ud835\udcea":"a","\ud835\udd1e":"a","\ud835\udd52":"a","\ud835\udd86":"a","\ud835\uddba":"a","\ud835\uddee":"a","\ud835\ude22":"a","\ud835\ude56":"a","\ud835\ude8a":"a","\u0251":"a","\u03b1":"a","\ud835\udec2":"a","\ud835\udefc":"a","\ud835\udf36":"a","\ud835\udf70":"a","\ud835\udfaa":"a","\u0430":"a","\u2df6":"\u0363","\uff21":"A","\ud835\udc00":"A","\ud835\udc34":"A","\ud835\udc68":"A","\ud835\udc9c":"A","\ud835\udcd0":"A","\ud835\udd04":"A","\ud835\udd38":"A","\ud835\udd6c":"A","\ud835\udda0":"A","\ud835\uddd4":"A","\ud835\ude08":"A","\ud835\ude3c":"A","\ud835\ude70":"A","\u0391":"A","\ud835\udea8":"A","\ud835\udee2":"A","\ud835\udf1c":"A","\ud835\udf56":"A","\ud835\udf90":"A","\u0410":"A","\u13aa":"A","\u15c5":"A","\ua4ee":"A","\ud81b\udf40":"A","\ud800\udea0":"A","\u2376":"a\u0332","\u01ce":"\u0103","\u01cd":"\u0102","\u0227":"\xe5","\u0226":"\xc5","\u1e9a":"\u1ea3","\u2100":"a/c","\u2101":"a/s","\ua733":"aa","\ua732":"AA","\xe6":"ae","\u04d5":"ae","\xc6":"AE","\u04d4":"AE","\ua735":"ao","\ua734":"AO","\ud83d\udf07":"AR","\ua737":"au","\ua736":"AU","\ua739":"av","\ua73b":"av","\ua738":"AV","\ua73a":"AV","\ua73d":"ay","\ua73c":"AY","\uab7a":"\u1d00","\u2200":"\u2c6f","\ud834\ude17":"\u2c6f","\u15c4":"\u2c6f","\ua4ef":"\u2c6f","\ud801\udc1f":"\u2c70","\ud835\udc1b":"b","\ud835\udc4f":"b","\ud835\udc83":"b","\ud835\udcb7":"b","\ud835\udceb":"b","\ud835\udd1f":"b","\ud835\udd53":"b","\ud835\udd87":"b","\ud835\uddbb":"b","\ud835\uddef":"b","\ud835\ude23":"b","\ud835\ude57":"b","\ud835\ude8b":"b","\u0184":"b","\u042c":"b","\u13cf":"b","\u1472":"b","\u15af":"b","\uff22":"B","\u212c":"B","\ud835\udc01":"B","\ud835\udc35":"B","\ud835\udc69":"B","\ud835\udcd1":"B","\ud835\udd05":"B","\ud835\udd39":"B","\ud835\udd6d":"B","\ud835\udda1":"B","\ud835\uddd5":"B","\ud835\ude09":"B","\ud835\ude3d":"B","\ud835\ude71":"B","\ua7b4":"B","\u0392":"B","\ud835\udea9":"B","\ud835\udee3":"B","\ud835\udf1d":"B","\ud835\udf57":"B","\ud835\udf91":"B","\u0412":"B","\u13f4":"B","\u15f7":"B","\ua4d0":"B","\ud800\ude82":"B","\ud800\udea1":"B","\ud800\udf01":"B","\u0253":"b\u0314","\u1473":"b\u0307","\u0183":"b\u0304","\u0182":"b\u0304","\u0411":"b\u0304","\u0180":"b\u0335","\u048d":"b\u0335","\u048c":"b\u0335","\u0463":"b\u0335","\u0462":"b\u0335","\u147f":"b\xb7","\u1481":"b\u0307\xb7","\u1488":"b\'","\u042b":"bl","\u0432":"\u0299","\u13fc":"\u0299","\uff43":"c","\u217d":"c","\ud835\udc1c":"c","\ud835\udc50":"c","\ud835\udc84":"c","\ud835\udcb8":"c","\ud835\udcec":"c","\ud835\udd20":"c","\ud835\udd54":"c","\ud835\udd88":"c","\ud835\uddbc":"c","\ud835\uddf0":"c","\ud835\ude24":"c","\ud835\ude58":"c","\ud835\ude8c":"c","\u1d04":"c","\u03f2":"c","\u2ca5":"c","\u0441":"c","\uabaf":"c","\ud801\udc3d":"c","\u2ded":"\u0368","\ud83d\udf4c":"C","\ud806\udcf2":"C","\ud806\udce9":"C","\uff23":"C","\u216d":"C","\u2102":"C","\u212d":"C","\ud835\udc02":"C","\ud835\udc36":"C","\ud835\udc6a":"C","\ud835\udc9e":"C","\ud835\udcd2":"C","\ud835\udd6e":"C","\ud835\udda2":"C","\ud835\uddd6":"C","\ud835\ude0a":"C","\ud835\ude3e":"C","\ud835\ude72":"C","\u03f9":"C","\u2ca4":"C","\u0421":"C","\u13df":"C","\ua4da":"C","\ud800\udea2":"C","\ud800\udf02":"C","\ud801\udc15":"C","\ud801\udd1c":"C","\xa2":"c\u0338","\u023c":"c\u0338","\u20a1":"C\u20eb","\ud83c\udd6e":"C\u20e0","\xe7":"c\u0326","\u04ab":"c\u0326","\xc7":"C\u0326","\u04aa":"C\u0326","\u0187":"C\'","\u2105":"c/o","\u2106":"c/u","\ud83c\udd6d":"\u33c4\\t\u20dd","\u22f4":"\ua793","\u025b":"\ua793","\u03b5":"\ua793","\u03f5":"\ua793","\ud835\udec6":"\ua793","\ud835\udedc":"\ua793","\ud835\udf00":"\ua793","\ud835\udf16":"\ua793","\ud835\udf3a":"\ua793","\ud835\udf50":"\ua793","\ud835\udf74":"\ua793","\ud835\udf8a":"\ua793","\ud835\udfae":"\ua793","\ud835\udfc4":"\ua793","\u2c89":"\ua793","\u0454":"\ua793","\u0511":"\ua793","\uab9b":"\ua793","\ud806\udcce":"\ua793","\ud801\udc29":"\ua793","\u20ac":"\ua792","\u2c88":"\ua792","\u0404":"\ua792","\u2377":"\ua793\u0332","\u037d":"\ua73f","\u03ff":"\ua73e","\u217e":"d","\u2146":"d","\ud835\udc1d":"d","\ud835\udc51":"d","\ud835\udc85":"d","\ud835\udcb9":"d","\ud835\udced":"d","\ud835\udd21":"d","\ud835\udd55":"d","\ud835\udd89":"d","\ud835\uddbd":"d","\ud835\uddf1":"d","\ud835\ude25":"d","\ud835\ude59":"d","\ud835\ude8d":"d","\u0501":"d","\u13e7":"d","\u146f":"d","\ua4d2":"d","\u216e":"D","\u2145":"D","\ud835\udc03":"D","\ud835\udc37":"D","\ud835\udc6b":"D","\ud835\udc9f":"D","\ud835\udcd3":"D","\ud835\udd07":"D","\ud835\udd3b":"D","\ud835\udd6f":"D","\ud835\udda3":"D","\ud835\uddd7":"D","\ud835\ude0b":"D","\ud835\ude3f":"D","\ud835\ude73":"D","\u13a0":"D","\u15de":"D","\u15ea":"D","\ua4d3":"D","\u0257":"d\u0314","\u0256":"d\u0328","\u018c":"d\u0304","\u0111":"d\u0335","\u0110":"D\u0335","\xd0":"D\u0335","\u0189":"D\u0335","\u20ab":"d\u0335\u0331","\ua77a":"\ua779","\u147b":"d\xb7","\u1487":"d\'","\u02a4":"d\u021d","\u01f3":"dz","\u02a3":"dz","\u01f2":"Dz","\u01f1":"DZ","\u01c6":"d\u017e","\u01c5":"D\u017e","\u01c4":"D\u017d","\u02a5":"d\u0291","\uab70":"\u1d05","\u2e39":"\u1e9f","\u03b4":"\u1e9f","\ud835\udec5":"\u1e9f","\ud835\udeff":"\u1e9f","\ud835\udf39":"\u1e9f","\ud835\udf73":"\u1e9f","\ud835\udfad":"\u1e9f","\u056e":"\u1e9f","\u1577":"\u1e9f","\u212e":"e","\uff45":"e","\u212f":"e","\u2147":"e","\ud835\udc1e":"e","\ud835\udc52":"e","\ud835\udc86":"e","\ud835\udcee":"e","\ud835\udd22":"e","\ud835\udd56":"e","\ud835\udd8a":"e","\ud835\uddbe":"e","\ud835\uddf2":"e","\ud835\ude26":"e","\ud835\ude5a":"e","\ud835\ude8e":"e","\uab32":"e","\u0435":"e","\u04bd":"e","\u2df7":"\u0364","\u22ff":"E","\uff25":"E","\u2130":"E","\ud835\udc04":"E","\ud835\udc38":"E","\ud835\udc6c":"E","\ud835\udcd4":"E","\ud835\udd08":"E","\ud835\udd3c":"E","\ud835\udd70":"E","\ud835\udda4":"E","\ud835\uddd8":"E","\ud835\ude0c":"E","\ud835\ude40":"E","\ud835\ude74":"E","\u0395":"E","\ud835\udeac":"E","\ud835\udee6":"E","\ud835\udf20":"E","\ud835\udf5a":"E","\ud835\udf94":"E","\u0415":"E","\u2d39":"E","\u13ac":"E","\ua4f0":"E","\ud806\udca6":"E","\ud806\udcae":"E","\ud800\ude86":"E","\u011b":"\u0115","\u011a":"\u0114","\u0247":"e\u0338","\u0246":"E\u0338","\u04bf":"e\u0328","\uab7c":"\u1d07","\u0259":"\u01dd","\u04d9":"\u01dd","\u2203":"\u018e","\u2d3a":"\u018e","\ua4f1":"\u018e","\u025a":"\u01dd\u02de","\u1d14":"\u01ddo","\uab41":"\u01ddo\u0338","\uab42":"\u01ddo\u0335","\u04d8":"\u018f","\ud834\ude21":"\u0190","\u2107":"\u0190","\u0510":"\u0190","\u13cb":"\u0190","\ud81b\udf2d":"\u0190","\ud801\udc01":"\u0190","\u1d9f":"\u1d4b","\u1d08":"\u025c","\u0437":"\u025c","\u0499":"\u025c\u0326","\ud801\udc42":"\u025e","\ua79d":"\u029a","\ud801\udc2a":"\u029a","\ud835\udc1f":"f","\ud835\udc53":"f","\ud835\udc87":"f","\ud835\udcbb":"f","\ud835\udcef":"f","\ud835\udd23":"f","\ud835\udd57":"f","\ud835\udd8b":"f","\ud835\uddbf":"f","\ud835\uddf3":"f","\ud835\ude27":"f","\ud835\ude5b":"f","\ud835\ude8f":"f","\uab35":"f","\ua799":"f","\u017f":"f","\u1e9d":"f","\u0584":"f","\ud834\ude13":"F","\u2131":"F","\ud835\udc05":"F","\ud835\udc39":"F","\ud835\udc6d":"F","\ud835\udcd5":"F","\ud835\udd09":"F","\ud835\udd3d":"F","\ud835\udd71":"F","\ud835\udda5":"F","\ud835\uddd9":"F","\ud835\ude0d":"F","\ud835\ude41":"F","\ud835\ude75":"F","\ua798":"F","\u03dc":"F","\ud835\udfca":"F","\u15b4":"F","\ua4dd":"F","\ud806\udcc2":"F","\ud806\udca2":"F","\ud800\ude87":"F","\ud800\udea5":"F","\ud801\udd25":"F","\u0192":"f\u0326","\u0191":"F\u0326","\u1d6e":"f\u0334","\u213b":"FAX","\ufb00":"ff","\ufb03":"ffi","\ufb04":"ffl","\ufb01":"fi","\ufb02":"fl","\u02a9":"f\u014b","\u15b5":"\u2132","\ua4de":"\u2132","\ud834\ude30":"\ua7fb","\u15b7":"\ua7fb","\uff47":"g","\u210a":"g","\ud835\udc20":"g","\ud835\udc54":"g","\ud835\udc88":"g","\ud835\udcf0":"g","\ud835\udd24":"g","\ud835\udd58":"g","\ud835\udd8c":"g","\ud835\uddc0":"g","\ud835\uddf4":"g","\ud835\ude28":"g","\ud835\ude5c":"g","\ud835\ude90":"g","\u0261":"g","\u1d83":"g","\u018d":"g","\u0581":"g","\ud835\udc06":"G","\ud835\udc3a":"G","\ud835\udc6e":"G","\ud835\udca2":"G","\ud835\udcd6":"G","\ud835\udd0a":"G","\ud835\udd3e":"G","\ud835\udd72":"G","\ud835\udda6":"G","\ud835\uddda":"G","\ud835\ude0e":"G","\ud835\ude42":"G","\ud835\ude76":"G","\u050c":"G","\u13c0":"G","\u13f3":"G","\ua4d6":"G","\u1da2":"\u1d4d","\u0260":"g\u0314","\u01e7":"\u011f","\u01e6":"\u011e","\u01f5":"\u0123","\u01e5":"g\u0335","\u01e4":"G\u0335","\u0193":"G\'","\u050d":"\u0262","\uab90":"\u0262","\u13fb":"\u0262","\uff48":"h","\u210e":"h","\ud835\udc21":"h","\ud835\udc89":"h","\ud835\udcbd":"h","\ud835\udcf1":"h","\ud835\udd25":"h","\ud835\udd59":"h","\ud835\udd8d":"h","\ud835\uddc1":"h","\ud835\uddf5":"h","\ud835\ude29":"h","\ud835\ude5d":"h","\ud835\ude91":"h","\u04bb":"h","\u0570":"h","\u13c2":"h","\uff28":"H","\u210b":"H","\u210c":"H","\u210d":"H","\ud835\udc07":"H","\ud835\udc3b":"H","\ud835\udc6f":"H","\ud835\udcd7":"H","\ud835\udd73":"H","\ud835\udda7":"H","\ud835\udddb":"H","\ud835\ude0f":"H","\ud835\ude43":"H","\ud835\ude77":"H","\u0397":"H","\ud835\udeae":"H","\ud835\udee8":"H","\ud835\udf22":"H","\ud835\udf5c":"H","\ud835\udf96":"H","\u2c8e":"H","\u041d":"H","\u13bb":"H","\u157c":"H","\ua4e7":"H","\ud800\udecf":"H","\u1d78":"\u1d34","\u0266":"h\u0314","\ua695":"h\u0314","\u13f2":"h\u0314","\u2c67":"H\u0329","\u04a2":"H\u0329","\u0127":"h\u0335","\u210f":"h\u0335","\u045b":"h\u0335","\u0126":"H\u0335","\u04c9":"H\u0326","\u04c7":"H\u0326","\u043d":"\u029c","\uab8b":"\u029c","\u04a3":"\u029c\u0329","\u04ca":"\u029c\u0326","\u04c8":"\u029c\u0326","\u050a":"\u01f6","\uab80":"\u2c76","\u0370":"\u2c75","\u13a8":"\u2c75","\u13b0":"\u2c75","\ua6b1":"\u2c75","\ua795":"\ua727","\u02db":"i","\u2373":"i","\uff49":"i","\u2170":"i","\u2139":"i","\u2148":"i","\ud835\udc22":"i","\ud835\udc56":"i","\ud835\udc8a":"i","\ud835\udcbe":"i","\ud835\udcf2":"i","\ud835\udd26":"i","\ud835\udd5a":"i","\ud835\udd8e":"i","\ud835\uddc2":"i","\ud835\uddf6":"i","\ud835\ude2a":"i","\ud835\ude5e":"i","\ud835\ude92":"i","\u0131":"i","\ud835\udea4":"i","\u026a":"i","\u0269":"i","\u03b9":"i","\u1fbe":"i","\u037a":"i","\ud835\udeca":"i","\ud835\udf04":"i","\ud835\udf3e":"i","\ud835\udf78":"i","\ud835\udfb2":"i","\u0456":"i","\ua647":"i","\u04cf":"i","\uab75":"i","\u13a5":"i","\ud806\udcc3":"i","\u24db":"\u24be","\u2378":"i\u0332","\u01d0":"\u012d","\u01cf":"\u012c","\u0268":"i\u0335","\u1d7b":"i\u0335","\u1d7c":"i\u0335","\u2171":"ii","\u2172":"iii","\u0133":"ij","\u2173":"iv","\u2178":"ix","\uff4a":"j","\u2149":"j","\ud835\udc23":"j","\ud835\udc57":"j","\ud835\udc8b":"j","\ud835\udcbf":"j","\ud835\udcf3":"j","\ud835\udd27":"j","\ud835\udd5b":"j","\ud835\udd8f":"j","\ud835\uddc3":"j","\ud835\uddf7":"j","\ud835\ude2b":"j","\ud835\ude5f":"j","\ud835\ude93":"j","\u03f3":"j","\u0458":"j","\uff2a":"J","\ud835\udc09":"J","\ud835\udc3d":"J","\ud835\udc71":"J","\ud835\udca5":"J","\ud835\udcd9":"J","\ud835\udd0d":"J","\ud835\udd41":"J","\ud835\udd75":"J","\ud835\udda9":"J","\ud835\udddd":"J","\ud835\ude11":"J","\ud835\ude45":"J","\ud835\ude79":"J","\ua7b2":"J","\u037f":"J","\u0408":"J","\u13ab":"J","\u148d":"J","\ua4d9":"J","\u0249":"j\u0335","\u0248":"J\u0335","\u1499":"J\xb7","\ud835\udea5":"\u0237","\u0575":"\u0237","\uab7b":"\u1d0a","\ud835\udc24":"k","\ud835\udc58":"k","\ud835\udc8c":"k","\ud835\udcc0":"k","\ud835\udcf4":"k","\ud835\udd28":"k","\ud835\udd5c":"k","\ud835\udd90":"k","\ud835\uddc4":"k","\ud835\uddf8":"k","\ud835\ude2c":"k","\ud835\ude60":"k","\ud835\ude94":"k","\u212a":"K","\uff2b":"K","\ud835\udc0a":"K","\ud835\udc3e":"K","\ud835\udc72":"K","\ud835\udca6":"K","\ud835\udcda":"K","\ud835\udd0e":"K","\ud835\udd42":"K","\ud835\udd76":"K","\ud835\uddaa":"K","\ud835\uddde":"K","\ud835\ude12":"K","\ud835\ude46":"K","\ud835\ude7a":"K","\u039a":"K","\ud835\udeb1":"K","\ud835\udeeb":"K","\ud835\udf25":"K","\ud835\udf5f":"K","\ud835\udf99":"K","\u2c94":"K","\u041a":"K","\u13e6":"K","\u16d5":"K","\ua4d7":"K","\ud801\udd18":"K","\u0199":"k\u0314","\u2c69":"K\u0329","\u049a":"K\u0329","\u20ad":"K\u0335","\ua740":"K\u0335","\u049e":"K\u0335","\u0198":"K\'","\u05c0":"l","|":"l","\u2223":"l","\u23fd":"l","\uffe8":"l","\u0661":"l","\u06f1":"l","\ud800\udf20":"l","\ud83a\udcc7":"l","\ud835\udfcf":"l","\ud835\udfd9":"l","\ud835\udfe3":"l","\ud835\udfed":"l","\ud835\udff7":"l","\ud83e\udff1":"l","I":"l","\uff29":"l","\u2160":"l","\u2110":"l","\u2111":"l","\ud835\udc08":"l","\ud835\udc3c":"l","\ud835\udc70":"l","\ud835\udcd8":"l","\ud835\udd40":"l","\ud835\udd74":"l","\ud835\udda8":"l","\ud835\udddc":"l","\ud835\ude10":"l","\ud835\ude44":"l","\ud835\ude78":"l","\u0196":"l","\uff4c":"l","\u217c":"l","\u2113":"l","\ud835\udc25":"l","\ud835\udc59":"l","\ud835\udc8d":"l","\ud835\udcc1":"l","\ud835\udcf5":"l","\ud835\udd29":"l","\ud835\udd5d":"l","\ud835\udd91":"l","\ud835\uddc5":"l","\ud835\uddf9":"l","\ud835\ude2d":"l","\ud835\ude61":"l","\ud835\ude95":"l","\u01c0":"l","\u0399":"l","\ud835\udeb0":"l","\ud835\udeea":"l","\ud835\udf24":"l","\ud835\udf5e":"l","\ud835\udf98":"l","\u2c92":"l","\u0406":"l","\u04c0":"l","\u05d5":"l","\u05df":"l","\u0627":"l","\ud83b\ude00":"l","\ud83b\ude80":"l","\ufe8e":"l","\ufe8d":"l","\u07ca":"l","\u2d4f":"l","\u16c1":"l","\ua4f2":"l","\ud81b\udf28":"l","\ud800\ude8a":"l","\ud800\udf09":"l","\ud834\ude2a":"L","\u216c":"L","\u2112":"L","\ud835\udc0b":"L","\ud835\udc3f":"L","\ud835\udc73":"L","\ud835\udcdb":"L","\ud835\udd0f":"L","\ud835\udd43":"L","\ud835\udd77":"L","\ud835\uddab":"L","\ud835\udddf":"L","\ud835\ude13":"L","\ud835\ude47":"L","\ud835\ude7b":"L","\u2cd0":"L","\u13de":"L","\u14aa":"L","\ua4e1":"L","\ud81b\udf16":"L","\ud806\udca3":"L","\ud806\udcb2":"L","\ud801\udc1b":"L","\ud801\udd26":"L","\ufd3c":"l\u030b","\ufd3d":"l\u030b","\u0142":"l\u0338","\u0141":"L\u0338","\u026d":"l\u0328","\u0197":"l\u0335","\u019a":"l\u0335","\u026b":"l\u0334","\u0625":"l\u0655","\ufe88":"l\u0655","\ufe87":"l\u0655","\u0673":"l\u0655","\u0140":"l\xb7","\u013f":"l\xb7","\u14b7":"l\xb7","\ud83c\udd02":"l,","\u2488":"l.","\u05f1":"l\'","\u2493":"l2.","\u33eb":"l2\u65e5","\u32cb":"l2\u6708","\u3364":"l2\u70b9","\u2494":"l3.","\u33ec":"l3\u65e5","\u3365":"l3\u70b9","\u2495":"l4.","\u33ed":"l4\u65e5","\u3366":"l4\u70b9","\u2496":"l5.","\u33ee":"l5\u65e5","\u3367":"l5\u70b9","\u2497":"l6.","\u33ef":"l6\u65e5","\u3368":"l6\u70b9","\u2498":"l7.","\u33f0":"l7\u65e5","\u3369":"l7\u70b9","\u2499":"l8.","\u33f1":"l8\u65e5","\u336a":"l8\u70b9","\u249a":"l9.","\u33f2":"l9\u65e5","\u336b":"l9\u70b9","\u01c9":"lj","\u0132":"lJ","\u01c8":"Lj","\u01c7":"LJ","\u2016":"ll","\u2225":"ll","\u2161":"ll","\u01c1":"ll","\u05f0":"ll","\ud800\udd99":"l\u0335l\u0335","\u2492":"ll.","\u2162":"lll","\ud800\udd98":"l\u0335l\u0335S\u0335","\u33ea":"ll\u65e5","\u32ca":"ll\u6708","\u3363":"ll\u70b9","\u042e":"lO","\u2491":"lO.","\u33e9":"lO\u65e5","\u32c9":"lO\u6708","\u3362":"lO\u70b9","\u02aa":"ls","\u20b6":"lt","\u2163":"lV","\u2168":"lX","\u026e":"l\u021d","\u02ab":"lz","\u0623":"l\u0674","\ufe84":"l\u0674","\ufe83":"l\u0674","\u0672":"l\u0674","\u0675":"l\u0674","\ufdf3":"l\u0643\u0628\u0631","\ufdf2":"l\u0644\u0644\u0651\u0670o","\u33e0":"l\u65e5","\u32c0":"l\u6708","\u3359":"l\u70b9","\u2cd1":"\u029f","\uabae":"\u029f","\ud801\udc43":"\u029f","\uff2d":"M","\u216f":"M","\u2133":"M","\ud835\udc0c":"M","\ud835\udc40":"M","\ud835\udc74":"M","\ud835\udcdc":"M","\ud835\udd10":"M","\ud835\udd44":"M","\ud835\udd78":"M","\ud835\uddac":"M","\ud835\udde0":"M","\ud835\ude14":"M","\ud835\ude48":"M","\ud835\ude7c":"M","\u039c":"M","\ud835\udeb3":"M","\ud835\udeed":"M","\ud835\udf27":"M","\ud835\udf61":"M","\ud835\udf9b":"M","\u03fa":"M","\u2c98":"M","\u041c":"M","\u13b7":"M","\u15f0":"M","\u16d6":"M","\ua4df":"M","\ud800\udeb0":"M","\ud800\udf11":"M","\u04cd":"M\u0326","\ud83d\udf6b":"MB","\u2de8":"\u1ddf","\ud835\udc27":"n","\ud835\udc5b":"n","\ud835\udc8f":"n","\ud835\udcc3":"n","\ud835\udcf7":"n","\ud835\udd2b":"n","\ud835\udd5f":"n","\ud835\udd93":"n","\ud835\uddc7":"n","\ud835\uddfb":"n","\ud835\ude2f":"n","\ud835\ude63":"n","\ud835\ude97":"n","\u0578":"n","\u057c":"n","\uff2e":"N","\u2115":"N","\ud835\udc0d":"N","\ud835\udc41":"N","\ud835\udc75":"N","\ud835\udca9":"N","\ud835\udcdd":"N","\ud835\udd11":"N","\ud835\udd79":"N","\ud835\uddad":"N","\ud835\udde1":"N","\ud835\ude15":"N","\ud835\ude49":"N","\ud835\ude7d":"N","\u039d":"N","\ud835\udeb4":"N","\ud835\udeee":"N","\ud835\udf28":"N","\ud835\udf62":"N","\ud835\udf9c":"N","\u2c9a":"N","\ua4e0":"N","\ud801\udd13":"N","\ud800\udd8e":"N\u030a","\u0273":"n\u0328","\u019e":"n\u0329","\u03b7":"n\u0329","\ud835\udec8":"n\u0329","\ud835\udf02":"n\u0329","\ud835\udf3c":"n\u0329","\ud835\udf76":"n\u0329","\ud835\udfb0":"n\u0329","\u019d":"N\u0326","\u1d70":"n\u0334","\u01cc":"nj","\u01cb":"Nj","\u01ca":"NJ","\u2116":"No","\u0377":"\u1d0e","\u0438":"\u1d0e","\ud801\udc4d":"\u1d0e","\u0146":"\u0272","\u0c02":"o","\u0c82":"o","\u0d02":"o","\u0d82":"o","\u0966":"o","\u0a66":"o","\u0ae6":"o","\u0be6":"o","\u0c66":"o","\u0ce6":"o","\u0d66":"o","\u0e50":"o","\u0ed0":"o","\u1040":"o","\u0665":"o","\u06f5":"o","\uff4f":"o","\u2134":"o","\ud835\udc28":"o","\ud835\udc5c":"o","\ud835\udc90":"o","\ud835\udcf8":"o","\ud835\udd2c":"o","\ud835\udd60":"o","\ud835\udd94":"o","\ud835\uddc8":"o","\ud835\uddfc":"o","\ud835\ude30":"o","\ud835\ude64":"o","\ud835\ude98":"o","\u1d0f":"o","\u1d11":"o","\uab3d":"o","\u03bf":"o","\ud835\uded0":"o","\ud835\udf0a":"o","\ud835\udf44":"o","\ud835\udf7e":"o","\ud835\udfb8":"o","\u03c3":"o","\ud835\uded4":"o","\ud835\udf0e":"o","\ud835\udf48":"o","\ud835\udf82":"o","\ud835\udfbc":"o","\u2c9f":"o","\u043e":"o","\u10ff":"o","\u0585":"o","\u05e1":"o","\u0647":"o","\ud83b\ude24":"o","\ud83b\ude64":"o","\ud83b\ude84":"o","\ufeeb":"o","\ufeec":"o","\ufeea":"o","\ufee9":"o","\u06be":"o","\ufbac":"o","\ufbad":"o","\ufbab":"o","\ufbaa":"o","\u06c1":"o","\ufba8":"o","\ufba9":"o","\ufba7":"o","\ufba6":"o","\u06d5":"o","\u0d20":"o","\u101d":"o","\ud801\udcea":"o","\ud806\udcc8":"o","\ud806\udcd7":"o","\ud801\udc2c":"o","\u07c0":"O","\u09e6":"O","\u0b66":"O","\u3007":"O","\ud805\udcd0":"O","\ud806\udce0":"O","\ud835\udfce":"O","\ud835\udfd8":"O","\ud835\udfe2":"O","\ud835\udfec":"O","\ud835\udff6":"O","\ud83e\udff0":"O","\uff2f":"O","\ud835\udc0e":"O","\ud835\udc42":"O","\ud835\udc76":"O","\ud835\udcaa":"O","\ud835\udcde":"O","\ud835\udd12":"O","\ud835\udd46":"O","\ud835\udd7a":"O","\ud835\uddae":"O","\ud835\udde2":"O","\ud835\ude16":"O","\ud835\ude4a":"O","\ud835\ude7e":"O","\u039f":"O","\ud835\udeb6":"O","\ud835\udef0":"O","\ud835\udf2a":"O","\ud835\udf64":"O","\ud835\udf9e":"O","\u2c9e":"O","\u041e":"O","\u0555":"O","\u2d54":"O","\u12d0":"O","\u0b20":"O","\ud801\udcc2":"O","\ua4f3":"O","\ud806\udcb5":"O","\ud800\ude92":"O","\ud800\udeab":"O","\ud801\udc04":"O","\ud801\udd16":"O","\u2070":"\xba","\u1d52":"\xba","\u01d2":"\u014f","\u01d1":"\u014e","\u06ff":"o\u0302","\u0150":"\xd6","\xf8":"o\u0338","\uab3e":"o\u0338","\xd8":"O\u0338","\u2d41":"O\u0338","\u01fe":"O\u0338\u0301","\u0275":"o\u0335","\ua74b":"o\u0335","\u04e9":"o\u0335","\u0473":"o\u0335","\uab8e":"o\u0335","\uabbb":"o\u0335","\u2296":"O\u0335","\u229d":"O\u0335","\u236c":"O\u0335","\ud834\ude1a":"O\u0335","\ud83d\udf14":"O\u0335","\u019f":"O\u0335","\ua74a":"O\u0335","\u03b8":"O\u0335","\u03d1":"O\u0335","\ud835\udec9":"O\u0335","\ud835\udedd":"O\u0335","\ud835\udf03":"O\u0335","\ud835\udf17":"O\u0335","\ud835\udf3d":"O\u0335","\ud835\udf51":"O\u0335","\ud835\udf77":"O\u0335","\ud835\udf8b":"O\u0335","\ud835\udfb1":"O\u0335","\ud835\udfc5":"O\u0335","\u0398":"O\u0335","\u03f4":"O\u0335","\ud835\udeaf":"O\u0335","\ud835\udeb9":"O\u0335","\ud835\udee9":"O\u0335","\ud835\udef3":"O\u0335","\ud835\udf23":"O\u0335","\ud835\udf2d":"O\u0335","\ud835\udf5d":"O\u0335","\ud835\udf67":"O\u0335","\ud835\udf97":"O\u0335","\ud835\udfa1":"O\u0335","\u04e8":"O\u0335","\u0472":"O\u0335","\u2d31":"O\u0335","\u13be":"O\u0335","\u13eb":"O\u0335","\uab74":"o\u031b","\ufcd9":"o\u0670","\ud83c\udd01":"O,","\ud83c\udd00":"O.","\u01a1":"o\'","\u01a0":"O\'","\u13a4":"O\'","%":"\xba/\u2080","\u066a":"\xba/\u2080","\u2052":"\xba/\u2080","\u2030":"\xba/\u2080\u2080","\u0609":"\xba/\u2080\u2080","\u2031":"\xba/\u2080\u2080\u2080","\u060a":"\xba/\u2080\u2080\u2080","\u0153":"oe","\u0152":"OE","\u0276":"o\u1d07","\u221e":"oo","\ua74f":"oo","\ua699":"oo","\ua74e":"OO","\ua698":"OO","\ufcd7":"o\u062c","\ufc51":"o\u062c","\ufcd8":"o\u0645","\ufc52":"o\u0645","\ufd93":"o\u0645\u062c","\ufd94":"o\u0645\u0645","\ufc53":"o\u0649","\ufc54":"o\u0649","\u0d5f":"o\u0d30o","\u1010":"o\u102c","\u3358":"O\u70b9","\u2184":"\u0254","\u1d10":"\u0254","\u037b":"\u0254","\ud801\udc4b":"\u0254","\u2183":"\u0186","\u03fd":"\u0186","\ua4db":"\u0186","\ud801\udc23":"\u0186","\uab3f":"\u0254\u0338","\uab62":"\u0254e","\ud801\udc3f":"\u0277","\u2374":"p","\uff50":"p","\ud835\udc29":"p","\ud835\udc5d":"p","\ud835\udc91":"p","\ud835\udcc5":"p","\ud835\udcf9":"p","\ud835\udd2d":"p","\ud835\udd61":"p","\ud835\udd95":"p","\ud835\uddc9":"p","\ud835\uddfd":"p","\ud835\ude31":"p","\ud835\ude65":"p","\ud835\ude99":"p","\u03c1":"p","\u03f1":"p","\ud835\uded2":"p","\ud835\udee0":"p","\ud835\udf0c":"p","\ud835\udf1a":"p","\ud835\udf46":"p","\ud835\udf54":"p","\ud835\udf80":"p","\ud835\udf8e":"p","\ud835\udfba":"p","\ud835\udfc8":"p","\u2ca3":"p","\u0440":"p","\uff30":"P","\u2119":"P","\ud835\udc0f":"P","\ud835\udc43":"P","\ud835\udc77":"P","\ud835\udcab":"P","\ud835\udcdf":"P","\ud835\udd13":"P","\ud835\udd7b":"P","\ud835\uddaf":"P","\ud835\udde3":"P","\ud835\ude17":"P","\ud835\ude4b":"P","\ud835\ude7f":"P","\u03a1":"P","\ud835\udeb8":"P","\ud835\udef2":"P","\ud835\udf2c":"P","\ud835\udf66":"P","\ud835\udfa0":"P","\u2ca2":"P","\u0420":"P","\u13e2":"P","\u146d":"P","\ua4d1":"P","\ud800\ude95":"P","\u01a5":"p\u0314","\u1d7d":"p\u0335","\u1477":"p\xb7","\u1486":"P\'","\u1d29":"\u1d18","\uabb2":"\u1d18","\u03c6":"\u0278","\u03d5":"\u0278","\ud835\uded7":"\u0278","\ud835\udedf":"\u0278","\ud835\udf11":"\u0278","\ud835\udf19":"\u0278","\ud835\udf4b":"\u0278","\ud835\udf53":"\u0278","\ud835\udf85":"\u0278","\ud835\udf8d":"\u0278","\ud835\udfbf":"\u0278","\ud835\udfc7":"\u0278","\u2cab":"\u0278","\u0444":"\u0278","\ud835\udc2a":"q","\ud835\udc5e":"q","\ud835\udc92":"q","\ud835\udcc6":"q","\ud835\udcfa":"q","\ud835\udd2e":"q","\ud835\udd62":"q","\ud835\udd96":"q","\ud835\uddca":"q","\ud835\uddfe":"q","\ud835\ude32":"q","\ud835\ude66":"q","\ud835\ude9a":"q","\u051b":"q","\u0563":"q","\u0566":"q","\u211a":"Q","\ud835\udc10":"Q","\ud835\udc44":"Q","\ud835\udc78":"Q","\ud835\udcac":"Q","\ud835\udce0":"Q","\ud835\udd14":"Q","\ud835\udd7c":"Q","\ud835\uddb0":"Q","\ud835\udde4":"Q","\ud835\ude18":"Q","\ud835\ude4c":"Q","\ud835\ude80":"Q","\u2d55":"Q","\u02a0":"q\u0314","\ud83d\udf00":"QE","\u1d90":"\u024b","\u1d0b":"\u0138","\u03ba":"\u0138","\u03f0":"\u0138","\ud835\udecb":"\u0138","\ud835\udede":"\u0138","\ud835\udf05":"\u0138","\ud835\udf18":"\u0138","\ud835\udf3f":"\u0138","\ud835\udf52":"\u0138","\ud835\udf79":"\u0138","\ud835\udf8c":"\u0138","\ud835\udfb3":"\u0138","\ud835\udfc6":"\u0138","\u2c95":"\u0138","\u043a":"\u0138","\uabb6":"\u0138","\u049b":"\u0138\u0329","\u049f":"\u0138\u0335","\ud835\udc2b":"r","\ud835\udc5f":"r","\ud835\udc93":"r","\ud835\udcc7":"r","\ud835\udcfb":"r","\ud835\udd2f":"r","\ud835\udd63":"r","\ud835\udd97":"r","\ud835\uddcb":"r","\ud835\uddff":"r","\ud835\ude33":"r","\ud835\ude67":"r","\ud835\ude9b":"r","\uab47":"r","\uab48":"r","\u1d26":"r","\u2c85":"r","\u0433":"r","\uab81":"r","\ud834\ude16":"R","\u211b":"R","\u211c":"R","\u211d":"R","\ud835\udc11":"R","\ud835\udc45":"R","\ud835\udc79":"R","\ud835\udce1":"R","\ud835\udd7d":"R","\ud835\uddb1":"R","\ud835\udde5":"R","\ud835\ude19":"R","\ud835\ude4d":"R","\ud835\ude81":"R","\u01a6":"R","\u13a1":"R","\u13d2":"R","\ud801\udcb4":"R","\u1587":"R","\ua4e3":"R","\ud81b\udf35":"R","\u027d":"r\u0328","\u027c":"r\u0329","\u024d":"r\u0335","\u0493":"r\u0335","\u1d72":"r\u0334","\u0491":"r\'","\ud806\udce3":"rn","m":"rn","\u217f":"rn","\ud835\udc26":"rn","\ud835\udc5a":"rn","\ud835\udc8e":"rn","\ud835\udcc2":"rn","\ud835\udcf6":"rn","\ud835\udd2a":"rn","\ud835\udd5e":"rn","\ud835\udd92":"rn","\ud835\uddc6":"rn","\ud835\uddfa":"rn","\ud835\ude2e":"rn","\ud835\ude62":"rn","\ud835\ude96":"rn","\ud805\udf00":"rn","\u20a5":"rn\u0338","\u0271":"rn\u0326","\u1d6f":"rn\u0334","\u20a8":"Rs","\uab71":"\u0280","\uaba2":"\u0280","\u044f":"\u1d19","\u1d73":"\u027e\u0334","\u2129":"\u027f","\uff53":"s","\ud835\udc2c":"s","\ud835\udc60":"s","\ud835\udc94":"s","\ud835\udcc8":"s","\ud835\udcfc":"s","\ud835\udd30":"s","\ud835\udd64":"s","\ud835\udd98":"s","\ud835\uddcc":"s","\ud835\ude00":"s","\ud835\ude34":"s","\ud835\ude68":"s","\ud835\ude9c":"s","\ua731":"s","\u01bd":"s","\u0455":"s","\uabaa":"s","\ud806\udcc1":"s","\ud801\udc48":"s","\uff33":"S","\ud835\udc12":"S","\ud835\udc46":"S","\ud835\udc7a":"S","\ud835\udcae":"S","\ud835\udce2":"S","\ud835\udd16":"S","\ud835\udd4a":"S","\ud835\udd7e":"S","\ud835\uddb2":"S","\ud835\udde6":"S","\ud835\ude1a":"S","\ud835\ude4e":"S","\ud835\ude82":"S","\u0405":"S","\u054f":"S","\u13d5":"S","\u13da":"S","\ua4e2":"S","\ud81b\udf3a":"S","\ud800\ude96":"S","\ud801\udc20":"S","\u0282":"s\u0328","\u1d74":"s\u0334","\ua7b5":"\xdf","\u03b2":"\xdf","\u03d0":"\xdf","\ud835\udec3":"\xdf","\ud835\udefd":"\xdf","\ud835\udf37":"\xdf","\ud835\udf71":"\xdf","\ud835\udfab":"\xdf","\u13f0":"\xdf","\ud83d\udf5c":"sss","\ufb06":"st","\u222b":"\u0283","\uab4d":"\u0283","\u2211":"\u01a9","\u2140":"\u01a9","\u03a3":"\u01a9","\ud835\udeba":"\u01a9","\ud835\udef4":"\u01a9","\ud835\udf2e":"\u01a9","\ud835\udf68":"\u01a9","\ud835\udfa2":"\u01a9","\u2d49":"\u01a9","\u222c":"\u0283\u0283","\u222d":"\u0283\u0283\u0283","\u2a0c":"\u0283\u0283\u0283\u0283","\ud835\udc2d":"t","\ud835\udc61":"t","\ud835\udc95":"t","\ud835\udcc9":"t","\ud835\udcfd":"t","\ud835\udd31":"t","\ud835\udd65":"t","\ud835\udd99":"t","\ud835\uddcd":"t","\ud835\ude01":"t","\ud835\ude35":"t","\ud835\ude69":"t","\ud835\ude9d":"t","\u22a4":"T","\u27d9":"T","\ud83d\udf68":"T","\uff34":"T","\ud835\udc13":"T","\ud835\udc47":"T","\ud835\udc7b":"T","\ud835\udcaf":"T","\ud835\udce3":"T","\ud835\udd17":"T","\ud835\udd4b":"T","\ud835\udd7f":"T","\ud835\uddb3":"T","\ud835\udde7":"T","\ud835\ude1b":"T","\ud835\ude4f":"T","\ud835\ude83":"T","\u03a4":"T","\ud835\udebb":"T","\ud835\udef5":"T","\ud835\udf2f":"T","\ud835\udf69":"T","\ud835\udfa3":"T","\u2ca6":"T","\u0422":"T","\u13a2":"T","\ua4d4":"T","\ud81b\udf0a":"T","\ud806\udcbc":"T","\ud800\ude97":"T","\ud800\udeb1":"T","\ud800\udf15":"T","\u01ad":"t\u0314","\u2361":"T\u0308","\u023e":"T\u0338","\u021a":"\u0162","\u01ae":"T\u0328","\u04ac":"T\u0329","\u20ae":"T\u20eb","\u0167":"t\u0335","\u0166":"T\u0335","\u1d75":"t\u0334","\u10a0":"\ua786","\ua728":"T3","\u02a8":"t\u0255","\u2121":"TEL","\ua777":"tf","\u02a6":"ts","\u02a7":"t\u0283","\ua729":"t\u021d","\u03c4":"\u1d1b","\ud835\uded5":"\u1d1b","\ud835\udf0f":"\u1d1b","\ud835\udf49":"\u1d1b","\ud835\udf83":"\u1d1b","\ud835\udfbd":"\u1d1b","\u0442":"\u1d1b","\uab72":"\u1d1b","\u04ad":"\u1d1b\u0329","\u0163":"\u01ab","\u021b":"\u01ab","\u13bf":"\u01ab","\ud835\udc2e":"u","\ud835\udc62":"u","\ud835\udc96":"u","\ud835\udcca":"u","\ud835\udcfe":"u","\ud835\udd32":"u","\ud835\udd66":"u","\ud835\udd9a":"u","\ud835\uddce":"u","\ud835\ude02":"u","\ud835\ude36":"u","\ud835\ude6a":"u","\ud835\ude9e":"u","\ua79f":"u","\u1d1c":"u","\uab4e":"u","\uab52":"u","\u028b":"u","\u03c5":"u","\ud835\uded6":"u","\ud835\udf10":"u","\ud835\udf4a":"u","\ud835\udf84":"u","\ud835\udfbe":"u","\u057d":"u","\ud801\udcf6":"u","\ud806\udcd8":"u","\u222a":"U","\u22c3":"U","\ud835\udc14":"U","\ud835\udc48":"U","\ud835\udc7c":"U","\ud835\udcb0":"U","\ud835\udce4":"U","\ud835\udd18":"U","\ud835\udd4c":"U","\ud835\udd80":"U","\ud835\uddb4":"U","\ud835\udde8":"U","\ud835\ude1c":"U","\ud835\ude50":"U","\ud835\ude84":"U","\u054d":"U","\u1200":"U","\ud801\udcce":"U","\u144c":"U","\ua4f4":"U","\ud81b\udf42":"U","\ud806\udcb8":"U","\u01d4":"\u016d","\u01d3":"\u016c","\u1d7e":"u\u0335","\uab9c":"u\u0335","\u0244":"U\u0335","\u13cc":"U\u0335","\u1458":"U\xb7","\u1467":"U\'","\u1d6b":"ue","\uab63":"uo","\u1e43":"\uab51","\u057a":"\u0270","\u1223":"\u0270","\u2127":"\u01b1","\u162e":"\u01b1","\u1634":"\u01b1","\u1d7f":"\u028a\u0335","\u2228":"v","\u22c1":"v","\uff56":"v","\u2174":"v","\ud835\udc2f":"v","\ud835\udc63":"v","\ud835\udc97":"v","\ud835\udccb":"v","\ud835\udcff":"v","\ud835\udd33":"v","\ud835\udd67":"v","\ud835\udd9b":"v","\ud835\uddcf":"v","\ud835\ude03":"v","\ud835\ude37":"v","\ud835\ude6b":"v","\ud835\ude9f":"v","\u1d20":"v","\u03bd":"v","\ud835\udece":"v","\ud835\udf08":"v","\ud835\udf42":"v","\ud835\udf7c":"v","\ud835\udfb6":"v","\u0475":"v","\u05d8":"v","\ud805\udf06":"v","\uaba9":"v","\ud806\udcc0":"v","\ud834\ude0d":"V","\u0667":"V","\u06f7":"V","\u2164":"V","\ud835\udc15":"V","\ud835\udc49":"V","\ud835\udc7d":"V","\ud835\udcb1":"V","\ud835\udce5":"V","\ud835\udd19":"V","\ud835\udd4d":"V","\ud835\udd81":"V","\ud835\uddb5":"V","\ud835\udde9":"V","\ud835\ude1d":"V","\ud835\ude51":"V","\ud835\ude85":"V","\u0474":"V","\u2d38":"V","\u13d9":"V","\u142f":"V","\ua6df":"V","\ua4e6":"V","\ud81b\udf08":"V","\ud806\udca0":"V","\ud801\udd1d":"V","\ud800\udd97":"V\u0335","\u143b":"V\xb7","\ud83d\udf6c":"VB","\u2175":"vi","\u2176":"vii","\u2177":"viii","\u2165":"Vl","\u2166":"Vll","\u2167":"Vlll","\ud83d\udf08":"V\u1de4","\u1d27":"\u028c","\ud801\udcd8":"\u028c","\u0668":"\u0245","\u06f8":"\u0245","\u039b":"\u0245","\ud835\udeb2":"\u0245","\ud835\udeec":"\u0245","\ud835\udf26":"\u0245","\ud835\udf60":"\u0245","\ud835\udf9a":"\u0245","\u041b":"\u0245","\u2d37":"\u0245","\ud801\udcb0":"\u0245","\u1431":"\u0245","\ua6ce":"\u0245","\ua4e5":"\u0245","\ud81b\udf3d":"\u0245","\ud800\ude8d":"\u0245","\u04c5":"\u0245\u0326","\u143d":"\u0245\xb7","\u026f":"w","\ud835\udc30":"w","\ud835\udc64":"w","\ud835\udc98":"w","\ud835\udccc":"w","\ud835\udd00":"w","\ud835\udd34":"w","\ud835\udd68":"w","\ud835\udd9c":"w","\ud835\uddd0":"w","\ud835\ude04":"w","\ud835\ude38":"w","\ud835\ude6c":"w","\ud835\udea0":"w","\u1d21":"w","\u0461":"w","\u051d":"w","\u0561":"w","\ud805\udf0a":"w","\ud805\udf0e":"w","\ud805\udf0f":"w","\uab83":"w","\ud806\udcef":"W","\ud806\udce6":"W","\ud835\udc16":"W","\ud835\udc4a":"W","\ud835\udc7e":"W","\ud835\udcb2":"W","\ud835\udce6":"W","\ud835\udd1a":"W","\ud835\udd4e":"W","\ud835\udd82":"W","\ud835\uddb6":"W","\ud835\uddea":"W","\ud835\ude1e":"W","\ud835\ude52":"W","\ud835\ude86":"W","\u051c":"W","\u13b3":"W","\u13d4":"W","\ua4ea":"W","\u047d":"w\u0486\u0487","\ud805\udcc5":"w\u0307","\u20a9":"W\u0335","\ua761":"w\u0326","\u1d0d":"\u028d","\u043c":"\u028d","\uab87":"\u028d","\u04ce":"\u028d\u0326","\u166e":"x","\xd7":"x","\u292b":"x","\u292c":"x","\u2a2f":"x","\uff58":"x","\u2179":"x","\ud835\udc31":"x","\ud835\udc65":"x","\ud835\udc99":"x","\ud835\udccd":"x","\ud835\udd01":"x","\ud835\udd35":"x","\ud835\udd69":"x","\ud835\udd9d":"x","\ud835\uddd1":"x","\ud835\ude05":"x","\ud835\ude39":"x","\ud835\ude6d":"x","\ud835\udea1":"x","\u0445":"x","\u1541":"x","\u157d":"x","\u2def":"\u036f","\u166d":"X","\u2573":"X","\ud800\udf22":"X","\ud806\udcec":"X","\uff38":"X","\u2169":"X","\ud835\udc17":"X","\ud835\udc4b":"X","\ud835\udc7f":"X","\ud835\udcb3":"X","\ud835\udce7":"X","\ud835\udd1b":"X","\ud835\udd4f":"X","\ud835\udd83":"X","\ud835\uddb7":"X","\ud835\uddeb":"X","\ud835\ude1f":"X","\ud835\ude53":"X","\ud835\ude87":"X","\ua7b3":"X","\u03a7":"X","\ud835\udebe":"X","\ud835\udef8":"X","\ud835\udf32":"X","\ud835\udf6c":"X","\ud835\udfa6":"X","\u2cac":"X","\u0425":"X","\u2d5d":"X","\u16b7":"X","\ua4eb":"X","\ud800\ude90":"X","\ud800\udeb4":"X","\ud800\udf17":"X","\ud801\udd27":"X","\u2a30":"x\u0307","\u04b2":"X\u0329","\ud800\udd96":"X\u0335","\u217a":"xi","\u217b":"xii","\u216a":"Xl","\u216b":"Xll","\u0263":"y","\u1d8c":"y","\uff59":"y","\ud835\udc32":"y","\ud835\udc66":"y","\ud835\udc9a":"y","\ud835\udcce":"y","\ud835\udd02":"y","\ud835\udd36":"y","\ud835\udd6a":"y","\ud835\udd9e":"y","\ud835\uddd2":"y","\ud835\ude06":"y","\ud835\ude3a":"y","\ud835\ude6e":"y","\ud835\udea2":"y","\u028f":"y","\u1eff":"y","\uab5a":"y","\u03b3":"y","\u213d":"y","\ud835\udec4":"y","\ud835\udefe":"y","\ud835\udf38":"y","\ud835\udf72":"y","\ud835\udfac":"y","\u0443":"y","\u04af":"y","\u10e7":"y","\ud806\udcdc":"y","\uff39":"Y","\ud835\udc18":"Y","\ud835\udc4c":"Y","\ud835\udc80":"Y","\ud835\udcb4":"Y","\ud835\udce8":"Y","\ud835\udd1c":"Y","\ud835\udd50":"Y","\ud835\udd84":"Y","\ud835\uddb8":"Y","\ud835\uddec":"Y","\ud835\ude20":"Y","\ud835\ude54":"Y","\ud835\ude88":"Y","\u03a5":"Y","\u03d2":"Y","\ud835\udebc":"Y","\ud835\udef6":"Y","\ud835\udf30":"Y","\ud835\udf6a":"Y","\ud835\udfa4":"Y","\u2ca8":"Y","\u0423":"Y","\u04ae":"Y","\u13a9":"Y","\u13bd":"Y","\ua4ec":"Y","\ud81b\udf43":"Y","\ud806\udca4":"Y","\ud800\udeb2":"Y","\u01b4":"y\u0314","\u024f":"y\u0335","\u04b1":"y\u0335","\xa5":"Y\u0335","\u024e":"Y\u0335","\u04b0":"Y\u0335","\u0292":"\u021d","\ua76b":"\u021d","\u2ccd":"\u021d","\u04e1":"\u021d","\u10f3":"\u021d","\ud835\udc33":"z","\ud835\udc67":"z","\ud835\udc9b":"z","\ud835\udccf":"z","\ud835\udd03":"z","\ud835\udd37":"z","\ud835\udd6b":"z","\ud835\udd9f":"z","\ud835\uddd3":"z","\ud835\ude07":"z","\ud835\ude3b":"z","\ud835\ude6f":"z","\ud835\udea3":"z","\u1d22":"z","\uab93":"z","\ud806\udcc4":"z","\ud800\udef5":"Z","\ud806\udce5":"Z","\uff3a":"Z","\u2124":"Z","\u2128":"Z","\ud835\udc19":"Z","\ud835\udc4d":"Z","\ud835\udc81":"Z","\ud835\udcb5":"Z","\ud835\udce9":"Z","\ud835\udd85":"Z","\ud835\uddb9":"Z","\ud835\udded":"Z","\ud835\ude21":"Z","\ud835\ude55":"Z","\ud835\ude89":"Z","\u0396":"Z","\ud835\udead":"Z","\ud835\udee7":"Z","\ud835\udf21":"Z","\ud835\udf5b":"Z","\ud835\udf95":"Z","\u13c3":"Z","\ua4dc":"Z","\ud806\udca9":"Z","\u0290":"z\u0328","\u01b6":"z\u0335","\u01b5":"Z\u0335","\u0225":"z\u0326","\u0224":"Z\u0326","\u1d76":"z\u0334","\u01bf":"\xfe","\u03f8":"\xfe","\u03f7":"\xde","\ud801\udcc4":"\xde","\u2079":"\ua770","\u1d24":"\u01a8","\u03e9":"\u01a8","\ua645":"\u01a8","\u044c":"\u0185","\uab9f":"\u0185","\u044b":"\u0185i","\uab7e":"\u0242","\u02e4":"\u02c1","\ua6cd":"\u02a1","\u2299":"\u0298","\u2609":"\u0298","\u2a00":"\u0298","\ua668":"\u0298","\u2d59":"\u0298","\ud801\udcc3":"\u0298","\u213e":"\u0393","\ud835\udeaa":"\u0393","\ud835\udee4":"\u0393","\ud835\udf1e":"\u0393","\ud835\udf58":"\u0393","\ud835\udf92":"\u0393","\u2c84":"\u0393","\u0413":"\u0393","\u13b1":"\u0393","\u14a5":"\u0393","\ud81b\udf07":"\u0393","\u0492":"\u0393\u0335","\u14af":"\u0393\xb7","\u0490":"\u0393\'","\u2206":"\u0394","\u25b3":"\u0394","\ud83d\udf02":"\u0394","\ud835\udeab":"\u0394","\ud835\udee5":"\u0394","\ud835\udf1f":"\u0394","\ud835\udf59":"\u0394","\ud835\udf93":"\u0394","\u2c86":"\u0394","\u2d60":"\u0394","\u1403":"\u0394","\ud81b\udf1a":"\u0394","\ud800\ude85":"\u0394","\ud800\udea3":"\u0394","\u2359":"\u0394\u0332","\u140f":"\u0394\xb7","\u142c":"\u0394\u1420","\ud835\udfcb":"\u03dd","\ud835\udec7":"\u03b6","\ud835\udf01":"\u03b6","\ud835\udf3b":"\u03b6","\ud835\udf75":"\u03b6","\ud835\udfaf":"\u03b6","\u2ce4":"\u03d7","\ud835\udecc":"\u03bb","\ud835\udf06":"\u03bb","\ud835\udf40":"\u03bb","\ud835\udf7a":"\u03bb","\ud835\udfb4":"\u03bb","\u2c96":"\u03bb","\ud801\udcdb":"\u03bb","\xb5":"\u03bc","\ud835\udecd":"\u03bc","\ud835\udf07":"\u03bc","\ud835\udf41":"\u03bc","\ud835\udf7b":"\u03bc","\ud835\udfb5":"\u03bc","\ud835\udecf":"\u03be","\ud835\udf09":"\u03be","\ud835\udf43":"\u03be","\ud835\udf7d":"\u03be","\ud835\udfb7":"\u03be","\ud835\udeb5":"\u039e","\ud835\udeef":"\u039e","\ud835\udf29":"\u039e","\ud835\udf63":"\u039e","\ud835\udf9d":"\u039e","\u03d6":"\u03c0","\u213c":"\u03c0","\ud835\uded1":"\u03c0","\ud835\udee1":"\u03c0","\ud835\udf0b":"\u03c0","\ud835\udf1b":"\u03c0","\ud835\udf45":"\u03c0","\ud835\udf55":"\u03c0","\ud835\udf7f":"\u03c0","\ud835\udf8f":"\u03c0","\ud835\udfb9":"\u03c0","\ud835\udfc9":"\u03c0","\u1d28":"\u03c0","\u043f":"\u03c0","\u220f":"\u03a0","\u213f":"\u03a0","\ud835\udeb7":"\u03a0","\ud835\udef1":"\u03a0","\ud835\udf2b":"\u03a0","\ud835\udf65":"\u03a0","\ud835\udf9f":"\u03a0","\u2ca0":"\u03a0","\u041f":"\u03a0","\ua6db":"\u03a0","\ud800\udead":"\u03d8","\ud800\udf12":"\u03d8","\u03db":"\u03c2","\ud835\uded3":"\u03c2","\ud835\udf0d":"\u03c2","\ud835\udf47":"\u03c2","\ud835\udf81":"\u03c2","\ud835\udfbb":"\u03c2","\ud835\udebd":"\u03a6","\ud835\udef7":"\u03a6","\ud835\udf31":"\u03a6","\ud835\udf6b":"\u03a6","\ud835\udfa5":"\u03a6","\u2caa":"\u03a6","\u0424":"\u03a6","\u0553":"\u03a6","\u1240":"\u03a6","\u16f0":"\u03a6","\ud800\udeb3":"\u03a6","\uab53":"\u03c7","\uab55":"\u03c7","\ud835\uded8":"\u03c7","\ud835\udf12":"\u03c7","\ud835\udf4c":"\u03c7","\ud835\udf86":"\u03c7","\ud835\udfc0":"\u03c7","\u2cad":"\u03c7","\ud835\uded9":"\u03c8","\ud835\udf13":"\u03c8","\ud835\udf4d":"\u03c8","\ud835\udf87":"\u03c8","\ud835\udfc1":"\u03c8","\u0471":"\u03c8","\ud801\udcf9":"\u03c8","\ud835\udebf":"\u03a8","\ud835\udef9":"\u03a8","\ud835\udf33":"\u03a8","\ud835\udf6d":"\u03a8","\ud835\udfa7":"\u03a8","\u2cae":"\u03a8","\u0470":"\u03a8","\ud801\udcd1":"\u03a8","\u16d8":"\u03a8","\ud800\udeb5":"\u03a8","\u2375":"\u03c9","\ua7b7":"\u03c9","\ud835\udeda":"\u03c9","\ud835\udf14":"\u03c9","\ud835\udf4e":"\u03c9","\ud835\udf88":"\u03c9","\ud835\udfc2":"\u03c9","\u2cb1":"\u03c9","\ua64d":"\u03c9","\u2126":"\u03a9","\ud835\udec0":"\u03a9","\ud835\udefa":"\u03a9","\ud835\udf34":"\u03a9","\ud835\udf6e":"\u03a9","\ud835\udfa8":"\u03a9","\u162f":"\u03a9","\u1635":"\u03a9","\ud800\udeb6":"\u03a9","\u2379":"\u03c9\u0332","\u1f7d":"\u1ff4","\u2630":"\u2cb6","\u2cdc":"\u03ec","\u0497":"\u0436\u0329","\u0496":"\u0416\u0329","\ud834\ude0b":"\u0418","\u0376":"\u0418","\ua6a1":"\u0418","\ud801\udc25":"\u0418","\u0419":"\u040d","\u048a":"\u040d\u0326","\u045d":"\u0439","\u048b":"\u0439\u0326","\ud801\udcbc":"\u04c3","\u1d2b":"\u043b","\u04c6":"\u043b\u0326","\uab60":"\u0459","\ud801\udceb":"\ua669","\u1dee":"\u2dec","\ud801\udccd":"\u040b","\ud834\ude02":"\u04fe","\ud834\ude22":"\u0460","\u13c7":"\u0460","\u15ef":"\u0460","\u047c":"\u0460\u0486\u0487","\u18ed":"\u0460\xb7","\ua7b6":"\ua64c","\u04cc":"\u04b7","\u04cb":"\u04b6","\u04be":"\u04bc\u0328","\u2cbd":"\u0448","\u2cbc":"\u0428","\ua650":"\u042al","\u2108":"\u042d","\ud83d\udf01":"\ua658","\ud81b\udf1c":"\ua658","\ua992":"\u2c3f","\u0587":"\u0565\u0582","\u1294":"\u0571","\ufb14":"\u0574\u0565","\ufb15":"\u0574\u056b","\ufb17":"\u0574\u056d","\ufb13":"\u0574\u0576","\u2229":"\u0548","\u22c2":"\u0548","\ud834\ude45":"\u0548","\u1260":"\u0548","\u144e":"\u0548","\ua4f5":"\u0548","\u145a":"\u0548\xb7","\u1468":"\u0548\'","\ufb16":"\u057e\u0576","\u20bd":"\u0554","\u02d3":"\u0559","\u02bf":"\u0559","\u2135":"\u05d0","\ufb21":"\u05d0","\ufb2f":"\ufb2e","\ufb30":"\ufb2e","\ufb4f":"\u05d0\u05dc","\u2136":"\u05d1","\u2137":"\u05d2","\u2138":"\u05d3","\ufb22":"\u05d3","\ufb23":"\u05d4","\ufb39":"\ufb1d","\ufb24":"\u05db","\ufb25":"\u05dc","\ufb26":"\u05dd","\ufb20":"\u05e2","\ufb27":"\u05e8","\ufb2b":"\ufb2a","\ufb49":"\ufb2a","\ufb2d":"\ufb2c","\ufb28":"\u05ea","\ufe80":"\u0621","\u06fd":"\u0621\u0348","\ufe82":"\u0622","\ufe81":"\u0622","\ufb51":"\u0671","\ufb50":"\u0671","\ud83b\ude01":"\u0628","\ud83b\ude21":"\u0628","\ud83b\ude61":"\u0628","\ud83b\ude81":"\u0628","\ud83b\udea1":"\u0628","\ufe91":"\u0628","\ufe92":"\u0628","\ufe90":"\u0628","\ufe8f":"\u0628","\u0751":"\u0628\u06db","\u08b6":"\u0628\u06e2","\u08a1":"\u0628\u0654","\ufca0":"\u0628o","\ufce2":"\u0628o","\ufc9c":"\u0628\u062c","\ufc05":"\u0628\u062c","\ufc9d":"\u0628\u062d","\ufc06":"\u0628\u062d","\ufdc2":"\u0628\u062d\u0649","\ufc9e":"\u0628\u062e","\ufc07":"\u0628\u062e","\ufcd2":"\u0628\u062e","\ufc4b":"\u0628\u062e","\ufd9e":"\u0628\u062e\u0649","\ufc6a":"\u0628\u0631","\ufc6b":"\u0628\u0632","\ufc9f":"\u0628\u0645","\ufce1":"\u0628\u0645","\ufc6c":"\u0628\u0645","\ufc08":"\u0628\u0645","\ufc6d":"\u0628\u0646","\ufc6e":"\u0628\u0649","\ufc09":"\u0628\u0649","\ufc6f":"\u0628\u0649","\ufc0a":"\u0628\u0649","\ufb54":"\u067b","\ufb55":"\u067b","\ufb53":"\u067b","\ufb52":"\u067b","\u06d0":"\u067b","\ufbe6":"\u067b","\ufbe7":"\u067b","\ufbe5":"\u067b","\ufbe4":"\u067b","\ufb5c":"\u0680","\ufb5d":"\u0680","\ufb5b":"\u0680","\ufb5a":"\u0680","\u08a9":"\u0754","\u0767":"\u0754","\u2365":"\u0629","\xf6":"\u0629","\ufe94":"\u0629","\ufe93":"\u0629","\u06c3":"\u0629","\ud83b\ude15":"\u062a","\ud83b\ude35":"\u062a","\ud83b\ude75":"\u062a","\ud83b\ude95":"\u062a","\ud83b\udeb5":"\u062a","\ufe97":"\u062a","\ufe98":"\u062a","\ufe96":"\u062a","\ufe95":"\u062a","\ufca5":"\u062ao","\ufce4":"\u062ao","\ufca1":"\u062a\u062c","\ufc0b":"\u062a\u062c","\ufd50":"\u062a\u062c\u0645","\ufda0":"\u062a\u062c\u0649","\ufd9f":"\u062a\u062c\u0649","\ufca2":"\u062a\u062d","\ufc0c":"\u062a\u062d","\ufd52":"\u062a\u062d\u062c","\ufd51":"\u062a\u062d\u062c","\ufd53":"\u062a\u062d\u0645","\ufca3":"\u062a\u062e","\ufc0d":"\u062a\u062e","\ufd54":"\u062a\u062e\u0645","\ufda2":"\u062a\u062e\u0649","\ufda1":"\u062a\u062e\u0649","\ufc70":"\u062a\u0631","\ufc71":"\u062a\u0632","\ufca4":"\u062a\u0645","\ufce3":"\u062a\u0645","\ufc72":"\u062a\u0645","\ufc0e":"\u062a\u0645","\ufd55":"\u062a\u0645\u062c","\ufd56":"\u062a\u0645\u062d","\ufd57":"\u062a\u0645\u062e","\ufda4":"\u062a\u0645\u0649","\ufda3":"\u062a\u0645\u0649","\ufc73":"\u062a\u0646","\ufc74":"\u062a\u0649","\ufc0f":"\u062a\u0649","\ufc75":"\u062a\u0649","\ufc10":"\u062a\u0649","\ufb60":"\u067a","\ufb61":"\u067a","\ufb5f":"\u067a","\ufb5e":"\u067a","\ufb64":"\u067f","\ufb65":"\u067f","\ufb63":"\u067f","\ufb62":"\u067f","\ud83b\ude02":"\u062c","\ud83b\ude22":"\u062c","\ud83b\ude42":"\u062c","\ud83b\ude62":"\u062c","\ud83b\ude82":"\u062c","\ud83b\udea2":"\u062c","\ufe9f":"\u062c","\ufea0":"\u062c","\ufe9e":"\u062c","\ufe9d":"\u062c","\ufca7":"\u062c\u062d","\ufc15":"\u062c\u062d","\ufda6":"\u062c\u062d\u0649","\ufdbe":"\u062c\u062d\u0649","\ufdfb":"\u062c\u0644 \u062c\u0644l\u0644o","\ufca8":"\u062c\u0645","\ufc16":"\u062c\u0645","\ufd59":"\u062c\u0645\u062d","\ufd58":"\u062c\u0645\u062d","\ufda7":"\u062c\u0645\u0649","\ufda5":"\u062c\u0645\u0649","\ufd1d":"\u062c\u0649","\ufd01":"\u062c\u0649","\ufd1e":"\u062c\u0649","\ufd02":"\u062c\u0649","\ufb78":"\u0683","\ufb79":"\u0683","\ufb77":"\u0683","\ufb76":"\u0683","\ufb74":"\u0684","\ufb75":"\u0684","\ufb73":"\u0684","\ufb72":"\u0684","\ufb7c":"\u0686","\ufb7d":"\u0686","\ufb7b":"\u0686","\ufb7a":"\u0686","\ufb80":"\u0687","\ufb81":"\u0687","\ufb7f":"\u0687","\ufb7e":"\u0687","\ud83b\ude07":"\u062d","\ud83b\ude27":"\u062d","\ud83b\ude47":"\u062d","\ud83b\ude67":"\u062d","\ud83b\ude87":"\u062d","\ud83b\udea7":"\u062d","\ufea3":"\u062d","\ufea4":"\u062d","\ufea2":"\u062d","\ufea1":"\u062d","\u0685":"\u062d\u06db","\u0681":"\u062d\u0654","\u0772":"\u062d\u0654","\ufca9":"\u062d\u062c","\ufc17":"\u062d\u062c","\ufdbf":"\u062d\u062c\u0649","\ufcaa":"\u062d\u0645","\ufc18":"\u062d\u0645","\ufd5b":"\u062d\u0645\u0649","\ufd5a":"\u062d\u0645\u0649","\ufd1b":"\u062d\u0649","\ufcff":"\u062d\u0649","\ufd1c":"\u062d\u0649","\ufd00":"\u062d\u0649","\ud83b\ude17":"\u062e","\ud83b\ude37":"\u062e","\ud83b\ude57":"\u062e","\ud83b\ude77":"\u062e","\ud83b\ude97":"\u062e","\ud83b\udeb7":"\u062e","\ufea7":"\u062e","\ufea8":"\u062e","\ufea6":"\u062e","\ufea5":"\u062e","\ufcab":"\u062e\u062c","\ufc19":"\u062e\u062c","\ufc1a":"\u062e\u062d","\ufcac":"\u062e\u0645","\ufc1b":"\u062e\u0645","\ufd1f":"\u062e\u0649","\ufd03":"\u062e\u0649","\ufd20":"\u062e\u0649","\ufd04":"\u062e\u0649","\ud800\udee1":"\u062f","\ud83b\ude03":"\u062f","\ud83b\ude83":"\u062f","\ud83b\udea3":"\u062f","\ufeaa":"\u062f","\ufea9":"\u062f","\u0688":"\u062f\u0615","\ufb89":"\u062f\u0615","\ufb88":"\u062f\u0615","\u068e":"\u062f\u06db","\ufb87":"\u062f\u06db","\ufb86":"\u062f\u06db","\u06ee":"\u062f\u0302","\u08ae":"\u062f\u0324\u0323","\ud83b\ude18":"\u0630","\ud83b\ude98":"\u0630","\ud83b\udeb8":"\u0630","\ufeac":"\u0630","\ufeab":"\u0630","\ufc5b":"\u0630\u0670","\u068b":"\u068a\u0615","\ufb85":"\u068c","\ufb84":"\u068c","\ufb83":"\u068d","\ufb82":"\u068d","\ud83b\ude13":"\u0631","\ud83b\ude93":"\u0631","\ud83b\udeb3":"\u0631","\ufeae":"\u0631","\ufead":"\u0631","\u0691":"\u0631\u0615","\ufb8d":"\u0631\u0615","\ufb8c":"\u0631\u0615","\u0698":"\u0631\u06db","\ufb8b":"\u0631\u06db","\ufb8a":"\u0631\u06db","\u0692":"\u0631\u0306","\u08b9":"\u0631\u0306\u0307","\u06ef":"\u0631\u0302","\u076c":"\u0631\u0654","\ufc5c":"\u0631\u0670","\ufdf6":"\u0631\u0633\u0648\u0644","\ufdfc":"\u0631\u0649l\u0644","\ud83b\ude06":"\u0632","\ud83b\ude86":"\u0632","\ud83b\udea6":"\u0632","\ufeb0":"\u0632","\ufeaf":"\u0632","\u08b2":"\u0632\u0302","\u0771":"\u0697\u0615","\ud83b\ude0e":"\u0633","\ud83b\ude2e":"\u0633","\ud83b\ude4e":"\u0633","\ud83b\ude6e":"\u0633","\ud83b\ude8e":"\u0633","\ud83b\udeae":"\u0633","\ufeb3":"\u0633","\ufeb4":"\u0633","\ufeb2":"\u0633","\ufeb1":"\u0633","\u0634":"\u0633\u06db","\ud83b\ude14":"\u0633\u06db","\ud83b\ude34":"\u0633\u06db","\ud83b\ude54":"\u0633\u06db","\ud83b\ude74":"\u0633\u06db","\ud83b\ude94":"\u0633\u06db","\ud83b\udeb4":"\u0633\u06db","\ufeb7":"\u0633\u06db","\ufeb8":"\u0633\u06db","\ufeb6":"\u0633\u06db","\ufeb5":"\u0633\u06db","\u077e":"\u0633\u0302","\ufd31":"\u0633o","\ufce8":"\u0633o","\ufd32":"\u0633\u06dbo","\ufcea":"\u0633\u06dbo","\ufcad":"\u0633\u062c","\ufd34":"\u0633\u062c","\ufc1c":"\u0633\u062c","\ufd2d":"\u0633\u06db\u062c","\ufd37":"\u0633\u06db\u062c","\ufd25":"\u0633\u06db\u062c","\ufd09":"\u0633\u06db\u062c","\ufd5d":"\u0633\u062c\u062d","\ufd5e":"\u0633\u062c\u0649","\ufd69":"\u0633\u06db\u062c\u0649","\ufcae":"\u0633\u062d","\ufd35":"\u0633\u062d","\ufc1d":"\u0633\u062d","\ufd2e":"\u0633\u06db\u062d","\ufd38":"\u0633\u06db\u062d","\ufd26":"\u0633\u06db\u062d","\ufd0a":"\u0633\u06db\u062d","\ufd5c":"\u0633\u062d\u062c","\ufd68":"\u0633\u06db\u062d\u0645","\ufd67":"\u0633\u06db\u062d\u0645","\ufdaa":"\u0633\u06db\u062d\u0649","\ufcaf":"\u0633\u062e","\ufd36":"\u0633\u062e","\ufc1e":"\u0633\u062e","\ufd2f":"\u0633\u06db\u062e","\ufd39":"\u0633\u06db\u062e","\ufd27":"\u0633\u06db\u062e","\ufd0b":"\u0633\u06db\u062e","\ufda8":"\u0633\u062e\u0649","\ufdc6":"\u0633\u062e\u0649","\ufd2a":"\u0633\u0631","\ufd0e":"\u0633\u0631","\ufd29":"\u0633\u06db\u0631","\ufd0d":"\u0633\u06db\u0631","\ufcb0":"\u0633\u0645","\ufce7":"\u0633\u0645","\ufc1f":"\u0633\u0645","\ufd30":"\u0633\u06db\u0645","\ufce9":"\u0633\u06db\u0645","\ufd28":"\u0633\u06db\u0645","\ufd0c":"\u0633\u06db\u0645","\ufd61":"\u0633\u0645\u062c","\ufd60":"\u0633\u0645\u062d","\ufd5f":"\u0633\u0645\u062d","\ufd6b":"\u0633\u06db\u0645\u062e","\ufd6a":"\u0633\u06db\u0645\u062e","\ufd63":"\u0633\u0645\u0645","\ufd62":"\u0633\u0645\u0645","\ufd6d":"\u0633\u06db\u0645\u0645","\ufd6c":"\u0633\u06db\u0645\u0645","\ufd17":"\u0633\u0649","\ufcfb":"\u0633\u0649","\ufd18":"\u0633\u0649","\ufcfc":"\u0633\u0649","\ufd19":"\u0633\u06db\u0649","\ufcfd":"\u0633\u06db\u0649","\ufd1a":"\u0633\u06db\u0649","\ufcfe":"\u0633\u06db\u0649","\ud800\udef2":"\u0635","\ud83b\ude11":"\u0635","\ud83b\ude31":"\u0635","\ud83b\ude51":"\u0635","\ud83b\ude71":"\u0635","\ud83b\ude91":"\u0635","\ud83b\udeb1":"\u0635","\ufebb":"\u0635","\ufebc":"\u0635","\ufeba":"\u0635","\ufeb9":"\u0635","\u069e":"\u0635\u06db","\u08af":"\u0635\u0324\u0323","\ufcb1":"\u0635\u062d","\ufc20":"\u0635\u062d","\ufd65":"\u0635\u062d\u062d","\ufd64":"\u0635\u062d\u062d","\ufda9":"\u0635\u062d\u0649","\ufcb2":"\u0635\u062e","\ufd2b":"\u0635\u0631","\ufd0f":"\u0635\u0631","\ufdf5":"\u0635\u0644\u0639\u0645","\ufdf9":"\u0635\u0644\u0649","\ufdf0":"\u0635\u0644\u0649","\ufdfa":"\u0635\u0644\u0649 l\u0644\u0644o \u0639\u0644\u0649o \u0648\u0633\u0644\u0645","\ufcb3":"\u0635\u0645","\ufc21":"\u0635\u0645","\ufdc5":"\u0635\u0645\u0645","\ufd66":"\u0635\u0645\u0645","\ufd21":"\u0635\u0649","\ufd05":"\u0635\u0649","\ufd22":"\u0635\u0649","\ufd06":"\u0635\u0649","\ud83b\ude19":"\u0636","\ud83b\ude39":"\u0636","\ud83b\ude59":"\u0636","\ud83b\ude79":"\u0636","\ud83b\ude99":"\u0636","\ud83b\udeb9":"\u0636","\ufebf":"\u0636","\ufec0":"\u0636","\ufebe":"\u0636","\ufebd":"\u0636","\ufcb4":"\u0636\u062c","\ufc22":"\u0636\u062c","\ufcb5":"\u0636\u062d","\ufc23":"\u0636\u062d","\ufd6e":"\u0636\u062d\u0649","\ufdab":"\u0636\u062d\u0649","\ufcb6":"\u0636\u062e","\ufc24":"\u0636\u062e","\ufd70":"\u0636\u062e\u0645","\ufd6f":"\u0636\u062e\u0645","\ufd2c":"\u0636\u0631","\ufd10":"\u0636\u0631","\ufcb7":"\u0636\u0645","\ufc25":"\u0636\u0645","\ufd23":"\u0636\u0649","\ufd07":"\u0636\u0649","\ufd24":"\u0636\u0649","\ufd08":"\u0636\u0649","\ud800\udee8":"\u0637","\ud83b\ude08":"\u0637","\ud83b\ude68":"\u0637","\ud83b\ude88":"\u0637","\ud83b\udea8":"\u0637","\ufec3":"\u0637","\ufec4":"\u0637","\ufec2":"\u0637","\ufec1":"\u0637","\u069f":"\u0637\u06db","\ufcb8":"\u0637\u062d","\ufc26":"\u0637\u062d","\ufd33":"\u0637\u0645","\ufd3a":"\u0637\u0645","\ufc27":"\u0637\u0645","\ufd72":"\u0637\u0645\u062d","\ufd71":"\u0637\u0645\u062d","\ufd73":"\u0637\u0645\u0645","\ufd74":"\u0637\u0645\u0649","\ufd11":"\u0637\u0649","\ufcf5":"\u0637\u0649","\ufd12":"\u0637\u0649","\ufcf6":"\u0637\u0649","\ud83b\ude1a":"\u0638","\ud83b\ude7a":"\u0638","\ud83b\ude9a":"\u0638","\ud83b\udeba":"\u0638","\ufec7":"\u0638","\ufec8":"\u0638","\ufec6":"\u0638","\ufec5":"\u0638","\ufcb9":"\u0638\u0645","\ufd3b":"\u0638\u0645","\ufc28":"\u0638\u0645","\u060f":"\u0639","\ud83b\ude0f":"\u0639","\ud83b\ude2f":"\u0639","\ud83b\ude4f":"\u0639","\ud83b\ude6f":"\u0639","\ud83b\ude8f":"\u0639","\ud83b\udeaf":"\u0639","\ufecb":"\u0639","\ufecc":"\u0639","\ufeca":"\u0639","\ufec9":"\u0639","\ufcba":"\u0639\u062c","\ufc29":"\u0639\u062c","\ufdc4":"\u0639\u062c\u0645","\ufd75":"\u0639\u062c\u0645","\ufdf7":"\u0639\u0644\u0649o","\ufcbb":"\u0639\u0645","\ufc2a":"\u0639\u0645","\ufd77":"\u0639\u0645\u0645","\ufd76":"\u0639\u0645\u0645","\ufd78":"\u0639\u0645\u0649","\ufdb6":"\u0639\u0645\u0649","\ufd13":"\u0639\u0649","\ufcf7":"\u0639\u0649","\ufd14":"\u0639\u0649","\ufcf8":"\u0639\u0649","\ud83b\ude1b":"\u063a","\ud83b\ude3b":"\u063a","\ud83b\ude5b":"\u063a","\ud83b\ude7b":"\u063a","\ud83b\ude9b":"\u063a","\ud83b\udebb":"\u063a","\ufecf":"\u063a","\ufed0":"\u063a","\ufece":"\u063a","\ufecd":"\u063a","\ufcbc":"\u063a\u062c","\ufc2b":"\u063a\u062c","\ufcbd":"\u063a\u0645","\ufc2c":"\u063a\u0645","\ufd79":"\u063a\u0645\u0645","\ufd7b":"\u063a\u0645\u0649","\ufd7a":"\u063a\u0645\u0649","\ufd15":"\u063a\u0649","\ufcf9":"\u063a\u0649","\ufd16":"\u063a\u0649","\ufcfa":"\u063a\u0649","\ud83b\ude10":"\u0641","\ud83b\ude30":"\u0641","\ud83b\ude70":"\u0641","\ud83b\ude90":"\u0641","\ud83b\udeb0":"\u0641","\ufed3":"\u0641","\ufed4":"\u0641","\ufed2":"\u0641","\ufed1":"\u0641","\u06a7":"\u0641","\ufcbe":"\u0641\u062c","\ufc2d":"\u0641\u062c","\ufcbf":"\u0641\u062d","\ufc2e":"\u0641\u062d","\ufcc0":"\u0641\u062e","\ufc2f":"\u0641\u062e","\ufd7d":"\u0641\u062e\u0645","\ufd7c":"\u0641\u062e\u0645","\ufcc1":"\u0641\u0645","\ufc30":"\u0641\u0645","\ufdc1":"\u0641\u0645\u0649","\ufc7c":"\u0641\u0649","\ufc31":"\u0641\u0649","\ufc7d":"\u0641\u0649","\ufc32":"\u0641\u0649","\ud83b\ude1e":"\u06a1","\ud83b\ude7e":"\u06a1","\u08bb":"\u06a1","\u066f":"\u06a1","\ud83b\ude1f":"\u06a1","\ud83b\ude5f":"\u06a1","\u08bc":"\u06a1","\u06a4":"\u06a1\u06db","\ufb6c":"\u06a1\u06db","\ufb6d":"\u06a1\u06db","\ufb6b":"\u06a1\u06db","\ufb6a":"\u06a1\u06db","\u06a8":"\u06a1\u06db","\u08a4":"\u06a2\u06db","\ufb70":"\u06a6","\ufb71":"\u06a6","\ufb6f":"\u06a6","\ufb6e":"\u06a6","\ud83b\ude12":"\u0642","\ud83b\ude32":"\u0642","\ud83b\ude52":"\u0642","\ud83b\ude72":"\u0642","\ud83b\ude92":"\u0642","\ud83b\udeb2":"\u0642","\ufed7":"\u0642","\ufed8":"\u0642","\ufed6":"\u0642","\ufed5":"\u0642","\ufcc2":"\u0642\u062d","\ufc33":"\u0642\u062d","\ufdf1":"\u0642\u0644\u0649","\ufcc3":"\u0642\u0645","\ufc34":"\u0642\u0645","\ufdb4":"\u0642\u0645\u062d","\ufd7e":"\u0642\u0645\u062d","\ufd7f":"\u0642\u0645\u0645","\ufdb2":"\u0642\u0645\u0649","\ufc7e":"\u0642\u0649","\ufc35":"\u0642\u0649","\ufc7f":"\u0642\u0649","\ufc36":"\u0642\u0649","\ud83b\ude0a":"\u0643","\ud83b\ude2a":"\u0643","\ud83b\ude6a":"\u0643","\ufedb":"\u0643","\ufedc":"\u0643","\ufeda":"\u0643","\ufed9":"\u0643","\u06a9":"\u0643","\ufb90":"\u0643","\ufb91":"\u0643","\ufb8f":"\u0643","\ufb8e":"\u0643","\u06aa":"\u0643","\u06ad":"\u0643\u06db","\ufbd5":"\u0643\u06db","\ufbd6":"\u0643\u06db","\ufbd4":"\u0643\u06db","\ufbd3":"\u0643\u06db","\u0763":"\u0643\u06db","\ufc80":"\u0643l","\ufc37":"\u0643l","\ufcc4":"\u0643\u062c","\ufc38":"\u0643\u062c","\ufcc5":"\u0643\u062d","\ufc39":"\u0643\u062d","\ufcc6":"\u0643\u062e","\ufc3a":"\u0643\u062e","\ufcc7":"\u0643\u0644","\ufceb":"\u0643\u0644","\ufc81":"\u0643\u0644","\ufc3b":"\u0643\u0644","\ufcc8":"\u0643\u0645","\ufcec":"\u0643\u0645","\ufc82":"\u0643\u0645","\ufc3c":"\u0643\u0645","\ufdc3":"\u0643\u0645\u0645","\ufdbb":"\u0643\u0645\u0645","\ufdb7":"\u0643\u0645\u0649","\ufc83":"\u0643\u0649","\ufc3d":"\u0643\u0649","\ufc84":"\u0643\u0649","\ufc3e":"\u0643\u0649","\u0762":"\u06ac","\ufb94":"\u06af","\ufb95":"\u06af","\ufb93":"\u06af","\ufb92":"\u06af","\u08b0":"\u06af","\u06b4":"\u06af\u06db","\ufb9c":"\u06b1","\ufb9d":"\u06b1","\ufb9b":"\u06b1","\ufb9a":"\u06b1","\ufb98":"\u06b3","\ufb99":"\u06b3","\ufb97":"\u06b3","\ufb96":"\u06b3","\ud83b\ude0b":"\u0644","\ud83b\ude2b":"\u0644","\ud83b\ude4b":"\u0644","\ud83b\ude8b":"\u0644","\ud83b\udeab":"\u0644","\ufedf":"\u0644","\ufee0":"\u0644","\ufede":"\u0644","\ufedd":"\u0644","\u06b7":"\u0644\u06db","\u06b5":"\u0644\u0306","\ufefc":"\u0644l","\ufefb":"\u0644l","\ufefa":"\u0644l\u0655","\ufef9":"\u0644l\u0655","\ufef8":"\u0644l\u0674","\ufef7":"\u0644l\u0674","\ufccd":"\u0644o","\ufef6":"\u0644\u0622","\ufef5":"\u0644\u0622","\ufcc9":"\u0644\u062c","\ufc3f":"\u0644\u062c","\ufd83":"\u0644\u062c\u062c","\ufd84":"\u0644\u062c\u062c","\ufdba":"\u0644\u062c\u0645","\ufdbc":"\u0644\u062c\u0645","\ufdac":"\u0644\u062c\u0649","\ufcca":"\u0644\u062d","\ufc40":"\u0644\u062d","\ufdb5":"\u0644\u062d\u0645","\ufd80":"\u0644\u062d\u0645","\ufd82":"\u0644\u062d\u0649","\ufd81":"\u0644\u062d\u0649","\ufccb":"\u0644\u062e","\ufc41":"\u0644\u062e","\ufd86":"\u0644\u062e\u0645","\ufd85":"\u0644\u062e\u0645","\ufccc":"\u0644\u0645","\ufced":"\u0644\u0645","\ufc85":"\u0644\u0645","\ufc42":"\u0644\u0645","\ufd88":"\u0644\u0645\u062d","\ufd87":"\u0644\u0645\u062d","\ufdad":"\u0644\u0645\u0649","\ufc86":"\u0644\u0649","\ufc43":"\u0644\u0649","\ufc87":"\u0644\u0649","\ufc44":"\u0644\u0649","\ud83b\ude0c":"\u0645","\ud83b\ude2c":"\u0645","\ud83b\ude6c":"\u0645","\ud83b\ude8c":"\u0645","\ud83b\udeac":"\u0645","\ufee3":"\u0645","\ufee4":"\u0645","\ufee2":"\u0645","\ufee1":"\u0645","\u08a7":"\u0645\u06db","\u06fe":"\u0645\u0348","\ufc88":"\u0645l","\ufcce":"\u0645\u062c","\ufc45":"\u0645\u062c","\ufd8c":"\u0645\u062c\u062d","\ufd92":"\u0645\u062c\u062e","\ufd8d":"\u0645\u062c\u0645","\ufdc0":"\u0645\u062c\u0649","\ufccf":"\u0645\u062d","\ufc46":"\u0645\u062d","\ufd89":"\u0645\u062d\u062c","\ufd8a":"\u0645\u062d\u0645","\ufdf4":"\u0645\u062d\u0645\u062f","\ufd8b":"\u0645\u062d\u0649","\ufcd0":"\u0645\u062e","\ufc47":"\u0645\u062e","\ufd8e":"\u0645\u062e\u062c","\ufd8f":"\u0645\u062e\u0645","\ufdb9":"\u0645\u062e\u0649","\ufcd1":"\u0645\u0645","\ufc89":"\u0645\u0645","\ufc48":"\u0645\u0645","\ufdb1":"\u0645\u0645\u0649","\ufc49":"\u0645\u0649","\ufc4a":"\u0645\u0649","\ud83b\ude0d":"\u0646","\ud83b\ude2d":"\u0646","\ud83b\ude4d":"\u0646","\ud83b\ude6d":"\u0646","\ud83b\ude8d":"\u0646","\ud83b\udead":"\u0646","\ufee7":"\u0646","\ufee8":"\u0646","\ufee6":"\u0646","\ufee5":"\u0646","\u0768":"\u0646\u0615","\u0769":"\u0646\u0306","\ufcd6":"\u0646o","\ufcef":"\u0646o","\ufdb8":"\u0646\u062c\u062d","\ufdbd":"\u0646\u062c\u062d","\ufd98":"\u0646\u062c\u0645","\ufd97":"\u0646\u062c\u0645","\ufd99":"\u0646\u062c\u0649","\ufdc7":"\u0646\u062c\u0649","\ufcd3":"\u0646\u062d","\ufc4c":"\u0646\u062d","\ufd95":"\u0646\u062d\u0645","\ufd96":"\u0646\u062d\u0649","\ufdb3":"\u0646\u062d\u0649","\ufcd4":"\u0646\u062e","\ufc4d":"\u0646\u062e","\ufc8a":"\u0646\u0631","\ufc8b":"\u0646\u0632","\ufcd5":"\u0646\u0645","\ufcee":"\u0646\u0645","\ufc8c":"\u0646\u0645","\ufc4e":"\u0646\u0645","\ufd9b":"\u0646\u0645\u0649","\ufd9a":"\u0646\u0645\u0649","\ufc8d":"\u0646\u0646","\ufc8e":"\u0646\u0649","\ufc4f":"\u0646\u0649","\ufc8f":"\u0646\u0649","\ufc50":"\u0646\u0649","\u06c2":"\u06c0","\ufba5":"\u06c0","\ufba4":"\u06c0","\ud800\udee4":"\u0648","\ud83b\ude05":"\u0648","\ud83b\ude85":"\u0648","\ud83b\udea5":"\u0648","\ufeee":"\u0648","\ufeed":"\u0648","\u08b1":"\u0648","\u06cb":"\u0648\u06db","\ufbdf":"\u0648\u06db","\ufbde":"\u0648\u06db","\u06c7":"\u0648\u0313","\ufbd8":"\u0648\u0313","\ufbd7":"\u0648\u0313","\u06c6":"\u0648\u0306","\ufbda":"\u0648\u0306","\ufbd9":"\u0648\u0306","\u06c9":"\u0648\u0302","\ufbe3":"\u0648\u0302","\ufbe2":"\u0648\u0302","\u06c8":"\u0648\u0670","\ufbdc":"\u0648\u0670","\ufbdb":"\u0648\u0670","\u0624":"\u0648\u0674","\ufe86":"\u0648\u0674","\ufe85":"\u0648\u0674","\u0676":"\u0648\u0674","\u0677":"\u0648\u0313\u0674","\ufbdd":"\u0648\u0313\u0674","\ufdf8":"\u0648\u0633\u0644\u0645","\ufbe1":"\u06c5","\ufbe0":"\u06c5","\u066e":"\u0649","\ud83b\ude1c":"\u0649","\ud83b\ude7c":"\u0649","\u06ba":"\u0649","\ud83b\ude1d":"\u0649","\ud83b\ude5d":"\u0649","\ufb9f":"\u0649","\ufb9e":"\u0649","\u08bd":"\u0649","\ufbe8":"\u0649","\ufbe9":"\u0649","\ufef0":"\u0649","\ufeef":"\u0649","\u064a":"\u0649","\ud83b\ude09":"\u0649","\ud83b\ude29":"\u0649","\ud83b\ude49":"\u0649","\ud83b\ude69":"\u0649","\ud83b\ude89":"\u0649","\ud83b\udea9":"\u0649","\ufef3":"\u0649","\ufef4":"\u0649","\ufef2":"\u0649","\ufef1":"\u0649","\u06cc":"\u0649","\ufbfe":"\u0649","\ufbff":"\u0649","\ufbfd":"\u0649","\ufbfc":"\u0649","\u06d2":"\u0649","\ufbaf":"\u0649","\ufbae":"\u0649","\u0679":"\u0649\u0615","\ufb68":"\u0649\u0615","\ufb69":"\u0649\u0615","\ufb67":"\u0649\u0615","\ufb66":"\u0649\u0615","\u06bb":"\u0649\u0615","\ufba2":"\u0649\u0615","\ufba3":"\u0649\u0615","\ufba1":"\u0649\u0615","\ufba0":"\u0649\u0615","\u067e":"\u0649\u06db","\ufb58":"\u0649\u06db","\ufb59":"\u0649\u06db","\ufb57":"\u0649\u06db","\ufb56":"\u0649\u06db","\u062b":"\u0649\u06db","\ud83b\ude16":"\u0649\u06db","\ud83b\ude36":"\u0649\u06db","\ud83b\ude76":"\u0649\u06db","\ud83b\ude96":"\u0649\u06db","\ud83b\udeb6":"\u0649\u06db","\ufe9b":"\u0649\u06db","\ufe9c":"\u0649\u06db","\ufe9a":"\u0649\u06db","\ufe99":"\u0649\u06db","\u06bd":"\u0649\u06db","\u06d1":"\u0649\u06db","\u063f":"\u0649\u06db","\u08b7":"\u0649\u06db\u06e2","\u0756":"\u0649\u0306","\u06ce":"\u0649\u0306","\u08ba":"\u0649\u0306\u0307","\u063d":"\u0649\u0302","\u08a8":"\u0649\u0654","\ufc90":"\u0649\u0670","\ufc5d":"\u0649\u0670","\ufcde":"\u0649o","\ufcf1":"\u0649o","\ufce6":"\u0649\u06dbo","\u0626":"\u0649\u0674","\ufe8b":"\u0649\u0674","\ufe8c":"\u0649\u0674","\ufe8a":"\u0649\u0674","\ufe89":"\u0649\u0674","\u0678":"\u0649\u0674","\ufbeb":"\u0649\u0674l","\ufbea":"\u0649\u0674l","\ufc9b":"\u0649\u0674o","\ufce0":"\u0649\u0674o","\ufbed":"\u0649\u0674o","\ufbec":"\u0649\u0674o","\ufbf8":"\u0649\u0674\u067b","\ufbf7":"\u0649\u0674\u067b","\ufbf6":"\u0649\u0674\u067b","\ufc97":"\u0649\u0674\u062c","\ufc00":"\u0649\u0674\u062c","\ufc98":"\u0649\u0674\u062d","\ufc01":"\u0649\u0674\u062d","\ufc99":"\u0649\u0674\u062e","\ufc64":"\u0649\u0674\u0631","\ufc65":"\u0649\u0674\u0632","\ufc9a":"\u0649\u0674\u0645","\ufcdf":"\u0649\u0674\u0645","\ufc66":"\u0649\u0674\u0645","\ufc02":"\u0649\u0674\u0645","\ufc67":"\u0649\u0674\u0646","\ufbef":"\u0649\u0674\u0648","\ufbee":"\u0649\u0674\u0648","\ufbf1":"\u0649\u0674\u0648\u0313","\ufbf0":"\u0649\u0674\u0648\u0313","\ufbf3":"\u0649\u0674\u0648\u0306","\ufbf2":"\u0649\u0674\u0648\u0306","\ufbf5":"\u0649\u0674\u0648\u0670","\ufbf4":"\u0649\u0674\u0648\u0670","\ufbfb":"\u0649\u0674\u0649","\ufbfa":"\u0649\u0674\u0649","\ufc68":"\u0649\u0674\u0649","\ufbf9":"\u0649\u0674\u0649","\ufc03":"\u0649\u0674\u0649","\ufc69":"\u0649\u0674\u0649","\ufc04":"\u0649\u0674\u0649","\ufcda":"\u0649\u062c","\ufc55":"\u0649\u062c","\ufc11":"\u0649\u06db\u062c","\ufdaf":"\u0649\u062c\u0649","\ufcdb":"\u0649\u062d","\ufc56":"\u0649\u062d","\ufdae":"\u0649\u062d\u0649","\ufcdc":"\u0649\u062e","\ufc57":"\u0649\u062e","\ufc91":"\u0649\u0631","\ufc76":"\u0649\u06db\u0631","\ufc92":"\u0649\u0632","\ufc77":"\u0649\u06db\u0632","\ufcdd":"\u0649\u0645","\ufcf0":"\u0649\u0645","\ufc93":"\u0649\u0645","\ufc58":"\u0649\u0645","\ufca6":"\u0649\u06db\u0645","\ufce5":"\u0649\u06db\u0645","\ufc78":"\u0649\u06db\u0645","\ufc12":"\u0649\u06db\u0645","\ufd9d":"\u0649\u0645\u0645","\ufd9c":"\u0649\u0645\u0645","\ufdb0":"\u0649\u0645\u0649","\ufc94":"\u0649\u0646","\ufc79":"\u0649\u06db\u0646","\ufc95":"\u0649\u0649","\ufc59":"\u0649\u0649","\ufc96":"\u0649\u0649","\ufc5a":"\u0649\u0649","\ufc7a":"\u0649\u06db\u0649","\ufc13":"\u0649\u06db\u0649","\ufc7b":"\u0649\u06db\u0649","\ufc14":"\u0649\u06db\u0649","\ufbb1":"\u06d3","\ufbb0":"\u06d3","\ud800\udeb8":"\u2d40","\u205e":"\u2d42","\u2e3d":"\u2d42","\u2999":"\u2d42","\ufe19":"\u2d57","\u205d":"\u2d57","\u22ee":"\u2d57","\u0544":"\u1206","\u054c":"\u1261","\u053b":"\u12ae","\u054a":"\u1323","\u0906":"\u0905\u093e","\u0912":"\u0905\u093e\u0946","\u0913":"\u0905\u093e\u0947","\u0914":"\u0905\u093e\u0948","\u0904":"\u0905\u0946","\u0911":"\u0905\u0949","\u090d":"\u090f\u0945","\u090e":"\u090f\u0946","\u0910":"\u090f\u0947","\u0908":"\u0930\u094d\u0907","\u0abd":"\u093d","\ud804\udddc":"\ua8fb","\ud804\uddcb":"\u093a","\u0ac1":"\u0941","\u0ac2":"\u0942","\u0a4b":"\u0946","\u0a4d":"\u094d","\u0acd":"\u094d","\u0986":"\u0985\u09be","\u09e0":"\u098b\u09c3","\u09e1":"\u098b\u09c3","\ud805\udc92":"\u0998","\ud805\udc94":"\u099a","\ud805\udc96":"\u099c","\ud805\udc98":"\u099e","\ud805\udc99":"\u099f","\ud805\udc9b":"\u09a1","\ud805\udcaa":"\u09a3","\ud805\udc9e":"\u09a4","\ud805\udc9f":"\u09a5","\ud805\udca0":"\u09a6","\ud805\udca1":"\u09a7","\ud805\udca2":"\u09a8","\ud805\udca3":"\u09aa","\ud805\udca9":"\u09ac","\ud805\udca7":"\u09ae","\ud805\udca8":"\u09af","\ud805\udcab":"\u09b0","\ud805\udc9d":"\u09b2","\ud805\udcad":"\u09b7","\ud805\udcae":"\u09b8","\ud805\udcc4":"\u09bd","\ud805\udcb0":"\u09be","\ud805\udcb1":"\u09bf","\ud805\udcb9":"\u09c7","\ud805\udcbc":"\u09cb","\ud805\udcbe":"\u09cc","\ud805\udcc2":"\u09cd","\ud805\udcbd":"\u09d7","\u0a09":"\u0a73\u0a41","\u0a0a":"\u0a73\u0a42","\u0a06":"\u0a05\u0a3e","\u0a10":"\u0a05\u0a48","\u0a14":"\u0a05\u0a4c","\u0a07":"\u0a72\u0a3f","\u0a08":"\u0a72\u0a40","\u0a0f":"\u0a72\u0a47","\u0a86":"\u0a85\u0abe","\u0a91":"\u0a85\u0abe\u0ac5","\u0a93":"\u0a85\u0abe\u0ac7","\u0a94":"\u0a85\u0abe\u0ac8","\u0a8d":"\u0a85\u0ac5","\u0a8f":"\u0a85\u0ac7","\u0a90":"\u0a85\u0ac8","\u0b06":"\u0b05\u0b3e","\u0bee":"\u0b85","\u0bb0":"\u0b88","\u0bbe":"\u0b88","\u0beb":"\u0b88\u0bc1","\u0be8":"\u0b89","\u0d09":"\u0b89","\u0b8a":"\u0b89\u0bb3","\u0d0a":"\u0b89\u0d57","\u0bed":"\u0b8e","\u0bf7":"\u0b8e\u0bb5","\u0b9c":"\u0b90","\u0d1c":"\u0b90","\u0be7":"\u0b95","\u0bea":"\u0b9a","\u0bec":"\u0b9a\u0bc1","\u0bf2":"\u0b9a\u0bc2","\u0d3a":"\u0b9f\u0bbf","\u0d23":"\u0ba3","\u0bfa":"\u0ba8\u0bc0","\u0bf4":"\u0bae\u0bc0","\u0bf0":"\u0baf","\u0d34":"\u0bb4","\u0bd7":"\u0bb3","\u0bc8":"\u0ba9","\u0d36":"\u0bb6","\u0bf8":"\u0bb7","\u0d3f":"\u0bbf","\u0d40":"\u0bbf","\u0bca":"\u0bc6\u0b88","\u0bcc":"\u0bc6\u0bb3","\u0bcb":"\u0bc7\u0b88","\u0c85":"\u0c05","\u0c86":"\u0c06","\u0c87":"\u0c07","\u0c60":"\u0c0b\u0c3e","\u0c61":"\u0c0c\u0c3e","\u0c92":"\u0c12","\u0c14":"\u0c12\u0c4c","\u0c94":"\u0c12\u0c4c","\u0c13":"\u0c12\u0c55","\u0c93":"\u0c12\u0c55","\u0c9c":"\u0c1c","\u0c9e":"\u0c1e","\u0c22":"\u0c21\u0323","\u0ca3":"\u0c23","\u0c25":"\u0c27\u05bc","\u0c2d":"\u0c2c\u0323","\u0caf":"\u0c2f","\u0c20":"\u0c30\u05bc","\u0cb1":"\u0c31","\u0cb2":"\u0c32","\u0c37":"\u0c35\u0323","\u0c39":"\u0c35\u0c3e","\u0c2e":"\u0c35\u0c41","\u0c42":"\u0c41\u0c3e","\u0c44":"\u0c43\u0c3e","\u0ce1":"\u0c8c\u0cbe","\u0d08":"\u0d07\u0d57","\u0d10":"\u0d0e\u0d46","\u0d13":"\u0d12\u0d3e","\u0d14":"\u0d12\u0d57","\u0d61":"\u0d1e","\u0d6b":"\u0d26\u0d4d\u0d30","\u0d79":"\u0d28\u0d41","\u0d0c":"\u0d28\u0d41","\u0d19":"\u0d28\u0d41","\u0d6f":"\u0d28\u0d4d","\u0d7b":"\u0d28\u0d4d","\u0d6c":"\u0d28\u0d4d\u0d28","\u0d5a":"\u0d28\u0d4d\u0d2e","\u0d31":"\u0d30","\u0d6a":"\u0d30\u0d4d","\u0d7c":"\u0d30\u0d4d","\u0d6e":"\u0d35\u0d4d\u0d30","\u0d76":"\u0d39\u0d4d\u0d2e","\u0d42":"\u0d41","\u0d43":"\u0d41","\u0d48":"\u0d46\u0d46","\u0dea":"\u0da2","\u0deb":"\u0daf","\ud805\udc13":"\ud805\udc34\ud805\udc42\ud805\udc12","\ud805\udc19":"\ud805\udc34\ud805\udc42\ud805\udc18","\ud805\udc24":"\ud805\udc34\ud805\udc42\ud805\udc23","\ud805\udc2a":"\ud805\udc34\ud805\udc42\ud805\udc29","\ud805\udc2d":"\ud805\udc34\ud805\udc42\ud805\udc2c","\ud805\udc2f":"\ud805\udc34\ud805\udc42\ud805\udc2e","\ud805\uddd8":"\ud805\udd82","\ud805\uddd9":"\ud805\udd82","\ud805\uddda":"\ud805\udd83","\ud805\udddb":"\ud805\udd84","\ud805\udddc":"\ud805\uddb2","\ud805\udddd":"\ud805\uddb3","\u0e03":"\u0e02","\u0e14":"\u0e04","\u0e15":"\u0e04","\u0e21":"\u0e06","\u0e88":"\u0e08","\u0e0b":"\u0e0a","\u0e0f":"\u0e0e","\u0e17":"\u0e11","\u0e9a":"\u0e1a","\u0e9b":"\u0e1b","\u0e9d":"\u0e1d","\u0e9e":"\u0e1e","\u0e9f":"\u0e1f","\u0e26":"\u0e20","\u0e8d":"\u0e22","\u17d4":"\u0e2f","\u0e45":"\u0e32","\u0e33":"\u030a\u0e32","\u17b7":"\u0e34","\u17b8":"\u0e35","\u17b9":"\u0e36","\u17ba":"\u0e37","\u0eb8":"\u0e38","\u0eb9":"\u0e39","\u0e41":"\u0e40\u0e40","\u0edc":"\u0eab\u0e99","\u0edd":"\u0eab\u0ea1","\u0eb3":"\u030a\u0eb2","\u0f02":"\u0f60\u0f74\u0f82\u0f7f","\u0f03":"\u0f60\u0f74\u0f82\u0f14","\u0f6a":"\u0f62","\u0f00":"\u0f68\u0f7c\u0f7e","\u0f77":"\u0fb2\u0f71\u0f80","\u0f79":"\u0fb3\u0f71\u0f80","\ud807\udcb2":"\ud807\udcaa","\u1081":"\u1002\u103e","\u1000":"\u1002\u102c","\u1070":"\u1003\u103e","\u1066":"\u1015\u103e","\u101f":"\u1015\u102c","\u106f":"\u1015\u102c\u103e","\u107e":"\u107d\u103e","\u1029":"\u101e\u103c","\u102a":"\u101e\u103c\u1031\u102c\u103a","\u109e":"\u1083\u030a","\u17a3":"\u17a2","\u19d0":"\u199e","\u19d1":"\u19b1","\u1a80":"\u1a45","\u1a90":"\u1a45","\uaa53":"\uaa01","\uaa56":"\uaa23","\u1b52":"\u1b0d","\u1b53":"\u1b11","\u1b58":"\u1b28","\ua9a3":"\ua99d","\u1896":"\u185c","\u1855":"\u1835","\u1ff6":"\u13ef","\u140d":"\u1401\xb7","\u142b":"\u1401\u1420","\u1411":"\u1404\xb7","\u1413":"\u1405\xb7","\u142d":"\u1405\u1420","\u1415":"\u1406\xb7","\u1418":"\u140a\xb7","\u142e":"\u140a\u1420","\u141a":"\u140b\xb7","\u18dd":"\u141e\u18df","\u14d1":"\u1421","\u1540":"\u1429","\u143f":"\u1432\xb7","\u1443":"\u1434\xb7","\u2369":"\u1435","\u1447":"\u1439\xb7","\u145c":"\u144f\xb7","\u2e27":"\u1450","\u2283":"\u1450","\u145e":"\u1450\xb7","\u1469":"\u1450\'","\u27c9":"\u1450/","\u2ad7":"\u1450\u1455","\u1460":"\u1451\xb7","\u2e26":"\u1455","\u2282":"\u1455","\u1462":"\u1455\xb7","\u146a":"\u1455\'","\u1464":"\u1456\xb7","\u1475":"\u146b\xb7","\u1485":"\u146b\'","\u1479":"\u146e\xb7","\u147d":"\u1470\xb7","\u1603":"\u1489","\u1493":"\u1489\xb7","\u1495":"\u148b\xb7","\u1497":"\u148c\xb7","\u149b":"\u148e\xb7","\u1602":"\u1490","\u149d":"\u1490\xb7","\u149f":"\u1491\xb7","\u14ad":"\u14a3\xb7","\u14b1":"\u14a6\xb7","\u14b3":"\u14a7\xb7","\u14b5":"\u14a8\xb7","\u14b9":"\u14ab\xb7","\u14ca":"\u14c0\xb7","\u18c7":"\u14c2\xb7","\u18c9":"\u14c3\xb7","\u18cb":"\u14c4\xb7","\u18cd":"\u14c5\xb7","\u14cc":"\u14c7\xb7","\u14ce":"\u14c8\xb7","\u1604":"\u14d3","\u14dd":"\u14d3\xb7","\u14df":"\u14d5\xb7","\u14e1":"\u14d6\xb7","\u14e3":"\u14d7\xb7","\u14e5":"\u14d8\xb7","\u1607":"\u14da","\u14e7":"\u14da\xb7","\u14e9":"\u14db\xb7","\u14f7":"\u14ed\xb7","\u14f9":"\u14ef\xb7","\u14fb":"\u14f0\xb7","\u14fd":"\u14f1\xb7","\u14ff":"\u14f2\xb7","\u1501":"\u14f4\xb7","\u1503":"\u14f5\xb7","\u150c":"\u150b<","\u150e":"\u150bb","\u150d":"\u150b\u1455","\u150f":"\u150b\u1490","\u1518":"\u1510\xb7","\u151a":"\u1511\xb7","\u151c":"\u1512\xb7","\u151e":"\u1513\xb7","\u1520":"\u1514\xb7","\u1522":"\u1515\xb7","\u1524":"\u1516\xb7","\u1532":"\u1528\xb7","\u1534":"\u1529\xb7","\u1536":"\u152a\xb7","\u1538":"\u152b\xb7","\u153a":"\u152d\xb7","\u153c":"\u152e\xb7","\u1622":"\u1543","\u18e0":"\u1543\xb7","\u1623":"\u1546","\u1624":"\u154a","\u154f":"\u154c\xb7","\u1583":"\u1550b","\u1584":"\u1550b\u0307","\u1581":"\u1550d","\u157f":"\u1550P","\u166f":"\u1550\u146b","\u157e":"\u1550\u146c","\u1580":"\u1550\u146e","\u1582":"\u1550\u1470","\u1585":"\u1550\u1483","\u155c":"\u155a\xb7","\u18e3":"\u155e\xb7","\u18e4":"\u1566\xb7","\u1569":"\u1567\xb7","\u18e5":"\u156b\xb7","\u18e8":"\u1586\xb7","\u1591":"\u1595J","\u1670":"\u1595\u1489","\u158e":"\u1595\u148a","\u158f":"\u1595\u148b","\u1590":"\u1595\u148c","\u1592":"\u1595\u148e","\u1593":"\u1595\u1490","\u1594":"\u1595\u1491","\u1673":"\u1596J","\u1671":"\u1596\u148b","\u1672":"\u1596\u148c","\u1674":"\u1596\u148e","\u1675":"\u1596\u1490","\u1676":"\u1596\u1491","\u18ea":"\u1597\xb7","\u1677":"\u15a7\xb7","\u1678":"\u15a8\xb7","\u1679":"\u15a9\xb7","\u167a":"\u15aa\xb7","\u167b":"\u15ab\xb7","\u167c":"\u15ac\xb7","\u167d":"\u15ad\xb7","\u2aab":"\u15d2","\u2aaa":"\u15d5","\ua4f7":"\u15e1","\u18f0":"\u15f4\xb7","\u18f2":"\u161b\xb7","\u1dbb":"\u1646","\ua4ed":"\u1660","\u1dba":"\u18d4","\u1d3e":"\u18d6","\u18dc":"\u18df\u141e","\u02e1":"\u18f3","\u02b3":"\u18f4","\u02e2":"\u18f5","\u18db":"\u18f5","\ua6b0":"\u16b9","\u16e1":"\u16bc","\u237f":"\u16bd","\u16c2":"\u16bd","\ud834\ude3f":"\u16cb","\u2191":"\u16cf","\u21bf":"\u16d0","\u296e":"\u16d0\u21c2","\u2963":"\u16d0\u16da","\u2d63":"\u16ef","\u21be":"\u16da","\u2a21":"\u16da","\u22c4":"\u16dc","\u25c7":"\u16dc","\u25ca":"\u16dc","\u2662":"\u16dc","\ud83d\udf54":"\u16dc","\ud806\udcb7":"\u16dc","\ud800\ude94":"\u16dc","\u235a":"\u16dc\u0332","\u22c8":"\u16de","\u2a1d":"\u16de","\ud801\udcd0":"\u16e6","\u2195":"\u16e8","\ud803\udcfc":"\ud803\udc82","\ud803\udcfa":"\ud803\udca5","\u3131":"\u1100","\u11a8":"\u1100","\u1101":"\u1100\u1100","\u3132":"\u1100\u1100","\u11a9":"\u1100\u1100","\u11fa":"\u1100\u1102","\u115a":"\u1100\u1103","\u11c3":"\u1100\u1105","\u11fb":"\u1100\u1107","\u11aa":"\u1100\u1109","\u3133":"\u1100\u1109","\u11c4":"\u1100\u1109\u1100","\u11fc":"\u1100\u110e","\u11fd":"\u1100\u110f","\u11fe":"\u1100\u1112","\u3134":"\u1102","\u11ab":"\u1102","\u1113":"\u1102\u1100","\u11c5":"\u1102\u1100","\u1114":"\u1102\u1102","\u3165":"\u1102\u1102","\u11ff":"\u1102\u1102","\u1115":"\u1102\u1103","\u3166":"\u1102\u1103","\u11c6":"\u1102\u1103","\ud7cb":"\u1102\u1105","\u1116":"\u1102\u1107","\u115b":"\u1102\u1109","\u11c7":"\u1102\u1109","\u3167":"\u1102\u1109","\u115c":"\u1102\u110c","\u11ac":"\u1102\u110c","\u3135":"\u1102\u110c","\ud7cc":"\u1102\u110e","\u11c9":"\u1102\u1110","\u115d":"\u1102\u1112","\u11ad":"\u1102\u1112","\u3136":"\u1102\u1112","\u11c8":"\u1102\u1140","\u3168":"\u1102\u1140","\u3137":"\u1103","\u11ae":"\u1103","\u1117":"\u1103\u1100","\u11ca":"\u1103\u1100","\u1104":"\u1103\u1103","\u3138":"\u1103\u1103","\ud7cd":"\u1103\u1103","\ud7ce":"\u1103\u1103\u1107","\u115e":"\u1103\u1105","\u11cb":"\u1103\u1105","\ua960":"\u1103\u1106","\ua961":"\u1103\u1107","\ud7cf":"\u1103\u1107","\ua962":"\u1103\u1109","\ud7d0":"\u1103\u1109","\ud7d1":"\u1103\u1109\u1100","\ua963":"\u1103\u110c","\ud7d2":"\u1103\u110c","\ud7d3":"\u1103\u110e","\ud7d4":"\u1103\u1110","\u3139":"\u1105","\u11af":"\u1105","\ua964":"\u1105\u1100","\u11b0":"\u1105\u1100","\u313a":"\u1105\u1100","\ua965":"\u1105\u1100\u1100","\ud7d5":"\u1105\u1100\u1100","\u11cc":"\u1105\u1100\u1109","\u3169":"\u1105\u1100\u1109","\ud7d6":"\u1105\u1100\u1112","\u1118":"\u1105\u1102","\u11cd":"\u1105\u1102","\ua966":"\u1105\u1103","\u11ce":"\u1105\u1103","\u316a":"\u1105\u1103","\ua967":"\u1105\u1103\u1103","\u11cf":"\u1105\u1103\u1112","\u1119":"\u1105\u1105","\u11d0":"\u1105\u1105","\ud7d7":"\u1105\u1105\u110f","\ua968":"\u1105\u1106","\u11b1":"\u1105\u1106","\u313b":"\u1105\u1106","\u11d1":"\u1105\u1106\u1100","\u11d2":"\u1105\u1106\u1109","\ud7d8":"\u1105\u1106\u1112","\ua969":"\u1105\u1107","\u11b2":"\u1105\u1107","\u313c":"\u1105\u1107","\ud7d9":"\u1105\u1107\u1103","\ua96a":"\u1105\u1107\u1107","\u11d3":"\u1105\u1107\u1109","\u316b":"\u1105\u1107\u1109","\ua96b":"\u1105\u1107\u110b","\u11d5":"\u1105\u1107\u110b","\ud7da":"\u1105\u1107\u1111","\u11d4":"\u1105\u1107\u1112","\ua96c":"\u1105\u1109","\u11b3":"\u1105\u1109","\u313d":"\u1105\u1109","\u11d6":"\u1105\u1109\u1109","\u111b":"\u1105\u110b","\ud7dd":"\u1105\u110b","\ua96d":"\u1105\u110c","\ua96e":"\u1105\u110f","\u11d8":"\u1105\u110f","\u11b4":"\u1105\u1110","\u313e":"\u1105\u1110","\u11b5":"\u1105\u1111","\u313f":"\u1105\u1111","\u111a":"\u1105\u1112","\u3140":"\u1105\u1112","\u113b":"\u1105\u1112","\u11b6":"\u1105\u1112","\ud7f2":"\u1105\u1112","\u11d7":"\u1105\u1140","\u316c":"\u1105\u1140","\ud7db":"\u1105\u114c","\u11d9":"\u1105\u1159","\u316d":"\u1105\u1159","\ud7dc":"\u1105\u1159\u1112","\u3141":"\u1106","\u11b7":"\u1106","\ua96f":"\u1106\u1100","\u11da":"\u1106\u1100","\ud7de":"\u1106\u1102","\ud7df":"\u1106\u1102\u1102","\ua970":"\u1106\u1103","\u11db":"\u1106\u1105","\ud7e0":"\u1106\u1106","\u111c":"\u1106\u1107","\u316e":"\u1106\u1107","\u11dc":"\u1106\u1107","\ud7e1":"\u1106\u1107\u1109","\ua971":"\u1106\u1109","\u11dd":"\u1106\u1109","\u316f":"\u1106\u1109","\u11de":"\u1106\u1109\u1109","\u111d":"\u1106\u110b","\u3171":"\u1106\u110b","\u11e2":"\u1106\u110b","\ud7e2":"\u1106\u110c","\u11e0":"\u1106\u110e","\u11e1":"\u1106\u1112","\u11df":"\u1106\u1140","\u3170":"\u1106\u1140","\u3142":"\u1107","\u11b8":"\u1107","\u111e":"\u1107\u1100","\u3172":"\u1107\u1100","\u111f":"\u1107\u1102","\u1120":"\u1107\u1103","\u3173":"\u1107\u1103","\ud7e3":"\u1107\u1103","\u11e3":"\u1107\u1105","\ud7e4":"\u1107\u1105\u1111","\ud7e5":"\u1107\u1106","\u1108":"\u1107\u1107","\u3143":"\u1107\u1107","\ud7e6":"\u1107\u1107","\u112c":"\u1107\u1107\u110b","\u3179":"\u1107\u1107\u110b","\u1121":"\u1107\u1109","\u3144":"\u1107\u1109","\u11b9":"\u1107\u1109","\u1122":"\u1107\u1109\u1100","\u3174":"\u1107\u1109\u1100","\u1123":"\u1107\u1109\u1103","\u3175":"\u1107\u1109\u1103","\ud7e7":"\u1107\u1109\u1103","\u1124":"\u1107\u1109\u1107","\u1125":"\u1107\u1109\u1109","\u1126":"\u1107\u1109\u110c","\ua972":"\u1107\u1109\u1110","\u112b":"\u1107\u110b","\u3178":"\u1107\u110b","\u11e6":"\u1107\u110b","\u1127":"\u1107\u110c","\u3176":"\u1107\u110c","\ud7e8":"\u1107\u110c","\u1128":"\u1107\u110e","\ud7e9":"\u1107\u110e","\ua973":"\u1107\u110f","\u1129":"\u1107\u1110","\u3177":"\u1107\u1110","\u112a":"\u1107\u1111","\u11e4":"\u1107\u1111","\ua974":"\u1107\u1112","\u11e5":"\u1107\u1112","\u3145":"\u1109","\u11ba":"\u1109","\u112d":"\u1109\u1100","\u317a":"\u1109\u1100","\u11e7":"\u1109\u1100","\u112e":"\u1109\u1102","\u317b":"\u1109\u1102","\u112f":"\u1109\u1103","\u317c":"\u1109\u1103","\u11e8":"\u1109\u1103","\u1130":"\u1109\u1105","\u11e9":"\u1109\u1105","\u1131":"\u1109\u1106","\ud7ea":"\u1109\u1106","\u1132":"\u1109\u1107","\u317d":"\u1109\u1107","\u11ea":"\u1109\u1107","\u1133":"\u1109\u1107\u1100","\ud7eb":"\u1109\u1107\u110b","\u110a":"\u1109\u1109","\u3146":"\u1109\u1109","\u11bb":"\u1109\u1109","\ud7ec":"\u1109\u1109\u1100","\ud7ed":"\u1109\u1109\u1103","\ua975":"\u1109\u1109\u1107","\u1134":"\u1109\u1109\u1109","\u1135":"\u1109\u110b","\u1136":"\u1109\u110c","\u317e":"\u1109\u110c","\ud7ef":"\u1109\u110c","\u1137":"\u1109\u110e","\ud7f0":"\u1109\u110e","\u1138":"\u1109\u110f","\u1139":"\u1109\u1110","\ud7f1":"\u1109\u1110","\u113a":"\u1109\u1111","\ud7ee":"\u1109\u1140","\u3147":"\u110b","\u11bc":"\u110b","\u1141":"\u110b\u1100","\u11ec":"\u110b\u1100","\u11ed":"\u110b\u1100\u1100","\u1142":"\u110b\u1103","\ua976":"\u110b\u1105","\u1143":"\u110b\u1106","\u1144":"\u110b\u1107","\u1145":"\u110b\u1109","\u11f1":"\u110b\u1109","\u3182":"\u110b\u1109","\u1147":"\u110b\u110b","\u3180":"\u110b\u110b","\u11ee":"\u110b\u110b","\u1148":"\u110b\u110c","\u1149":"\u110b\u110e","\u11ef":"\u110b\u110f","\u114a":"\u110b\u1110","\u114b":"\u110b\u1111","\ua977":"\u110b\u1112","\u1146":"\u110b\u1140","\u11f2":"\u110b\u1140","\u3183":"\u110b\u1140","\u3148":"\u110c","\u11bd":"\u110c","\ud7f7":"\u110c\u1107","\ud7f8":"\u110c\u1107\u1107","\u114d":"\u110c\u110b","\u110d":"\u110c\u110c","\u3149":"\u110c\u110c","\ud7f9":"\u110c\u110c","\ua978":"\u110c\u110c\u1112","\u314a":"\u110e","\u11be":"\u110e","\u1152":"\u110e\u110f","\u1153":"\u110e\u1112","\u314b":"\u110f","\u11bf":"\u110f","\u314c":"\u1110","\u11c0":"\u1110","\ua979":"\u1110\u1110","\u314d":"\u1111","\u11c1":"\u1111","\u1156":"\u1111\u1107","\u11f3":"\u1111\u1107","\ud7fa":"\u1111\u1109","\u1157":"\u1111\u110b","\u3184":"\u1111\u110b","\u11f4":"\u1111\u110b","\ud7fb":"\u1111\u1110","\ua97a":"\u1111\u1112","\u314e":"\u1112","\u11c2":"\u1112","\u11f5":"\u1112\u1102","\u11f6":"\u1112\u1105","\u11f7":"\u1112\u1106","\u11f8":"\u1112\u1107","\ua97b":"\u1112\u1109","\u1158":"\u1112\u1112","\u3185":"\u1112\u1112","\u113d":"\u113c\u113c","\u113f":"\u113e\u113e","\u317f":"\u1140","\u11eb":"\u1140","\ud7f3":"\u1140\u1107","\ud7f4":"\u1140\u1107\u110b","\u3181":"\u114c","\u11f0":"\u114c","\ud7f5":"\u114c\u1106","\ud7f6":"\u114c\u1112","\u114f":"\u114e\u114e","\u1151":"\u1150\u1150","\u3186":"\u1159","\u11f9":"\u1159","\ua97c":"\u1159\u1159","\u3164":"\u1160","\u314f":"\u1161","\u11a3":"\u1161\u30fc","\u1176":"\u1161\u1169","\u1177":"\u1161\u116e","\u1162":"\u1161\u4e28","\u3150":"\u1161\u4e28","\u3151":"\u1163","\u1178":"\u1163\u1169","\u1179":"\u1163\u116d","\u11a4":"\u1163\u116e","\u1164":"\u1163\u4e28","\u3152":"\u1163\u4e28","\u3153":"\u1165","\u117c":"\u1165\u30fc","\u117a":"\u1165\u1169","\u117b":"\u1165\u116e","\u1166":"\u1165\u4e28","\u3154":"\u1165\u4e28","\u3155":"\u1167","\u11a5":"\u1167\u1163","\u117d":"\u1167\u1169","\u117e":"\u1167\u116e","\u1168":"\u1167\u4e28","\u3156":"\u1167\u4e28","\u3157":"\u1169","\u116a":"\u1169\u1161","\u3158":"\u1169\u1161","\u116b":"\u1169\u1161\u4e28","\u3159":"\u1169\u1161\u4e28","\u11a6":"\u1169\u1163","\u11a7":"\u1169\u1163\u4e28","\u117f":"\u1169\u1165","\u1180":"\u1169\u1165\u4e28","\ud7b0":"\u1169\u1167","\u1181":"\u1169\u1167\u4e28","\u1182":"\u1169\u1169","\ud7b1":"\u1169\u1169\u4e28","\u1183":"\u1169\u116e","\u116c":"\u1169\u4e28","\u315a":"\u1169\u4e28","\u315b":"\u116d","\ud7b2":"\u116d\u1161","\ud7b3":"\u116d\u1161\u4e28","\u1184":"\u116d\u1163","\u3187":"\u116d\u1163","\u1186":"\u116d\u1163","\u1185":"\u116d\u1163\u4e28","\u3188":"\u116d\u1163\u4e28","\ud7b4":"\u116d\u1165","\u1187":"\u116d\u1169","\u1188":"\u116d\u4e28","\u3189":"\u116d\u4e28","\u315c":"\u116e","\u1189":"\u116e\u1161","\u118a":"\u116e\u1161\u4e28","\u116f":"\u116e\u1165","\u315d":"\u116e\u1165","\u118b":"\u116e\u1165\u30fc","\u1170":"\u116e\u1165\u4e28","\u315e":"\u116e\u1165\u4e28","\ud7b5":"\u116e\u1167","\u118c":"\u116e\u1167\u4e28","\u118d":"\u116e\u116e","\u1171":"\u116e\u4e28","\u315f":"\u116e\u4e28","\ud7b6":"\u116e\u4e28\u4e28","\u3160":"\u1172","\u118e":"\u1172\u1161","\ud7b7":"\u1172\u1161\u4e28","\u118f":"\u1172\u1165","\u1190":"\u1172\u1165\u4e28","\u1191":"\u1172\u1167","\u318a":"\u1172\u1167","\u1192":"\u1172\u1167\u4e28","\u318b":"\u1172\u1167\u4e28","\ud7b8":"\u1172\u1169","\u1193":"\u1172\u116e","\u1194":"\u1172\u4e28","\u318c":"\u1172\u4e28","\u318d":"\u119e","\ud7c5":"\u119e\u1161","\u119f":"\u119e\u1165","\ud7c6":"\u119e\u1165\u4e28","\u11a0":"\u119e\u116e","\u11a2":"\u119e\u119e","\u11a1":"\u119e\u4e28","\u318e":"\u119e\u4e28","\u30d8":"\u3078","\u2341":"\u303c","\u29c4":"\u303c","\ua49e":"\ua04a","\ua4ac":"\ua050","\ua49c":"\ua0c0","\ua4a8":"\ua132","\ua4bf":"\ua259","\ua4be":"\ua2b1","\ua494":"\ua2cd","\ua4c0":"\ua3ab","\ua4c2":"\ua3b5","\ua4ba":"\ua3bf","\ua4b0":"\ua3c2","\ua4a7":"\ua458","\u22a5":"\ua4d5","\u27c2":"\ua4d5","\ud834\ude1c":"\ua4d5","\ua7b1":"\ua4d5","\ua79e":"\ua4e4","\u2141":"\ua4e8","\u2142":"\ua4f6","\ud834\ude15":"\ua4f6","\ud834\ude2b":"\ua4f6","\ud81b\udf26":"\ua4f6","\ud801\udc11":"\ua4f6","\u2143":"\ud81b\udf00","\ud806\udee6":"\ud806\udee5\ud806\udeef","\ud806\udee8":"\ud806\udee5\ud806\udee5","\ud806\udee9":"\ud806\udee5\ud806\udee5\ud806\udeef","\ud806\udeea":"\ud806\udee5\ud806\udee5\ud806\udef0","\ud806\udee7":"\ud806\udee5\ud806\udef0","\ud806\udef4":"\ud806\udef3\ud806\udeef","\ud806\udef6":"\ud806\udef3\ud806\udef3","\ud806\udef7":"\ud806\udef3\ud806\udef3\ud806\udeef","\ud806\udef8":"\ud806\udef3\ud806\udef3\ud806\udef0","\ud806\udef5":"\ud806\udef3\ud806\udef0","\ud806\udeec":"\ud806\udeeb\ud806\udeef","\ud806\udeed":"\ud806\udeeb\ud806\udeeb","\ud806\udeee":"\ud806\udeeb\ud806\udeeb\ud806\udeef","\u2295":"\ud800\udea8","\u2a01":"\ud800\udea8","\ud83d\udf28":"\ud800\udea8","\ua69a":"\ud800\udea8","\u25bd":"\ud800\udebc","\ud834\ude14":"\ud800\udebc","\ud83d\udf04":"\ud800\udebc","\u29d6":"\ud800\udec0","\ua79b":"\ud801\udc3a","\ua79a":"\ud801\udc12","\ud801\udca0":"\ud801\udc86","\ud800\udfd1":"\ud800\udf82","\ud800\udfd3":"\ud800\udf93","\ud808\udc38":"\ud800\udf9a","\u2625":"\ud802\udd9e","\ud80c\udef9":"\ud802\udd9e","\u3039":"\u5344","\uf967":"\u4e0d","\ud87e\udc00":"\u4e3d","\ufa70":"\u4e26","\u239c":"\u4e28","\u239f":"\u4e28","\u23a2":"\u4e28","\u23a5":"\u4e28","\u23aa":"\u4e28","\u23ae":"\u4e28","\u31d1":"\u4e28","\u1175":"\u4e28","\u3163":"\u4e28","\u2f01":"\u4e28","\u119c":"\u4e28\u30fc","\u1198":"\u4e28\u1161","\u1199":"\u4e28\u1163","\ud7bd":"\u4e28\u1163\u1169","\ud7be":"\u4e28\u1163\u4e28","\ud7bf":"\u4e28\u1167","\ud7c0":"\u4e28\u1167\u4e28","\u119a":"\u4e28\u1169","\ud7c1":"\u4e28\u1169\u4e28","\ud7c2":"\u4e28\u116d","\u119b":"\u4e28\u116e","\ud7c3":"\u4e28\u1172","\u119d":"\u4e28\u119e","\ud7c4":"\u4e28\u4e28","\uf905":"\u4e32","\ud87e\udc01":"\u4e38","\uf95e":"\u4e39","\ud87e\udc02":"\u4e41","\u31e0":"\u4e59","\u2f04":"\u4e59","\u31df":"\u4e5a","\u2e83":"\u4e5a","\u31d6":"\u4e5b","\u2e82":"\u4e5b","\u2ef2":"\u4e80","\uf91b":"\u4e82","\u31da":"\u4e85","\u2f05":"\u4e85","\uf9ba":"\u4e86","\u30cb":"\u4e8c","\u2f06":"\u4e8c","\ud87e\udc03":"\ud840\udd22","\u2f07":"\u4ea0","\uf977":"\u4eae","\u2f08":"\u4eba","\u30a4":"\u4ebb","\u2e85":"\u4ebb","\uf9fd":"\u4ec0","\ud87e\udc19":"\u4ecc","\uf9a8":"\u4ee4","\ud87e\udc04":"\u4f60","\u5002":"\u4f75","\ud87e\udc07":"\u4f75","\ufa73":"\u4f80","\uf92d":"\u4f86","\uf9b5":"\u4f8b","\ufa30":"\u4fae","\ud87e\udc05":"\u4fae","\ud87e\udc06":"\u4fbb","\uf965":"\u4fbf","\u503c":"\u5024","\uf9d4":"\u502b","\ud87e\udc08":"\u507a","\ud87e\udc09":"\u5099","\ud87e\udc0b":"\u50cf","\uf9bb":"\u50da","\ufa31":"\u50e7","\ud87e\udc0a":"\u50e7","\ud87e\udc0c":"\u349e","\u2f09":"\u513f","\ufa0c":"\u5140","\u2e8e":"\u5140","\ufa74":"\u5145","\ufa32":"\u514d","\ud87e\udc0e":"\u514d","\ud87e\udc0f":"\u5154","\ud87e\udc10":"\u5164","\u2f0a":"\u5165","\ud87e\udc14":"\u5167","\ufa72":"\u5168","\uf978":"\u5169","\u30cf":"\u516b","\u2f0b":"\u516b","\uf9d1":"\u516d","\ud87e\udc11":"\u5177","\ud87e\udc12":"\ud841\udd1c","\ud87e\udd1b":"\ud841\udd25","\ufa75":"\u5180","\ud87e\udc13":"\u34b9","\u2f0c":"\u5182","\ud87e\udc15":"\u518d","\ud87e\udc16":"\ud841\udd4b","\ud87e\udcd2":"\u5192","\ud87e\udcd3":"\u5195","\ud87e\uddca":"\u34bb","\ud87e\udcd4":"\u6700","\u2f0d":"\u5196","\ud87e\udc17":"\u5197","\ud87e\udc18":"\u51a4","\u2f0e":"\u51ab","\ud87e\udc1a":"\u51ac","\ufa71":"\u51b5","\ud87e\udc1b":"\u51b5","\uf92e":"\u51b7","\uf979":"\u51c9","\uf955":"\u51cc","\uf954":"\u51dc","\ufa15":"\u51de","\u2f0f":"\u51e0","\ud87e\udc0d":"\ud841\ude3a","\ud87e\udc1d":"\u51f5","\u2f10":"\u51f5","\u2f11":"\u5200","\u2e89":"\u5202","\ud87e\udc1e":"\u5203","\ufa00":"\u5207","\ud87e\udc50":"\u5207","\uf99c":"\u5217","\uf9dd":"\u5229","\ud87e\udc1f":"\u34df","\uf9ff":"\u523a","\ud87e\udc20":"\u523b","\ud87e\udc21":"\u5246","\ud87e\udc22":"\u5272","\ud87e\udc23":"\u5277","\uf9c7":"\u5289","\ud87e\uddd9":"\ud842\udc04","\u30ab":"\u529b","\uf98a":"\u529b","\u2f12":"\u529b","\uf99d":"\u52a3","\ud87e\udc24":"\u3515","\ud87e\udd92":"\u52b3","\ufa76":"\u52c7","\ud87e\udc25":"\u52c7","\ufa33":"\u52c9","\ud87e\udc26":"\u52c9","\uf952":"\u52d2","\uf92f":"\u52de","\ufa34":"\u52e4","\ud87e\udc27":"\u52e4","\uf97f":"\u52f5","\u2f13":"\u52f9","\ufa77":"\u52fa","\ud87e\udc28":"\u52fa","\ud87e\udc29":"\u5305","\ud87e\udc2a":"\u5306","\ud87e\udddd":"\ud842\udcde","\u2f14":"\u5315","\uf963":"\u5317","\ud87e\udc2b":"\u5317","\u2f15":"\u531a","\u2f16":"\u5338","\uf9eb":"\u533f","\u2f17":"\u5341","\u3038":"\u5341","\u303a":"\u5345","\ud87e\udc2c":"\u5349","\u0fd6":"\u534d","\u0fd5":"\u5350","\ufa35":"\u5351","\ud87e\udc2d":"\u5351","\ud87e\udc2e":"\u535a","\u30c8":"\u535c","\u2f18":"\u535c","\u2f19":"\u5369","\u2e8b":"\u353e","\ud87e\udc2f":"\u5373","\uf91c":"\u5375","\ud87e\udc30":"\u537d","\ud87e\udc31":"\u537f","\ud87e\udc32":"\u537f","\ud87e\udc33":"\u537f","\u2f1a":"\u5382","\ud87e\udc34":"\ud842\ude2c","\u2f1b":"\u53b6","\uf96b":"\u53c3","\u2f1c":"\u53c8","\ud87e\udc36":"\u53ca","\ud87e\udc37":"\u53df","\ud87e\udc38":"\ud842\udf63","\u30ed":"\u53e3","\u2f1d":"\u53e3","\u56d7":"\u53e3","\u2f1e":"\u53e3","\uf906":"\u53e5","\ud87e\udc39":"\u53eb","\ud87e\udc3a":"\u53f1","\ud87e\udc3b":"\u5406","\uf9de":"\u540f","\uf9ed":"\u541d","\ud87e\udc3d":"\u5438","\uf980":"\u5442","\ud87e\udc3e":"\u5448","\ud87e\udc3f":"\u5468","\ud87e\udc3c":"\u549e","\ud87e\udc40":"\u54a2","\uf99e":"\u54bd","\u439b":"\u3588","\ud87e\udc41":"\u54f6","\ud87e\udc42":"\u5510","\ud87e\udc43":"\u5553","\u555f":"\u5553","\ufa79":"\u5555","\ud87e\udc44":"\u5563","\ud87e\udc45":"\u5584","\ud87e\udc46":"\u5584","\uf90b":"\u5587","\ufa7a":"\u5599","\ud87e\udc47":"\u5599","\ufa36":"\u559d","\ufa78":"\u559d","\ud87e\udc48":"\u55ab","\ud87e\udc49":"\u55b3","\ufa0d":"\u55c0","\ud87e\udc4a":"\u55c2","\ufa7b":"\u55e2","\ufa37":"\u5606","\ud87e\udc4c":"\u5606","\ud87e\udc4e":"\u5651","\ud87e\udc4f":"\u5674","\ufa38":"\u5668","\uf9a9":"\u56f9","\ud87e\udc4b":"\u5716","\ud87e\udc4d":"\u5717","\u2f1f":"\u571f","\u58eb":"\u571f","\u2f20":"\u571f","\ud87e\udc55":"\u578b","\ud87e\udc52":"\u57ce","\u39b3":"\u363d","\ud87e\udc53":"\u57f4","\ud87e\udc54":"\u580d","\ud87e\udc57":"\u5831","\ud87e\udc56":"\u5832","\ufa39":"\u5840","\ufa10":"\u585a","\ufa7c":"\u585a","\uf96c":"\u585e","\u586b":"\u5861","\u58ff":"\u58ab","\ud87e\udc58":"\u58ac","\ufa7d":"\u58b3","\uf94a":"\u58d8","\uf942":"\u58df","\ud87e\udc59":"\ud845\udce4","\ud87e\udc51":"\u58ee","\ud87e\udc5a":"\u58f2","\ud87e\udc5b":"\u58f7","\u2f21":"\u5902","\ud87e\udc5c":"\u5906","\u2f22":"\u590a","\u30bf":"\u5915","\u2f23":"\u5915","\ud87e\udc5d":"\u591a","\ud87e\udc5e":"\u5922","\u2f24":"\u5927","\ufa7e":"\u5944","\uf90c":"\u5948","\uf909":"\u5951","\ufa7f":"\u5954","\ud87e\udc5f":"\u5962","\uf981":"\u5973","\u2f25":"\u5973","\ud87e\udc60":"\ud845\udea8","\ud87e\udc61":"\ud845\udeea","\ud87e\udc65":"\u59d8","\ud87e\udc62":"\u59ec","\ud87e\udc63":"\u5a1b","\ud87e\udc64":"\u5a27","\ufa80":"\u5a62","\ud87e\udc66":"\u5a66","\u5b00":"\u5aaf","\ud87e\udc67":"\u36ee","\ud87e\udc68":"\u36fc","\ud87e\udd86":"\u5ab5","\ud87e\udc69":"\u5b08","\ufa81":"\u5b28","\ud87e\udc6a":"\u5b3e","\ud87e\udc6b":"\u5b3e","\u2f26":"\u5b50","\u2f27":"\u5b80","\ufa04":"\u5b85","\ud87e\udc6c":"\ud846\uddc8","\ud87e\udc6d":"\u5bc3","\ud87e\udc6e":"\u5bd8","\uf95f":"\u5be7","\uf9aa":"\u5be7","\ud87e\udc6f":"\u5be7","\uf9bc":"\u5bee","\ud87e\udc70":"\u5bf3","\ud87e\udc71":"\ud846\udf18","\u2f28":"\u5bf8","\ud87e\udc72":"\u5bff","\ud87e\udc73":"\u5c06","\u2f29":"\u5c0f","\ud87e\udc75":"\u5c22","\u2e90":"\u5c22","\u2f2a":"\u5c22","\u2e8f":"\u5c23","\ud87e\udc76":"\u3781","\u2f2b":"\u5c38","\uf9bd":"\u5c3f","\ud87e\udc77":"\u5c60","\uf94b":"\u5c62","\ufa3b":"\u5c64","\uf9df":"\u5c65","\ufa3c":"\u5c6e","\ud87e\udc78":"\u5c6e","\u2f2c":"\u5c6e","\ud87e\udcf8":"\ud847\udd0b","\u2f2d":"\u5c71","\ud87e\udc79":"\u5cc0","\ud87e\udc7a":"\u5c8d","\ud87e\udc7b":"\ud847\udde4","\ud87e\udc7d":"\ud847\udde6","\uf9d5":"\u5d19","\ud87e\udc7c":"\u5d43","\uf921":"\u5d50","\ud87e\udc7f":"\u5d6b","\ud87e\udc7e":"\u5d6e","\ud87e\udc80":"\u5d7c","\ud87e\uddf4":"\u5db2","\uf9ab":"\u5dba","\u2f2e":"\u5ddb","\ud87e\udc82":"\u5de2","\u30a8":"\u5de5","\u2f2f":"\u5de5","\u2f30":"\u5df1","\u2e92":"\u5df3","\ud87e\udc83":"\u382f","\ud87e\udc84":"\u5dfd","\u2f31":"\u5dfe","\u5e32":"\u5e21","\ud87e\udc85":"\u5e28","\ud87e\udc86":"\u5e3d","\ud87e\udc87":"\u5e69","\ud87e\udc88":"\u3862","\ud87e\udc89":"\ud848\udd83","\u2f32":"\u5e72","\uf98e":"\u5e74","\ud87e\udd39":"\ud848\udd9f","\u2e93":"\u5e7a","\u2f33":"\u5e7a","\u2f34":"\u5e7f","\ufa01":"\u5ea6","\ud87e\udc8a":"\u387c","\ud87e\udc8b":"\u5eb0","\ud87e\udc8c":"\u5eb3","\ud87e\udc8d":"\u5eb6","\uf928":"\u5eca","\ud87e\udc8e":"\u5eca","\uf9a2":"\u5ec9","\ufa82":"\u5ed2","\ufa0b":"\u5ed3","\ufa83":"\u5ed9","\uf982":"\u5eec","\u2f35":"\u5ef4","\ud87e\udc90":"\u5efe","\u2f36":"\u5efe","\ud87e\udc91":"\ud848\udf31","\ud87e\udc92":"\ud848\udf31","\uf943":"\u5f04","\u2f37":"\u5f0b","\u2f38":"\u5f13","\ud87e\udc94":"\u5f22","\ud87e\udc95":"\u5f22","\u2f39":"\u5f50","\u2e94":"\u5f51","\ud87e\udc74":"\u5f53","\ud87e\udc96":"\u38c7","\u2f3a":"\u5f61","\ud87e\udc99":"\u5f62","\ufa84":"\u5f69","\ud87e\udc9a":"\u5f6b","\u2f3b":"\u5f73","\uf9d8":"\u5f8b","\ud87e\udc9b":"\u38e3","\ud87e\udc9c":"\u5f9a","\uf966":"\u5fa9","\ufa85":"\u5fad","\u2f3c":"\u5fc3","\u2e96":"\u5fc4","\u2e97":"\u38fa","\ud87e\udc9d":"\u5fcd","\ud87e\udc9e":"\u5fd7","\uf9a3":"\u5ff5","\ud87e\udc9f":"\u5ff9","\uf960":"\u6012","\uf9ac":"\u601c","\ufa6b":"\u6075","\ud87e\udca2":"\u391c","\ud87e\udca1":"\u393a","\ud87e\udca0":"\u6081","\ufa3d":"\u6094","\ud87e\udca3":"\u6094","\ud87e\udca5":"\u60c7","\ufa86":"\u60d8","\uf9b9":"\u60e1","\ud87e\udca4":"\ud849\uded4","\ufa88":"\u6108","\ufa3e":"\u6168","\uf9d9":"\u6144","\ud87e\udca6":"\u6148","\ud87e\udca7":"\u614c","\ud87e\udca9":"\u614c","\ufa87":"\u614e","\ud87e\udca8":"\u614e","\ufa8a":"\u6160","\ud87e\udcaa":"\u617a","\ufa3f":"\u618e","\ufa89":"\u618e","\ud87e\udcab":"\u618e","\uf98f":"\u6190","\ud87e\udcad":"\u61a4","\ud87e\udcae":"\u61af","\ud87e\udcac":"\u61b2","\ufad0":"\ud84a\udc44","\ufacf":"\ud84a\udc4a","\ud87e\udcaf":"\u61de","\ufa40":"\u61f2","\ufa8b":"\u61f2","\ud87e\udcb0":"\u61f2","\uf90d":"\u61f6","\ud87e\udcb1":"\u61f6","\uf990":"\u6200","\u2f3d":"\u6208","\ud87e\udcb2":"\u6210","\ud87e\udcb3":"\u621b","\uf9d2":"\u622e","\ufa8c":"\u6234","\u2f3e":"\u6236","\u6238":"\u6236","\u2f3f":"\u624b","\u2e98":"\u624c","\ud87e\udcb4":"\u625d","\ud87e\udcb5":"\u62b1","\uf925":"\u62c9","\uf95b":"\u62cf","\ufa02":"\u62d3","\ud87e\udcb6":"\u62d4","\ud87e\udcba":"\u62fc","\uf973":"\u62fe","\ud87e\udcb8":"\ud84a\udf0c","\ud87e\udcb9":"\u633d","\ud87e\udcb7":"\u6350","\ud87e\udcbb":"\u6368","\uf9a4":"\u637b","\ud87e\udcbc":"\u6383","\uf975":"\u63a0","\ud87e\udcc1":"\u63a9","\ufa8d":"\u63c4","\ud87e\udcbd":"\u63e4","\ufa8f":"\u6452","\ud87e\udcbe":"\ud84a\udff1","\ufa8e":"\u641c","\ud87e\udcbf":"\u6422","\ud87e\udcc0":"\u63c5","\ud87e\udcc3":"\u6469","\ud87e\udcc6":"\u6477","\ud87e\udcc4":"\u647e","\ud87e\udcc2":"\u3a2e","\u6409":"\u3a41","\uf991":"\u649a","\ud87e\udcc5":"\u649d","\uf930":"\u64c4","\ud87e\udcc7":"\u3a6c","\u2f40":"\u652f","\u2f41":"\u6534","\u2e99":"\u6535","\ufa41":"\u654f","\ud87e\udcc8":"\u654f","\ufa90":"\u6556","\ud87e\udcc9":"\u656c","\uf969":"\u6578","\ud87e\udcca":"\ud84c\udc0a","\u2f42":"\u6587","\u2eeb":"\u6589","\u2f43":"\u6597","\uf9be":"\u6599","\u2f44":"\u65a4","\u2f45":"\u65b9","\uf983":"\u65c5","\u2f46":"\u65e0","\u2e9b":"\u65e1","\ufa42":"\u65e2","\ud87e\udccb":"\u65e3","\u2f47":"\u65e5","\uf9e0":"\u6613","\u66f6":"\u3ada","\ud87e\udcd1":"\u3ae4","\ud87e\udccd":"\u6649","\u6669":"\u665a","\ufa12":"\u6674","\ufa91":"\u6674","\ufa43":"\u6691","\ud87e\udccf":"\u6691","\uf9c5":"\u6688","\ud87e\udcd0":"\u3b08","\ud87e\udcd5":"\u669c","\ufa06":"\u66b4","\uf98b":"\u66c6","\ud87e\udcce":"\u3b19","\ud87e\udc97":"\ud84c\udeb8","\u2f48":"\u66f0","\uf901":"\u66f4","\ud87e\udccc":"\u66f8","\u2f49":"\u6708","\ud87e\udd80":"\ud84c\udf5f","\u80a6":"\u670c","\u80d0":"\u670f","\u80ca":"\u6710","\u8101":"\u6713","\u80f6":"\u3b35","\uf929":"\u6717","\ufa92":"\u6717","\ud87e\udcd8":"\u6717","\u8127":"\u6718","\ufa93":"\u671b","\ud87e\udcd9":"\u671b","\u5e50":"\u3b3a","\u4420":"\u3b3b","\ud87e\udd89":"\ud84c\udf93","\u81a7":"\u6723","\ud87e\udd8a":"\ud84c\udf9c","\u2f4a":"\u6728","\uf9e1":"\u674e","\ud87e\udcdc":"\u6753","\ufa94":"\u6756","\ud87e\udcdb":"\u675e","\ud87e\udcdd":"\ud84c\udfc3","\u67ff":"\u676e","\uf9c8":"\u677b","\ud87e\udce0":"\u6785","\uf9f4":"\u6797","\ud87e\udcde":"\u3b49","\ufad1":"\ud84c\udfd5","\uf9c9":"\u67f3","\ud87e\udcdf":"\u67fa","\uf9da":"\u6817","\ud87e\udce5":"\u681f","\ud87e\udce1":"\u6852","\ud87e\udce3":"\ud84d\udc6d","\uf97a":"\u6881","\ufa44":"\u6885","\ud87e\udce2":"\u6885","\ud87e\udce4":"\u688e","\uf9e2":"\u68a8","\ud87e\udce6":"\u6914","\ud87e\udce8":"\u6942","\ufad2":"\u3b9d","\ud87e\udce7":"\u3b9d","\u69e9":"\u3ba3","\u6a27":"\u699d","\ud87e\udce9":"\u69a3","\ud87e\udcea":"\u69ea","\uf914":"\u6a02","\uf95c":"\u6a02","\uf9bf":"\u6a02","\uf94c":"\u6a13","\ud87e\udcec":"\ud84d\udea3","\ud87e\udceb":"\u6aa8","\uf931":"\u6ad3","\ud87e\udced":"\u6adb","\uf91d":"\u6b04","\ud87e\udcee":"\u3c18","\u2f4b":"\u6b20","\ud87e\udcef":"\u6b21","\ud87e\udcf0":"\ud84e\udca7","\ud87e\udcf1":"\u6b54","\ud87e\udcf2":"\u3c4e","\u2f4c":"\u6b62","\u2eed":"\u6b6f","\ud87e\udcf3":"\u6b72","\uf98c":"\u6b77","\ufa95":"\u6b79","\u2f4d":"\u6b79","\u2e9e":"\u6b7a","\ud87e\udcf4":"\u6b9f","\uf9a5":"\u6bae","\u2f4e":"\u6bb3","\uf970":"\u6bba","\ufa96":"\u6bba","\ud87e\udcf5":"\u6bba","\ud87e\udcf6":"\u6bbb","\ud87e\udcf7":"\ud84e\ude8d","\u2f4f":"\u6bcb","\u2e9f":"\u6bcd","\ud87e\udcf9":"\ud84e\udefa","\u2f50":"\u6bd4","\u2f51":"\u6bdb","\u2f52":"\u6c0f","\u2ea0":"\u6c11","\u2f53":"\u6c14","\u2f54":"\u6c34","\u2ea1":"\u6c35","\u2ea2":"\u6c3a","\ud87e\udcfa":"\u6c4e","\ud87e\udcfe":"\u6c67","\uf972":"\u6c88","\ud87e\udcfc":"\u6cbf","\uf968":"\u6ccc","\ud87e\udcfd":"\u6ccd","\uf9e3":"\u6ce5","\ud87e\udcfb":"\ud84f\udcbc","\uf915":"\u6d1b","\ufa05":"\u6d1e","\ud87e\udd07":"\u6d34","\ud87e\udd00":"\u6d3e","\uf9ca":"\u6d41","\ufa97":"\u6d41","\ud87e\udd02":"\u6d41","\ud87e\udcff":"\u6d16","\ud87e\udd03":"\u6d69","\uf92a":"\u6d6a","\ufa45":"\u6d77","\ud87e\udd01":"\u6d77","\ud87e\udd04":"\u6d78","\ud87e\udd05":"\u6d85","\ud87e\udd06":"\ud84f\udd1e","\uf9f5":"\u6dcb","\uf94d":"\u6dda","\uf9d6":"\u6dea","\ud87e\udd0e":"\u6df9","\ufa46":"\u6e1a","\ud87e\udd08":"\u6e2f","\ud87e\udd09":"\u6e6e","\u6f59":"\u6e88","\ufa99":"\u6ecb","\ud87e\udd0b":"\u6ecb","\uf9cb":"\u6e9c","\uf9ec":"\u6eba","\ud87e\udd0c":"\u6ec7","\uf904":"\u6ed1","\ufa98":"\u6edb","\ud87e\udd0a":"\u3d33","\uf94e":"\u6f0f","\ufa47":"\u6f22","\ufa9a":"\u6f22","\uf992":"\u6f23","\ud87e\udd0d":"\ud84f\uded1","\ud87e\udd0f":"\u6f6e","\ud87e\udd10":"\ud84f\udf5e","\ud87e\udd11":"\ud84f\udf8e","\ud87e\udd12":"\u6fc6","\uf922":"\u6feb","\uf984":"\u6ffe","\ud87e\udd15":"\u701b","\ufa9b":"\u701e","\ud87e\udd14":"\u701e","\ud87e\udd13":"\u7039","\ud87e\udd17":"\u704a","\ud87e\udd16":"\u3d96","\u2f55":"\u706b","\u2ea3":"\u706c","\ud87e\udc35":"\u7070","\ud87e\udd19":"\u7077","\ud87e\udd18":"\u707d","\uf9fb":"\u7099","\ud87e\udd1a":"\u70ad","\uf99f":"\u70c8","\uf916":"\u70d9","\ufa48":"\u716e","\ufa9c":"\u716e","\ud87e\udd1d":"\ud850\ude63","\ud87e\udd1c":"\u7145","\uf993":"\u7149","\ufa6c":"\ud850\udeee","\ud87e\udd1e":"\u719c","\uf9c0":"\u71ce","\uf9ee":"\u71d0","\ud87e\udd1f":"\ud850\udfab","\uf932":"\u7210","\uf91e":"\u721b","\ud87e\udd20":"\u7228","\u2f56":"\u722a","\ufa49":"\u722b","\u2ea4":"\u722b","\ufa9e":"\u7235","\ud87e\udd21":"\u7235","\u2f57":"\u7236","\u2f58":"\u723b","\u2ea6":"\u4e2c","\u2f59":"\u723f","\u2f5a":"\u7247","\ud87e\udd22":"\u7250","\u2f5b":"\u7259","\ud87e\udd23":"\ud851\ude08","\u2f5c":"\u725b","\uf946":"\u7262","\ud87e\udd24":"\u7280","\ud87e\udd25":"\u7295","\u2f5d":"\u72ac","\u2ea8":"\u72ad","\ufa9f":"\u72af","\uf9fa":"\u72c0","\ud87e\udd26":"\ud851\udf35","\uf92b":"\u72fc","\ufa16":"\u732a","\ufaa0":"\u732a","\ud87e\udd27":"\ud852\udc14","\uf9a7":"\u7375","\ud87e\udd28":"\u737a","\u2f5e":"\u7384","\uf961":"\u7387","\uf9db":"\u7387","\u2f5f":"\u7389","\ud87e\udd29":"\u738b","\ud87e\udd2a":"\u3eac","\ud87e\udd2b":"\u73a5","\uf9ad":"\u73b2","\ud87e\udd2c":"\u3eb8","\ud87e\udd2d":"\u3eb8","\uf917":"\u73de","\uf9cc":"\u7409","\uf9e4":"\u7406","\ufa4a":"\u7422","\ud87e\udd2e":"\u7447","\ud87e\udd2f":"\u745c","\uf9ae":"\u7469","\ufaa1":"\u7471","\ud87e\udd30":"\u7471","\ud87e\udd31":"\u7485","\uf994":"\u7489","\uf9ef":"\u7498","\ud87e\udd32":"\u74ca","\u2f60":"\u74dc","\u2f61":"\u74e6","\ud87e\udd33":"\u3f1b","\ufaa2":"\u7506","\u2f62":"\u7518","\u2f63":"\u751f","\ud87e\udd34":"\u7524","\u2f64":"\u7528","\u2f65":"\u7530","\ufaa3":"\u753b","\ud87e\udd36":"\u753e","\ud87e\udd35":"\ud853\udc36","\uf9cd":"\u7559","\uf976":"\u7565","\uf962":"\u7570","\ud87e\udd38":"\u7570","\ud87e\udd37":"\ud853\udc92","\u2f66":"\u758b","\u2f67":"\u7592","\uf9e5":"\u75e2","\ud87e\udd3a":"\u7610","\ufaa5":"\u761f","\ufaa4":"\u761d","\uf9c1":"\u7642","\uf90e":"\u7669","\u2f68":"\u7676","\u2f69":"\u767d","\ud87e\udd3b":"\ud853\udfa1","\ud87e\udd3c":"\ud853\udfb8","\u2f6a":"\u76ae","\u2f6b":"\u76bf","\ud87e\udd3d":"\ud854\udc44","\ud87e\udd3e":"\u3ffc","\ufa17":"\u76ca","\ufaa6":"\u76ca","\ufaa7":"\u76db","\uf933":"\u76e7","\ud87e\udd3f":"\u4008","\u2f6c":"\u76ee","\ufaa8":"\u76f4","\ud87e\udd40":"\u76f4","\ud87e\udd42":"\ud854\udcf2","\ud87e\udd41":"\ud854\udcf3","\uf96d":"\u7701","\ufad3":"\u4018","\ud87e\udd43":"\ud854\udd19","\ud87e\udd45":"\u771e","\ud87e\udd46":"\u771f","\ud87e\udd47":"\u771f","\ud87e\udd44":"\ud854\udd33","\ufaaa":"\u7740","\ufaa9":"\u774a","\ud87e\udd48":"\u774a","\u9fc3":"\u4039","\ufad4":"\u4039","\ud87e\udd49":"\u4039","\u6663":"\u403f","\ud87e\udd4b":"\u4046","\ud87e\udd4a":"\u778b","\ufad5":"\ud854\ude49","\ufa9d":"\u77a7","\u2f6d":"\u77db","\u2f6e":"\u77e2","\u2f6f":"\u77f3","\ud87e\udd4c":"\u4096","\ud87e\udd4d":"\ud855\udc1d","\u784f":"\u7814","\ud87e\udd4e":"\u784e","\uf9ce":"\u786b","\uf93b":"\u788c","\ud87e\udd4f":"\u788c","\ufa4b":"\u7891","\uf947":"\u78ca","\ufaab":"\u78cc","\ud87e\udd50":"\u78cc","\uf964":"\u78fb","\ud87e\udd51":"\u40e3","\uf985":"\u792a","\u2f70":"\u793a","\u2ead":"\u793b","\ufa18":"\u793c","\ufa4c":"\u793e","\ufa4e":"\u7948","\ufa4d":"\u7949","\ud87e\udd52":"\ud855\ude26","\ufa4f":"\u7950","\ufa50":"\u7956","\ud87e\udd53":"\u7956","\ufa51":"\u795d","\ufa19":"\u795e","\ufa1a":"\u7965","\ufa61":"\u8996","\ufab8":"\u8996","\uf93c":"\u797f","\ud87e\udd54":"\ud855\ude9a","\ufa52":"\u798d","\ufa53":"\u798e","\ufa1b":"\u798f","\ud87e\udd56":"\u798f","\ud87e\udd55":"\ud855\udec5","\uf9b6":"\u79ae","\u2f71":"\u79b8","\u2f72":"\u79be","\uf995":"\u79ca","\ud87e\udd58":"\u412f","\ud87e\udd57":"\u79eb","\uf956":"\u7a1c","\ud87e\udd5a":"\u7a4a","\ufa54":"\u7a40","\ud87e\udd59":"\u7a40","\ud87e\udd5b":"\u7a4f","\u2f73":"\u7a74","\ufa55":"\u7a81","\ud87e\udd5c":"\ud856\udd7c","\ufaac":"\u7ab1","\uf9f7":"\u7acb","\u2f74":"\u7acb","\u2eef":"\u7adc","\ud87e\udd5d":"\ud856\udea7","\ud87e\udd5e":"\ud856\udea7","\ud87e\udd5f":"\u7aee","\u2f75":"\u7af9","\uf9f8":"\u7b20","\ufa56":"\u7bc0","\ufaad":"\u7bc0","\ud87e\udd60":"\u4202","\ud87e\udd61":"\ud856\udfab","\ud87e\udd62":"\u7bc6","\ud87e\udd64":"\u4227","\ud87e\udd63":"\u7bc9","\ud87e\udd65":"\ud857\udc80","\ufad6":"\ud857\udcd0","\uf9a6":"\u7c3e","\uf944":"\u7c60","\u2f76":"\u7c73","\ufaae":"\u7c7b","\uf9f9":"\u7c92","\ufa1d":"\u7cbe","\ud87e\udd66":"\u7cd2","\ufa03":"\u7cd6","\ud87e\udd68":"\u7ce8","\ud87e\udd67":"\u42a0","\ud87e\udd69":"\u7ce3","\uf97b":"\u7ce7","\u2f77":"\u7cf8","\u2eaf":"\u7cf9","\ud87e\udd6b":"\ud857\udf86","\ud87e\udd6a":"\u7d00","\uf9cf":"\u7d10","\uf96a":"\u7d22","\uf94f":"\u7d2f","\u7d76":"\u7d55","\ud87e\udd6c":"\u7d63","\ufaaf":"\u7d5b","\uf93d":"\u7da0","\uf957":"\u7dbe","\ud87e\udd6e":"\u7dc7","\uf996":"\u7df4","\ufa57":"\u7df4","\ufab0":"\u7df4","\ud87e\udd6f":"\u7e02","\ud87e\udd6d":"\u4301","\ufa58":"\u7e09","\uf950":"\u7e37","\ufa59":"\u7e41","\ud87e\udd70":"\u7e45","\ud87e\udc98":"\ud858\uddda","\ud87e\udd71":"\u4334","\u2f78":"\u7f36","\ud87e\udd72":"\ud858\ude28","\ufab1":"\u7f3e","\ud87e\udd73":"\ud858\ude47","\u2f79":"\u7f51","\u2eab":"\u7f52","\u2eb2":"\u7f52","\u2eb1":"\u7f53","\ud87e\udd74":"\u4359","\ufa5a":"\u7f72","\ud87e\udd75":"\ud858\uded9","\uf9e6":"\u7f79","\ud87e\udd76":"\u7f7a","\uf90f":"\u7f85","\ud87e\udd77":"\ud858\udf3e","\u2f7a":"\u7f8a","\ud87e\udd78":"\u7f95","\uf9af":"\u7f9a","\ufa1e":"\u7fbd","\u2f7b":"\u7fbd","\ud87e\udd79":"\u7ffa","\uf934":"\u8001","\u2f7c":"\u8001","\u2eb9":"\u8002","\ufa5b":"\u8005","\ufab2":"\u8005","\ud87e\udd7a":"\u8005","\u2f7d":"\u800c","\ud87e\udd7b":"\ud859\udcda","\u2f7e":"\u8012","\ud87e\udd7c":"\ud859\udd23","\u2f7f":"\u8033","\uf9b0":"\u8046","\ud87e\udd7d":"\u8060","\ud87e\udd7e":"\ud859\udda8","\uf997":"\u806f","\ud87e\udd7f":"\u8070","\uf945":"\u807e","\u2f80":"\u807f","\u2eba":"\u8080","\u2f81":"\u8089","\uf953":"\u808b","\ud87e\udcd6":"\u80ad","\ud87e\udd82":"\u80b2","\ud87e\udd81":"\u43d5","\ud87e\udcd7":"\u43d9","\u8141":"\u80fc","\ud87e\udd83":"\u8103","\ud87e\udd85":"\u813e","\ud87e\udd84":"\u440b","\ud87e\udcda":"\u6721","\ud87e\udd87":"\ud859\udfa7","\ud87e\udd88":"\ud859\udfb5","\u6726":"\u4443","\uf926":"\u81d8","\u2f82":"\u81e3","\uf9f6":"\u81e8","\u2f83":"\u81ea","\ufa5c":"\u81ed","\u2f84":"\u81f3","\u2f85":"\u81fc","\ud87e\udc93":"\u8201","\ud87e\udd8b":"\u8201","\ud87e\udd8c":"\u8204","\u2f86":"\u820c","\ufa6d":"\u8218","\u2f87":"\u821b","\u2f88":"\u821f","\ud87e\udd8e":"\u446b","\u2f89":"\u826e","\uf97c":"\u826f","\u2f8a":"\u8272","\u2f8b":"\u8278","\ufa5d":"\u8279","\ufa5e":"\u8279","\u2ebe":"\u8279","\u2ebf":"\u8279","\u2ec0":"\u8279","\ud87e\udd90":"\u828b","\ud87e\udd8f":"\u8291","\ud87e\udd91":"\u829d","\ud87e\udd93":"\u82b1","\ud87e\udd94":"\u82b3","\ud87e\udd95":"\u82bd","\uf974":"\u82e5","\ud87e\udd98":"\u82e5","\ud87e\udd96":"\u82e6","\ud87e\udd97":"\ud85a\udf3c","\uf9fe":"\u8336","\ufab3":"\u8352","\ud87e\udd9a":"\u8363","\ud87e\udd99":"\u831d","\ud87e\udd9c":"\u8323","\ud87e\udd9d":"\u83bd","\ud87e\udda0":"\u8353","\uf93e":"\u83c9","\ud87e\udda1":"\u83ca","\ud87e\udda2":"\u83cc","\ud87e\udda3":"\u83dc","\ud87e\udd9e":"\u83e7","\ufab4":"\u83ef","\uf958":"\u83f1","\ufa5f":"\u8457","\ud87e\udd9f":"\u8457","\ud87e\udda4":"\ud85b\udc36","\ud87e\udd9b":"\u83ad","\uf918":"\u843d","\uf96e":"\u8449","\u853f":"\u848d","\ud87e\udda6":"\ud85b\udcd5","\ud87e\udda5":"\ud85b\udd6b","\uf999":"\u84ee","\ud87e\udda8":"\u84f1","\ud87e\udda9":"\u84f3","\uf9c2":"\u84fc","\ud87e\uddaa":"\u8516","\ud87e\udda7":"\u452b","\ud87e\uddac":"\u8564","\ud87e\uddad":"\ud85b\udf2c","\uf923":"\u85cd","\ud87e\uddae":"\u455d","\ud87e\uddb0":"\ud85b\udfb1","\ud87e\uddaf":"\u4561","\uf9f0":"\u85fa","\uf935":"\u8606","\ud87e\uddb2":"\u456b","\ufa20":"\u8612","\uf91f":"\u862d","\ud87e\uddb1":"\ud85c\udcd2","\u8641":"\u8637","\uf910":"\u863f","\u2f8c":"\u864d","\u2ec1":"\u864e","\ud87e\uddb3":"\u8650","\uf936":"\u865c","\ud87e\uddb4":"\u865c","\ud87e\uddb5":"\u8667","\ud87e\uddb6":"\u8669","\u2f8d":"\u866b","\ud87e\uddb7":"\u86a9","\ud87e\uddb8":"\u8688","\ud87e\uddba":"\u86e2","\ud87e\uddb9":"\u870e","\ud87e\uddbc":"\u8728","\ud87e\uddbd":"\u876b","\ud87e\uddc0":"\u87e1","\ufab5":"\u8779","\ud87e\uddbb":"\u8779","\ud87e\uddbe":"\u8786","\ud87e\uddbf":"\u45d7","\ud87e\uddab":"\ud85c\udfca","\uf911":"\u87ba","\ud87e\uddc1":"\u8801","\ud87e\uddc2":"\u45f9","\uf927":"\u881f","\u2f8e":"\u8840","\ufa08":"\u884c","\u2f8f":"\u884c","\ud87e\uddc3":"\u8860","\ud87e\uddc4":"\u8863","\u2f90":"\u8863","\u2ec2":"\u8864","\uf9a0":"\u88c2","\ud87e\uddc5":"\ud85d\ude67","\uf9e7":"\u88cf","\ud87e\uddc6":"\u88d7","\ud87e\uddc7":"\u88de","\uf9e8":"\u88e1","\uf912":"\u88f8","\ud87e\uddc9":"\u88fa","\ud87e\uddc8":"\u4635","\ufa60":"\u8910","\ufab6":"\u8941","\uf924":"\u8964","\u2f91":"\u897e","\u2ec4":"\u897f","\u2ec3":"\u8980","\ufab7":"\u8986","\ufa0a":"\u898b","\u2f92":"\u898b","\ud87e\uddcb":"\ud85e\udcae","\u2ec5":"\u89c1","\u2f93":"\u89d2","\u2f94":"\u8a00","\ud87e\uddcc":"\ud85e\udd66","\u8a7d":"\u8a2e","\u8a1e":"\u46b6","\ud87e\uddcd":"\u46be","\ud87e\uddce":"\u46c7","\ud87e\uddcf":"\u8aa0","\uf96f":"\u8aaa","\uf9a1":"\u8aaa","\ufab9":"\u8abf","\ufabb":"\u8acb","\uf97d":"\u8ad2","\uf941":"\u8ad6","\ufabe":"\u8aed","\ud87e\uddd0":"\u8aed","\ufa22":"\u8af8","\ufaba":"\u8af8","\uf95d":"\u8afe","\ufabd":"\u8afe","\ufa62":"\u8b01","\ufabc":"\u8b01","\ufa63":"\u8b39","\ufabf":"\u8b39","\uf9fc":"\u8b58","\uf95a":"\u8b80","\u8b8f":"\u8b86","\ufac0":"\u8b8a","\ud87e\uddd1":"\u8b8a","\u2ec8":"\u8ba0","\u2f95":"\u8c37","\u2f96":"\u8c46","\uf900":"\u8c48","\ud87e\uddd2":"\u8c55","\u2f97":"\u8c55","\u8c63":"\u8c5c","\u2f98":"\u8c78","\ud87e\uddd3":"\ud85f\udca8","\u2f99":"\u8c9d","\ud87e\uddd4":"\u8cab","\ud87e\uddd5":"\u8cc1","\uf948":"\u8cc2","\uf903":"\u8cc8","\ufa64":"\u8cd3","\ufa65":"\u8d08","\ufac1":"\u8d08","\ud87e\uddd6":"\u8d1b","\u2ec9":"\u8d1d","\u2f9a":"\u8d64","\u2f9b":"\u8d70","\ud87e\uddd7":"\u8d77","\u8d86":"\u8d7f","\ufad7":"\ud85f\uded3","\ud87e\uddd8":"\ud85f\udf2f","\u2f9c":"\u8db3","\ud87e\uddda":"\u8dcb","\ud87e\udddb":"\u8dbc","\u8dfa":"\u8de5","\uf937":"\u8def","\ud87e\udddc":"\u8df0","\u8e9b":"\u8e97","\u2f9d":"\u8eab","\uf902":"\u8eca","\u2f9e":"\u8eca","\ud87e\uddde":"\u8ed4","\u8f27":"\u8eff","\uf998":"\u8f26","\uf9d7":"\u8f2a","\ufac2":"\u8f38","\ud87e\udddf":"\u8f38","\ufa07":"\u8f3b","\uf98d":"\u8f62","\u2ecb":"\u8f66","\u2f9f":"\u8f9b","\ud87e\udd8d":"\u8f9e","\uf971":"\u8fb0","\u2fa0":"\u8fb0","\u2fa1":"\u8fb5","\ufa66":"\u8fb6","\u2ecc":"\u8fb6","\u2ecd":"\u8fb6","\ud87e\udc81":"\u5de1","\uf99a":"\u9023","\ufa25":"\u9038","\ufa67":"\u9038","\ufac3":"\u9072","\uf9c3":"\u907c","\ud87e\udde0":"\ud861\uddd2","\ud87e\udde1":"\ud861\udded","\uf913":"\u908f","\u2fa2":"\u9091","\ud87e\udde2":"\u9094","\uf92c":"\u90ce","\u90de":"\u90ce","\ufa2e":"\u90ce","\ud87e\udde3":"\u90f1","\ufa26":"\u90fd","\ud87e\udde5":"\ud861\udf2e","\ud87e\udde4":"\u9111","\ud87e\udde6":"\u911b","\u2fa3":"\u9149","\uf919":"\u916a","\ufac4":"\u9199","\uf9b7":"\u91b4","\u2fa4":"\u91c6","\uf9e9":"\u91cc","\u2fa5":"\u91cc","\uf97e":"\u91cf","\uf90a":"\u91d1","\u2fa6":"\u91d1","\uf9b1":"\u9234","\ud87e\udde7":"\u9238","\ufac5":"\u9276","\ud87e\udde8":"\u92d7","\ud87e\udde9":"\u92d8","\ud87e\uddea":"\u927c","\uf93f":"\u9304","\uf99b":"\u934a","\u93ae":"\u93ad","\ud87e\uddeb":"\u93f9","\ud87e\uddec":"\u9415","\ud87e\udded":"\ud862\udffa","\u2ed0":"\u9485","\u2ed1":"\u9577","\u2fa7":"\u9577","\u2ed2":"\u9578","\u2ed3":"\u957f","\u2fa8":"\u9580","\ud87e\uddee":"\u958b","\ud87e\uddef":"\u4995","\uf986":"\u95ad","\ud87e\uddf0":"\u95b7","\ud87e\uddf1":"\ud863\udd77","\u2ed4":"\u95e8","\u2fa9":"\u961c","\u2ecf":"\u961d","\u2ed6":"\u961d","\uf9c6":"\u962e","\uf951":"\u964b","\ufa09":"\u964d","\uf959":"\u9675","\uf9d3":"\u9678","\ufac6":"\u967c","\uf9dc":"\u9686","\uf9f1":"\u96a3","\ud87e\uddf2":"\u49e6","\u2faa":"\u96b6","\ufa2f":"\u96b7","\u96b8":"\u96b7","\uf9b8":"\u96b7","\u2fab":"\u96b9","\ud87e\uddf3":"\u96c3","\uf9ea":"\u96e2","\ufa68":"\u96e3","\ufac7":"\u96e3","\u2fac":"\u96e8","\uf9b2":"\u96f6","\uf949":"\u96f7","\ud87e\uddf5":"\u9723","\ud87e\uddf6":"\ud864\udd45","\uf938":"\u9732","\uf9b3":"\u9748","\u2fad":"\u9751","\u2ed8":"\u9752","\ufa1c":"\u9756","\ufac8":"\u9756","\ud87e\udc1c":"\ud864\udddf","\u2fae":"\u975e","\u2faf":"\u9762","\ud87e\uddf7":"\ud864\ude1a","\u2fb0":"\u9769","\ud87e\uddf8":"\u4a6e","\ud87e\uddf9":"\u4a76","\u2fb1":"\u97cb","\ufac9":"\u97db","\ud87e\uddfa":"\u97e0","\u2ed9":"\u97e6","\u2fb2":"\u97ed","\ud87e\uddfb":"\ud865\udc0a","\u2fb3":"\u97f3","\ufa69":"\u97ff","\ufaca":"\u97ff","\u2fb4":"\u9801","\ud87e\uddfc":"\u4ab2","\ufacb":"\u980b","\ud87e\uddfe":"\u980b","\ud87e\uddff":"\u980b","\uf9b4":"\u9818","\ud87e\ude00":"\u9829","\ud87e\uddfd":"\ud865\udc96","\ufa6a":"\u983b","\ufacc":"\u983b","\uf9d0":"\u985e","\u2eda":"\u9875","\u2fb5":"\u98a8","\ud87e\ude01":"\ud865\uddb6","\u2edb":"\u98ce","\u2fb6":"\u98db","\u2edc":"\u98de","\u2edd":"\u98df","\u2fb7":"\u98df","\u2edf":"\u98e0","\ud87e\ude02":"\u98e2","\ufa2a":"\u98ef","\ufa2b":"\u98fc","\ud87e\ude03":"\u4b33","\ufa2c":"\u9928","\ud87e\ude04":"\u9929","\u2ee0":"\u9963","\u2fb8":"\u9996","\u2fb9":"\u9999","\ud87e\ude05":"\u99a7","\u2fba":"\u99ac","\ud87e\ude06":"\u99c2","\uf91a":"\u99f1","\ud87e\ude07":"\u99fe","\uf987":"\u9a6a","\u2ee2":"\u9a6c","\u2fbb":"\u9aa8","\ud87e\ude08":"\u4bce","\u2fbc":"\u9ad8","\u2fbd":"\u9adf","\ud87e\ude09":"\ud866\udf30","\ufacd":"\u9b12","\ud87e\ude0a":"\u9b12","\u2fbe":"\u9b25","\u2fbf":"\u9b2f","\u2fc0":"\u9b32","\u2fc1":"\u9b3c","\u2ee4":"\u9b3c","\u2fc2":"\u9b5a","\uf939":"\u9b6f","\ud87e\ude0b":"\u9c40","\uf9f2":"\u9c57","\u2ee5":"\u9c7c","\u2fc3":"\u9ce5","\ud87e\ude0c":"\u9cfd","\ud87e\ude0d":"\u4cce","\ud87e\ude0f":"\u9d67","\ud87e\ude0e":"\u4ced","\ud87e\ude10":"\ud868\udcce","\ufa2d":"\u9db4","\ud87e\ude12":"\ud868\udd05","\ud87e\ude11":"\u4cf8","\uf93a":"\u9dfa","\ud87e\ude13":"\ud868\ude0e","\uf920":"\u9e1e","\u9e43":"\u9e42","\u2fc4":"\u9e75","\uf940":"\u9e7f","\u2fc5":"\u9e7f","\ud87e\ude14":"\ud868\ude91","\uf988":"\u9e97","\uf9f3":"\u9e9f","\u2fc6":"\u9ea5","\u2ee8":"\u9ea6","\ud87e\ude15":"\u9ebb","\u2fc7":"\u9ebb","\ud87e\udc8f":"\ud868\udf92","\u2fc8":"\u9ec3","\u2ee9":"\u9ec4","\u2fc9":"\u9ecd","\uf989":"\u9ece","\ud87e\ude16":"\u4d56","\u2fca":"\u9ed1","\u9ed2":"\u9ed1","\ufa3a":"\u58a8","\ud87e\ude17":"\u9ef9","\u2fcb":"\u9ef9","\u2fcc":"\u9efd","\ud87e\ude19":"\u9f05","\ud87e\ude18":"\u9efe","\u2fcd":"\u9f0e","\ud87e\ude1a":"\u9f0f","\u2fce":"\u9f13","\ud87e\ude1b":"\u9f16","\u2fcf":"\u9f20","\ud87e\ude1c":"\u9f3b","\u2fd0":"\u9f3b","\ufad8":"\u9f43","\u2fd1":"\u9f4a","\u2eec":"\u9f50","\u2fd2":"\u9f52","\ud87e\ude1d":"\ud869\ude00","\u2eee":"\u9f7f","\uf9c4":"\u9f8d","\u2fd3":"\u9f8d","\ufad9":"\u9f8e","\u2ef0":"\u9f99","\uf907":"\u9f9c","\uf908":"\u9f9c","\uface":"\u9f9c","\u2fd4":"\u9f9c","\u2ef3":"\u9f9f","\u2fd5":"\u9fa0"}')},cDf5:function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},cio7:function(e,t,n){var i,r;void 0===(r="function"==typeof(i=function(){var e=XMLHttpRequest;if(!e)throw new Error("missing XMLHttpRequest");function t(s,o){if("function"!=typeof o)throw new Error("Bad callback given: "+o);if(!s)throw new Error("No options given");var a=s.onResponse;if((s="string"==typeof s?{uri:s}:JSON.parse(JSON.stringify(s))).onResponse=a,s.verbose&&(t.log=function(){var e,t,n={},s=["trace","debug","info","warn","error"];for(t=0;t<s.length;t++)n[e=s[t]]=i,"undefined"!=typeof console&&console&&console[e]&&(n[e]=r(console,e));return n}()),s.url&&(s.uri=s.url,delete s.url),!s.uri&&""!==s.uri)throw new Error("options.uri is a required argument");if("string"!=typeof s.uri)throw new Error("options.uri must be a string");for(var c=["proxy","_redirectsFollowed","maxRedirects","followRedirect"],l=0;l<c.length;l++)if(s[c[l]])throw new Error("options."+c[l]+" is not supported");if(s.callback=o,s.method=s.method||"GET",s.headers=s.headers||{},s.body=s.body||null,s.timeout=s.timeout||t.DEFAULT_TIMEOUT,s.headers.host)throw new Error("Options.headers.host is not supported");s.json&&(s.headers.accept=s.headers.accept||"application/json","GET"!==s.method&&(s.headers["content-type"]="application/json"),"boolean"!=typeof s.json?s.body=JSON.stringify(s.json):"string"!=typeof s.body&&(s.body=JSON.stringify(s.body)));var u=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")};if(s.qs){var h="string"==typeof s.qs?s.qs:u(s.qs);s.uri=-1!==s.uri.indexOf("?")?s.uri+"&"+h:s.uri+"?"+h}if(s.form){if("string"==typeof s.form)throw"form name unsupported";if("POST"===s.method){var d=(s.encoding||"application/x-www-form-urlencoded").toLowerCase();switch(s.headers["content-type"]=d,d){case"application/x-www-form-urlencoded":s.body=u(s.form).replace(/%20/g,"+");break;case"multipart/form-data":var p=function(e){var t={};t.boundry="-------------------------------"+Math.floor(1e9*Math.random());var n=[];for(var i in e)e.hasOwnProperty(i)&&n.push("--"+t.boundry+'\nContent-Disposition: form-data; name="'+i+'"\n\n'+e[i]+"\n");return n.push("--"+t.boundry+"--"),t.body=n.join(""),t.length=t.body.length,t.type="multipart/form-data; boundary="+t.boundry,t}(s.form);s.body=p.body,s.headers["content-type"]=p.type;break;default:throw new Error("unsupported encoding:"+d)}}}return s.onResponse=s.onResponse||i,!0===s.onResponse&&(s.onResponse=o,s.callback=i),!s.headers.authorization&&s.auth&&(s.headers.authorization="Basic "+function(e){var t,n,i,r,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o=0,a=0,c="",l=[];if(!e)return e;do{t=(r=e.charCodeAt(o++)<<16|e.charCodeAt(o++)<<8|e.charCodeAt(o++))>>12&63,n=r>>6&63,i=63&r,l[a++]=s.charAt(r>>18&63)+s.charAt(t)+s.charAt(n)+s.charAt(i)}while(o<e.length);switch(c=l.join(""),e.length%3){case 1:c=c.slice(0,-2)+"==";break;case 2:c=c.slice(0,-1)+"="}return c}(s.auth.username+":"+s.auth.password)),function(i){var r=new e,s=!1,o=function(e){var t,n=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/;try{t=location.href}catch(s){(t=document.createElement("a")).href="",t=t.href}var i=n.exec(t.toLowerCase())||[],r=n.exec(e.toLowerCase());return!(!r||r[1]==i[1]&&r[2]==i[2]&&(r[3]||("http:"===r[1]?80:443))==(i[3]||("http:"===i[1]?80:443)))}(i.uri),a="withCredentials"in r;if(r.seq_id=n+=1,r.id=n+": "+i.method+" "+i.uri,r._id=r.id,o&&!a){var c=new Error("Browser does not support cross-origin request: "+i.uri);return c.cors="unsupported",i.callback(c,r)}r.timeoutTimer=setTimeout((function(){s=!0;var e=new Error("ETIMEDOUT");return e.code="ETIMEDOUT",e.duration=i.timeout,t.log.error("Timeout",{id:r._id,milliseconds:i.timeout}),i.callback(e,r)}),i.timeout);var l={response:!1,loading:!1,end:!1};return r.onreadystatechange=function(n){if(s)return t.log.debug("Ignoring timed out state change",{state:r.readyState,id:r.id});if(t.log.debug("State change",{state:r.readyState,id:r.id,timed_out:s}),r.readyState===e.OPENED)for(var o in t.log.debug("Request started",{id:r.id}),i.headers)r.setRequestHeader(o,i.headers[o]);else r.readyState===e.HEADERS_RECEIVED?u():r.readyState===e.LOADING?(u(),h()):r.readyState===e.DONE&&(u(),h(),function(){if(!l.end){if(l.end=!0,t.log.debug("Request done",{id:r.id}),r.body=r.responseText,i.json)try{r.body=JSON.parse(r.responseText)}catch(e){return i.callback(e,r)}i.callback(null,r,r.body)}}())},r.open(i.method,i.uri,!0),o&&(r.withCredentials=!!i.withCredentials),r.send(i.body),r;function u(){if(!l.response){if(l.response=!0,t.log.debug("Got response",{id:r.id,status:r.status}),clearTimeout(r.timeoutTimer),r.statusCode=r.status,o&&0==r.statusCode){var e=new Error("CORS request rejected: "+i.uri);return e.cors="rejected",l.loading=!0,l.end=!0,i.callback(e,r)}i.onResponse(null,r)}}function h(){l.loading||(l.loading=!0,t.log.debug("Response body loading",{id:r.id}))}}(s)}t.log={trace:i,debug:i,info:i,warn:i,error:i};var n=0;function i(){}function r(e,t){return function(n,i){return"object"==typeof i&&(n+=" "+JSON.stringify(i)),e[t].call(e,n)}}return t.withCredentials=!1,t.DEFAULT_TIMEOUT=18e4,t.defaults=function(e,n){var i=function(t){return function(n,i){for(var r in n="string"==typeof n?{uri:n}:JSON.parse(JSON.stringify(n)),e)void 0===n[r]&&(n[r]=e[r]);return t(n,i)}},r=i(t);return r.get=i(t.get),r.post=i(t.post),r.put=i(t.put),r.head=i(t.head),r},["get","put","post","head"].forEach((function(e){var n=e.toUpperCase();t[e.toLowerCase()]=function(e){"string"==typeof e?e={method:n,uri:e}:(e=JSON.parse(JSON.stringify(e))).method=n;var i=[e].concat(Array.prototype.slice.apply(arguments,[1]));return t.apply(this,i)}})),t.couch=function(e,n){return"string"==typeof e&&(e={uri:e}),e.json=!0,e.body&&(e.json=e.body),delete e.body,n=n||i,t(e,(function(e,t,i){if(e)return n(e,t,i);if((t.statusCode<200||t.statusCode>299)&&i.error){for(var r in e=new Error("CouchDB error: "+(i.error.reason||i.error.error)),i)e[r]=i[r];return n(e,t,i)}return n(e,t,i)}))},t})?i.apply(t,[]):i)||(e.exports=r)},"e/yG":function(e,t,n){"use strict";var i=n("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.IndexedDBStore=d;var r=n("OLzX"),s=i(n("t+e4")),o=n("+qE3"),a=n("+BeD"),c=n("/6GC"),l=n("rWBP"),u=n("7UXS"),h=n("PrRn");function d(e){if(r.MemoryStore.call(this,e),!e.indexedDB)throw new Error("Missing required option: indexedDB");if(e.workerScript){let t=e.workerApi;t||(t=global.Worker),this.backend=new c.RemoteIndexedDBStoreBackend(e.workerScript,e.dbName,t)}else this.backend=new a.LocalIndexedDBStoreBackend(e.indexedDB,e.dbName);this.startedUp=!1,this._syncTs=0,this._userModifiedMap={}}function p(e,t){return async function(...n){try{return await e.call(this,...n)}catch(i){h.logger.error("IndexedDBStore failure, degrading to MemoryStore",i),this.emit("degraded",i);try{h.logger.log("IndexedDBStore trying to delete degraded data"),await this.backend.clearDatabase(),h.logger.log("IndexedDBStore delete after degrading succeeeded")}catch(i){h.logger.warn("IndexedDBStore delete after degrading failed",i)}if(Object.setPrototypeOf(this,r.MemoryStore.prototype),t)return await r.MemoryStore.prototype[t].call(this,...n)}}}s.inherits(d,r.MemoryStore),s.extend(d.prototype,o.EventEmitter.prototype),d.exists=function(e,t){return a.LocalIndexedDBStoreBackend.exists(e,t)},d.prototype.startup=function(){return this.startedUp?(h.logger.log("IndexedDBStore.startup: already started"),Promise.resolve()):(h.logger.log("IndexedDBStore.startup: connecting to backend"),this.backend.connect().then(()=>(h.logger.log("IndexedDBStore.startup: loading presence events"),this.backend.getUserPresenceEvents())).then(e=>{h.logger.log("IndexedDBStore.startup: processing presence events"),e.forEach(([e,t])=>{const n=new l.User(e);t&&n.setPresenceEvent(new u.MatrixEvent(t)),this._userModifiedMap[n.userId]=n.getLastModifiedTime(),this.storeUser(n)})}))},d.prototype.getSavedSync=p((function(){return this.backend.getSavedSync()}),"getSavedSync"),d.prototype.isNewlyCreated=p((function(){return this.backend.isNewlyCreated()}),"isNewlyCreated"),d.prototype.getSavedSyncToken=p((function(){return this.backend.getNextBatchToken()}),"getSavedSyncToken"),d.prototype.deleteAllData=p((function(){return r.MemoryStore.prototype.deleteAllData.call(this),this.backend.clearDatabase().then(()=>{h.logger.log("Deleted indexeddb data.")},e=>{throw h.logger.error("Failed to delete indexeddb data: "+e),e})})),d.prototype.wantsSave=function(){return Date.now()-this._syncTs>3e5},d.prototype.save=function(e){return e||this.wantsSave()?this._reallySave():Promise.resolve()},d.prototype._reallySave=p((function(){this._syncTs=Date.now();const e=[];for(const t of this.getUsers())this._userModifiedMap[t.userId]!==t.getLastModifiedTime()&&t.events.presence&&(e.push([t.userId,t.events.presence.event]),this._userModifiedMap[t.userId]=t.getLastModifiedTime());return this.backend.syncToDatabase(e)})),d.prototype.setSyncData=p((function(e){return this.backend.setSyncData(e)}),"setSyncData"),d.prototype.getOutOfBandMembers=p((function(e){return this.backend.getOutOfBandMembers(e)}),"getOutOfBandMembers"),d.prototype.setOutOfBandMembers=p((function(e,t){return r.MemoryStore.prototype.setOutOfBandMembers.call(this,e,t),this.backend.setOutOfBandMembers(e,t)}),"setOutOfBandMembers"),d.prototype.clearOutOfBandMembers=p((function(e){return r.MemoryStore.prototype.clearOutOfBandMembers.call(this),this.backend.clearOutOfBandMembers(e)}),"clearOutOfBandMembers"),d.prototype.getClientOptions=p((function(){return this.backend.getClientOptions()}),"getClientOptions"),d.prototype.storeClientOptions=p((function(e){return r.MemoryStore.prototype.storeClientOptions.call(this,e),this.backend.storeClientOptions(e)}),"storeClientOptions")},fmda:function(e,t,n){"use strict";var i=n("284h"),r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.isCryptoAvailable=function(){return Boolean(global.Olm)},t.Crypto=D,t.fixBackupKey=P,t.verificationMethods=void 0;var s=r(n("0ZCT")),o=n("+qE3"),a=n("7/Kr"),c=n("PrRn"),l=i(n("t+e4")),u=n("mjbu"),h=i(n("VRzr")),d=n("pv4t"),p=n("Nfwx"),m=i(n("K5J2")),f=n("h3nd"),g=n("mhmA"),_=n("IzJ1"),y=n("+w/m"),v=n("qN7M"),b=n("ucoE"),w=n("F3w2"),S=n("qmDw"),E=n("9Nfa"),k=n("3afC"),C=n("PAYk"),x=n("tW1z"),T=n("BqaI"),I=n("Hzpt"),R=n("uMDy");const O=p.DeviceInfo.DeviceVerification,A={[b.ReciprocateQRCode.NAME]:b.ReciprocateQRCode,[w.SAS.NAME]:w.SAS,[b.SHOW_QR_CODE_METHOD]:T.IllegalMethod,[b.SCAN_QR_CODE_METHOD]:T.IllegalMethod};function D(e,t,n,i,r,s,o,c){if(this._onDeviceListUserCrossSigningUpdated=this._onDeviceListUserCrossSigningUpdated.bind(this),this._trustCrossSignedDevices=!0,this._reEmitter=new a.ReEmitter(this),this._baseApis=e,this._sessionStore=t,this._userId=n,this._deviceId=i,this._clientStore=r,this._cryptoStore=s,this._roomList=o,c){this._verificationMethods=new Map;for(const e of c)"string"==typeof e?A[e]&&this._verificationMethods.set(e,A[e]):e.NAME?this._verificationMethods.set(e.NAME,e):console.warn("Excluding unknown verification method "+e)}else this._verificationMethods=A;this.backupInfo=null,this.backupKey=null,this._checkedForBackup=!1,this._sendingBackups=!1,this._olmDevice=new u.OlmDevice(s),this._deviceList=new d.DeviceList(e,s,this._olmDevice),this._deviceList.on("userCrossSigningUpdated",this._onDeviceListUserCrossSigningUpdated),this._reEmitter.reEmit(this._deviceList,["crypto.devicesUpdated","crypto.willUpdateDevices"]),this._lastOneTimeKeyCheck=null,this._oneTimeKeyCheckInProgress=!1,this._roomEncryptors={},this._roomDecryptors={},this._supportedAlgorithms=l.keys(m.DECRYPTION_CLASSES),this._deviceKeys={},this._globalBlacklistUnverifiedDevices=!1,this._globalErrorOnUnknownDevices=!0,this._outgoingRoomKeyRequestManager=new y.OutgoingRoomKeyRequestManager(e,this._deviceId,this._cryptoStore),this._receivedRoomKeyRequests=[],this._receivedRoomKeyRequestCancellations=[],this._processingRoomKeyRequests=!1,this._lazyLoadMembers=!1,this._roomDeviceTrackingState={},this._lastNewSessionForced={},this._toDeviceVerificationRequests=new x.ToDeviceRequests,this._inRoomVerificationRequests=new C.InRoomRequests,this._sendKeyRequestsImmediately=!1;const h=this._baseApis._cryptoCallbacks||{},p=(0,f.createCryptoStoreCacheCallbacks)(s,this._olmDevice);this._crossSigningInfo=new f.CrossSigningInfo(n,h,p),this._secretStorage=new _.SecretStorage(e,h),!h.getCrossSigningKey&&h.getSecretStorageKey&&(h.getCrossSigningKey=async e=>f.CrossSigningInfo.getFromSecretStorage(e,this._secretStorage))}function P(e){if("string"!=typeof e||e.indexOf(",")<0)return null;const t=Uint8Array.from(e.split(","),e=>parseInt(e));return h.encodeBase64(t)}t.verificationMethods={RECIPROCATE_QR_CODE:b.ReciprocateQRCode.NAME,SAS:w.SAS.NAME},l.inherits(D,o.EventEmitter),D.prototype.init=async function(e){const{exportedOlmDevice:t,pickleKey:n}=e||{};c.logger.log("Crypto: initialising Olm..."),await global.Olm.init(),c.logger.log(t?"Crypto: initialising Olm device from exported device...":"Crypto: initialising Olm device..."),await this._olmDevice.init({fromExportedDevice:t,pickleKey:n}),c.logger.log("Crypto: loading device list..."),await this._deviceList.load(),this._deviceKeys["ed25519:"+this._deviceId]=this._olmDevice.deviceEd25519Key,this._deviceKeys["curve25519:"+this._deviceId]=this._olmDevice.deviceCurve25519Key,c.logger.log("Crypto: fetching own devices...");let i=this._deviceList.getRawStoredDevicesForUser(this._userId);i||(i={}),i[this._deviceId]||(c.logger.log("Crypto: adding this device to the store..."),i[this._deviceId]={keys:this._deviceKeys,algorithms:this._supportedAlgorithms,verified:O.VERIFIED,known:!0},this._deviceList.storeDevicesForUser(this._userId,i),this._deviceList.saveIfDirty()),await this._cryptoStore.doTxn("readonly",[v.IndexedDBCryptoStore.STORE_ACCOUNT],e=>{this._cryptoStore.getCrossSigningKeys(e,e=>{e&&0!==Object.keys(e).length&&(c.logger.log("Loaded cross-signing public keys from crypto store"),this._crossSigningInfo.setKeys(e))})}),this._deviceList.startTrackingDeviceList(this._userId),c.logger.log("Crypto: checking for key backup..."),this._checkAndStartKeyBackup()},D.prototype.getCryptoTrustCrossSignedDevices=function(){return this._trustCrossSignedDevices},D.prototype.setCryptoTrustCrossSignedDevices=function(e){this._trustCrossSignedDevices=e;for(const t of this._deviceList.getKnownUserIds()){const e=this._deviceList.getRawStoredDevicesForUser(t);for(const n of Object.keys(e)){const e=this.checkDeviceTrust(t,n);if(!e.isLocallyVerified()&&e.isCrossSigningVerified()){const e=this._deviceList.getStoredDevice(t,n);this.emit("deviceVerificationChanged",t,n,e)}}}},D.prototype.createRecoveryKeyFromPassphrase=async function(e){const t=new global.Olm.PkDecryption;try{const n={};if(e){const i=await(0,S.keyFromPassphrase)(e);n.passphrase={algorithm:"m.pbkdf2",iterations:i.iterations,salt:i.salt},n.pubkey=t.init_with_private_key(i.key)}else n.pubkey=t.generate_key();const i=t.get_private_key();return{keyInfo:n,encodedPrivateKey:(0,E.encodeRecoveryKey)(i),privateKey:i}}finally{t&&t.free()}},D.prototype.isCrossSigningReady=async function(){const e=this._crossSigningInfo.getId(),t=await this._crossSigningInfo.isStoredInSecretStorage(this._secretStorage),n=await this._secretStorage.hasKey();return e&&t&&n},D.prototype.bootstrapSecretStorage=async function({authUploadDeviceSigningKeys:e,createSecretStorageKey:t=(async()=>({})),keyBackupInfo:n,setupNewKeyBackup:i,setupNewSecretStorage:r,getKeyBackupPassphrase:s}={}){c.logger.log("Bootstrapping Secure Secret Storage");const o=new g.EncryptionSetupBuilder(this._baseApis.store.accountData,this._baseApis._cryptoCallbacks),a=new _.SecretStorage(o.accountDataClientAdapter,o.ssssCryptoCallbacks),l=new f.CrossSigningInfo(this._userId,o.crossSigningCallbacks,o.crossSigningCallbacks);let u=null;const d=async(e,t)=>{e=e||{},t&&(e.key=t);const n=await a.addKey(_.SECRET_STORAGE_ALGORITHM_V1_AES,e);return t&&o.ssssCryptoCallbacks.addPrivateKey(n,t),await a.setDefaultKeyId(n),n},p=async()=>{l.resetKeys(),await this._signObject(l.keys.master),await e(e=>e?(o.addCrossSigningKeys(e,l.keys),Promise.resolve()):this._baseApis.uploadDeviceSigningKeys(null,{}));const t=this._deviceList.getStoredDevice(this._userId,this._deviceId),i=await l.signDevice(this._userId,t);o.addKeySignature(this._userId,this._deviceId,i),n&&(await l.signObject(n.auth_data,"master"),o.addSessionBackup(n))},m=async(e,t)=>{if(!t.mac){const n=await this._baseApis._cryptoCallbacks.getSecretStorageKey({keys:{[e]:t}},"");if(n){const i=n[1];o.ssssCryptoCallbacks.addPrivateKey(e,i);const{iv:r,mac:s}=await _.SecretStorage._calculateKeyCheck(i);t.iv=r,t.mac=s,await o.setAccountData("m.secret_storage.key."+e,t)}}},y=await this.getSecretStorageKey(),[v,b]=y||[null,null],w=await this._crossSigningInfo.isStoredInSecretStorage(this._secretStorage),S=!r&&w;if(S||n)if(!S&&n){c.logger.log("Secret storage default key not found, using key backup key");const e=await this.getSessionBackupPrivateKey()||await s();await p();const t={};n.auth_data.private_key_salt&&n.auth_data.private_key_iterations&&(t.passphrase={algorithm:"m.pbkdf2",iterations:n.auth_data.private_key_iterations,salt:n.auth_data.private_key_salt,bits:256}),u=await d(t,e),await a.store("m.megolm_backup.v1",h.encodeBase64(e),[u]),c.logger.log("Adding cross signing signature to key backup"),await l.signObject(n.auth_data,"master"),o.addSessionBackup(n)}else this._crossSigningInfo.getId()?(c.logger.log("Cross signing keys are present in secret storage"),b&&b.algorithm===_.SECRET_STORAGE_ALGORITHM_V1_AES&&await m(v,b)):(c.logger.log("Cross-signing private keys found in secret storage"),await this.checkOwnCrossSigningTrust(),b&&b.algorithm===_.SECRET_STORAGE_ALGORITHM_V1_AES&&await m(v,b));else if(c.logger.log("Cross-signing private keys not found in secret storage, creating new keys"),await p(),r||!b||b.algorithm!==_.SECRET_STORAGE_ALGORITHM_V1_AES){const{keyInfo:e,privateKey:n}=await t();u=await d(e,n)}const k=o.crossSigningCallbacks.privateKeys;if(k.size&&(c.logger.log("Storing cross-signing private keys in secret storage"),this._baseApis._cryptoCallbacks.saveCrossSigningKeys||await f.CrossSigningInfo.storeInSecretStorage(k,a)),i&&!n){const e=await this._baseApis.prepareKeyBackupVersion(null,{secureSecretStorage:!1}),t=(0,E.decodeRecoveryKey)(e.recovery_key);await a.store("m.megolm_backup.v1",h.encodeBase64(t));const n={algorithm:e.algorithm,auth_data:e.auth_data};await l.signObject(n.auth_data,"master"),await this._signObject(n.auth_data),o.addSessionBackup(n)}const C=await a.get("m.megolm_backup.v1");if(C){c.logger.info("Got session backup key from secret storage: caching");const e=P(C);e&&await a.store("m.megolm_backup.v1",e,[u||v]);const t=new Uint8Array(h.decodeBase64(e||C));await o.addSessionBackupPrivateKeyToCache(t)}const x=o.buildOperation();await x.apply(this),await o.persist(this),c.logger.log("Secure Secret Storage ready")},D.prototype.addSecretStorageKey=function(e,t,n){return this._secretStorage.addKey(e,t,n)},D.prototype.hasSecretStorageKey=function(e){return this._secretStorage.hasKey(e)},D.prototype.getSecretStorageKey=function(e){return this._secretStorage.getKey(e)},D.prototype.storeSecret=function(e,t,n){return this._secretStorage.store(e,t,n)},D.prototype.getSecret=function(e){return this._secretStorage.get(e)},D.prototype.isSecretStored=function(e,t){return this._secretStorage.isStored(e,t)},D.prototype.requestSecret=function(e,t){return t||(t=Object.keys(this._deviceList.getRawStoredDevicesForUser(this._userId))),this._secretStorage.request(e,t)},D.prototype.getDefaultSecretStorageKeyId=function(){return this._secretStorage.getDefaultKeyId()},D.prototype.setDefaultSecretStorageKeyId=function(e){return this._secretStorage.setDefaultKeyId(e)},D.prototype.checkSecretStorageKey=function(e,t){return this._secretStorage.checkKey(e,t)},D.prototype.checkSecretStoragePrivateKey=function(e,t){let n=null;try{return n=new global.Olm.PkDecryption,n.init_with_private_key(e)===t}finally{n&&n.free()}},D.prototype.getSessionBackupPrivateKey=async function(){let e=await new Promise(e=>{this._cryptoStore.doTxn("readonly",[v.IndexedDBCryptoStore.STORE_ACCOUNT],t=>{this._cryptoStore.getSecretStorePrivateKey(t,e,"m.megolm_backup.v1")})});if(e&&"string"==typeof e&&(e=new Uint8Array(h.decodeBase64(P(e)||e)),await this.storeSessionBackupPrivateKey(e)),e&&e.ciphertext){const t=Buffer.from(this._olmDevice._pickleKey),n=await(0,R.decryptAES)(e,t,"m.megolm_backup.v1");e=h.decodeBase64(n)}return e},D.prototype.storeSessionBackupPrivateKey=async function(e){if(!(e instanceof Uint8Array))throw new Error("storeSessionBackupPrivateKey expects Uint8Array, got "+e);const t=Buffer.from(this._olmDevice._pickleKey);return e=await(0,R.encryptAES)(h.encodeBase64(e),t,"m.megolm_backup.v1"),this._cryptoStore.doTxn("readwrite",[v.IndexedDBCryptoStore.STORE_ACCOUNT],t=>{this._cryptoStore.storeSecretStorePrivateKey(t,"m.megolm_backup.v1",e)})},D.prototype.checkCrossSigningPrivateKey=function(e,t){let n=null;try{return n=new global.Olm.PkSigning,n.init_with_seed(e)===t}finally{n&&n.free()}},D.prototype._afterCrossSigningLocalKeyChange=async function(){c.logger.info("Starting cross-signing key change post-processing");const e=this._deviceList.getStoredDevice(this._userId,this._deviceId),t=await this._crossSigningInfo.signDevice(this._userId,e);c.logger.info("Starting background key sig upload for "+this._deviceId);const n=({shouldEmit:e})=>this._baseApis.uploadKeySignatures({[this._userId]:{[this._deviceId]:t}}).then(t=>{const{failures:i}=t||{};if(Object.keys(i||[]).length>0)throw e&&this._baseApis.emit("crypto.keySignatureUploadFailure",i,"_afterCrossSigningLocalKeyChange",n),new I.KeySignatureUploadError("Key upload failed",{failures:i});c.logger.info("Finished background key sig upload for "+this._deviceId)}).catch(e=>{c.logger.error("Error during background key sig upload for "+this._deviceId,e)});n({shouldEmit:!0});const i=this._baseApis._cryptoCallbacks.shouldUpgradeDeviceVerifications;if(i){c.logger.info("Starting device verification upgrade");const e={};for(const[t,n]of Object.entries(this._deviceList._crossSigningInfo)){const i=await this._checkForDeviceVerificationUpgrade(t,f.CrossSigningInfo.fromStorage(n,t));i&&(e[t]=i)}if(Object.keys(e).length>0){c.logger.info(`Found ${Object.keys(e).length} verif users to upgrade`);try{const t=await i({users:e});if(t)for(const n of t)n in e&&await this._baseApis.setDeviceVerified(n,e[n].crossSigningInfo.getId())}catch(r){c.logger.log("shouldUpgradeDeviceVerifications threw an error: not upgrading",r)}}c.logger.info("Finished device verification upgrade")}c.logger.info("Finished cross-signing key change post-processing")},D.prototype._checkForDeviceVerificationUpgrade=async function(e,t){const n=this._crossSigningInfo.checkUserTrust(t);if(t.firstUse&&!n.verified){const n=this._deviceList.getRawStoredDevicesForUser(e),i=await this._checkForValidDeviceSignature(e,t.keys.master,n);if(i.length)return{devices:i.map(e=>p.DeviceInfo.fromStorage(n[e],e)),crossSigningInfo:t}}},D.prototype._checkForValidDeviceSignature=async function(e,t,n){const i=[];if(n&&t.signatures&&t.signatures[e])for(const s of Object.keys(t.signatures[e])){const[,o]=s.split(":",2);if(o in n&&n[o].verified===O.VERIFIED)try{await h.verifySignature(this._olmDevice,t,e,o,n[o].keys[s]),i.push(o)}catch(r){}}return i},D.prototype.getCrossSigningId=function(e){return this._crossSigningInfo.getId(e)},D.prototype.getStoredCrossSigningForUser=function(e){return this._deviceList.getStoredCrossSigningForUser(e)},D.prototype.checkUserTrust=function(e){const t=this._deviceList.getStoredCrossSigningForUser(e);return t?this._crossSigningInfo.checkUserTrust(t):new f.UserTrustLevel(!1,!1,!1)},D.prototype.checkDeviceTrust=function(e,t){const n=this._deviceList.getStoredDevice(e,t);return this._checkDeviceInfoTrust(e,n)},D.prototype._checkDeviceInfoTrust=function(e,t){const n=!(!t||!t.isVerified()),i=this._deviceList.getStoredCrossSigningForUser(e);return t&&i?this._crossSigningInfo.checkDeviceTrust(i,t,n,this._trustCrossSignedDevices||e===this._userId):new f.DeviceTrustLevel(!1,!1,n,!1)},D.prototype._onDeviceListUserCrossSigningUpdated=async function(e){if(e===this._userId){const t=this._deviceList.getStoredCrossSigningForUser(e),n=t?t.getId():null,i=this._crossSigningInfo.getId(),r=i!==n;i&&n&&!r?await this.checkOwnCrossSigningTrust():(this._storeTrustedSelfKeys(null),this.emit("crossSigning.keysChanged",{}),this.emit("userTrustStatusChanged",this._userId,this.checkUserTrust(e)))}else{await this._checkDeviceVerifications(e);const t=this._deviceList.getStoredCrossSigningForUser(e);t&&(t.updateCrossSigningVerifiedBefore(this.checkUserTrust(e).isCrossSigningVerified()),this._deviceList.setRawStoredCrossSigningForUser(e,t.toStorage())),this.emit("userTrustStatusChanged",e,this.checkUserTrust(e))}},D.prototype.checkOwnCrossSigningTrust=async function(){const e=this._userId;await this.downloadKeys([this._userId]);const t=this._deviceList.getStoredCrossSigningForUser(e);if(!t)return void c.logger.error("Got cross-signing update event for user "+e+" but no new cross-signing information found!");const n=t.getId(),i=this._crossSigningInfo.getId()!==n;if(i){c.logger.info("Got new master public key",n);let e=null;try{if(e=(await this._crossSigningInfo.getCrossSigningKey("master",n))[1],!e)throw new Error("Cross-signing master private key not available")}finally{e&&e.free()}c.logger.info("Got matching private key from callback for new public master key")}const r=this._crossSigningInfo.getId("self_signing"),s=this._crossSigningInfo.getId("user_signing");this._storeTrustedSelfKeys(t.keys);const o={};if(r!==t.getId("self_signing")){c.logger.info("Got new self-signing key",t.getId("self_signing"));const e=this._deviceList.getStoredDevice(this._userId,this._deviceId),n=await this._crossSigningInfo.signDevice(this._userId,e);o[this._deviceId]=n}if(s!==t.getId("user_signing")&&c.logger.info("Got new user-signing key",t.getId("user_signing")),i){const e=this._crossSigningInfo.keys.master;await this._signObject(e);const t=e.signatures[this._userId]["ed25519:"+this._deviceId];o[this._crossSigningInfo.getId()]=Object.assign({},e,{signatures:{[this._userId]:{["ed25519:"+this._deviceId]:t}}})}const a=Object.keys(o);if(a.length){const e=({shouldEmit:t})=>(c.logger.info("Starting background key sig upload for "+a),this._baseApis.uploadKeySignatures({[this._userId]:o}).then(n=>{const{failures:i}=n||{};if(c.logger.info("Finished background key sig upload for "+a),Object.keys(i||[]).length>0)throw t&&this._baseApis.emit("crypto.keySignatureUploadFailure",i,"checkOwnCrossSigningTrust",e),new I.KeySignatureUploadError("Key upload failed",{failures:i})}).catch(e=>{c.logger.error("Error during background key sig upload for "+a,e)}));e({shouldEmit:!0})}this.emit("userTrustStatusChanged",e,this.checkUserTrust(e)),i&&(this._baseApis.emit("crossSigning.keysChanged",{}),await this._afterCrossSigningLocalKeyChange()),await this.checkKeyBackup()},D.prototype._storeTrustedSelfKeys=async function(e){e?this._crossSigningInfo.setKeys(e):this._crossSigningInfo.clearKeys(),await this._cryptoStore.doTxn("readwrite",[v.IndexedDBCryptoStore.STORE_ACCOUNT],e=>{this._cryptoStore.storeCrossSigningKeys(e,this._crossSigningInfo.keys)})},D.prototype._checkDeviceVerifications=async function(e){const t=this._baseApis._cryptoCallbacks.shouldUpgradeDeviceVerifications;if(t){if(c.logger.info("Starting device verification upgrade for "+e),this._crossSigningInfo.keys.user_signing){const n=this._deviceList.getStoredCrossSigningForUser(e);if(n){const i=await this._checkForDeviceVerificationUpgrade(e,n);i&&(await t({users:{[e]:i}})).includes(e)&&await this._baseApis.setDeviceVerified(e,n.getId())}}c.logger.info("Finished device verification upgrade for "+e)}},D.prototype._checkAndStartKeyBackup=async function(){if(c.logger.log("Checking key backup status..."),this._baseApis.isGuest())return c.logger.log("Skipping key backup check since user is guest"),this._checkedForBackup=!0,null;let e;try{e=await this._baseApis.getKeyBackupVersion()}catch(n){return c.logger.log("Error checking for active key backup",n),404===n.httpStatus&&(this._checkedForBackup=!0),null}this._checkedForBackup=!0;const t=await this.isKeyBackupTrusted(e);return t.usable&&!this.backupInfo?(c.logger.log("Found usable key backup v"+e.version+": enabling key backups"),this._baseApis.enableKeyBackup(e)):!t.usable&&this.backupInfo?(c.logger.log("No usable key backup: disabling key backup"),this._baseApis.disableKeyBackup()):t.usable||this.backupInfo?t.usable&&this.backupInfo&&(e.version!==this.backupInfo.version?(c.logger.log("On backup version "+this.backupInfo.version+" but found version "+e.version+": switching."),this._baseApis.disableKeyBackup(),this._baseApis.enableKeyBackup(e)):c.logger.log("Backup version "+e.version+" still current")):c.logger.log("No usable key backup: not enabling key backup"),{backupInfo:e,trustInfo:t}},D.prototype.setTrustedBackupPubKey=async function(e){this._sessionStore.setLocalTrustedBackupPubKey(e),await this.checkKeyBackup()},D.prototype.checkKeyBackup=async function(){return this._checkedForBackup=!1,this._checkAndStartKeyBackup()},D.prototype.isKeyBackupTrusted=async function(e){const t={usable:!1,trusted_locally:!1,sigs:[]};if(!(e&&e.algorithm&&e.auth_data&&e.auth_data.public_key&&e.auth_data.signatures))return c.logger.info("Key backup is absent or missing required data"),t;const n=this._sessionStore.getLocalTrustedBackupPubKey();e.auth_data.public_key===n&&(c.logger.info("Backup public key "+n+" is trusted locally"),t.trusted_locally=!0);const i=e.auth_data.signatures[this._userId]||[];for(const s of Object.keys(i)){const n=s.split(":");if("ed25519"!==n[0]){c.logger.log("Ignoring unknown signature type: "+n[0]);continue}const i={deviceId:n[1]},o=this._crossSigningInfo.getId();if(o===i.deviceId){i.crossSigningId=!0;try{await h.verifySignature(this._olmDevice,e.auth_data,this._userId,i.deviceId,o),i.valid=!0}catch(r){c.logger.warning("Bad signature from cross signing key "+o,r),i.valid=!1}t.sigs.push(i);continue}const a=this._deviceList.getStoredDevice(this._userId,i.deviceId);if(a){i.device=a,i.deviceTrust=await this.checkDeviceTrust(this._userId,i.deviceId);try{await h.verifySignature(this._olmDevice,e.auth_data,this._userId,a.deviceId,a.getFingerprint()),i.valid=!0}catch(r){c.logger.info("Bad signature from key ID "+s+" userID "+this._userId+" device ID "+a.deviceId+" fingerprint: "+a.getFingerprint(),e.auth_data,r),i.valid=!1}}else i.valid=null,c.logger.info("Ignoring signature from unknown key "+s);t.sigs.push(i)}return t.usable=t.sigs.some(e=>e.valid&&(e.device&&e.deviceTrust.isVerified()||e.crossSigningId)),t.usable|=t.trusted_locally,t},D.prototype.enableLazyLoading=function(){this._lazyLoadMembers=!0},D.prototype.registerEventHandlers=function(e){const t=this;e.on("RoomMember.membership",(function(e,n,i){try{t._onRoomMembership(e,n,i)}catch(r){c.logger.error("Error handling membership change:",r)}})),e.on("toDeviceEvent",t._onToDeviceEvent.bind(t));const n=t._onTimelineEvent.bind(t);e.on("Room.timeline",n),e.on("Event.decrypted",n)},D.prototype.start=function(){this._outgoingRoomKeyRequestManager.start()},D.prototype.stop=function(){this._outgoingRoomKeyRequestManager.stop(),this._deviceList.stop()},D.getOlmVersion=function(){return u.OlmDevice.getOlmVersion()},D.prototype.getDeviceEd25519Key=function(){return this._olmDevice.deviceEd25519Key},D.prototype.getDeviceCurve25519Key=function(){return this._olmDevice.deviceCurve25519Key},D.prototype.setGlobalBlacklistUnverifiedDevices=function(e){this._globalBlacklistUnverifiedDevices=e},D.prototype.getGlobalBlacklistUnverifiedDevices=function(){return this._globalBlacklistUnverifiedDevices},D.prototype.setGlobalErrorOnUnknownDevices=function(e){this._globalErrorOnUnknownDevices=e},D.prototype.getGlobalErrorOnUnknownDevices=function(){return this._globalErrorOnUnknownDevices},D.prototype.uploadDeviceKeys=function(){const e=this,t={algorithms:e._supportedAlgorithms,device_id:e._deviceId,keys:e._deviceKeys,user_id:e._userId};return e._signObject(t).then(()=>e._baseApis.uploadKeysRequest({device_keys:t}))},D.prototype.updateOneTimeKeyCount=function(e){if(!isFinite(e))throw new TypeError("Parameter for updateOneTimeKeyCount has to be a number");this._oneTimeKeyCount=e},D.prototype.downloadKeys=function(e,t){return this._deviceList.downloadKeys(e,t)},D.prototype.getStoredDevicesForUser=function(e){return this._deviceList.getStoredDevicesForUser(e)},D.prototype.getStoredDevice=function(e,t){return this._deviceList.getStoredDevice(e,t)},D.prototype.saveDeviceList=function(e){return this._deviceList.saveIfDirty(e)},D.prototype.setDeviceVerification=async function(e,t,n,i,r){void 0===n&&(n=null),void 0===i&&(i=null),void 0===r&&(r=null);const s=this._deviceList.getStoredCrossSigningForUser(e);if(s&&s.getId()===t){if(null!==i||null!==r)throw new Error("Cannot set blocked or known for a cross-signing key");if(!n)throw new Error("Cannot set a cross-signing key as unverified");if(this._crossSigningInfo.getId()||e!==this._crossSigningInfo.userId||(this._storeTrustedSelfKeys(s.keys),this.emit("userTrustStatusChanged",this._userId,this.checkUserTrust(e))),e!==this._userId){c.logger.info("Master key "+s.getId()+" for "+e+" marked verified. Signing...");const n=await this._crossSigningInfo.signUser(s);if(n){const i=async({shouldEmit:r})=>{c.logger.info("Uploading signature for "+e+"...");const s=await this._baseApis.uploadKeySignatures({[e]:{[t]:n}}),{failures:o}=s||{};if(Object.keys(o||[]).length>0)throw r&&this._baseApis.emit("crypto.keySignatureUploadFailure",o,"setDeviceVerification",i),new I.KeySignatureUploadError("Key upload failed",{failures:o})};await i({shouldEmit:!0})}return n}return s}const o=this._deviceList.getRawStoredDevicesForUser(e);if(!o||!o[t])throw new Error("Unknown device "+e+":"+t);const a=o[t];let l=a.verified;n?l=O.VERIFIED:null!==n&&l==O.VERIFIED&&(l=O.UNVERIFIED),i?l=O.BLOCKED:null!==i&&l==O.BLOCKED&&(l=O.UNVERIFIED);let u=a.known;if(null!==r&&(u=r),a.verified===l&&a.known===u||(a.verified=l,a.known=u,this._deviceList.storeDevicesForUser(e,o),this._deviceList.saveIfDirty()),n&&e===this._userId){c.logger.info("Own device "+t+" marked verified: signing");const n=await this._crossSigningInfo.signDevice(e,p.DeviceInfo.fromStorage(a,t));if(n){const i=async({shouldEmit:r})=>{c.logger.info("Uploading signature for "+t);const s=await this._baseApis.uploadKeySignatures({[e]:{[t]:n}}),{failures:o}=s||{};if(Object.keys(o||[]).length>0)throw r&&this._baseApis.emit("crypto.keySignatureUploadFailure",o,"setDeviceVerification",i),new I.KeySignatureUploadError("Key upload failed",{failures:o})};await i({shouldEmit:!0})}}const h=p.DeviceInfo.fromStorage(a,t);return this.emit("deviceVerificationChanged",e,t,h),h},D.prototype.findVerificationRequestDMInProgress=function(e){return this._inRoomVerificationRequests.findRequestInProgress(e)},D.prototype.getVerificationRequestsToDeviceInProgress=function(e){return this._toDeviceVerificationRequests.getRequestsInProgress(e)},D.prototype.requestVerificationDM=function(e,t){const n=this._inRoomVerificationRequests.findRequestInProgress(t);if(n)return Promise.resolve(n);const i=new C.InRoomChannel(this._baseApis,t,e);return this._requestVerificationWithChannel(e,i,this._inRoomVerificationRequests)},D.prototype.requestVerification=function(e,t){t||(t=Object.keys(this._deviceList.getRawStoredDevicesForUser(e)));const n=this._toDeviceVerificationRequests.findRequestInProgress(e,t);if(n)return Promise.resolve(n);const i=new x.ToDeviceChannel(this._baseApis,e,t,x.ToDeviceChannel.makeTransactionId());return this._requestVerificationWithChannel(e,i,this._toDeviceVerificationRequests)},D.prototype._requestVerificationWithChannel=async function(e,t,n){let i=new k.VerificationRequest(t,this._verificationMethods,this._baseApis);t.transactionId&&n.setRequestByChannel(t,i),await i.sendRequest();const r=n.getRequestByChannel(t);return r?i=r:(c.logger.log(`Crypto: adding new request to requestsByTxnId with id ${t.transactionId} ${t.roomId}`),n.setRequestByChannel(t,i)),i},D.prototype.beginKeyVerification=function(e,t,n,i=null){let r;if(i){if(r=this._toDeviceVerificationRequests.getRequestBySenderAndTxnId(t,i),!r)throw new Error(`No request found for user ${t} with transactionId `+i)}else{i=x.ToDeviceChannel.makeTransactionId();const e=new x.ToDeviceChannel(this._baseApis,t,[n],i,n);r=new k.VerificationRequest(e,this._verificationMethods,this._baseApis),this._toDeviceVerificationRequests.setRequestBySenderAndTxnId(t,i,r)}return r.beginKeyVerification(e,{userId:t,deviceId:n})},D.prototype.legacyDeviceVerification=async function(e,t,n){const i=x.ToDeviceChannel.makeTransactionId(),r=new x.ToDeviceChannel(this._baseApis,e,[t],i,t),s=new k.VerificationRequest(r,this._verificationMethods,this._baseApis);this._toDeviceVerificationRequests.setRequestBySenderAndTxnId(e,i,s);const o=s.beginKeyVerification(n,{userId:e,deviceId:t});return await Promise.race([o.verify(),s.waitFor(e=>e.started)]),s},D.prototype.getOlmSessionsForUser=async function(e){const t=this.getStoredDevicesForUser(e)||[],n={};for(let i=0;i<t.length;++i){const e=t[i],r=e.getIdentityKey(),s=await this._olmDevice.getSessionInfoForDevice(r);n[e.deviceId]={deviceIdKey:r,sessions:s}}return n},D.prototype.getEventSenderDeviceInfo=function(e){const t=e.getSenderKey(),n=e.getWireContent().algorithm;if(!t||!n)return null;if(e.getForwardingCurve25519KeyChain().length>0)return null;if(e.isKeySourceUntrusted())return null;const i=this._deviceList.getDeviceByIdentityKey(n,t);if(null===i)return null;const r=e.getClaimedEd25519Key();return r?r!==i.getFingerprint()?(c.logger.warn("Event "+e.getId()+" claims ed25519 key "+r+"but sender device has key "+i.getFingerprint()),null):i:(c.logger.warn("Event "+e.getId()+" claims no ed25519 key: cannot verify sending device"),null)},D.prototype.getEventEncryptionInfo=function(e){const t={};if(t.senderKey=e.getSenderKey(),t.algorithm=e.getWireContent().algorithm,!t.senderKey||!t.algorithm)return t.encrypted=!1,t;t.encrypted=!0;const n=e.getForwardingCurve25519KeyChain();t.authenticated=!(n.length>0||e.isKeySourceUntrusted()),t.sender=this._deviceList.getDeviceByIdentityKey(t.algorithm,t.senderKey);const i=e.getClaimedEd25519Key();return i||(c.logger.warn("Event "+e.getId()+" claims no ed25519 key: cannot verify sending device"),t.mismatchedSender=!0),t.sender&&i!==t.sender.getFingerprint()&&(c.logger.warn("Event "+e.getId()+" claims ed25519 key "+i+"but sender device has key "+t.sender.getFingerprint()),t.mismatchedSender=!0),t},D.prototype.forceDiscardSession=function(e){const t=this._roomEncryptors[e];if(void 0===t)throw new Error("Room not encrypted");if(void 0===t.forceDiscardSession)throw new Error("Room encryption algorithm doesn't support session discarding");t.forceDiscardSession()},D.prototype.setRoomEncryption=async function(e,t,n){if(!t.algorithm)return void c.logger.log("Ignoring setRoomEncryption with no algorithm");const i=this._roomList.getRoomEncryption(e);if(i&&JSON.stringify(i)!=JSON.stringify(t))return void c.logger.error("Ignoring m.room.encryption event which requests a change of config in "+e);if(this._roomEncryptors[e])return;let r=null;i||(r=this._roomList.setRoomEncryption(e,t));const s=m.ENCRYPTION_CLASSES[t.algorithm];if(!s)throw new Error("Unable to encrypt with "+t.algorithm);const o=new s({userId:this._userId,deviceId:this._deviceId,crypto:this,olmDevice:this._olmDevice,baseApis:this._baseApis,roomId:e,config:t});this._roomEncryptors[e]=o,r&&await r,this._lazyLoadMembers?c.logger.log("Enabling encryption in "+e):(c.logger.log("Enabling encryption in "+e+"; starting to track device lists for all users therein"),await this.trackRoomDevices(e),this.inhibitDeviceQuery||this._deviceList.refreshOutdatedDeviceLists())},D.prototype.trackRoomDevices=function(e){let t=this._roomDeviceTrackingState[e];return t||(t=(async()=>{if(!this._roomEncryptors[e])return;const t=this._clientStore.getRoom(e);if(!t)throw new Error("Unable to start tracking devices in unknown room "+e);c.logger.log(`Starting to track devices for room ${e} ...`),(await t.getEncryptionTargetMembers()).forEach(e=>{this._deviceList.startTrackingDeviceList(e.userId)})})(),this._roomDeviceTrackingState[e]=t),t},D.prototype.ensureOlmSessionsForUsers=function(e){const t={};for(let n=0;n<e.length;++n){const i=e[n];t[i]=[];const r=this.getStoredDevicesForUser(i)||[];for(let e=0;e<r.length;++e){const n=r[e];n.getIdentityKey()!=this._olmDevice.deviceCurve25519Key&&n.verified!=O.BLOCKED&&t[i].push(n)}}return h.ensureOlmSessionsForDevices(this._olmDevice,this._baseApis,t)},D.prototype.exportRoomKeys=async function(){const e=[];return await this._cryptoStore.doTxn("readonly",[v.IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS],t=>{this._cryptoStore.getAllEndToEndInboundGroupSessions(t,t=>{if(null===t)return;const n=this._olmDevice.exportInboundGroupSession(t.senderKey,t.sessionId,t.sessionData);delete n.first_known_index,n.algorithm=h.MEGOLM_ALGORITHM,e.push(n)})}),e},D.prototype.importRoomKeys=function(e,t={}){let n=0,i=0;const r=e.length;function s(){t.progressCallback({stage:"load_keys",successes:n,failures:i,total:r})}return Promise.all(e.map(e=>e.room_id&&e.algorithm?this._getRoomDecryptor(e.room_id,e.algorithm).importRoomKey(e,t).finally(e=>{n++,t.progressCallback&&s()}):(c.logger.warn("ignoring room key entry with missing fields",e),i++,t.progressCallback&&s(),null)))},D.prototype.scheduleKeyBackupSend=async function(e=1e4){if(!this._sendingBackups){this._sendingBackups=!0;try{const n=Math.random()*e;await(0,l.sleep)(n);let i=0;for(;;){if(!this.backupKey)return;try{if(0===await this._backupPendingKeys(200))return;i=0}catch(t){if(i++,c.logger.log("Key backup request failed",t),t.data&&("M_NOT_FOUND"==t.data.errcode||"M_WRONG_ROOM_KEYS_VERSION"==t.data.errcode))throw await this.checkKeyBackup(),this.emit("crypto.keyBackupFailed",t.data.errcode),t}i&&await(0,l.sleep)(1e3*Math.pow(2,Math.min(i-1,4)))}}finally{this._sendingBackups=!1}}},D.prototype._backupPendingKeys=async function(e){const t=await this._cryptoStore.getSessionsNeedingBackup(e);if(!t.length)return 0;let n=await this._cryptoStore.countSessionsNeedingBackup();this.emit("crypto.keyBackupSessionsRemaining",n);const i={};for(const r of t){const e=r.sessionData.room_id;void 0===i[e]&&(i[e]={sessions:{}});const t=await this._olmDevice.exportInboundGroupSession(r.senderKey,r.sessionId,r.sessionData);t.algorithm=h.MEGOLM_ALGORITHM,delete t.session_id,delete t.room_id;const n=t.first_known_index;delete t.first_known_index;const s=this.backupKey.encrypt(JSON.stringify(t)),o=(t.forwarding_curve25519_key_chain||[]).length,a=this._deviceList.getUserByIdentityKey(h.MEGOLM_ALGORITHM,r.senderKey),c=this._deviceList.getDeviceByIdentityKey(h.MEGOLM_ALGORITHM,r.senderKey),l=this._checkDeviceInfoTrust(a,c).isVerified();i[e].sessions[r.sessionId]={first_message_index:n,forwarded_count:o,is_verified:l,session_data:s}}return await this._baseApis.sendKeyBackup(void 0,void 0,this.backupInfo.version,{rooms:i}),await this._cryptoStore.unmarkSessionsNeedingBackup(t),n=await this._cryptoStore.countSessionsNeedingBackup(),this.emit("crypto.keyBackupSessionsRemaining",n),t.length},D.prototype.backupGroupSession=async function(e,t,n,i,r,s,o){if(!this.backupInfo)throw new Error("Key backups are not enabled");await this._cryptoStore.markSessionsNeedingBackup([{senderKey:t,sessionId:i}]),this.scheduleKeyBackupSend()},D.prototype.scheduleAllGroupSessionsForBackup=async function(){await this.flagAllGroupSessionsForBackup(),this.scheduleKeyBackupSend(0)},D.prototype.flagAllGroupSessionsForBackup=async function(){await this._cryptoStore.doTxn("readwrite",[v.IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS,v.IndexedDBCryptoStore.STORE_BACKUP],e=>{this._cryptoStore.getAllEndToEndInboundGroupSessions(e,t=>{null!==t&&this._cryptoStore.markSessionsNeedingBackup([t],e)})});const e=await this._cryptoStore.countSessionsNeedingBackup();return this.emit("crypto.keyBackupSessionsRemaining",e),e},D.prototype.prepareToEncrypt=function(e){const t=this._roomEncryptors[e.roomId];t&&t.prepareToEncrypt(e)},D.prototype.encryptEvent=async function(e,t){if(!t)throw new Error("Cannot send encrypted messages in unknown rooms");const n=e.getRoomId(),i=this._roomEncryptors[n];if(!i)throw new Error("Room was previously configured to use encryption, but is no longer. Perhaps the homeserver is hiding the configuration event.");this._roomDeviceTrackingState[n]||this.trackRoomDevices(n),await this._roomDeviceTrackingState[n];let r=e.getContent();const s=r["m.relates_to"];s&&(r=Object.assign({},r),delete r["m.relates_to"]);const o=await i.encryptMessage(t,e.getType(),r);s&&(o["m.relates_to"]=s),e.makeEncrypted("m.room.encrypted",o,this._olmDevice.deviceCurve25519Key,this._olmDevice.deviceEd25519Key)},D.prototype.decryptEvent=function(e){if(e.isRedacted())return Promise.resolve({clearEvent:{room_id:e.getRoomId(),type:"m.room.message",content:{}}});const t=e.getWireContent();return this._getRoomDecryptor(e.getRoomId(),t.algorithm).decryptEvent(e)},D.prototype.handleDeviceListChanges=async function(e,t){e.oldSyncToken&&await this._evalDeviceListChanges(t)},D.prototype.requestRoomKey=function(e,t,n=!1){return this._outgoingRoomKeyRequestManager.queueRoomKeyRequest(e,t,n).then(()=>{this._sendKeyRequestsImmediately&&this._outgoingRoomKeyRequestManager.sendQueuedRequests()}).catch(e=>{c.logger.error("Error requesting key for event",e)})},D.prototype.cancelRoomKeyRequest=function(e){this._outgoingRoomKeyRequestManager.cancelRoomKeyRequest(e).catch(e=>{c.logger.warn("Error clearing pending room key requests",e)})},D.prototype.cancelAndResendAllOutgoingKeyRequests=function(){return this._outgoingRoomKeyRequestManager.cancelAndResendAllOutgoingRequests()},D.prototype.onCryptoEvent=async function(e){const t=e.getRoomId(),n=e.getContent();try{await this.setRoomEncryption(t,n,!0)}catch(i){c.logger.error("Error configuring encryption in room "+t+":",i)}},D.prototype.onSyncWillProcess=async function(e){e.oldSyncToken||(c.logger.log("Initial sync performed - resetting device tracking state"),this._deviceList.stopTrackingAllDeviceLists(),this._deviceList.startTrackingDeviceList(this._userId),this._roomDeviceTrackingState={}),this._sendKeyRequestsImmediately=!1},D.prototype.onSyncCompleted=async function(e){const t=e.nextSyncToken;this._deviceList.setSyncToken(e.nextSyncToken),this._deviceList.saveIfDirty(),this._deviceList.lastKnownSyncToken=t,this._deviceList.startTrackingDeviceList(this._userId),this._deviceList.refreshOutdatedDeviceLists(),e.catchingUp||(function(e){if(e._oneTimeKeyCheckInProgress)return;const t=Date.now();if(null!==e._lastOneTimeKeyCheck&&t-e._lastOneTimeKeyCheck<6e4)return;e._lastOneTimeKeyCheck=t;const n=e._olmDevice.maxNumberOfOneTimeKeys(),i=Math.floor(n/2);e._oneTimeKeyCheckInProgress=!0,Promise.resolve().then(()=>void 0!==e._oneTimeKeyCount?Promise.resolve(e._oneTimeKeyCount):e._baseApis.uploadKeysRequest({}).then(e=>e.one_time_key_counts.signed_curve25519||0)).then(t=>function t(n){if(i<=n)return Promise.resolve();const r=Math.min(i-n,5);return e._olmDevice.generateOneTimeKeys(r).then(()=>async function(e){const t=await e._olmDevice.getOneTimeKeys(),n={},i=[];for(const s in t.curve25519)if(t.curve25519.hasOwnProperty(s)){const r={key:t.curve25519[s]};n["signed_curve25519:"+s]=r,i.push(e._signObject(r))}await Promise.all(i);const r=await e._baseApis.uploadKeysRequest({one_time_keys:n});return await e._olmDevice.markKeysAsPublished(),r}(e)).then(e=>{if(e.one_time_key_counts&&e.one_time_key_counts.signed_curve25519)return t(e.one_time_key_counts.signed_curve25519);throw new Error("response for uploading keys does not contain one_time_key_counts.signed_curve25519")})}(t)).catch(e=>{c.logger.error("Error uploading one-time keys",e.stack||e)}).finally(()=>{e._oneTimeKeyCount=void 0,e._oneTimeKeyCheckInProgress=!1})}(this),this._processReceivedRoomKeyRequests(),this._outgoingRoomKeyRequestManager.sendQueuedRequests(),this._sendKeyRequestsImmediately=!0)},D.prototype._evalDeviceListChanges=async function(e){if(e.changed&&Array.isArray(e.changed)&&e.changed.forEach(e=>{this._deviceList.invalidateUserDeviceList(e)}),e.left&&Array.isArray(e.left)&&e.left.length){const t=new Set(await this._getTrackedE2eUsers());e.left.forEach(e=>{t.has(e)||this._deviceList.stopTrackingDeviceList(e)})}},D.prototype._getTrackedE2eUsers=async function(){const e=[];for(const t of this._getTrackedE2eRooms()){const n=await t.getEncryptionTargetMembers();for(const t of n)e.push(t.userId)}return e},D.prototype._getTrackedE2eRooms=function(){return this._clientStore.getRooms().filter(e=>{if(!this._roomEncryptors[e.roomId])return!1;if(!this._roomDeviceTrackingState[e.roomId])return!1;const t=e.getMyMembership();return"join"===t||"invite"===t})},D.prototype._onToDeviceEvent=function(e){try{c.logger.log(`received to_device ${e.getType()} from: ${e.getSender()} id: ${e.getId()}`),"m.room_key"==e.getType()||"m.forwarded_room_key"==e.getType()?this._onRoomKeyEvent(e):"m.room_key_request"==e.getType()?this._onRoomKeyRequestEvent(e):"m.secret.request"===e.getType()?this._secretStorage._onRequestReceived(e):"m.secret.send"===e.getType()?this._secretStorage._onSecretReceived(e):"org.matrix.room_key.withheld"===e.getType()?this._onRoomKeyWithheldEvent(e):e.getContent().transaction_id?this._onKeyVerificationMessage(e):"m.bad.encrypted"===e.getContent().msgtype?this._onToDeviceBadEncrypted(e):e.isBeingDecrypted()&&e.once("Event.decrypted",e=>{this._onToDeviceEvent(e)})}catch(t){c.logger.error("Error handling toDeviceEvent:",t)}},D.prototype._onRoomKeyEvent=function(e){const t=e.getContent();t.room_id&&t.algorithm?(this._checkedForBackup||this._checkAndStartKeyBackup(),this._getRoomDecryptor(t.room_id,t.algorithm).onRoomKeyEvent(e)):c.logger.error("key event is missing fields")},D.prototype._onRoomKeyWithheldEvent=function(e){const t=e.getContent();if(!(("m.no_olm"===t.code||t.room_id&&t.session_id)&&t.algorithm&&t.sender_key))return void c.logger.error("key withheld event is missing fields");c.logger.info(`Got room key withheld event from ${e.getSender()} (${t.sender_key}) for ${t.algorithm}/${t.room_id}/${t.session_id} with reason ${t.code} (${t.reason})`);const n=this._getRoomDecryptor(t.room_id,t.algorithm);if(n.onRoomKeyWithheldEvent&&n.onRoomKeyWithheldEvent(e),!t.room_id){const e=this._getRoomDecryptors(t.algorithm);for(const n of e)n.retryDecryptionFromSender(t.sender_key)}},D.prototype._onKeyVerificationMessage=function(e){x.ToDeviceChannel.validateEvent(e,this._baseApis)&&this._handleVerificationEvent(e,this._toDeviceVerificationRequests,e=>{if(!x.ToDeviceChannel.canCreateRequest(x.ToDeviceChannel.getEventType(e)))return;const t=e.getContent(),n=t&&t.from_device;if(!n)return;const i=e.getSender(),r=new x.ToDeviceChannel(this._baseApis,i,[n]);return new k.VerificationRequest(r,this._verificationMethods,this._baseApis)})},D.prototype._onTimelineEvent=function(e,t,n,i,{liveEvent:r}={}){C.InRoomChannel.validateEvent(e,this._baseApis)&&this._handleVerificationEvent(e,this._inRoomVerificationRequests,e=>{const t=new C.InRoomChannel(this._baseApis,e.getRoomId());return new k.VerificationRequest(t,this._verificationMethods,this._baseApis)},r)},D.prototype._handleVerificationEvent=async function(e,t,n,i=!0){let r=t.getRequest(e),s=!1;if(!r){if(r=n(e),!r)return void c.logger.log("Crypto: could not find VerificationRequest for "+e.getType()+", and could not create one, so ignoring.");s=!0,t.setRequest(e,r)}e.setVerificationRequest(r);try{await r.channel.handleEvent(e,r,i)}catch(o){c.logger.error("error while handling verification event: "+o.message)}s&&!r.initiatedByMe&&!r.invalid&&!r.observeOnly&&this._baseApis.emit("crypto.verification.request",r)},D.prototype._onToDeviceBadEncrypted=async function(e){const t=e.getWireContent(),n=e.getSender(),i=t.algorithm,r=t.sender_key,s=()=>{const e=this._getRoomDecryptors(h.MEGOLM_ALGORITHM);for(const t of e)t.retryDecryptionFromSender(r)};if(void 0===n||void 0===r||void 0===r)return;this._lastNewSessionForced[n]=this._lastNewSessionForced[n]||{};const o=this._lastNewSessionForced[n][r]||0;if(o+36e5>Date.now())return c.logger.debug("New session already forced with device "+n+":"+r+" at "+o+": not forcing another"),await this._olmDevice.recordSessionProblem(r,"wedged",!0),void s();let a=this._deviceList.getDeviceByIdentityKey(i,r);if(!a&&(await this.downloadKeys([n],!1),a=this._deviceList.getDeviceByIdentityKey(i,r),!a))return c.logger.info("Couldn't find device for identity key "+r+": not re-establishing session"),await this._olmDevice.recordSessionProblem(r,"wedged",!1),void s();const l={};l[n]=[a],await h.ensureOlmSessionsForDevices(this._olmDevice,this._baseApis,l,!0),this._lastNewSessionForced[n][r]=Date.now();const u={algorithm:h.OLM_ALGORITHM,sender_key:this._olmDevice.deviceCurve25519Key,ciphertext:{}};await h.encryptMessageForDevice(u.ciphertext,this._userId,this._deviceId,this._olmDevice,n,a,{type:"m.dummy"}),await this._olmDevice.recordSessionProblem(r,"wedged",!0),s(),await this._baseApis.sendToDevice("m.room.encrypted",{[n]:{[a.deviceId]:u}});const d=await this._outgoingRoomKeyRequestManager.getOutgoingSentRoomKeyRequest(n,a.deviceId);for(const c of d)this.requestRoomKey(c.requestBody,c.recipients,!0)},D.prototype._onRoomMembership=function(e,t,n){const i=t.roomId,r=this._roomEncryptors[i];r&&(this._roomDeviceTrackingState[i]&&("join"==t.membership?(c.logger.log("Join event for "+t.userId+" in "+i),this._deviceList.startTrackingDeviceList(t.userId)):"invite"==t.membership&&this._clientStore.getRoom(i).shouldEncryptForInvitedMembers()&&(c.logger.log("Invite event for "+t.userId+" in "+i),this._deviceList.startTrackingDeviceList(t.userId))),r.onRoomMembership(e,t,n))},D.prototype._onRoomKeyRequestEvent=function(e){const t=e.getContent();if("request"===t.action){const t=new M(e);this._receivedRoomKeyRequests.push(t)}else if("request_cancellation"===t.action){const t=new N(e);this._receivedRoomKeyRequestCancellations.push(t)}},D.prototype._processReceivedRoomKeyRequests=async function(){if(!this._processingRoomKeyRequests){this._processingRoomKeyRequests=!0;try{const e=this._receivedRoomKeyRequests;this._receivedRoomKeyRequests=[];const t=this._receivedRoomKeyRequestCancellations;this._receivedRoomKeyRequestCancellations=[],await Promise.all(e.map(e=>this._processReceivedRoomKeyRequest(e))),await Promise.all(t.map(e=>this._processReceivedRoomKeyRequestCancellation(e)))}catch(e){c.logger.error("Error processing room key requsts: "+e)}finally{this._processingRoomKeyRequests=!1}}},D.prototype._processReceivedRoomKeyRequest=async function(e){const t=e.userId,n=e.deviceId,i=e.requestBody,r=i.room_id,s=i.algorithm;if(c.logger.log(`m.room_key_request from ${t}:${n} for ${r} / ${i.session_id} (id ${e.requestId})`),t!==this._userId){if(!this._roomEncryptors[r])return void c.logger.debug("room key request for unencrypted room "+r);const e=this._roomEncryptors[r],s=this._deviceList.getStoredDevice(t,n);if(!s)return void c.logger.debug(`Ignoring keyshare for unknown device ${t}:${n}`);try{await e.reshareKeyWithDevice(i.sender_key,i.session_id,t,s)}catch(a){c.logger.warn("Failed to re-share keys for session "+i.session_id+" with device "+t+":"+s.deviceId,a)}return}if(n===this._deviceId)return void c.logger.log("Ignoring room key request from ourselves");if(!this._roomDecryptors[r])return void c.logger.log("room key request for unencrypted room "+r);const o=this._roomDecryptors[r][s];if(o)if(await o.hasKeysForKeyRequest(e)){if(e.share=()=>{o.shareKeysWithDevice(e)},this.checkDeviceTrust(t,n).isVerified())return c.logger.log("device is already verified: sharing keys"),void e.share();this.emit("crypto.roomKeyRequest",e)}else c.logger.log(`room key request for unknown session ${r} / `+i.session_id);else c.logger.log(`room key request for unknown alg ${s} in room ${r}`)},D.prototype._processReceivedRoomKeyRequestCancellation=async function(e){c.logger.log(`m.room_key_request cancellation for ${e.userId}:${e.deviceId} (id ${e.requestId})`),this.emit("crypto.roomKeyRequestCancellation",e)},D.prototype._getRoomDecryptor=function(e,t){let n,i;if((e=e||null)&&(n=this._roomDecryptors[e],n||(this._roomDecryptors[e]=n={}),i=n[t],i))return i;const r=m.DECRYPTION_CLASSES[t];if(!r)throw new m.DecryptionError("UNKNOWN_ENCRYPTION_ALGORITHM",'Unknown encryption algorithm "'+t+'".');return i=new r({userId:this._userId,crypto:this,olmDevice:this._olmDevice,baseApis:this._baseApis,roomId:e}),n&&(n[t]=i),i},D.prototype._getRoomDecryptors=function(e){const t=[];for(const n of Object.values(this._roomDecryptors))e in n&&t.push(n[e]);return t},D.prototype._signObject=async function(e){const t=e.signatures||{},n=e.unsigned;delete e.signatures,delete e.unsigned,t[this._userId]=t[this._userId]||{},t[this._userId]["ed25519:"+this._deviceId]=await this._olmDevice.sign(s.default.stringify(e)),e.signatures=t,void 0!==n&&(e.unsigned=n)};class M{constructor(e){const t=e.getContent();this.userId=e.getSender(),this.deviceId=t.requesting_device_id,this.requestId=t.request_id,this.requestBody=t.body||{},this.share=()=>{throw new Error("don't know how to share keys for this request yet")}}}class N{constructor(e){const t=e.getContent();this.userId=e.getSender(),this.deviceId=t.requesting_device_id,this.requestId=t.request_id}}},g4kb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SERVICE_TYPES=void 0;const i=Object.freeze({IS:"SERVICE_TYPE_IS",IM:"SERVICE_TYPE_IM"});t.SERVICE_TYPES=i},h3nd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCryptoStoreCacheCallbacks=function(e,t){return{getCrossSigningKeyCache:async function(n,r){const s=await new Promise(t=>e.doTxn("readonly",[o.IndexedDBCryptoStore.STORE_ACCOUNT],i=>{e.getSecretStorePrivateKey(i,t,n)}));if(s&&s.ciphertext){const e=Buffer.from(t._pickleKey),r=await(0,a.decryptAES)(s,e,n);return(0,i.decodeBase64)(r)}return s},storeCrossSigningKeyCache:async function(n,r){if(!(r instanceof Uint8Array))throw new Error("storeCrossSigningKeyCache expects Uint8Array, got "+r);const s=Buffer.from(t._pickleKey);return r=await(0,a.encryptAES)((0,i.encodeBase64)(r),s,n),e.doTxn("readwrite",[o.IndexedDBCryptoStore.STORE_ACCOUNT],t=>{e.storeSecretStorePrivateKey(t,n,r)})}}},t.DeviceTrustLevel=t.UserTrustLevel=t.CrossSigningLevel=t.CrossSigningInfo=void 0;var i=n("VRzr"),r=n("+qE3"),s=n("PrRn"),o=n("qN7M"),a=n("uMDy");function c(e){return Object.values(e.keys)[0]}class l extends r.EventEmitter{constructor(e,t,n){super(),Object.defineProperty(this,"userId",{enumerable:!0,value:e}),this._callbacks=t||{},this._cacheCallbacks=n||{},this.keys={},this.firstUse=!0,this.crossSigningVerifiedBefore=!1}async getCrossSigningKey(e,t){const n=["self_signing","user_signing"].indexOf(e)>=0;if(!this._callbacks.getCrossSigningKey)throw new Error("No getCrossSigningKey callback supplied");function i(e){if(!e)return;const n=new global.Olm.PkSigning,i=n.init_with_seed(e);if(i===t)return[i,n];n.free()}let r;void 0===t&&(t=this.getId(e)),this._cacheCallbacks.getCrossSigningKeyCache&&n&&(r=await this._cacheCallbacks.getCrossSigningKeyCache(e,t));const s=i(r);if(s)return s;r=await this._callbacks.getCrossSigningKey(e,t);const o=i(r);if(o)return this._cacheCallbacks.storeCrossSigningKeyCache&&n&&await this._cacheCallbacks.storeCrossSigningKeyCache(e,r),o;if(!r)throw new Error("getCrossSigningKey callback for "+e+" returned falsey");throw new Error("Key type "+e+" from getCrossSigningKey callback did not match")}static fromStorage(e,t){const n=new l(t);for(const i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);return n}toStorage(){return{keys:this.keys,firstUse:this.firstUse,crossSigningVerifiedBefore:this.crossSigningVerifiedBefore}}async isStoredInSecretStorage(e){const t=await e.isStored("m.cross_signing.master",!1)||{};function n(e){for(const n of Object.keys(t))e[n]||delete t[n]}for(const i of["self_signing","user_signing"])n(await e.isStored("m.cross_signing."+i,!1)||{});return Object.keys(t).length?t:null}static async storeInSecretStorage(e,t){for(const[n,r]of e){const e=(0,i.encodeBase64)(r);await t.store("m.cross_signing."+n,e)}}static async getFromSecretStorage(e,t){const n=await t.get("m.cross_signing."+e);return(0,i.decodeBase64)(n)}getId(e){return this.keys[e=e||"master"]?c(this.keys[e]):null}async resetKeys(e){if(!this._callbacks.saveCrossSigningKeys)throw new Error("No saveCrossSigningKeys callback supplied");if(void 0===e||e&u.MASTER||!this.keys.master)e=u.MASTER|u.USER_SIGNING|u.SELF_SIGNING;else if(0===e)return;const t={},n={};let r,s;try{if(e&u.MASTER?(r=new global.Olm.PkSigning,t.master=r.generate_seed(),s=r.init_with_seed(t.master),n.master={user_id:this.userId,usage:["master"],keys:{["ed25519:"+s]:s}}):[s,r]=await this.getCrossSigningKey("master"),e&u.SELF_SIGNING){const e=new global.Olm.PkSigning;try{t.self_signing=e.generate_seed();const o=e.init_with_seed(t.self_signing);n.self_signing={user_id:this.userId,usage:["self_signing"],keys:{["ed25519:"+o]:o}},(0,i.pkSign)(n.self_signing,r,this.userId,s)}finally{e.free()}}if(e&u.USER_SIGNING){const e=new global.Olm.PkSigning;try{t.user_signing=e.generate_seed();const o=e.init_with_seed(t.user_signing);n.user_signing={user_id:this.userId,usage:["user_signing"],keys:{["ed25519:"+o]:o}},(0,i.pkSign)(n.user_signing,r,this.userId,s)}finally{e.free()}}Object.assign(this.keys,n),this._callbacks.saveCrossSigningKeys(t)}finally{r&&r.free()}}clearKeys(){this.keys={}}setKeys(e){const t={};if(e.master){if(e.master.user_id!==this.userId){const t="Mismatched user ID "+e.master.user_id+" in master key from "+this.userId;throw s.logger.error(t),new Error(t)}this.keys.master?c(e.master)!==this.getId()&&(this.firstUse=!1):this.firstUse=!0,t.master=e.master}else{if(!this.keys.master)throw new Error("Tried to set cross-signing keys without a master key");t.master=this.keys.master}const n=c(t.master);if(e.user_signing){if(e.user_signing.user_id!==this.userId){const t="Mismatched user ID "+e.master.user_id+" in user_signing key from "+this.userId;throw s.logger.error(t),new Error(t)}try{(0,i.pkVerify)(e.user_signing,n,this.userId)}catch(r){throw s.logger.error("invalid signature on user-signing key"),r}}if(e.self_signing){if(e.self_signing.user_id!==this.userId){const t="Mismatched user ID "+e.master.user_id+" in self_signing key from "+this.userId;throw s.logger.error(t),new Error(t)}try{(0,i.pkVerify)(e.self_signing,n,this.userId)}catch(r){throw s.logger.error("invalid signature on self-signing key"),r}}e.master&&(this.keys.master=e.master,this.keys.self_signing=null,this.keys.user_signing=null),e.self_signing&&(this.keys.self_signing=e.self_signing),e.user_signing&&(this.keys.user_signing=e.user_signing)}updateCrossSigningVerifiedBefore(e){!this.crossSigningVerifiedBefore&&e&&(this.crossSigningVerifiedBefore=!0)}async signObject(e,t){if(!this.keys[t])throw new Error("Attempted to sign with "+t+" key but no such key present");const[n,r]=await this.getCrossSigningKey(t);try{return(0,i.pkSign)(e,r,this.userId,n),e}finally{r.free()}}async signUser(e){if(this.keys.user_signing)return this.signObject(e.keys.master,"user_signing");s.logger.info("No user signing key: not signing user")}async signDevice(e,t){if(e!==this.userId)throw new Error(`Trying to sign ${e}'s device; can only sign our own device`);if(this.keys.self_signing)return this.signObject({algorithms:t.algorithms,keys:t.keys,device_id:t.deviceId,user_id:e},"self_signing");s.logger.info("No self signing key: not signing device")}checkUserTrust(e){if(this.userId===e.userId&&this.getId()&&this.getId()===e.getId()&&this.getId("self_signing")&&this.getId("self_signing")===e.getId("self_signing"))return new h(!0,!0,this.firstUse);if(!this.keys.user_signing)return new h(!1,!1,e.firstUse);let t;const n=e.keys.master,r=this.getId("user_signing");try{(0,i.pkVerify)(n,r,this.userId),t=!0}catch(s){t=!1}return new h(t,e.crossSigningVerifiedBefore,e.firstUse)}checkDeviceTrust(e,t,n,r){const s=this.checkUserTrust(e),o=e.keys.self_signing;if(!o)return new d(!1,!1,n,r);const a=function(e,t){return{algorithms:e.algorithms,keys:e.keys,device_id:e.deviceId,user_id:t,signatures:e.signatures}}(t,e.userId);try{return(0,i.pkVerify)(o,e.getId(),e.userId),(0,i.pkVerify)(a,c(o),e.userId),d.fromUserTrustLevel(s,n,r)}catch(l){return new d(!1,!1,n,r)}}getCacheCallbacks(){return this._cacheCallbacks}}t.CrossSigningInfo=l;const u={MASTER:4,USER_SIGNING:2,SELF_SIGNING:1};t.CrossSigningLevel=u;class h{constructor(e,t,n){this._crossSigningVerified=e,this._crossSigningVerifiedBefore=t,this._tofu=n}isVerified(){return this.isCrossSigningVerified()}isCrossSigningVerified(){return this._crossSigningVerified}wasCrossSigningVerified(){return this._crossSigningVerifiedBefore}isTofu(){return this._tofu}}t.UserTrustLevel=h;class d{constructor(e,t,n,i){this._crossSigningVerified=e,this._tofu=t,this._localVerified=n,this._trustCrossSignedDevices=i}static fromUserTrustLevel(e,t,n){return new d(e._crossSigningVerified,e._tofu,t,n)}isVerified(){return Boolean(this.isLocallyVerified()||this._trustCrossSignedDevices&&this.isCrossSigningVerified())}isCrossSigningVerified(){return this._crossSigningVerified}isLocallyVerified(){return this._localVerified}isTofu(){return this._tofu}}t.DeviceTrustLevel=d},hwdV:function(e,t,n){var i=n("tjlA"),r=i.Buffer;function s(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return r(e,t,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=i:(s(i,t),t.Buffer=o),s(r,o),o.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return r(e,t,n)},o.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=r(e);return void 0!==t?"string"==typeof n?i.fill(t,n):i.fill(t):i.fill(0),i},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i.SlowBuffer(e)}},j0j2:function(e,t,n){"use strict";var i=n("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.MatrixBaseApis=u;var r=n("g4kb"),s=n("PrRn"),o=n("TXj3"),a=i(n("t+e4")),c=n("1F5k");function l(e,t){switch(e){case r.SERVICE_TYPES.IS:return t+c.PREFIX_IDENTITY_V2+"/terms";case r.SERVICE_TYPES.IM:return t+"/_matrix/integrations/v1/terms";default:throw new Error("Unsupported service type")}}function u(e){a.checkObjectHasKeys(e,["baseUrl","request"]),this.baseUrl=e.baseUrl,this.idBaseUrl=e.idBaseUrl,this.identityServer=e.identityServer,this._http=new c.MatrixHttpApi(this,{baseUrl:e.baseUrl,idBaseUrl:e.idBaseUrl,accessToken:e.accessToken,request:e.request,prefix:c.PREFIX_R0,onlyData:!0,extraParams:e.queryParams,localTimeoutMs:e.localTimeoutMs,useAuthorizationHeader:e.useAuthorizationHeader}),this._txnCtr=0}u.prototype.getHomeserverUrl=function(){return this.baseUrl},u.prototype.getIdentityServerUrl=function(e=!1){return e&&(this.idBaseUrl.startsWith("http://")||this.idBaseUrl.startsWith("https://"))?this.idBaseUrl.split("://")[1]:this.idBaseUrl},u.prototype.setIdentityServerUrl=function(e){this.idBaseUrl=a.ensureNoTrailingSlash(e),this._http.setIdBaseUrl(this.idBaseUrl)},u.prototype.getAccessToken=function(){return this._http.opts.accessToken||null},u.prototype.isLoggedIn=function(){return void 0!==this._http.opts.accessToken},u.prototype.makeTxnId=function(){return"m"+(new Date).getTime()+"."+this._txnCtr++},u.prototype.isUsernameAvailable=function(e){return this._http.authedRequest(void 0,"GET","/register/available",{username:e}).then(e=>e.available)},u.prototype.register=function(e,t,n,i,r,s,o,a){!0===r?r={email:!0}:null==r&&(r={}),"function"==typeof o&&(a=o,o=void 0),n&&(i.session=n);const c={auth:i};return null!=e&&(c.username=e),null!=t&&(c.password=t),r.email&&(c.bind_email=!0),r.msisdn&&(c.bind_msisdn=!0),null!=s&&(c.guest_access_token=s),null!=o&&(c.inhibit_login=o),null!=t&&(c.x_show_msisdn=!0),this.registerRequest(c,void 0,a)},u.prototype.registerGuest=function(e,t){return(e=e||{}).body=e.body||{},this.registerRequest(e.body,"guest",t)},u.prototype.registerRequest=function(e,t,n){const i={};return t&&(i.kind=t),this._http.request(n,"POST","/register",i,e)},u.prototype.loginFlows=function(e){return this._http.request(e,"GET","/login")},u.prototype.login=function(e,t,n){const i={type:e};return a.extend(i,t),this._http.authedRequest((e,t)=>{t&&t.access_token&&t.user_id&&(this._http.opts.accessToken=t.access_token,this.credentials={userId:t.user_id}),n&&n(e,t)},"POST","/login",void 0,i)},u.prototype.loginWithPassword=function(e,t,n){return this.login("m.login.password",{user:e,password:t},n)},u.prototype.loginWithSAML2=function(e,t){return this.login("m.login.saml2",{relay_state:e},t)},u.prototype.getCasLoginUrl=function(e){return this.getSsoLoginUrl(e,"cas")},u.prototype.getSsoLoginUrl=function(e,t){return void 0===t&&(t="sso"),this._http.getUrl("/login/"+t+"/redirect",{redirectUrl:e},c.PREFIX_R0)},u.prototype.loginWithToken=function(e,t){return this.login("m.login.token",{token:e},t)},u.prototype.logout=function(e){return this._http.authedRequest(e,"POST","/logout")},u.prototype.deactivateAccount=function(e,t){if("function"==typeof t)throw new Error("deactivateAccount no longer accepts a callback parameter");const n={};return e&&(n.auth=e),void 0!==t&&(n.erase=t),this._http.authedRequest(void 0,"POST","/account/deactivate",void 0,n)},u.prototype.getFallbackAuthUrl=function(e,t){const n=a.encodeUri("/auth/$loginType/fallback/web",{$loginType:e});return this._http.getUrl(n,{session:t},c.PREFIX_R0)},u.prototype.createRoom=function(e,t){return this._http.authedRequest(t,"POST","/createRoom",void 0,e)},u.prototype.fetchRelations=async function(e,t,n,i,r){const s={};r.from&&(s.from=r.from);const o=a.encodeParams(s),l=a.encodeUri("/rooms/$roomId/relations/$eventId/$relationType/$eventType?"+o,{$roomId:e,$eventId:t,$relationType:n,$eventType:i});return await this._http.authedRequest(void 0,"GET",l,null,null,{prefix:c.PREFIX_UNSTABLE})},u.prototype.roomState=function(e,t){const n=a.encodeUri("/rooms/$roomId/state",{$roomId:e});return this._http.authedRequest(t,"GET",n)},u.prototype.fetchRoomEvent=function(e,t,n){const i=a.encodeUri("/rooms/$roomId/event/$eventId",{$roomId:e,$eventId:t});return this._http.authedRequest(n,"GET",i)},u.prototype.members=function(e,t,n,i,r){const s={};t&&(s.membership=t),n&&(s.not_membership=n),i&&(s.at=i);const o=a.encodeParams(s),c=a.encodeUri("/rooms/$roomId/members?"+o,{$roomId:e});return this._http.authedRequest(r,"GET",c)},u.prototype.upgradeRoom=function(e,t){const n=a.encodeUri("/rooms/$roomId/upgrade",{$roomId:e});return this._http.authedRequest(void 0,"POST",n,void 0,{new_version:t})},u.prototype.getGroupSummary=function(e){const t=a.encodeUri("/groups/$groupId/summary",{$groupId:e});return this._http.authedRequest(void 0,"GET",t)},u.prototype.getGroupProfile=function(e){const t=a.encodeUri("/groups/$groupId/profile",{$groupId:e});return this._http.authedRequest(void 0,"GET",t)},u.prototype.setGroupProfile=function(e,t){const n=a.encodeUri("/groups/$groupId/profile",{$groupId:e});return this._http.authedRequest(void 0,"POST",n,void 0,t)},u.prototype.setGroupJoinPolicy=function(e,t){const n=a.encodeUri("/groups/$groupId/settings/m.join_policy",{$groupId:e});return this._http.authedRequest(void 0,"PUT",n,void 0,{"m.join_policy":t})},u.prototype.getGroupUsers=function(e){const t=a.encodeUri("/groups/$groupId/users",{$groupId:e});return this._http.authedRequest(void 0,"GET",t)},u.prototype.getGroupInvitedUsers=function(e){const t=a.encodeUri("/groups/$groupId/invited_users",{$groupId:e});return this._http.authedRequest(void 0,"GET",t)},u.prototype.getGroupRooms=function(e){const t=a.encodeUri("/groups/$groupId/rooms",{$groupId:e});return this._http.authedRequest(void 0,"GET",t)},u.prototype.inviteUserToGroup=function(e,t){const n=a.encodeUri("/groups/$groupId/admin/users/invite/$userId",{$groupId:e,$userId:t});return this._http.authedRequest(void 0,"PUT",n,void 0,{})},u.prototype.removeUserFromGroup=function(e,t){const n=a.encodeUri("/groups/$groupId/admin/users/remove/$userId",{$groupId:e,$userId:t});return this._http.authedRequest(void 0,"PUT",n,void 0,{})},u.prototype.addUserToGroupSummary=function(e,t,n){const i=a.encodeUri(n?"/groups/$groupId/summary/$roleId/users/$userId":"/groups/$groupId/summary/users/$userId",{$groupId:e,$roleId:n,$userId:t});return this._http.authedRequest(void 0,"PUT",i,void 0,{})},u.prototype.removeUserFromGroupSummary=function(e,t){const n=a.encodeUri("/groups/$groupId/summary/users/$userId",{$groupId:e,$userId:t});return this._http.authedRequest(void 0,"DELETE",n,void 0,{})},u.prototype.addRoomToGroupSummary=function(e,t,n){const i=a.encodeUri(n?"/groups/$groupId/summary/$categoryId/rooms/$roomId":"/groups/$groupId/summary/rooms/$roomId",{$groupId:e,$categoryId:n,$roomId:t});return this._http.authedRequest(void 0,"PUT",i,void 0,{})},u.prototype.removeRoomFromGroupSummary=function(e,t){const n=a.encodeUri("/groups/$groupId/summary/rooms/$roomId",{$groupId:e,$roomId:t});return this._http.authedRequest(void 0,"DELETE",n,void 0,{})},u.prototype.addRoomToGroup=function(e,t,n){void 0===n&&(n=!0);const i=a.encodeUri("/groups/$groupId/admin/rooms/$roomId",{$groupId:e,$roomId:t});return this._http.authedRequest(void 0,"PUT",i,void 0,{"m.visibility":{type:n?"public":"private"}})},u.prototype.updateGroupRoomVisibility=function(e,t,n){const i=a.encodeUri("/groups/$groupId/admin/rooms/$roomId/config/m.visibility",{$groupId:e,$roomId:t});return this._http.authedRequest(void 0,"PUT",i,void 0,{type:n?"public":"private"})},u.prototype.removeRoomFromGroup=function(e,t){const n=a.encodeUri("/groups/$groupId/admin/rooms/$roomId",{$groupId:e,$roomId:t});return this._http.authedRequest(void 0,"DELETE",n,void 0,{})},u.prototype.acceptGroupInvite=function(e,t=null){const n=a.encodeUri("/groups/$groupId/self/accept_invite",{$groupId:e});return this._http.authedRequest(void 0,"PUT",n,void 0,t||{})},u.prototype.joinGroup=function(e){const t=a.encodeUri("/groups/$groupId/self/join",{$groupId:e});return this._http.authedRequest(void 0,"PUT",t,void 0,{})},u.prototype.leaveGroup=function(e){const t=a.encodeUri("/groups/$groupId/self/leave",{$groupId:e});return this._http.authedRequest(void 0,"PUT",t,void 0,{})},u.prototype.getJoinedGroups=function(){const e=a.encodeUri("/joined_groups");return this._http.authedRequest(void 0,"GET",e)},u.prototype.createGroup=function(e){const t=a.encodeUri("/create_group");return this._http.authedRequest(void 0,"POST",t,void 0,e)},u.prototype.getPublicisedGroups=function(e){const t=a.encodeUri("/publicised_groups");return this._http.authedRequest(void 0,"POST",t,void 0,{user_ids:e})},u.prototype.setGroupPublicity=function(e,t){const n=a.encodeUri("/groups/$groupId/self/update_publicity",{$groupId:e});return this._http.authedRequest(void 0,"PUT",n,void 0,{publicise:t})},u.prototype.getStateEvent=function(e,t,n,i){const r={$roomId:e,$eventType:t,$stateKey:n};let s=a.encodeUri("/rooms/$roomId/state/$eventType",r);return void 0!==n&&(s=a.encodeUri(s+"/$stateKey",r)),this._http.authedRequest(i,"GET",s)},u.prototype.sendStateEvent=function(e,t,n,i,r){const s={$roomId:e,$eventType:t,$stateKey:i};let o=a.encodeUri("/rooms/$roomId/state/$eventType",s);return void 0!==i&&(o=a.encodeUri(o+"/$stateKey",s)),this._http.authedRequest(r,"PUT",o,void 0,n)},u.prototype.roomInitialSync=function(e,t,n){a.isFunction(t)&&(n=t,t=void 0);const i=a.encodeUri("/rooms/$roomId/initialSync",{$roomId:e});return t||(t=30),this._http.authedRequest(n,"GET",i,{limit:t})},u.prototype.setRoomReadMarkersHttpRequest=function(e,t,n,i){const r=a.encodeUri("/rooms/$roomId/read_markers",{$roomId:e}),s={"m.fully_read":t,"m.read":n,"m.hidden":Boolean(!!i&&i.hidden)};return this._http.authedRequest(void 0,"POST",r,void 0,s)},u.prototype.getJoinedRooms=function(){const e=a.encodeUri("/joined_rooms");return this._http.authedRequest(void 0,"GET",e)},u.prototype.getJoinedRoomMembers=function(e){const t=a.encodeUri("/rooms/$roomId/joined_members",{$roomId:e});return this._http.authedRequest(void 0,"GET",t)},u.prototype.publicRooms=function(e,t){"function"==typeof e&&(t=e,e={}),void 0===e&&(e={});const n={};return e.server&&(n.server=e.server,delete e.server),0===Object.keys(e).length&&0===Object.keys(n).length?this._http.authedRequest(t,"GET","/publicRooms"):this._http.authedRequest(t,"POST","/publicRooms",n,e)},u.prototype.createAlias=function(e,t,n){const i=a.encodeUri("/directory/room/$alias",{$alias:e});return this._http.authedRequest(n,"PUT",i,void 0,{room_id:t})},u.prototype.deleteAlias=function(e,t){const n=a.encodeUri("/directory/room/$alias",{$alias:e});return this._http.authedRequest(t,"DELETE",n,void 0,void 0)},u.prototype.unstableGetLocalAliases=function(e,t){const n=a.encodeUri("/rooms/$roomId/aliases",{$roomId:e});return this._http.authedRequest(t,"GET",n,null,null,{prefix:c.PREFIX_UNSTABLE+"/org.matrix.msc2432"})},u.prototype.getRoomIdForAlias=function(e,t){const n=a.encodeUri("/directory/room/$alias",{$alias:e});return this._http.authedRequest(t,"GET",n)},u.prototype.resolveRoomAlias=function(e,t){const n=a.encodeUri("/directory/room/$alias",{$alias:e});return this._http.request(t,"GET",n)},u.prototype.getRoomDirectoryVisibility=function(e,t){const n=a.encodeUri("/directory/list/room/$roomId",{$roomId:e});return this._http.authedRequest(t,"GET",n)},u.prototype.setRoomDirectoryVisibility=function(e,t,n){const i=a.encodeUri("/directory/list/room/$roomId",{$roomId:e});return this._http.authedRequest(n,"PUT",i,void 0,{visibility:t})},u.prototype.setRoomDirectoryVisibilityAppService=function(e,t,n,i){const r=a.encodeUri("/directory/list/appservice/$networkId/$roomId",{$networkId:e,$roomId:t});return this._http.authedRequest(i,"PUT",r,void 0,{visibility:n})},u.prototype.searchUserDirectory=function(e){const t={search_term:e.term};return void 0!==e.limit&&(t.limit=e.limit),this._http.authedRequest(void 0,"POST","/user_directory/search",void 0,t)},u.prototype.uploadContent=function(e,t){return this._http.uploadContent(e,t)},u.prototype.cancelUpload=function(e){return this._http.cancelUpload(e)},u.prototype.getCurrentUploads=function(){return this._http.getCurrentUploads()},u.prototype.getProfileInfo=function(e,t,n){a.isFunction(t)&&(n=t,t=void 0);const i=t?a.encodeUri("/profile/$userId/$info",{$userId:e,$info:t}):a.encodeUri("/profile/$userId",{$userId:e});return this._http.authedRequest(n,"GET",i)},u.prototype.getThreePids=function(e){return this._http.authedRequest(e,"GET","/account/3pid",void 0,void 0)},u.prototype.addThreePid=function(e,t,n){return this._http.authedRequest(n,"POST","/account/3pid",null,{threePidCreds:e,bind:t})},u.prototype.addThreePidOnly=async function(e){const t=await this.isVersionSupported("r0.6.0")?c.PREFIX_R0:c.PREFIX_UNSTABLE;return this._http.authedRequest(void 0,"POST","/account/3pid/add",null,e,{prefix:t})},u.prototype.bindThreePid=async function(e){const t=await this.isVersionSupported("r0.6.0")?c.PREFIX_R0:c.PREFIX_UNSTABLE;return this._http.authedRequest(void 0,"POST","/account/3pid/bind",null,e,{prefix:t})},u.prototype.unbindThreePid=async function(e,t){const n={medium:e,address:t,id_server:this.getIdentityServerUrl(!0)},i=await this.isVersionSupported("r0.6.0")?c.PREFIX_R0:c.PREFIX_UNSTABLE;return this._http.authedRequest(void 0,"POST","/account/3pid/unbind",null,n,{prefix:i})},u.prototype.deleteThreePid=function(e,t){return this._http.authedRequest(void 0,"POST","/account/3pid/delete",null,{medium:e,address:t})},u.prototype.setPassword=function(e,t,n){return this._http.authedRequest(n,"POST","/account/password",null,{auth:e,new_password:t})},u.prototype.getDevices=function(){return this._http.authedRequest(void 0,"GET","/devices",void 0,void 0)},u.prototype.setDeviceDetails=function(e,t){const n=a.encodeUri("/devices/$device_id",{$device_id:e});return this._http.authedRequest(void 0,"PUT",n,void 0,t)},u.prototype.deleteDevice=function(e,t){const n=a.encodeUri("/devices/$device_id",{$device_id:e}),i={};return t&&(i.auth=t),this._http.authedRequest(void 0,"DELETE",n,void 0,i)},u.prototype.deleteMultipleDevices=function(e,t){const n={devices:e};return t&&(n.auth=t),this._http.authedRequest(void 0,"POST","/delete_devices",void 0,n)},u.prototype.getPushers=function(e){return this._http.authedRequest(e,"GET","/pushers",void 0,void 0)},u.prototype.setPusher=function(e,t){return this._http.authedRequest(t,"POST","/pushers/set",null,e)},u.prototype.getPushRules=function(e){return this._http.authedRequest(e,"GET","/pushrules/").then(e=>o.PushProcessor.rewriteDefaultRules(e))},u.prototype.addPushRule=function(e,t,n,i,r){const s=a.encodeUri("/pushrules/"+e+"/$kind/$ruleId",{$kind:t,$ruleId:n});return this._http.authedRequest(r,"PUT",s,void 0,i)},u.prototype.deletePushRule=function(e,t,n,i){const r=a.encodeUri("/pushrules/"+e+"/$kind/$ruleId",{$kind:t,$ruleId:n});return this._http.authedRequest(i,"DELETE",r)},u.prototype.setPushRuleEnabled=function(e,t,n,i,r){const s=a.encodeUri("/pushrules/"+e+"/$kind/$ruleId/enabled",{$kind:t,$ruleId:n});return this._http.authedRequest(r,"PUT",s,void 0,{enabled:i})},u.prototype.setPushRuleActions=function(e,t,n,i,r){const s=a.encodeUri("/pushrules/"+e+"/$kind/$ruleId/actions",{$kind:t,$ruleId:n});return this._http.authedRequest(r,"PUT",s,void 0,{actions:i})},u.prototype.search=function(e,t){const n={};return e.next_batch&&(n.next_batch=e.next_batch),this._http.authedRequest(t,"POST","/search",n,e.body)},u.prototype.uploadKeysRequest=function(e,t,n){return this._http.authedRequest(n,"POST","/keys/upload",void 0,e)},u.prototype.uploadKeySignatures=function(e){return this._http.authedRequest(void 0,"POST","/keys/signatures/upload",void 0,e,{prefix:c.PREFIX_UNSTABLE})},u.prototype.downloadKeysForUsers=function(e,t){if(a.isFunction(t))throw new Error("downloadKeysForUsers no longer accepts a callback parameter");const n={device_keys:{}};return"token"in(t=t||{})&&(n.token=t.token),e.forEach(e=>{n.device_keys[e]=[]}),this._http.authedRequest(void 0,"POST","/keys/query",void 0,n)},u.prototype.claimOneTimeKeys=function(e,t,n){const i={};void 0===t&&(t="signed_curve25519");for(let s=0;s<e.length;++s){const n=e[s][0],r=e[s][1],o=i[n]||{};i[n]=o,o[r]=t}const r={one_time_keys:i};return n&&(r.timeout=n),this._http.authedRequest(void 0,"POST","/keys/claim",void 0,r)},u.prototype.getKeyChanges=function(e,t){return this._http.authedRequest(void 0,"GET","/keys/changes",{from:e,to:t},void 0)},u.prototype.uploadDeviceSigningKeys=function(e,t){const n=Object.assign({},t);return e&&Object.assign(n,{auth:e}),this._http.authedRequest(void 0,"POST","/keys/device_signing/upload",void 0,n,{prefix:c.PREFIX_UNSTABLE})},u.prototype.registerWithIdentityServer=function(e){if(!this.idBaseUrl)throw new Error("No Identity Server base URL set");return this._http.requestOtherUrl(void 0,"POST",this.idBaseUrl+c.PREFIX_IDENTITY_V2+"/account/register",null,e)},u.prototype.requestEmailToken=async function(e,t,n,i,r,s){const o={client_secret:t,email:e,send_attempt:n,next_link:i};return await this._http.idServerRequest(r,"POST","/validate/email/requestToken",o,c.PREFIX_IDENTITY_V2,s)},u.prototype.requestMsisdnToken=async function(e,t,n,i,r,s,o){const a={client_secret:n,country:e,phone_number:t,send_attempt:i,next_link:r};return await this._http.idServerRequest(s,"POST","/validate/msisdn/requestToken",a,c.PREFIX_IDENTITY_V2,o)},u.prototype.submitMsisdnToken=async function(e,t,n,i){const r={sid:e,client_secret:t,token:n};return await this._http.idServerRequest(void 0,"POST","/validate/msisdn/submitToken",r,c.PREFIX_IDENTITY_V2,i)},u.prototype.submitMsisdnTokenOtherUrl=function(e,t,n,i){return this._http.requestOtherUrl(void 0,"POST",e,void 0,{sid:t,client_secret:n,token:i})},u.prototype.getIdentityHashDetails=function(e){return this._http.idServerRequest(void 0,"GET","/hash_details",null,c.PREFIX_IDENTITY_V2,e)},u.prototype.identityHashedLookup=async function(e,t){const n={},i=await this.getIdentityHashDetails(t);if(!i||!i.lookup_pepper||!i.algorithms)throw new Error("Unsupported identity server: bad response");n.pepper=i.lookup_pepper;const r={};if(i.algorithms.includes("sha256")){const t=new global.Olm.Utility;n.addresses=e.map(e=>{const i=e[0].toLowerCase(),s=e[1].toLowerCase(),o=t.sha256(`${i} ${s} ${n.pepper}`).replace(/\+/g,"-").replace(/\//g,"_");return r[o]=e[0],o}),n.algorithm="sha256"}else{if(!i.algorithms.includes("none"))throw new Error("Unsupported identity server: unknown hash algorithm");n.addresses=e.map(e=>{const t=`${e[0].toLowerCase()} ${e[1].toLowerCase()}`;return r[t]=e[0],t}),n.algorithm="none"}const s=await this._http.idServerRequest(void 0,"POST","/lookup",n,c.PREFIX_IDENTITY_V2,t);if(!s||!s.mappings)return[];const o=[];for(const a of Object.keys(s.mappings)){const e=s.mappings[a],t=r[a];if(!t)throw new Error("Identity server returned more results than expected");o.push({address:t,mxid:e})}return o},u.prototype.lookupThreePid=async function(e,t,n,i){const r=(await this.identityHashedLookup([[t,e]],i)).find(e=>e.address===t);if(!r)return n&&n(null,{}),{};const s={address:t,medium:e,mxid:r.mxid};return n&&n(null,s),s},u.prototype.bulkLookupThreePids=async function(e,t){const n=await this.identityHashedLookup(e.map(e=>[e[1],e[0]]),t),i=[];for(const r of n){const t=e.find(e=>e[1]===r.address);if(!t)throw new Error("Identity sever returned unexpected results");i.push([t[0],r.address,r.mxid])}return{threepids:i}},u.prototype.getIdentityAccount=function(e){return this._http.idServerRequest(void 0,"GET","/account",void 0,c.PREFIX_IDENTITY_V2,e)},u.prototype.sendToDevice=function(e,t,n){const i=a.encodeUri("/sendToDevice/$eventType/$txnId",{$eventType:e,$txnId:n||this.makeTxnId()}),r={messages:t},o=Object.keys(t).reduce((e,n)=>(e[n]=Object.keys(t[n]),e),{});return s.logger.log("PUT "+i,o),this._http.authedRequest(void 0,"PUT",i,void 0,r)},u.prototype.getThirdpartyProtocols=function(){return this._http.authedRequest(void 0,"GET","/thirdparty/protocols",void 0,void 0).then(e=>{if(!e||"object"!=typeof e)throw new Error("/thirdparty/protocols did not return an object: "+e);return e})},u.prototype.getThirdpartyLocation=function(e,t){const n=a.encodeUri("/thirdparty/location/$protocol",{$protocol:e});return this._http.authedRequest(void 0,"GET",n,t,void 0)},u.prototype.getThirdpartyUser=function(e,t){const n=a.encodeUri("/thirdparty/user/$protocol",{$protocol:e});return this._http.authedRequest(void 0,"GET",n,t,void 0)},u.prototype.getTerms=function(e,t){const n=l(e,t);return this._http.requestOtherUrl(void 0,"GET",n)},u.prototype.agreeToTerms=function(e,t,n,i){const r=l(e,t);return this._http.requestOtherUrl(void 0,"POST",r,null,{user_accepts:i},{headers:{Authorization:"Bearer "+n}})},u.prototype.reportEvent=function(e,t,n,i){const r=a.encodeUri("/rooms/$roomId/report/$eventId",{$roomId:e,$eventId:t});return this._http.authedRequest(void 0,"POST",r,null,{score:n,reason:i})}},"kVK+":function(e,t){t.read=function(e,t,n,i,r){var s,o,a=8*r-i-1,c=(1<<a)-1,l=c>>1,u=-7,h=n?r-1:0,d=n?-1:1,p=e[t+h];for(h+=d,s=p&(1<<-u)-1,p>>=-u,u+=a;u>0;s=256*s+e[t+h],h+=d,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=i;u>0;o=256*o+e[t+h],h+=d,u-=8);if(0===s)s=1-l;else{if(s===c)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,i),s-=l}return(p?-1:1)*o*Math.pow(2,s-i)},t.write=function(e,t,n,i,r,s){var o,a,c,l=8*s-r-1,u=(1<<l)-1,h=u>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:s-1,m=i?1:-1,f=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),(t+=o+h>=1?d/c:d*Math.pow(2,1-h))*c>=2&&(o++,c/=2),o+h>=u?(a=0,o=u):o+h>=1?(a=(t*c-1)*Math.pow(2,r),o+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,r),o=0));r>=8;e[n+p]=255&a,p+=m,a/=256,r-=8);for(o=o<<r|a,l+=r;l>0;e[n+p]=255&o,p+=m,o/=256,l-=8);e[n+p-m]|=128*f}},lSNA:function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},mhmA:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EncryptionSetupOperation=t.EncryptionSetupBuilder=void 0;var i=n("7UXS"),r=n("+qE3"),s=n("h3nd"),o=n("qN7M"),a=n("1F5k");t.EncryptionSetupBuilder=class{constructor(e,t){this.accountDataClientAdapter=new l(e),this.crossSigningCallbacks=new u,this.ssssCryptoCallbacks=new h(t),this._crossSigningKeys=null,this._keySignatures=null,this._keyBackupInfo=null}addCrossSigningKeys(e,t){this._crossSigningKeys={auth:e,keys:t}}addSessionBackup(e){this._keyBackupInfo=e}addSessionBackupPrivateKeyToCache(e){this._sessionBackupPrivateKey=e}addKeySignature(e,t,n){this._keySignatures||(this._keySignatures={});const i=this._keySignatures[e]||{};this._keySignatures[e]=i,i[t]=n}setAccountData(e,t){return this.accountDataClientAdapter.setAccountData(e,t)}buildOperation(){return new c(this.accountDataClientAdapter._values,this._crossSigningKeys,this._keyBackupInfo,this._keySignatures)}async persist(e){if(this._crossSigningKeys){const t=(0,s.createCryptoStoreCacheCallbacks)(e._cryptoStore,e._olmDevice);for(const e of["self_signing","user_signing"]){const n=this.crossSigningCallbacks.privateKeys.get(e);await t.storeCrossSigningKeyCache(e,n)}await e._cryptoStore.doTxn("readwrite",[o.IndexedDBCryptoStore.STORE_ACCOUNT],t=>{e._cryptoStore.storeCrossSigningKeys(t,this._crossSigningKeys.keys)})}this._sessionBackupPrivateKey&&await e.storeSessionBackupPrivateKey(this._sessionBackupPrivateKey)}};class c{constructor(e,t,n,i){this._accountData=e,this._crossSigningKeys=t,this._keyBackupInfo=n,this._keySignatures=i}async apply(e){const t=e._baseApis;if(this._accountData)for(const[n,i]of this._accountData)await t.setAccountData(n,i);if(this._crossSigningKeys){const n={};for(const[e,t]of Object.entries(this._crossSigningKeys.keys))n[e+"_key"]=t;await t.uploadDeviceSigningKeys(this._crossSigningKeys.auth,n),e._crossSigningInfo.setKeys(this._crossSigningKeys.keys)}this._keySignatures&&await t.uploadKeySignatures(this._keySignatures),this._keyBackupInfo&&(this._keyBackupInfo.version?await t._http.authedRequest(void 0,"PUT","/room_keys/version/"+this._keyBackupInfo.version,void 0,{algorithm:this._keyBackupInfo.algorithm,auth_data:this._keyBackupInfo.auth_data},{prefix:a.PREFIX_UNSTABLE}):await t._http.authedRequest(void 0,"POST","/room_keys/version",void 0,this._keyBackupInfo,{prefix:a.PREFIX_UNSTABLE}))}}t.EncryptionSetupOperation=c;class l extends r.EventEmitter{constructor(e){super(),this._existingValues=e,this._values=new Map}getAccountDataFromServer(e){return Promise.resolve(this.getAccountData(e))}getAccountData(e){const t=this._values.get(e);if(t)return t;const n=this._existingValues[e];return n?n.getContent():null}setAccountData(e,t){const n=this._values.get(e);return this._values.set(e,t),Promise.resolve().then(()=>{const r=new i.MatrixEvent({type:e,content:t});this.emit("accountData",r,n)})}}class u{constructor(){this.privateKeys=new Map}getCrossSigningKeyCache(e,t){return this.getCrossSigningKey(e,t)}storeCrossSigningKeyCache(e,t){return this.privateKeys.set(e,t),Promise.resolve()}getCrossSigningKey(e,t){return Promise.resolve(this.privateKeys.get(e))}saveCrossSigningKeys(e){for(const[t,n]of Object.entries(e))this.privateKeys.set(t,n)}}class h{constructor(e){this._privateKeys=new Map,this._delegateCryptoCallbacks=e}async getSecretStorageKey({keys:e},t){for(const n of Object.keys(e)){const e=this._privateKeys.get(n);if(e)return[n,e]}if(this._delegateCryptoCallbacks){const n=await this._delegateCryptoCallbacks.getSecretStorageKey({keys:e},t);if(n){const[e,t]=n;this._privateKeys.set(e,t)}return n}}addPrivateKey(e,t){this._privateKeys.set(e,t)}}},mhv5:function(e,t,n){"use strict";var i=n("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.WebStorageSessionStore=o;var r=i(n("t+e4"));n("PrRn");const s="session.e2e.";function o(e){if(this.store=e,!(r.isFunction(e.getItem)&&r.isFunction(e.setItem)&&r.isFunction(e.removeItem)&&r.isFunction(e.key)&&"number"==typeof e.length))throw new Error("Supplied webStore does not meet the WebStorage API interface")}o.prototype={removeEndToEndAccount:function(){this.store.removeItem(a)},getEndToEndAccount:function(){return this.store.getItem(a)},getAllEndToEndDevices:function(){const e=h(""),t={};for(let n=0;n<this.store.length;++n){const i=this.store.key(n),r=i.substr(e.length);i.startsWith(e)&&(t[r]=m(this.store,i))}return t},getEndToEndDeviceTrackingStatus:function(){return m(this.store,l)},getEndToEndDeviceSyncToken:function(){return m(this.store,c)},removeEndToEndDeviceData:function(){g(this.store,h("")),g(this.store,l),g(this.store,c)},getEndToEndSessions:function(e){return m(this.store,d(e))},getAllEndToEndSessions:function(){const e=f(this.store,d("")),t={};for(const n of e)t[n.substr(d("").length)]=m(this.store,n);return t},removeAllEndToEndSessions:function(){g(this.store,d(""))},getAllEndToEndInboundGroupSessionKeys:function(){const e=s+"inboundgroupsessions/",t=[];for(let n=0;n<this.store.length;n++){const i=this.store.key(n);i.startsWith(e)&&t.push({senderKey:i.substr(e.length,43),sessionId:i.substr(e.length+44)})}return t},getEndToEndInboundGroupSession:function(e,t){const n=function(e,t){return s+"inboundgroupsessions/"+e+"/"+t}(e,t);return this.store.getItem(n)},removeAllEndToEndInboundGroupSessions:function(){g(this.store,s+"inboundgroupsessions/")},getAllEndToEndRooms:function(){const e=f(this.store,p("")),t={};for(const n of e)t[n.substr(p("").length)]=m(this.store,n);return t},removeAllEndToEndRooms:function(){g(this.store,p(""))},setLocalTrustedBackupPubKey:function(e){this.store.setItem(u,e)},getLocalTrustedBackupPubKey:function(){return this.store.getItem(u)}};const a=s+"account",c=s+"device_sync_token",l=s+"device_tracking",u=s+"trusted_backup_pubkey";function h(e){return s+"devices/"+e}function d(e){return s+"sessions/"+e}function p(e){return s+"rooms/"+e}function m(e,t){try{return JSON.parse(e.getItem(t))}catch(n){}return null}function f(e,t){const n=[];for(let i=0;i<e.length;++i){const r=e.key(i);r.startsWith(t)&&n.push(r)}return n}function g(e,t){const n=[];for(let i=0;i<e.length;++i){const r=e.key(i);r.startsWith(t)&&n.push(r)}for(const i of n)e.removeItem(i)}},mjbu:function(e,t,n){"use strict";var i=n("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.OlmDevice=c,t.WITHHELD_MESSAGES=void 0;var r=n("PrRn"),s=n("qN7M"),o=i(n("K5J2"));function a(e){if(void 0===e)throw new Error("payloadString undefined");if(e.length>49152){const t=new Error("Message too long ("+e.length+" bytes). The maximum for an encrypted message is 49152 bytes.");throw t.data={errcode:"M_TOO_LARGE",error:"Payload too large for encrypted message"},t}}function c(e){this._cryptoStore=e,this._pickleKey="DEFAULT_KEY",this.deviceCurve25519Key=null,this.deviceEd25519Key=null,this._maxOneTimeKeys=null,this._outboundGroupSessionStore={},this._inboundGroupSessionMessageIndexes={},this._sessionsInProgress={},this._olmPrekeyPromise=Promise.resolve()}c.prototype.init=async function(e={}){let t;const n=new global.Olm.Account,{pickleKey:i,fromExportedDevice:r}=e;try{r?(i&&console.warn("ignoring opts.pickleKey because opts.fromExportedDevice is present."),this._pickleKey=r.pickleKey,await async function(e,t,n,i){await t.doTxn("readwrite",[s.IndexedDBCryptoStore.STORE_ACCOUNT,s.IndexedDBCryptoStore.STORE_SESSIONS],n=>{t.storeAccount(n,e.pickledAccount),e.sessions.forEach(e=>{const{deviceKey:i,sessionId:r}=e;t.storeEndToEndSession(i,r,{session:e.session,lastReceivedMessageTs:e.lastReceivedMessageTs},n)})}),i.unpickle(n,e.pickledAccount)}(r,this._cryptoStore,this._pickleKey,n)):(i&&(this._pickleKey=i),await async function(e,t,n){await e.doTxn("readwrite",[s.IndexedDBCryptoStore.STORE_ACCOUNT],i=>{e.getAccount(i,r=>{null!==r?n.unpickle(t,r):(n.create(),r=n.pickle(t),e.storeAccount(i,r))})})}(this._cryptoStore,this._pickleKey,n)),t=JSON.parse(n.identity_keys()),this._maxOneTimeKeys=n.max_number_of_one_time_keys()}finally{n.free()}this.deviceCurve25519Key=t.curve25519,this.deviceEd25519Key=t.ed25519},c.getOlmVersion=function(){return global.Olm.get_library_version()},c.prototype._getAccount=function(e,t){this._cryptoStore.getAccount(e,e=>{const n=new global.Olm.Account;try{n.unpickle(this._pickleKey,e),t(n)}finally{n.free()}})},c.prototype._storeAccount=function(e,t){this._cryptoStore.storeAccount(e,t.pickle(this._pickleKey))},c.prototype.export=async function(){const e={pickleKey:this._pickleKey};return await this._cryptoStore.doTxn("readonly",[s.IndexedDBCryptoStore.STORE_ACCOUNT,s.IndexedDBCryptoStore.STORE_SESSIONS],t=>{this._cryptoStore.getAccount(t,t=>{e.pickledAccount=t}),e.sessions=[],this._cryptoStore.getAllEndToEndSessions(t,t=>{e.sessions.push(t)})}),e},c.prototype._getSession=function(e,t,n,i){this._cryptoStore.getEndToEndSession(e,t,n,e=>{this._unpickleSession(e,i)})},c.prototype._unpickleSession=function(e,t){const n=new global.Olm.Session;try{n.unpickle(this._pickleKey,e.session),t(Object.assign({},e,{session:n}))}finally{n.free()}},c.prototype._saveSession=function(e,t,n){const i=t.session.session_id(),r=Object.assign(t,{session:t.session.pickle(this._pickleKey)});this._cryptoStore.storeEndToEndSession(e,i,r,n)},c.prototype._getUtility=function(e){const t=new global.Olm.Utility;try{return e(t)}finally{t.free()}},c.prototype.sign=async function(e){let t;return await this._cryptoStore.doTxn("readonly",[s.IndexedDBCryptoStore.STORE_ACCOUNT],n=>{this._getAccount(n,n=>{t=n.sign(e)})}),t},c.prototype.getOneTimeKeys=async function(){let e;return await this._cryptoStore.doTxn("readonly",[s.IndexedDBCryptoStore.STORE_ACCOUNT],t=>{this._getAccount(t,t=>{e=JSON.parse(t.one_time_keys())})}),e},c.prototype.maxNumberOfOneTimeKeys=function(){return this._maxOneTimeKeys},c.prototype.markKeysAsPublished=async function(){await this._cryptoStore.doTxn("readwrite",[s.IndexedDBCryptoStore.STORE_ACCOUNT],e=>{this._getAccount(e,t=>{t.mark_keys_as_published(),this._storeAccount(e,t)})})},c.prototype.generateOneTimeKeys=function(e){return this._cryptoStore.doTxn("readwrite",[s.IndexedDBCryptoStore.STORE_ACCOUNT],t=>{this._getAccount(t,n=>{n.generate_one_time_keys(e),this._storeAccount(t,n)})})},c.prototype.createOutboundSession=async function(e,t){let n;return await this._cryptoStore.doTxn("readwrite",[s.IndexedDBCryptoStore.STORE_ACCOUNT,s.IndexedDBCryptoStore.STORE_SESSIONS],i=>{this._getAccount(i,r=>{const s=new global.Olm.Session;try{s.create_outbound(r,e,t),n=s.session_id(),this._storeAccount(i,r);const o={session:s,lastReceivedMessageTs:Date.now()};this._saveSession(e,o,i)}finally{s.free()}})}),n},c.prototype.createInboundSession=async function(e,t,n){if(0!==t)throw new Error("Need messageType == 0 to create inbound session");let i;return await this._cryptoStore.doTxn("readwrite",[s.IndexedDBCryptoStore.STORE_ACCOUNT,s.IndexedDBCryptoStore.STORE_SESSIONS],r=>{this._getAccount(r,s=>{const o=new global.Olm.Session;try{o.create_inbound_from(s,e,n),s.remove_one_time_keys(o),this._storeAccount(r,s);const a=o.decrypt(t,n),c={session:o,lastReceivedMessageTs:Date.now()};this._saveSession(e,c,r),i={payload:a,session_id:o.session_id()}}finally{o.free()}})}),i},c.prototype.getSessionIdsForDevice=async function(e){if(this._sessionsInProgress[e]){r.logger.log("waiting for olm session to be created");try{await this._sessionsInProgress[e]}catch(n){}}let t;return await this._cryptoStore.doTxn("readonly",[s.IndexedDBCryptoStore.STORE_SESSIONS],n=>{this._cryptoStore.getEndToEndSessions(e,n,e=>{t=Object.keys(e)})}),t},c.prototype.getSessionIdForDevice=async function(e,t){const n=await this.getSessionInfoForDevice(e,t);if(0===n.length)return null;let i=0;for(let r=1;r<n.length;r++){const e=n[r],t=void 0===e.lastReceivedMessageTs?0:e.lastReceivedMessageTs,s=n[i],o=void 0===s.lastReceivedMessageTs?0:s.lastReceivedMessageTs;(t>o||t===o&&e.sessionId<s.sessionId)&&(i=r)}return n[i].sessionId},c.prototype.getSessionInfoForDevice=async function(e,t){if(this._sessionsInProgress[e]&&!t){r.logger.log("waiting for olm session to be created");try{await this._sessionsInProgress[e]}catch(i){}}const n=[];return await this._cryptoStore.doTxn("readonly",[s.IndexedDBCryptoStore.STORE_SESSIONS],t=>{this._cryptoStore.getEndToEndSessions(e,t,e=>{const t=Object.keys(e).sort();for(const i of t)this._unpickleSession(e[i],e=>{n.push({lastReceivedMessageTs:e.lastReceivedMessageTs,hasReceivedMessage:e.session.has_received_message(),sessionId:i})})})}),n},c.prototype.encryptMessage=async function(e,t,n){let i;return a(n),await this._cryptoStore.doTxn("readwrite",[s.IndexedDBCryptoStore.STORE_SESSIONS],s=>{this._getSession(e,t,s,o=>{const a=o.session.describe();r.logger.log("encryptMessage: Olm Session ID "+t+" to "+e+": "+a),i=o.session.encrypt(n),this._saveSession(e,o,s)})}),i},c.prototype.decryptMessage=async function(e,t,n,i){let o;return await this._cryptoStore.doTxn("readwrite",[s.IndexedDBCryptoStore.STORE_SESSIONS],s=>{this._getSession(e,t,s,a=>{const c=a.session.describe();r.logger.log("decryptMessage: Olm Session ID "+t+" from "+e+": "+c),o=a.session.decrypt(n,i),a.lastReceivedMessageTs=Date.now(),this._saveSession(e,a,s)})}),o},c.prototype.matchesSession=async function(e,t,n,i){if(0!==n)return!1;let r;return await this._cryptoStore.doTxn("readonly",[s.IndexedDBCryptoStore.STORE_SESSIONS],n=>{this._getSession(e,t,n,e=>{r=e.session.matches_inbound(i)})}),r},c.prototype.recordSessionProblem=async function(e,t,n){await this._cryptoStore.storeEndToEndSessionProblem(e,t,n)},c.prototype.sessionMayHaveProblems=async function(e,t){return await this._cryptoStore.getEndToEndSessionProblem(e,t)},c.prototype.filterOutNotifiedErrorDevices=async function(e){return await this._cryptoStore.filterOutNotifiedErrorDevices(e)},c.prototype._saveOutboundGroupSession=function(e){const t=e.pickle(this._pickleKey);this._outboundGroupSessionStore[e.session_id()]=t},c.prototype._getOutboundGroupSession=function(e,t){const n=this._outboundGroupSessionStore[e];if(void 0===n)throw new Error("Unknown outbound group session "+e);const i=new global.Olm.OutboundGroupSession;try{return i.unpickle(this._pickleKey,n),t(i)}finally{i.free()}},c.prototype.createOutboundGroupSession=function(){const e=new global.Olm.OutboundGroupSession;try{return e.create(),this._saveOutboundGroupSession(e),e.session_id()}finally{e.free()}},c.prototype.encryptGroupMessage=function(e,t){const n=this;return r.logger.log("encrypting msg with megolm session "+e),a(t),this._getOutboundGroupSession(e,(function(e){const i=e.encrypt(t);return n._saveOutboundGroupSession(e),i}))},c.prototype.getOutboundGroupSessionKey=function(e){return this._getOutboundGroupSession(e,(function(e){return{chain_index:e.message_index(),key:e.session_key()}}))},c.prototype._unpickleInboundGroupSession=function(e,t){const n=new global.Olm.InboundGroupSession;try{return n.unpickle(this._pickleKey,e.session),t(n)}finally{n.free()}},c.prototype._getInboundGroupSession=function(e,t,n,i,r){this._cryptoStore.getEndToEndInboundGroupSession(t,n,i,(t,n)=>{if(null!==t){if(null!==e&&e!==t.room_id)throw new Error("Mismatched room_id for inbound group session (expected "+t.room_id+", was "+e+")");this._unpickleInboundGroupSession(t,e=>{r(e,t,n)})}else r(null,null,n)})},c.prototype.addInboundGroupSession=async function(e,t,n,i,o,a,c,l={}){await this._cryptoStore.doTxn("readwrite",[s.IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS,s.IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS_WITHHELD],s=>{this._getInboundGroupSession(e,t,i,s,(u,h)=>{const d=new global.Olm.InboundGroupSession;try{if(c?d.import_session(o):d.create(o),i!=d.session_id())throw new Error("Mismatched group session ID from senderKey: "+t);if(u&&(r.logger.log("Update for megolm session "+t+"/"+i),u.first_known_index()<=d.first_known_index()))return void r.logger.log("Keeping existing megolm session "+i);r.logger.info("Storing megolm session "+t+"/"+i+" with first index "+d.first_known_index());const h=Object.assign({},l,{room_id:e,session:d.pickle(this._pickleKey),keysClaimed:a,forwardingCurve25519KeyChain:n});this._cryptoStore.storeEndToEndInboundGroupSession(t,i,h,s)}finally{d.free()}})})},c.prototype.addInboundGroupSessionWithheld=async function(e,t,n,i,r){await this._cryptoStore.doTxn("readwrite",[s.IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS_WITHHELD],s=>{this._cryptoStore.storeEndToEndInboundGroupSessionWithheld(t,n,{room_id:e,code:i,reason:r},s)})};const l={"m.unverified":"The sender has disabled encrypting to unverified devices.","m.blacklisted":"The sender has blocked you.","m.unauthorised":"You are not authorised to read the message.","m.no_olm":"Unable to establish a secure channel."};function u(e){return e.code&&e.code in l?l[e.code]:e.reason?e.reason:"decryption key withheld"}t.WITHHELD_MESSAGES=l,c.prototype.decryptGroupMessage=async function(e,t,n,i,r,a){let c,l;if(await this._cryptoStore.doTxn("readwrite",[s.IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS,s.IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS_WITHHELD],s=>{this._getInboundGroupSession(e,t,n,s,(e,h,d)=>{if(null===e)return d&&(l=new o.DecryptionError("MEGOLM_UNKNOWN_INBOUND_SESSION_ID",u(d),{session:t+"|"+n})),void(c=null);let p;try{p=e.decrypt(i)}catch(f){return void(l=f&&"OLM.UNKNOWN_MESSAGE_INDEX"===f.message&&d?new o.DecryptionError("MEGOLM_UNKNOWN_INBOUND_SESSION_ID",u(d),{session:t+"|"+n}):f)}let m=p.plaintext;if(void 0===m)m=p;else{const e=t+"|"+n+"|"+p.message_index;if(e in this._inboundGroupSessionMessageIndexes){const t=this._inboundGroupSessionMessageIndexes[e];if(t.id!==r||t.timestamp!==a)return void(l=new Error("Duplicate message index, possible replay attack: "+e))}this._inboundGroupSessionMessageIndexes[e]={id:r,timestamp:a}}h.session=e.pickle(this._pickleKey),this._cryptoStore.storeEndToEndInboundGroupSession(t,n,h,s),c={result:m,keysClaimed:h.keysClaimed||{},senderKey:t,forwardingCurve25519KeyChain:h.forwardingCurve25519KeyChain||[],untrusted:h.untrusted}})}),l)throw l;return c},c.prototype.hasInboundSessionKeys=async function(e,t,n){let i;return await this._cryptoStore.doTxn("readonly",[s.IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS,s.IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS_WITHHELD],s=>{this._cryptoStore.getEndToEndInboundGroupSession(t,n,s,s=>{null!==s?e!==s.room_id?(r.logger.warn(`requested keys for inbound group session ${t}|`+n+", with incorrect room_id "+`(expected ${s.room_id}, `+`was ${e})`),i=!1):i=!0:i=!1})}),i},c.prototype.getInboundGroupSessionKey=async function(e,t,n,i){let r;return await this._cryptoStore.doTxn("readonly",[s.IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS,s.IndexedDBCryptoStore.STORE_INBOUND_GROUP_SESSIONS_WITHHELD],s=>{this._getInboundGroupSession(e,t,n,s,(e,t)=>{if(null===e)return void(r=null);void 0===i&&(i=e.first_known_index());const n=e.export_session(i);r={chain_index:i,key:n,forwarding_curve25519_key_chain:t.forwardingCurve25519KeyChain||[],sender_claimed_ed25519_key:(t.keysClaimed||{}).ed25519||null}})}),r},c.prototype.exportInboundGroupSession=function(e,t,n){return this._unpickleInboundGroupSession(n,i=>{const r=i.first_known_index();return{sender_key:e,sender_claimed_keys:n.keysClaimed,room_id:n.room_id,session_id:t,session_key:i.export_session(r),forwarding_curve25519_key_chain:i.forwardingCurve25519KeyChain||[],first_known_index:i.first_known_index()}})},c.prototype.verifySignature=function(e,t,n){this._getUtility((function(i){i.ed25519_verify(e,t,n)}))}},nmq7:function(e,t,n){"use strict";var i=n("0jNN"),r=Object.prototype.hasOwnProperty,s={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:i.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},o=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},a=function(e,t,n){if(e){var i=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/g,o=/(\[[^[\]]*])/.exec(i),a=o?i.slice(0,o.index):i,c=[];if(a){if(!n.plainObjects&&r.call(Object.prototype,a)&&!n.allowPrototypes)return;c.push(a)}for(var l=0;null!==(o=s.exec(i))&&l<n.depth;){if(l+=1,!n.plainObjects&&r.call(Object.prototype,o[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(o[1])}return o&&c.push("["+i.slice(o.index)+"]"),function(e,t,n){for(var i=t,r=e.length-1;r>=0;--r){var s,o=e[r];if("[]"===o&&n.parseArrays)s=[].concat(i);else{s=n.plainObjects?Object.create(null):{};var a="["===o.charAt(0)&&"]"===o.charAt(o.length-1)?o.slice(1,-1):o,c=parseInt(a,10);n.parseArrays||""!==a?!isNaN(c)&&o!==a&&String(c)===a&&c>=0&&n.parseArrays&&c<=n.arrayLimit?(s=[])[c]=i:s[a]=i:s={0:i}}i=s}return i}(c,t,n)}};e.exports=function(e,t){var n=function(e){if(!e)return s;if(null!=e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");return{allowDots:void 0===e.allowDots?s.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:s.allowPrototypes,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:s.arrayLimit,charset:void 0===e.charset?s.charset:e.charset,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:s.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:s.comma,decoder:"function"==typeof e.decoder?e.decoder:s.decoder,delimiter:"string"==typeof e.delimiter||i.isRegExp(e.delimiter)?e.delimiter:s.delimiter,depth:"number"==typeof e.depth?e.depth:s.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:s.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:s.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:s.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:s.strictNullHandling}}(t);if(""===e||null==e)return n.plainObjects?Object.create(null):{};for(var c="string"==typeof e?function(e,t){var n,a={},c=(t.ignoreQueryPrefix?e.replace(/^\?/,""):e).split(t.delimiter,t.parameterLimit===1/0?void 0:t.parameterLimit),l=-1,u=t.charset;if(t.charsetSentinel)for(n=0;n<c.length;++n)0===c[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===c[n]?u="utf-8":"utf8=%26%2310003%3B"===c[n]&&(u="iso-8859-1"),l=n,n=c.length);for(n=0;n<c.length;++n)if(n!==l){var h,d,p=c[n],m=p.indexOf("]="),f=-1===m?p.indexOf("="):m+1;-1===f?(h=t.decoder(p,s.decoder,u),d=t.strictNullHandling?null:""):(h=t.decoder(p.slice(0,f),s.decoder,u),d=t.decoder(p.slice(f+1),s.decoder,u)),d&&t.interpretNumericEntities&&"iso-8859-1"===u&&(d=o(d)),d&&t.comma&&d.indexOf(",")>-1&&(d=d.split(",")),a[h]=r.call(a,h)?i.combine(a[h],d):d}return a}(e,n):e,l=n.plainObjects?Object.create(null):{},u=Object.keys(c),h=0;h<u.length;++h){var d=u[h],p=a(d,c[d],n);l=i.merge(l,p,n)}return i.compact(l)}},ouil:function(e,t,n){"use strict";var i=n("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.EventTimelineSet=h;var r=n("+qE3"),s=n("tyto"),o=n("7UXS"),a=i(n("t+e4")),c=n("PrRn"),l=n("P5+E");let u;function h(e,t){this.room=e,this._timelineSupport=Boolean(t.timelineSupport),this._liveTimeline=new s.EventTimeline(this),this._unstableClientRelationAggregation=!!t.unstableClientRelationAggregation,this._timelines=[this._liveTimeline],this._eventIdToTimeline={},this._filter=t.filter||null,this._unstableClientRelationAggregation&&(this._relations={})}u=c.logger.log.bind(c.logger),a.inherits(h,r.EventEmitter),h.prototype.getTimelines=function(){return this._timelines},h.prototype.getFilter=function(){return this._filter},h.prototype.setFilter=function(e){this._filter=e},h.prototype.getPendingEvents=function(){return this.room?this._filter?this._filter.filterRoomTimeline(this.room.getPendingEvents()):this.room.getPendingEvents():[]},h.prototype.getLiveTimeline=function(){return this._liveTimeline},h.prototype.eventIdToTimeline=function(e){return this._eventIdToTimeline[e]},h.prototype.replaceEventId=function(e,t){const n=this._eventIdToTimeline[e];n&&(delete this._eventIdToTimeline[e],this._eventIdToTimeline[t]=n)},h.prototype.resetLiveTimeline=function(e,t){const n=!this._timelineSupport||!t,i=this._liveTimeline,r=n?i.forkLive(s.EventTimeline.FORWARDS):i.fork(s.EventTimeline.FORWARDS);n?(this._timelines=[r],this._eventIdToTimeline={}):this._timelines.push(r),t&&i.setPaginationToken(t,s.EventTimeline.FORWARDS),r.setPaginationToken(e,s.EventTimeline.BACKWARDS),this._liveTimeline=r,this.emit("Room.timelineReset",this.room,this,n)},h.prototype.getTimelineForEvent=function(e){const t=this._eventIdToTimeline[e];return void 0===t?null:t},h.prototype.findEventById=function(e){const t=this.getTimelineForEvent(e);if(t)return a.findElement(t.getEvents(),(function(t){return t.getId()==e}))},h.prototype.addTimeline=function(){if(!this._timelineSupport)throw new Error("timeline support is disabled. Set the 'timelineSupport' parameter to true when creating MatrixClient to enable it.");const e=new s.EventTimeline(this);return this._timelines.push(e),e},h.prototype.addEventsToTimeline=function(e,t,n,i){if(!n)throw new Error("'timeline' not specified for EventTimelineSet.addEventsToTimeline");if(!t&&n==this._liveTimeline)throw new Error("EventTimelineSet.addEventsToTimeline cannot be used for adding events to the live timeline - use Room.addLiveEvents instead");if(this._filter&&!(e=this._filter.filterRoomTimeline(e)).length)return;const r=t?s.EventTimeline.BACKWARDS:s.EventTimeline.FORWARDS,o=t?s.EventTimeline.FORWARDS:s.EventTimeline.BACKWARDS;let a=!1,l=!1;for(let h=0;h<e.length;h++){const i=e[h],d=i.getId(),p=this._eventIdToTimeline[d];if(!p){this.addEventToTimeline(i,n,t),l=!0,a=!0;continue}if(l=!1,p==n){u("Event "+d+" already in timeline "+n);continue}const m=n.getNeighbouringTimeline(r);if(m){u(p==m?"Event "+d+" in neighbouring timeline - switching to "+p:"Event "+d+" already in a different timeline "+p),n=p;continue}c.logger.info("Already have timeline for "+d+" - joining timeline "+n+" to "+p);const f=p===this._liveTimeline,g=n===this._liveTimeline,_=r===s.EventTimeline.BACKWARDS&&f,y=r===s.EventTimeline.FORWARDS&&g;_||y?(_&&c.logger.warn("Refusing to set a preceding existingTimeLine on our timeline as the existingTimeLine is live ("+p+")"),y&&c.logger.warn("Refusing to set our preceding timeline on a existingTimeLine as our timeline is live ("+n+")")):(n.setNeighbouringTimeline(p,r),p.setNeighbouringTimeline(n,o),n=p,a=!0)}if(l||!a){if(r===s.EventTimeline.FORWARDS&&n===this._liveTimeline)return c.logger.warn({lastEventWasNew:l,didUpdate:a}),void c.logger.warn(`Refusing to set forwards pagination token of live timeline ${n} to ${i}`);n.setPaginationToken(i,r)}},h.prototype.addLiveEvent=function(e,t,n){if(this._filter&&!this._filter.filterRoomTimeline([e]).length)return;const i=this._eventIdToTimeline[e.getId()];if(i)if("replace"===t){u("EventTimelineSet.addLiveEvent: replacing duplicate event "+e.getId());const t=i.getEvents();for(let n=0;n<t.length;n++)if(t[n].getId()===e.getId()){s.EventTimeline.setEventMetadata(e,i.getState(s.EventTimeline.FORWARDS),!1),t[n].encryptedType||(t[n]=e);break}}else u("EventTimelineSet.addLiveEvent: ignoring duplicate event "+e.getId());else this.addEventToTimeline(e,this._liveTimeline,!1,n)},h.prototype.addEventToTimeline=function(e,t,n,i){const r=e.getId();t.addEvent(e,n),this._eventIdToTimeline[r]=t,this.setRelationsTarget(e),this.aggregateRelations(e);const s={timeline:t,liveEvent:!n&&t==this._liveTimeline&&!i};this.emit("Room.timeline",e,this.room,Boolean(n),!1,s)},h.prototype.handleRemoteEcho=function(e,t,n){const i=this._eventIdToTimeline[t];i?(delete this._eventIdToTimeline[t],this._eventIdToTimeline[n]=i):this._filter?this._filter.filterRoomTimeline([e]).length&&this.addEventToTimeline(e,this._liveTimeline,!1):this.addEventToTimeline(e,this._liveTimeline,!1)},h.prototype.removeEvent=function(e){const t=this._eventIdToTimeline[e];if(!t)return null;const n=t.removeEvent(e);return n&&(delete this._eventIdToTimeline[e],this.emit("Room.timeline",n,this.room,void 0,!0,{timeline:t})),n},h.prototype.compareEventOrdering=function(e,t){if(e==t)return 0;const n=this._eventIdToTimeline[e],i=this._eventIdToTimeline[t];if(void 0===n)return null;if(void 0===i)return null;if(n===i){let i,r;const s=n.getEvents();for(let n=0;n<s.length&&(void 0===i||void 0===r);n++){const o=s[n].getId();o==e&&(i=n),o==t&&(r=n)}return i-r}let r=n;for(;r;){if(r===i)return-1;r=r.getNeighbouringTimeline(s.EventTimeline.FORWARDS)}for(r=n;r;){if(r===i)return 1;r=r.getNeighbouringTimeline(s.EventTimeline.BACKWARDS)}return null},h.prototype.getRelationsForEvent=function(e,t,n){if(!this._unstableClientRelationAggregation)throw new Error("Client-side relation aggregation is disabled");if(!e||!t||!n)throw new Error("Invalid arguments for `getRelationsForEvent`");return((this._relations[e]||{})[t]||{})[n]},h.prototype.setRelationsTarget=function(e){if(!this._unstableClientRelationAggregation)return;const t=this._relations[e.getId()];if(!t)return;const n=t["m.replace"];if(!n)return;const i=n["m.room.message"];i&&i.setTargetEvent(e)},h.prototype.aggregateRelations=function(e){if(!this._unstableClientRelationAggregation)return;if(e.isRedacted()||e.status===o.EventStatus.CANCELLED)return;if(e.isBeingDecrypted())return void e.once("Event.decrypted",()=>{this.aggregateRelations(e)});const t=e.getRelation();if(!t)return;const n=t.event_id,i=t.rel_type,r=e.getType();let s=this._relations[n];s||(s=this._relations[n]={});let a=s[i];a||(a=s[i]={});let c,u=a[r],h=!1;u||(u=a[r]=new l.Relations(i,r,this.room),h=!0,c=this.findEventById(n),c&&u.setTargetEvent(c)),u.addEvent(e),h&&c&&c.emit("Event.relationsCreated",i,r)}},pv4t:function(e,t,n){"use strict";var i=n("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.DeviceList=void 0;var r=n("+qE3"),s=n("PrRn"),o=n("Nfwx"),a=n("h3nd"),c=i(n("VRzr")),l=n("qN7M"),u=n("t+e4");t.DeviceList=class extends r.EventEmitter{constructor(e,t,n){super(),this._cryptoStore=t,this._devices={},this._crossSigningInfo={},this._userByIdentityKey={},this._deviceTrackingStatus={},this._syncToken=null,this._serialiser=new h(e,n,this),this._keyDownloadsInProgressByUser={},this._dirty=!1,this._savePromise=null,this._resolveSavePromise=null,this._savePromiseTime=null,this._saveTimer=null,this._hasFetched=null}async load(){await this._cryptoStore.doTxn("readonly",[l.IndexedDBCryptoStore.STORE_DEVICE_DATA],e=>{this._cryptoStore.getEndToEndDeviceData(e,e=>{this._hasFetched=Boolean(e&&e.devices),this._devices=e?e.devices:{},this._crossSigningInfo=e&&e.crossSigningInfo||{},this._deviceTrackingStatus=e?e.trackingStatus:{},this._syncToken=e?e.syncToken:null,this._userByIdentityKey={};for(const t of Object.keys(this._devices)){const e=this._devices[t];for(const n of Object.keys(e)){const i=e[n].keys["curve25519:"+n];void 0!==i&&(this._userByIdentityKey[i]=t)}}})});for(const e of Object.keys(this._deviceTrackingStatus))2==this._deviceTrackingStatus[e]&&(this._deviceTrackingStatus[e]=1)}stop(){null!==this._saveTimer&&clearTimeout(this._saveTimer)}async saveIfDirty(e){if(!this._dirty)return Promise.resolve(!1);void 0===e&&(e=500);const t=Date.now+e;this._savePromiseTime&&t<this._savePromiseTime&&(clearTimeout(this._saveTimer),this._saveTimer=null,this._savePromiseTime=null);let n=this._savePromise;if(null===n&&(n=new Promise((e,t)=>{this._resolveSavePromise=e}),this._savePromise=n),null===this._saveTimer){const n=this._resolveSavePromise;this._savePromiseTime=t,this._saveTimer=setTimeout(()=>{s.logger.log("Saving device tracking data",this._syncToken),this._savePromiseTime=null,this._saveTimer=null,this._savePromise=null,this._resolveSavePromise=null,this._cryptoStore.doTxn("readwrite",[l.IndexedDBCryptoStore.STORE_DEVICE_DATA],e=>{this._cryptoStore.storeEndToEndDeviceData({devices:this._devices,crossSigningInfo:this._crossSigningInfo,trackingStatus:this._deviceTrackingStatus,syncToken:this._syncToken},e)}).then(()=>{this._dirty=!1,n()},e=>{s.logger.error("Failed to save device tracking data",this._syncToken),s.logger.error(e)})},e)}return n}getSyncToken(){return this._syncToken}setSyncToken(e){this._syncToken=e}downloadKeys(e,t){const n=[],i=[];if(e.forEach(e=>{const r=this._deviceTrackingStatus[e];this._keyDownloadsInProgressByUser[e]?(s.logger.log("downloadKeys: already have a download in progress for "+e+": awaiting its result"),i.push(this._keyDownloadsInProgressByUser[e])):(t||3!=r)&&n.push(e)}),0!=n.length){s.logger.log("downloadKeys: downloading for",n);const e=this._doKeyDownload(n);i.push(e)}return 0===i.length&&s.logger.log("downloadKeys: already have all necessary keys"),Promise.all(i).then(()=>this._getDevicesFromStore(e))}_getDevicesFromStore(e){const t={},n=this;return e.map((function(e){t[e]={},(n.getStoredDevicesForUser(e)||[]).map((function(n){t[e][n.deviceId]=n}))})),t}getKnownUserIds(){return Object.keys(this._devices)}getStoredDevicesForUser(e){const t=this._devices[e];if(!t)return null;const n=[];for(const i in t)t.hasOwnProperty(i)&&n.push(o.DeviceInfo.fromStorage(t[i],i));return n}getRawStoredDevicesForUser(e){return this._devices[e]}getStoredCrossSigningForUser(e){return this._crossSigningInfo[e]?a.CrossSigningInfo.fromStorage(this._crossSigningInfo[e],e):null}storeCrossSigningForUser(e,t){this._crossSigningInfo[e]=t,this._dirty=!0}getStoredDevice(e,t){const n=this._devices[e];if(n&&n[t])return o.DeviceInfo.fromStorage(n[t],t)}getUserByIdentityKey(e,t){return e!==c.OLM_ALGORITHM&&e!==c.MEGOLM_ALGORITHM?null:this._userByIdentityKey[t]}getDeviceByIdentityKey(e,t){const n=this.getUserByIdentityKey(e,t);if(!n)return null;const i=this._devices[n];if(!i)return null;for(const r in i){if(!i.hasOwnProperty(r))continue;const e=i[r];for(const n in e.keys)if(e.keys.hasOwnProperty(n)&&0===n.indexOf("curve25519:")&&e.keys[n]==t)return o.DeviceInfo.fromStorage(e,r)}return null}storeDevicesForUser(e,t){if(void 0!==this._devices[e])for(const[n,i]of Object.entries(this._devices[e]))delete this._userByIdentityKey[i.keys["curve25519:"+n]];this._devices[e]=t;for(const[n,i]of Object.entries(t))this._userByIdentityKey[i.keys["curve25519:"+n]]=e;this._dirty=!0}startTrackingDeviceList(e){if("string"!=typeof e)throw new Error("userId must be a string; was "+e);this._deviceTrackingStatus[e]||(s.logger.log("Now tracking device list for "+e),this._deviceTrackingStatus[e]=1,this._dirty=!0)}stopTrackingDeviceList(e){this._deviceTrackingStatus[e]&&(s.logger.log("No longer tracking device list for "+e),this._deviceTrackingStatus[e]=0,this._dirty=!0)}stopTrackingAllDeviceLists(){for(const e of Object.keys(this._deviceTrackingStatus))this._deviceTrackingStatus[e]=0;this._dirty=!0}invalidateUserDeviceList(e){this._deviceTrackingStatus[e]&&(s.logger.log("Marking device list outdated for",e),this._deviceTrackingStatus[e]=1,this._dirty=!0)}refreshOutdatedDeviceLists(){this.saveIfDirty();const e=[];for(const t of Object.keys(this._deviceTrackingStatus))1==this._deviceTrackingStatus[t]&&e.push(t);return this._doKeyDownload(e)}_setRawStoredDevicesForUser(e,t){if(void 0!==this._devices[e])for(const[n,i]of Object.entries(this._devices[e]))delete this._userByIdentityKey[i.keys["curve25519:"+n]];this._devices[e]=t;for(const[n,i]of Object.entries(t))this._userByIdentityKey[i.keys["curve25519:"+n]]=e}setRawStoredCrossSigningForUser(e,t){this._crossSigningInfo[e]=t}_doKeyDownload(e){if(0===e.length)return Promise.resolve();const t=this._serialiser.updateDevicesForUsers(e,this._syncToken).then(()=>{n(!0)},t=>{throw s.logger.error("Error downloading keys for "+e+":",t),n(!1),t});e.forEach(e=>{this._keyDownloadsInProgressByUser[e]=t,1==this._deviceTrackingStatus[e]&&(this._deviceTrackingStatus[e]=2)});const n=n=>{this.emit("crypto.willUpdateDevices",e,!this._hasFetched),e.forEach(e=>{this._dirty=!0,this._keyDownloadsInProgressByUser[e]===t?(delete this._keyDownloadsInProgressByUser[e],2==this._deviceTrackingStatus[e]&&(n?(this._deviceTrackingStatus[e]=3,s.logger.log("Device list for",e,"now up to date")):this._deviceTrackingStatus[e]=1)):s.logger.log("Another update in the queue for",e,"- not marking up-to-date")}),this.saveIfDirty(),this.emit("crypto.devicesUpdated",e,!this._hasFetched),this._hasFetched=!0};return t}};class h{constructor(e,t,n){this._baseApis=e,this._olmDevice=t,this._deviceList=n,this._downloadInProgress=!1,this._keyDownloadsQueuedByUser={},this._queuedQueryDeferred=null,this._syncToken=null}updateDevicesForUsers(e,t){return e.forEach(e=>{this._keyDownloadsQueuedByUser[e]=!0}),this._queuedQueryDeferred||(this._queuedQueryDeferred=(0,u.defer)()),this._syncToken=t,this._downloadInProgress?(s.logger.log("Queued key download for",e),this._queuedQueryDeferred.promise):this._doQueuedQueries()}_doQueuedQueries(){if(this._downloadInProgress)throw new Error("DeviceListUpdateSerialiser._doQueuedQueries called with request active");const e=Object.keys(this._keyDownloadsQueuedByUser);this._keyDownloadsQueuedByUser={};const t=this._queuedQueryDeferred;this._queuedQueryDeferred=null,s.logger.log("Starting key download for",e),this._downloadInProgress=!0;const n={};return this._syncToken&&(n.token=this._syncToken),this._baseApis.downloadKeysForUsers(e,n).then(async t=>{const n=t.device_keys||{},i=t.master_keys||{},r=t.self_signing_keys||{},o=t.user_signing_keys||{};for(const c of e){await(0,u.sleep)(5);try{await this._processQueryResponseForUser(c,n[c],{master:i[c],self_signing:r[c],user_signing:o[c]})}catch(a){s.logger.error(`Error processing keys for ${c}:`,a)}}}).then(()=>{s.logger.log("Completed key download for "+e),this._downloadInProgress=!1,t.resolve(),this._queuedQueryDeferred&&this._doQueuedQueries()},n=>{s.logger.warn("Error downloading keys for "+e+":",n),this._downloadInProgress=!1,t.reject(n)}),t.promise}async _processQueryResponseForUser(e,t,n){s.logger.log("got device keys for "+e+":",t),s.logger.log("got cross-signing keys for "+e+":",n);{const n={},i=this._deviceList.getRawStoredDevicesForUser(e);i&&Object.keys(i).forEach(e=>{const t=o.DeviceInfo.fromStorage(i[e],e);n[e]=t}),await async function(e,t,n,i){let r=!1;for(const o in n)n.hasOwnProperty(o)&&(o in i||(s.logger.log("Device "+t+":"+o+" has been removed"),delete n[o],r=!0));for(const o in i){if(!i.hasOwnProperty(o))continue;const a=i[o];a.user_id===t?a.device_id===o?await d(e,n,a)&&(r=!0):s.logger.warn("Mismatched device_id "+a.device_id+" in keys from "+t+":"+o):s.logger.warn("Mismatched user_id "+a.user_id+" in keys from "+t+":"+o)}return r}(this._olmDevice,e,n,t||{});const r={};Object.keys(n).forEach(e=>{r[e]=n[e].toStorage()}),this._deviceList._setRawStoredDevicesForUser(e,r)}if(n&&(n.master||n.self_signing||n.user_signing)){const t=this._deviceList.getStoredCrossSigningForUser(e)||new a.CrossSigningInfo(e);t.setKeys(n),this._deviceList.setRawStoredCrossSigningForUser(e,t.toStorage()),this._deviceList.emit("userCrossSigningUpdated",e)}}}async function d(e,t,n){if(!n.keys)return!1;const i=n.device_id,r=n.user_id,a=n.keys["ed25519:"+i];if(!a)return s.logger.warn("Device "+r+":"+i+" has no ed25519 key"),!1;const l=n.unsigned||{},u=n.signatures||{};try{await c.verifySignature(e,n,r,i,a)}catch(d){return s.logger.warn("Unable to verify signature on device "+r+":"+i+":"+d),!1}let h;if(i in t){if(h=t[i],h.getFingerprint()!=a)return s.logger.warn("Ed25519 key for device "+r+":"+i+" has changed"),!1}else t[i]=h=new o.DeviceInfo(i);return h.keys=n.keys||{},h.algorithms=n.algorithms||[],h.unsigned=l,h.signatures=u,!0}},qN7M:function(e,t,n){"use strict";var i=n("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.IndexedDBCryptoStore=void 0;var r=n("PrRn"),s=n("M2bJ"),o=n("qdUr"),a=i(n("/3Bh")),c=n("Hzpt"),l=i(n("BLwL"));class u{constructor(e,t){this._indexedDB=e,this._dbName=t,this._backendPromise=null,this._backend=null}static exists(e,t){return l.exists(e,t)}startup(){return this._backendPromise||(this._backendPromise=new Promise((e,t)=>{if(!this._indexedDB)return void t(new Error("no indexeddb support available"));r.logger.log("connecting to indexeddb "+this._dbName);const n=this._indexedDB.open(this._dbName,a.VERSION);n.onupgradeneeded=e=>{a.upgradeDatabase(e.target.result,e.oldVersion)},n.onblocked=()=>{r.logger.log("can't yet open IndexedDBCryptoStore because it is open elsewhere")},n.onerror=e=>{r.logger.log("Error connecting to indexeddb",e),t(e.target.error)},n.onsuccess=t=>{const n=t.target.result;r.logger.log("connected to indexeddb "+this._dbName),e(new a.Backend(n))}}).then(e=>e.doTxn("readonly",[u.STORE_INBOUND_GROUP_SESSIONS,u.STORE_INBOUND_GROUP_SESSIONS_WITHHELD],t=>{e.getEndToEndInboundGroupSession("","",t,()=>{})}).then(()=>e)).catch(e=>{if("VersionError"===e.name)throw r.logger.warn("Crypto DB is too new for us to use!",e),new c.InvalidCryptoStoreError(c.InvalidCryptoStoreError.TOO_NEW);r.logger.warn("unable to connect to indexeddb "+this._dbName+": falling back to localStorage store: "+e);try{return new s.LocalStorageCryptoStore(global.localStorage)}catch(e){return r.logger.warn("unable to open localStorage: falling back to in-memory store: "+e),new o.MemoryCryptoStore}}).then(e=>{this._backend=e})),this._backendPromise}deleteAllData(){return new Promise((e,t)=>{if(!this._indexedDB)return void t(new Error("no indexeddb support available"));r.logger.log("Removing indexeddb instance: "+this._dbName);const n=this._indexedDB.deleteDatabase(this._dbName);n.onblocked=()=>{r.logger.log("can't yet delete IndexedDBCryptoStore because it is open elsewhere")},n.onerror=e=>{r.logger.log("Error deleting data from indexeddb",e),t(e.target.error)},n.onsuccess=()=>{r.logger.log("Removed indexeddb instance: "+this._dbName),e()}}).catch(e=>{r.logger.warn("unable to delete IndexedDBCryptoStore: "+e)})}getOrAddOutgoingRoomKeyRequest(e){return this._backend.getOrAddOutgoingRoomKeyRequest(e)}getOutgoingRoomKeyRequest(e){return this._backend.getOutgoingRoomKeyRequest(e)}getOutgoingRoomKeyRequestByState(e){return this._backend.getOutgoingRoomKeyRequestByState(e)}getAllOutgoingRoomKeyRequestsByState(e){return this._backend.getAllOutgoingRoomKeyRequestsByState(e)}getOutgoingRoomKeyRequestsByTarget(e,t,n){return this._backend.getOutgoingRoomKeyRequestsByTarget(e,t,n)}updateOutgoingRoomKeyRequest(e,t,n){return this._backend.updateOutgoingRoomKeyRequest(e,t,n)}deleteOutgoingRoomKeyRequest(e,t){return this._backend.deleteOutgoingRoomKeyRequest(e,t)}getAccount(e,t){this._backend.getAccount(e,t)}storeAccount(e,t){this._backend.storeAccount(e,t)}getCrossSigningKeys(e,t){this._backend.getCrossSigningKeys(e,t)}getSecretStorePrivateKey(e,t,n){this._backend.getSecretStorePrivateKey(e,t,n)}storeCrossSigningKeys(e,t){this._backend.storeCrossSigningKeys(e,t)}storeSecretStorePrivateKey(e,t,n){this._backend.storeSecretStorePrivateKey(e,t,n)}countEndToEndSessions(e,t){this._backend.countEndToEndSessions(e,t)}getEndToEndSession(e,t,n,i){this._backend.getEndToEndSession(e,t,n,i)}getEndToEndSessions(e,t,n){this._backend.getEndToEndSessions(e,t,n)}getAllEndToEndSessions(e,t){this._backend.getAllEndToEndSessions(e,t)}storeEndToEndSession(e,t,n,i){this._backend.storeEndToEndSession(e,t,n,i)}storeEndToEndSessionProblem(e,t,n){return this._backend.storeEndToEndSessionProblem(e,t,n)}getEndToEndSessionProblem(e,t){return this._backend.getEndToEndSessionProblem(e,t)}filterOutNotifiedErrorDevices(e){return this._backend.filterOutNotifiedErrorDevices(e)}getEndToEndInboundGroupSession(e,t,n,i){this._backend.getEndToEndInboundGroupSession(e,t,n,i)}getAllEndToEndInboundGroupSessions(e,t){this._backend.getAllEndToEndInboundGroupSessions(e,t)}addEndToEndInboundGroupSession(e,t,n,i){this._backend.addEndToEndInboundGroupSession(e,t,n,i)}storeEndToEndInboundGroupSession(e,t,n,i){this._backend.storeEndToEndInboundGroupSession(e,t,n,i)}storeEndToEndInboundGroupSessionWithheld(e,t,n,i){this._backend.storeEndToEndInboundGroupSessionWithheld(e,t,n,i)}storeEndToEndDeviceData(e,t){this._backend.storeEndToEndDeviceData(e,t)}getEndToEndDeviceData(e,t){this._backend.getEndToEndDeviceData(e,t)}storeEndToEndRoom(e,t,n){this._backend.storeEndToEndRoom(e,t,n)}getEndToEndRooms(e,t){this._backend.getEndToEndRooms(e,t)}getSessionsNeedingBackup(e){return this._backend.getSessionsNeedingBackup(e)}countSessionsNeedingBackup(e){return this._backend.countSessionsNeedingBackup(e)}unmarkSessionsNeedingBackup(e,t){return this._backend.unmarkSessionsNeedingBackup(e,t)}markSessionsNeedingBackup(e,t){return this._backend.markSessionsNeedingBackup(e,t)}doTxn(e,t,n){return this._backend.doTxn(e,t,n)}}t.IndexedDBCryptoStore=u,u.STORE_ACCOUNT="account",u.STORE_SESSIONS="sessions",u.STORE_INBOUND_GROUP_SESSIONS="inbound_group_sessions",u.STORE_INBOUND_GROUP_SESSIONS_WITHHELD="inbound_group_sessions_withheld",u.STORE_DEVICE_DATA="device_data",u.STORE_ROOMS="rooms",u.STORE_BACKUP="sessions_needing_backup"},qdUr:function(e,t,n){"use strict";var i=n("284h"),r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.MemoryCryptoStore=void 0;var s=r(n("lSNA")),o=n("PrRn"),a=i(n("t+e4"));function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,s.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.MemoryCryptoStore=class{constructor(){this._outgoingRoomKeyRequests=[],this._account=null,this._crossSigningKeys=null,this._privateKeys={},this._backupKeys={},this._sessions={},this._sessionProblems={},this._notifiedErrorDevices={},this._inboundGroupSessions={},this._inboundGroupSessionsWithheld={},this._deviceData=null,this._rooms={},this._sessionsNeedingBackup={}}async startup(){return this}deleteAllData(){return Promise.resolve()}getOrAddOutgoingRoomKeyRequest(e){const t=e.requestBody;return a.promiseTry(()=>{const n=this._getOutgoingRoomKeyRequest(t);return n?(o.logger.log(`already have key request outstanding for ${t.room_id} / ${t.session_id}: not sending another`),n):(o.logger.log(`enqueueing key request for ${t.room_id} / `+t.session_id),this._outgoingRoomKeyRequests.push(e),e)})}getOutgoingRoomKeyRequest(e){return Promise.resolve(this._getOutgoingRoomKeyRequest(e))}_getOutgoingRoomKeyRequest(e){for(const t of this._outgoingRoomKeyRequests)if(a.deepCompare(t.requestBody,e))return t;return null}getOutgoingRoomKeyRequestByState(e){for(const t of this._outgoingRoomKeyRequests)for(const n of e)if(t.state===n)return Promise.resolve(t);return Promise.resolve(null)}getAllOutgoingRoomKeyRequestsByState(e){return Promise.resolve(this._outgoingRoomKeyRequests.filter(t=>t.state==e))}getOutgoingRoomKeyRequestsByTarget(e,t,n){const i=[];for(const r of this._outgoingRoomKeyRequests)for(const s of n)r.state===s&&r.recipients.includes({userId:e,deviceId:t})&&i.push(r);return Promise.resolve(i)}updateOutgoingRoomKeyRequest(e,t,n){for(const i of this._outgoingRoomKeyRequests)if(i.requestId===e)return i.state!=t?(o.logger.warn(`Cannot update room key request from ${t} as it was already updated to `+i.state),Promise.resolve(null)):(Object.assign(i,n),Promise.resolve(i));return Promise.resolve(null)}deleteOutgoingRoomKeyRequest(e,t){for(let n=0;n<this._outgoingRoomKeyRequests.length;n++){const i=this._outgoingRoomKeyRequests[n];if(i.requestId===e)return i.state!=t?(o.logger.warn(`Cannot delete room key request in state ${i.state} (expected ${t})`),Promise.resolve(null)):(this._outgoingRoomKeyRequests.splice(n,1),Promise.resolve(i))}return Promise.resolve(null)}getAccount(e,t){t(this._account)}storeAccount(e,t){this._account=t}getCrossSigningKeys(e,t){t(this._crossSigningKeys)}getSecretStorePrivateKey(e,t,n){return t(this._privateKeys[n]||null)}storeCrossSigningKeys(e,t){this._crossSigningKeys=t}storeSecretStorePrivateKey(e,t,n){this._privateKeys[t]=n}countEndToEndSessions(e,t){return Object.keys(this._sessions).length}getEndToEndSession(e,t,n,i){i((this._sessions[e]||{})[t]||null)}getEndToEndSessions(e,t,n){n(this._sessions[e]||{})}getAllEndToEndSessions(e,t){Object.entries(this._sessions).forEach(([e,n])=>{Object.entries(n).forEach(([n,i])=>{t(l(l({},i),{},{deviceKey:e,sessionId:n}))})})}storeEndToEndSession(e,t,n,i){let r=this._sessions[e];void 0===r&&(r={},this._sessions[e]=r),r[t]=n}async storeEndToEndSessionProblem(e,t,n){const i=this._sessionProblems[e]=this._sessionProblems[e]||[];i.push({type:t,fixed:n,time:Date.now()}),i.sort((e,t)=>e.time-t.time)}async getEndToEndSessionProblem(e,t){const n=this._sessionProblems[e]||[];if(!n.length)return null;const i=n[n.length-1];for(const r of n)if(r.time>t)return Object.assign({},r,{fixed:i.fixed});return i.fixed?null:i}async filterOutNotifiedErrorDevices(e){const t=this._notifiedErrorDevices,n=[];for(const i of e){const{userId:e,deviceInfo:r}=i;e in t?r.deviceId in t[e]||(n.push(i),t[e][r.deviceId]=!0):(n.push(i),t[e]={[r.deviceId]:!0})}return n}getEndToEndInboundGroupSession(e,t,n,i){const r=e+"/"+t;i(this._inboundGroupSessions[r]||null,this._inboundGroupSessionsWithheld[r]||null)}getAllEndToEndInboundGroupSessions(e,t){for(const n of Object.keys(this._inboundGroupSessions))t({senderKey:n.substr(0,43),sessionId:n.substr(44),sessionData:this._inboundGroupSessions[n]});t(null)}addEndToEndInboundGroupSession(e,t,n,i){const r=e+"/"+t;void 0===this._inboundGroupSessions[r]&&(this._inboundGroupSessions[r]=n)}storeEndToEndInboundGroupSession(e,t,n,i){this._inboundGroupSessions[e+"/"+t]=n}storeEndToEndInboundGroupSessionWithheld(e,t,n,i){this._inboundGroupSessionsWithheld[e+"/"+t]=n}getEndToEndDeviceData(e,t){t(this._deviceData)}storeEndToEndDeviceData(e,t){this._deviceData=e}storeEndToEndRoom(e,t,n){this._rooms[e]=t}getEndToEndRooms(e,t){t(this._rooms)}getSessionsNeedingBackup(e){const t=[];for(const n in this._sessionsNeedingBackup)if(this._inboundGroupSessions[n]&&(t.push({senderKey:n.substr(0,43),sessionId:n.substr(44),sessionData:this._inboundGroupSessions[n]}),e&&n.length>=e))break;return Promise.resolve(t)}countSessionsNeedingBackup(){return Promise.resolve(Object.keys(this._sessionsNeedingBackup).length)}unmarkSessionsNeedingBackup(e){for(const t of e)delete this._sessionsNeedingBackup[t.senderKey+"/"+t.sessionId];return Promise.resolve()}markSessionsNeedingBackup(e){for(const t of e)this._sessionsNeedingBackup[t.senderKey+"/"+t.sessionId]=!0;return Promise.resolve()}doTxn(e,t,n){return Promise.resolve(n(null))}}},qmDw:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.keyFromAuthData=async function(e,t){if(!global.Olm)throw new Error("Olm is not available");if(!e.private_key_salt||!e.private_key_iterations)throw new Error("Salt and/or iterations not found: this backup cannot be restored with a passphrase");return await r(t,e.private_key_salt,e.private_key_iterations,e.private_key_bits||256)},t.keyFromPassphrase=async function(e){if(!global.Olm)throw new Error("Olm is not available");const t=(0,i.randomString)(32);return{key:await r(e,t,5e5,256),salt:t,iterations:5e5}},t.deriveKey=r;var i=n("PwFS");async function r(e,t,n,i=256){const r=global.crypto.subtle,s=global.TextEncoder;if(!r||!s)throw new Error("Password-based backup is not avaiable on this platform");const o=await r.importKey("raw",(new s).encode(e),{name:"PBKDF2"},!1,["deriveBits"]),a=await r.deriveBits({name:"PBKDF2",salt:(new s).encode(t),iterations:n,hash:"SHA-512"},o,i);return new Uint8Array(a)}},r8II:function(e,t,n){"use strict";t.decode=t.parse=n("YcCt"),t.encode=t.stringify=n("6MUB")},rWBP:function(e,t,n){"use strict";var i=n("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.User=o;var r=i(n("t+e4")),s=n("+qE3");function o(e){this.userId=e,this.presence="offline",this.presenceStatusMsg=null,this._unstable_statusMessage="",this.displayName=e,this.rawDisplayName=e,this.avatarUrl=null,this.lastActiveAgo=0,this.lastPresenceTs=0,this.currentlyActive=!1,this.events={presence:null,profile:null},this._updateModifiedTime()}r.inherits(o,s.EventEmitter),o.prototype.setPresenceEvent=function(e){if("m.presence"!==e.getType())return;const t=null===this.events.presence;this.events.presence=e;const n=[];(e.getContent().presence!==this.presence||t)&&n.push("User.presence"),e.getContent().avatar_url&&e.getContent().avatar_url!==this.avatarUrl&&n.push("User.avatarUrl"),e.getContent().displayname&&e.getContent().displayname!==this.displayName&&n.push("User.displayName"),void 0!==e.getContent().currently_active&&e.getContent().currently_active!==this.currentlyActive&&n.push("User.currentlyActive"),this.presence=e.getContent().presence,n.push("User.lastPresenceTs"),e.getContent().status_msg&&(this.presenceStatusMsg=e.getContent().status_msg),e.getContent().displayname&&(this.displayName=e.getContent().displayname),e.getContent().avatar_url&&(this.avatarUrl=e.getContent().avatar_url),this.lastActiveAgo=e.getContent().last_active_ago,this.lastPresenceTs=Date.now(),this.currentlyActive=e.getContent().currently_active,this._updateModifiedTime();for(let i=0;i<n.length;i++)this.emit(n[i],e,this)},o.prototype.setDisplayName=function(e){const t=this.displayName;this.displayName=e,e!==t&&this._updateModifiedTime()},o.prototype.setRawDisplayName=function(e){this.rawDisplayName=e},o.prototype.setAvatarUrl=function(e){const t=this.avatarUrl;this.avatarUrl=e,e!==t&&this._updateModifiedTime()},o.prototype._updateModifiedTime=function(){this._modified=Date.now()},o.prototype.getLastModifiedTime=function(){return this._modified},o.prototype.getLastActiveTs=function(){return this.lastPresenceTs-this.lastActiveAgo},o.prototype._unstable_updateStatusMessage=function(e){this._unstable_statusMessage=e.getContent()?e.getContent().status:"",this._updateModifiedTime(),this.emit("User._unstable_statusMessage",this)}},rWzI:function(e,t,n){(function(e){var i;!function(r){"object"==typeof global&&global;var s,o=2147483647,a=/^xn--/,c=/[^\x20-\x7E]/,l=/[\x2E\u3002\uFF0E\uFF61]/g,u={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},h=Math.floor,d=String.fromCharCode;function p(e){throw RangeError(u[e])}function m(e,t){for(var n=e.length,i=[];n--;)i[n]=t(e[n]);return i}function f(e,t){var n=e.split("@"),i="";return n.length>1&&(i=n[0]+"@",e=n[1]),i+m((e=e.replace(l,".")).split("."),t).join(".")}function g(e){for(var t,n,i=[],r=0,s=e.length;r<s;)(t=e.charCodeAt(r++))>=55296&&t<=56319&&r<s?56320==(64512&(n=e.charCodeAt(r++)))?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),r--):i.push(t);return i}function _(e){return m(e,(function(e){var t="";return e>65535&&(t+=d((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+d(e)})).join("")}function y(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function v(e,t,n){var i=0;for(e=n?h(e/700):e>>1,e+=h(e/t);e>455;i+=36)e=h(e/35);return h(i+36*e/(e+38))}function b(e){var t,n,i,r,s,a,c,l,u,d,m,f=[],g=e.length,y=0,b=128,w=72;for((n=e.lastIndexOf("-"))<0&&(n=0),i=0;i<n;++i)e.charCodeAt(i)>=128&&p("not-basic"),f.push(e.charCodeAt(i));for(r=n>0?n+1:0;r<g;){for(s=y,a=1,c=36;r>=g&&p("invalid-input"),((l=(m=e.charCodeAt(r++))-48<10?m-22:m-65<26?m-65:m-97<26?m-97:36)>=36||l>h((o-y)/a))&&p("overflow"),y+=l*a,!(l<(u=c<=w?1:c>=w+26?26:c-w));c+=36)a>h(o/(d=36-u))&&p("overflow"),a*=d;w=v(y-s,t=f.length+1,0==s),h(y/t)>o-b&&p("overflow"),b+=h(y/t),y%=t,f.splice(y++,0,b)}return _(f)}function w(e){var t,n,i,r,s,a,c,l,u,m,f,_,b,w,S,E=[];for(_=(e=g(e)).length,t=128,n=0,s=72,a=0;a<_;++a)(f=e[a])<128&&E.push(d(f));for(i=r=E.length,r&&E.push("-");i<_;){for(c=o,a=0;a<_;++a)(f=e[a])>=t&&f<c&&(c=f);for(c-t>h((o-n)/(b=i+1))&&p("overflow"),n+=(c-t)*b,t=c,a=0;a<_;++a)if((f=e[a])<t&&++n>o&&p("overflow"),f==t){for(l=n,u=36;!(l<(m=u<=s?1:u>=s+26?26:u-s));u+=36)E.push(d(y(m+(S=l-m)%(w=36-m),0))),l=h(S/w);E.push(d(y(l,0))),s=v(n,b,i==r),n=0,++i}++n,++t}return E.join("")}s={version:"1.3.2",ucs2:{decode:g,encode:_},decode:b,encode:w,toASCII:function(e){return f(e,(function(e){return c.test(e)?"xn--"+w(e):e}))},toUnicode:function(e){return f(e,(function(e){return a.test(e)?b(e.slice(4).toLowerCase()):e}))}},void 0===(i=(function(){return s}).call(t,n,t,e))||(e.exports=i)}()}).call(this,n("YuTi")(e))},sxOR:function(e,t,n){"use strict";var i=String.prototype.replace,r=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return i.call(e,r,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},"t+e4":function(e,t,n){"use strict";var i=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.encodeParams=function(e){let t="";for(const n in e)e.hasOwnProperty(n)&&(t+="&"+encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.substring(1)},t.encodeUri=function(e,t){for(const n in t)t.hasOwnProperty(n)&&(e=e.replace(n,encodeURIComponent(t[n])));return e},t.map=function(e,t){const n=new Array(e.length);for(let i=0;i<e.length;i++)n[i]=t(e[i]);return n},t.filter=function(e,t){const n=[];for(let i=0;i<e.length;i++)t(e[i],i,e)&&n.push(e[i]);return n},t.keys=function(e){const t=[];for(const n in e)e.hasOwnProperty(n)&&t.push(n);return t},t.values=function(e){const t=[];for(const n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t},t.forEach=function(e,t){for(let n=0;n<e.length;n++)t(e[n],n)},t.findElement=function(e,t,n){let i;if(n){for(i=e.length-1;i>=0;i--)if(t(e[i],i,e))return e[i]}else for(i=0;i<e.length;i++)if(t(e[i],i,e))return e[i]},t.removeElement=function(e,t,n){let i,r;if(n){for(i=e.length-1;i>=0;i--)if(t(e[i],i,e))return r=e[i],e.splice(i,1),r}else for(i=0;i<e.length;i++)if(t(e[i],i,e))return r=e[i],e.splice(i,1),r;return!1},t.isFunction=function(e){return"[object Function]"===Object.prototype.toString.call(e)},t.isArray=function(e){return Array.isArray?Array.isArray(e):Boolean(e&&e.constructor===Array)},t.checkObjectHasKeys=function(e,t){for(let n=0;n<t.length;n++)if(!e.hasOwnProperty(t[n]))throw new Error("Missing required key: "+t[n])},t.checkObjectHasNoAdditionalKeys=function(e,t){for(const n in e)if(e.hasOwnProperty(n)&&-1===t.indexOf(n))throw new Error("Unknown key: "+n)},t.deepCopy=function(e){return JSON.parse(JSON.stringify(e))},t.deepCompare=function e(t,n){if(t===n)return!0;if(typeof t!=typeof n)return!1;if("number"==typeof t&&isNaN(t)&&isNaN(n))return!0;if(null===t||null===n)return t===n;if(!(t instanceof Object))return!1;if(t.constructor!==n.constructor||t.prototype!==n.prototype)return!1;if(t instanceof RegExp||t instanceof Date)return t.toString()===n.toString();if(t instanceof Array){if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(!e(t[i],n[i]))return!1}else{let i;for(i in n)if(n.hasOwnProperty(i)!==t.hasOwnProperty(i))return!1;for(i in n){if(n.hasOwnProperty(i)!==t.hasOwnProperty(i))return!1;if(!e(t[i],n[i]))return!1}}return!0},t.extend=function(){const e=arguments[0]||{};for(let t=1;t<arguments.length;t++){const n=arguments[t];if(n)for(const t in n)e[t]=n[t]}return e},t.runPolyfills=function(){Array.prototype.filter||(Array.prototype.filter=function(e){if(null==this)throw new TypeError;const t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError;const i=[],r=arguments.length>=2?arguments[1]:void 0;for(let s=0;s<n;s++)if(s in t){const n=t[s];e.call(r,n,s,t)&&i.push(n)}return i}),Array.prototype.map||(Array.prototype.map=function(e,t){let n,i;if(null==this)throw new TypeError(" this is null or not defined");const r=Object(this),s=r.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");arguments.length>1&&(n=t);const o=new Array(s);for(i=0;i<s;){let t,s;i in r&&(t=r[i],s=e.call(n,t,i,r),o[i]=s),i++}return o}),Array.prototype.forEach||(Array.prototype.forEach=function(e,t){let n,i;if(null==this)throw new TypeError(" this is null or not defined");const r=Object(this),s=r.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(n=t),i=0;i<s;){let t;i in r&&(t=r[i],e.call(n,t,i,r)),i++}})},t.inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},t.polyfillSuper=function(e,t,...n){try{t.call(e,...n)}catch(i){const r=new t(...n);Object.assign(e,r)}},t.isNumber=function(e){return"number"==typeof e&&isFinite(e)},t.removeHiddenChars=function(e){return(0,r.default)(e.normalize("NFD").replace(s,""))},t.escapeRegExp=o,t.globToRegexp=function(e,t){t="boolean"!=typeof t||t;let n=o(e);return n=n.replace(/\\\*/g,".*"),n=n.replace(/\?/g,"."),t&&(n=n.replace(/\\\[(!|)(.*)\\]/g,(function(e,t,n,i,r){return"["+(t?"^":"")+n.replace(/\\-/,"-")+"]"}))),n},t.ensureNoTrailingSlash=function(e){return e&&e.endsWith("/")?e.substr(0,e.length-1):e},t.sleep=function(e,t){return new Promise(n=>{setTimeout(n,e,t)})},t.isNullOrUndefined=function(e){return null==e},t.defer=function(){let e,t;const n=new Promise((n,i)=>{e=n,t=i});return{resolve:e,reject:t,promise:n}},t.promiseMapSeries=async function(e,t){for(const n of await e)await t(await n)},t.promiseTry=function(e){return new Promise(t=>t(e()))},t.setCrypto=function(e){a=e},t.getCrypto=function(){return a};var r=i(n("/pNf"));const s=/[\u2000-\u200F\u202A-\u202F\u0300-\u036f\uFEFF\s]/g;function o(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}let a},"tA+R":function(e,t,n){"use strict";var i=/; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g,r=/^[\u000b\u0020-\u007e\u0080-\u00ff]+$/,s=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+$/,o=/\\([\u000b\u0020-\u00ff])/g,a=/([\\"])/g,c=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/;function l(e){var t=String(e);if(s.test(t))return t;if(t.length>0&&!r.test(t))throw new TypeError("invalid parameter value");return'"'+t.replace(a,"\\$1")+'"'}function u(e){this.parameters=Object.create(null),this.type=e}t.format=function(e){if(!e||"object"!=typeof e)throw new TypeError("argument obj is required");var t=e.parameters,n=e.type;if(!n||!c.test(n))throw new TypeError("invalid type");var i=n;if(t&&"object"==typeof t)for(var r,o=Object.keys(t).sort(),a=0;a<o.length;a++){if(!s.test(r=o[a]))throw new TypeError("invalid parameter name");i+="; "+r+"="+l(t[r])}return i},t.parse=function(e){if(!e)throw new TypeError("argument string is required");var t="object"==typeof e?function(e){var t;if("function"==typeof e.getHeader?t=e.getHeader("content-type"):"object"==typeof e.headers&&(t=e.headers&&e.headers["content-type"]),"string"!=typeof t)throw new TypeError("content-type header is missing from object");return t}(e):e;if("string"!=typeof t)throw new TypeError("argument string is required to be a string");var n=t.indexOf(";"),r=-1!==n?t.substr(0,n).trim():t.trim();if(!c.test(r))throw new TypeError("invalid media type");var s=new u(r.toLowerCase());if(-1!==n){var a,l,h;for(i.lastIndex=n;l=i.exec(t);){if(l.index!==n)throw new TypeError("invalid parameter format");n+=l[0].length,a=l[1].toLowerCase(),'"'===(h=l[2])[0]&&(h=h.substr(1,h.length-2).replace(o,"$1")),s.parameters[a]=h}if(n!==t.length)throw new TypeError("invalid parameter format")}return s}},tMY0:function(e,t,n){"use strict";var i=n("284h"),r=n("PrRn"),s=i(n("t+e4")),o=i(n("VRzr")),a=n("9BO/"),c=n("mjbu");function l(e){this.sessionId=e,this.useCount=0,this.creationTime=(new Date).getTime(),this.sharedWithDevices={},this.blockedDevicesNotified={}}function u(e){(0,s.polyfillSuper)(this,a.EncryptionAlgorithm,e),this._setupPromise=Promise.resolve(),this._outboundSessions={},this._sessionRotationPeriodMsgs=100,this._sessionRotationPeriodMs=6048e5,void 0!==e.config.rotation_period_ms&&(this._sessionRotationPeriodMs=e.config.rotation_period_ms),void 0!==e.config.rotation_period_msgs&&(this._sessionRotationPeriodMsgs=e.config.rotation_period_msgs)}function h(e){(0,s.polyfillSuper)(this,a.DecryptionAlgorithm,e),this._pendingEvents={},this.olmlib=o}l.prototype.needsRotation=function(e,t){const n=(new Date).getTime()-this.creationTime;return(this.useCount>=e||n>=t)&&(r.logger.log("Rotating megolm session after "+this.useCount+" messages, "+n+"ms"),!0)},l.prototype.markSharedWithDevice=function(e,t,n){this.sharedWithDevices[e]||(this.sharedWithDevices[e]={}),this.sharedWithDevices[e][t]=n},l.prototype.markNotifiedBlockedDevice=function(e,t){this.blockedDevicesNotified[e]||(this.blockedDevicesNotified[e]={}),this.blockedDevicesNotified[e][t]=!0},l.prototype.sharedWithTooManyDevices=function(e){for(const t in this.sharedWithDevices)if(this.sharedWithDevices.hasOwnProperty(t)){if(!e.hasOwnProperty(t))return r.logger.log("Starting new megolm session because we shared with "+t),!0;for(const n in this.sharedWithDevices[t])if(this.sharedWithDevices[t].hasOwnProperty(n)&&!e[t].hasOwnProperty(n))return r.logger.log("Starting new megolm session because we shared with "+t+":"+n),!0}},s.inherits(u,a.EncryptionAlgorithm),u.prototype._ensureOutboundSession=async function(e,t,n){let i;function s(){return i}const a=this._setupPromise.then(async s=>{i=s,i&&i.needsRotation(this._sessionRotationPeriodMsgs,this._sessionRotationPeriodMs)&&(r.logger.log("Starting new megolm session because we need to rotate."),i=null),i&&i.sharedWithTooManyDevices(e)&&(i=null),i||(r.logger.log("Starting new megolm session for room "+this._roomId),i=await this._prepareNewSession(),r.logger.log(`Started new megolm session ${i.sessionId} for room `+this._roomId),this._outboundSessions[i.sessionId]=i);const a={};for(const[t,n]of Object.entries(e))for(const[e,r]of Object.entries(n))r.getIdentityKey()!=this._olmDevice.deviceCurve25519Key&&(i.sharedWithDevices[t]&&void 0!==i.sharedWithDevices[t][e]||(a[t]=a[t]||[],a[t].push(r)));const c=this._olmDevice.getOutboundGroupSessionKey(i.sessionId),l={type:"m.room_key",content:{algorithm:o.MEGOLM_ALGORITHM,room_id:this._roomId,session_id:i.sessionId,session_key:c.key,chain_index:c.chain_index}},[u,h]=await o.getExistingOlmSessions(this._olmDevice,this._baseApis,a);await Promise.all([(async()=>{await this._shareKeyWithOlmSessions(i,c,l,h)})(),(async()=>{const e=[],t=Date.now(),r=[];await this._shareKeyWithDevices(i,c,l,u,e,n?1e4:2e3,r),!n&&Date.now()-t<1e4?(async()=>{const t={},n=new Set;for(const e of r)n.add(e);const s=[];for(const{userId:i,deviceInfo:r}of e){const e=i.slice(i.indexOf(":")+1);n.has(e)?(t[i]=t[i]||[],t[i].push(r)):s.push({userId:i,deviceInfo:r})}await this._shareKeyWithDevices(i,c,l,t,s,3e4),await this._notifyFailedOlmDevices(i,c,s)})():await this._notifyFailedOlmDevices(i,c,e)})(),(async()=>{const e={};for(const[n,r]of Object.entries(t))for(const[t,s]of Object.entries(r))i.blockedDevicesNotified[n]&&void 0!==i.blockedDevicesNotified[n][t]||(e[n]=e[n]||{},e[n][t]={device:s});await this._notifyBlockedDevices(i,e)})()])});return this._setupPromise=a.then(s,s),a.then(s)},u.prototype._prepareNewSession=async function(){const e=this._olmDevice.createOutboundGroupSession(),t=this._olmDevice.getOutboundGroupSessionKey(e);return await this._olmDevice.addInboundGroupSession(this._roomId,this._olmDevice.deviceCurve25519Key,[],e,t.key,{ed25519:this._olmDevice.deviceEd25519Key}),this._crypto.backupInfo&&this._crypto.backupGroupSession(this._roomId,this._olmDevice.deviceCurve25519Key,[],e,t.key).catch(e=>{r.logger.log("Failed to back up megolm session",e)}),new l(e)},u.prototype._getDevicesWithoutSessions=function(e,t,n){n=n||[];for(const[i,r]of Object.entries(t)){const t=e[i];for(const e of r){const r=e.deviceId;t[r].sessionId||(n.push({userId:i,deviceInfo:e}),delete t[r])}}return n},u.prototype._splitDevices=function(e){let t=[];const n=[t];for(const[i,r]of Object.entries(e)){for(const e of Object.values(r))t.push({userId:i,deviceInfo:e.device});t.length>20&&(t=[],n.push(t))}return 0===t.length&&n.pop(),n},u.prototype._encryptAndSendKeysToDevices=function(e,t,n,i){const s={},a=[];for(let r=0;r<n.length;r++){const e={algorithm:o.OLM_ALGORITHM,sender_key:this._olmDevice.deviceCurve25519Key,ciphertext:{}},t=n[r],c=t.userId,l=t.deviceInfo,u=l.deviceId;s[c]||(s[c]={}),s[c][u]=e,a.push(o.encryptMessageForDevice(e.ciphertext,this._userId,this._deviceId,this._olmDevice,c,l,i))}return Promise.all(a).then(()=>{for(const e of Object.keys(s)){for(const t of Object.keys(s[e]))0===Object.keys(s[e][t].ciphertext).length&&(r.logger.log("No ciphertext for device "+e+":"+t+": pruning"),delete s[e][t]);0===Object.keys(s[e]).length&&(r.logger.log("Pruned all devices for user "+e),delete s[e])}if(0!==Object.keys(s).length)return this._baseApis.sendToDevice("m.room.encrypted",s).then(()=>{for(const n of Object.keys(s))for(const i of Object.keys(s[n]))e.markSharedWithDevice(n,i,t)});r.logger.log("No users left to send to: aborting")})},u.prototype._sendBlockedNotificationsToDevices=async function(e,t,n){const i={};for(const r of t){const e=r.userId,t=r.deviceInfo,s=t.deviceInfo.deviceId,o=Object.assign({},n);o.code=t.code,o.reason=t.reason,"m.no_olm"===o.code&&(delete o.room_id,delete o.session_id),i[e]||(i[e]={}),i[e][s]=o}await this._baseApis.sendToDevice("org.matrix.room_key.withheld",i);for(const r of Object.keys(i))for(const t of Object.keys(i[r]))e.markNotifiedBlockedDevice(r,t)},u.prototype.reshareKeyWithDevice=async function(e,t,n,i){const s=this._outboundSessions[t];if(!s)return void r.logger.debug(`megolm session ${t} not found: not re-sharing keys`);if(void 0===s.sharedWithDevices[n])return void r.logger.debug(`megolm session ${t} never shared with user ${n}`);const a=s.sharedWithDevices[n][i.deviceId];if(void 0===a)return void r.logger.debug("megolm session ID "+t+" never shared with device "+n+":"+i.deviceId);const c=await this._olmDevice.getInboundGroupSessionKey(this._roomId,e,t,a);if(!c)return void r.logger.warn(`No inbound session key found for megolm ${t}: not re-sharing keys`);await o.ensureOlmSessionsForDevices(this._olmDevice,this._baseApis,{[n]:[i]});const l={type:"m.forwarded_room_key",content:{algorithm:o.MEGOLM_ALGORITHM,room_id:this._roomId,session_id:t,session_key:c.key,chain_index:c.chain_index,sender_key:e,sender_claimed_ed25519_key:c.sender_claimed_ed25519_key,forwarding_curve25519_key_chain:c.forwarding_curve25519_key_chain}},u={algorithm:o.OLM_ALGORITHM,sender_key:this._olmDevice.deviceCurve25519Key,ciphertext:{}};await o.encryptMessageForDevice(u.ciphertext,this._userId,this._deviceId,this._olmDevice,n,i,l),await this._baseApis.sendToDevice("m.room.encrypted",{[n]:{[i.deviceId]:u}}),r.logger.debug(`Re-shared key for megolm session ${t} with ${n}:${i.deviceId}`)},u.prototype._shareKeyWithDevices=async function(e,t,n,i,r,s,a){const c=await o.ensureOlmSessionsForDevices(this._olmDevice,this._baseApis,i,s,a);this._getDevicesWithoutSessions(c,i,r),await this._shareKeyWithOlmSessions(e,t,n,c)},u.prototype._shareKeyWithOlmSessions=async function(e,t,n,i){const s=this._splitDevices(i);for(let a=0;a<s.length;a++)try{await this._encryptAndSendKeysToDevices(e,t.chain_index,s[a],n),r.logger.log(`Completed megolm keyshare for ${e.sessionId} in ${this._roomId} (slice ${a+1}/${s.length})`)}catch(o){throw r.logger.log(`megolm keyshare for ${e.sessionId} in ${this._roomId} (slice ${a+1}/${s.length}) failed`),o}},u.prototype._notifyFailedOlmDevices=async function(e,t,n){for(const{userId:s,deviceInfo:o}of n)e.markSharedWithDevice(s,o.deviceId,t.chain_index);const i=await this._olmDevice.filterOutNotifiedErrorDevices(n),r={};for(const{userId:s,deviceInfo:o}of i)r[s]=r[s]||{},r[s][o.deviceId]={device:{code:"m.no_olm",reason:c.WITHHELD_MESSAGES["m.no_olm"],deviceInfo:o}};await this._notifyBlockedDevices(e,r)},u.prototype._notifyBlockedDevices=async function(e,t){const n={room_id:this._roomId,session_id:e.sessionId,algorithm:o.MEGOLM_ALGORITHM,sender_key:this._olmDevice.deviceCurve25519Key},i=this._splitDevices(t);for(let o=0;o<i.length;o++)try{await this._sendBlockedNotificationsToDevices(e,i[o],n),r.logger.log(`Completed blacklist notification for ${e.sessionId} in ${this._roomId} (slice ${o+1}/${i.length})`)}catch(s){throw r.logger.log(`blacklist notification for ${e.sessionId} in ${this._roomId} (slice ${o+1}/${i.length}) failed`),s}},u.prototype.prepareToEncrypt=function(e){this.encryptionPreparation||(r.logger.debug("Preparing to encrypt events for "+this._roomId),this.encryptionPreparation=(async()=>{const[t,n]=await this._getDevicesInRoom(e);this._crypto.getGlobalErrorOnUnknownDevices()&&this._removeUnknownDevices(t),await this._ensureOutboundSession(t,n,!0),delete this.encryptionPreparation})())},u.prototype.encryptMessage=async function(e,t,n){if(r.logger.log("Starting to encrypt event for "+this._roomId),this.encryptionPreparation)try{await this.encryptionPreparation}catch(u){}const[i,s]=await this._getDevicesInRoom(e);this._crypto.getGlobalErrorOnUnknownDevices()&&this._checkForUnknownDevices(i);const a=await this._ensureOutboundSession(i,s),c=this._olmDevice.encryptGroupMessage(a.sessionId,JSON.stringify({room_id:this._roomId,type:t,content:n})),l={algorithm:o.MEGOLM_ALGORITHM,sender_key:this._olmDevice.deviceCurve25519Key,ciphertext:c,session_id:a.sessionId,device_id:this._deviceId};return a.useCount++,l},u.prototype.forceDiscardSession=function(){this._setupPromise=this._setupPromise.then(()=>null)},u.prototype._checkForUnknownDevices=function(e){const t={};if(Object.keys(e).forEach(n=>{Object.keys(e[n]).forEach(i=>{const r=e[n][i];r.isUnverified()&&!r.isKnown()&&(t[n]||(t[n]={}),t[n][i]=r)})}),Object.keys(t).length)throw new a.UnknownDeviceError("This room contains unknown devices which have not been verified. We strongly recommend you verify them before continuing.",t)},u.prototype._removeUnknownDevices=function(e){for(const[t,n]of Object.entries(e)){for(const[e,t]of Object.entries(n))t.isUnverified()&&!t.isKnown()&&delete n[e];0===Object.keys(n).length&&delete e[t]}},u.prototype._getDevicesInRoom=async function(e){const t=await e.getEncryptionTargetMembers(),n=s.map(t,(function(e){return e.userId}));let i=this._crypto.getGlobalBlacklistUnverifiedDevices();"boolean"==typeof e.getBlacklistUnverifiedDevices()&&(i=e.getBlacklistUnverifiedDevices());const r=await this._crypto.downloadKeys(n,!1),o={};for(const s in r){if(!r.hasOwnProperty(s))continue;const e=r[s];for(const t in e){if(!e.hasOwnProperty(t))continue;const n=this._crypto.checkDeviceTrust(s,t);if(e[t].isBlocked()||!n.isVerified()&&i){o[s]||(o[s]={});const n=e[t].isBlocked()?{code:"m.blacklisted",reason:c.WITHHELD_MESSAGES["m.blacklisted"]}:{code:"m.unverified",reason:c.WITHHELD_MESSAGES["m.unverified"]};n.deviceInfo=e[t],o[s][t]=n,delete e[t]}}}return[r,o]},s.inherits(h,a.DecryptionAlgorithm);const d={no_olm:"The sender was unable to establish a secure channel.",unknown:"The secure channel with the sender was corrupted."};h.prototype.decryptEvent=async function(e){const t=e.getWireContent();if(!t.sender_key||!t.session_id||!t.ciphertext)throw new a.DecryptionError("MEGOLM_MISSING_FIELDS","Missing fields in input");let n;this._addEventToPendingList(e);try{n=await this._olmDevice.decryptGroupMessage(e.getRoomId(),t.sender_key,t.session_id,t.ciphertext,e.getId(),e.getTs())}catch(r){if("DecryptionError"===r.name)throw r;let n="OLM_DECRYPT_GROUP_MESSAGE_ERROR";throw r&&"OLM.UNKNOWN_MESSAGE_INDEX"===r.message&&(this._requestKeysForEvent(e),n="OLM_UNKNOWN_MESSAGE_INDEX"),new a.DecryptionError(n,r?r.toString():"Unknown Error: Error is undefined",{session:t.sender_key+"|"+t.session_id})}if(null===n){this._requestKeysForEvent(e);const n=await this._olmDevice.sessionMayHaveProblems(t.sender_key,e.getTs()-12e4);if(n){let e=d[n.type]||d.unknown;throw n.fixed&&(e+=" Trying to create a new secure channel and re-requesting the keys."),new a.DecryptionError("MEGOLM_UNKNOWN_INBOUND_SESSION_ID",e,{session:t.sender_key+"|"+t.session_id})}throw new a.DecryptionError("MEGOLM_UNKNOWN_INBOUND_SESSION_ID","The sender's device has not sent us the keys for this message.",{session:t.sender_key+"|"+t.session_id})}this._removeEventFromPendingList(e);const i=JSON.parse(n.result);if(i.room_id!==e.getRoomId())throw new a.DecryptionError("MEGOLM_BAD_ROOM","Message intended for room "+i.room_id);return{clearEvent:i,senderCurve25519Key:n.senderKey,claimedEd25519Key:n.keysClaimed.ed25519,forwardingCurve25519KeyChain:n.forwardingCurve25519KeyChain,untrusted:n.untrusted}},h.prototype._requestKeysForEvent=function(e){const t=e.getWireContent(),n=e.getKeyRequestRecipients(this._userId);this._crypto.requestRoomKey({room_id:e.getRoomId(),algorithm:t.algorithm,sender_key:t.sender_key,session_id:t.session_id},n)},h.prototype._addEventToPendingList=function(e){const t=e.getWireContent(),n=t.sender_key,i=t.session_id;this._pendingEvents[n]||(this._pendingEvents[n]=new Map);const r=this._pendingEvents[n];r.has(i)||r.set(i,new Set),r.get(i).add(e)},h.prototype._removeEventFromPendingList=function(e){const t=e.getWireContent(),n=t.sender_key,i=this._pendingEvents[n],r=i&&i.get(t.session_id);r&&(r.delete(e),0===r.size&&i.delete(n),0===i.size&&delete this._pendingEvents[n])},h.prototype.onRoomKeyEvent=function(e){const t=e.getContent(),n=t.session_id;let i,o=e.getSenderKey(),a=[],c=!1;if(t.room_id&&n&&t.session_key){if(o){if("m.forwarded_room_key"==e.getType()){if(c=!0,a=t.forwarding_curve25519_key_chain,s.isArray(a)||(a=[]),a=a.slice(),a.push(o),o=t.sender_key,!o)return void r.logger.error("forwarded_room_key event is missing sender_key field");const e=t.sender_claimed_ed25519_key;if(!e)return void r.logger.error("forwarded_room_key_event is missing sender_claimed_ed25519_key field");i={ed25519:e}}else i=e.getKeysClaimed();return this._olmDevice.addInboundGroupSession(t.room_id,o,a,n,t.session_key,i,c).then(()=>{this._retryDecryption(o,n).then(e=>{e&&this._crypto.cancelRoomKeyRequest({algorithm:t.algorithm,room_id:t.room_id,session_id:t.session_id,sender_key:o})})}).then(()=>{this._crypto.backupInfo&&this._crypto.backupGroupSession(t.room_id,o,a,t.session_id,t.session_key,i,c).catch(e=>{r.logger.log("Failed to back up megolm session",e)})}).catch(e=>{r.logger.error("Error handling m.room_key_event: "+e)})}r.logger.error("key event has no sender key (not encrypted?)")}else r.logger.error("key event is missing fields")},h.prototype.onRoomKeyWithheldEvent=async function(e){const t=e.getContent(),n=t.sender_key;if("m.no_olm"===t.code){const i=e.getSender();if(r.logger.warn(`${i}:${n} was unable to establish an olm session with us`),await this._olmDevice.getSessionIdForDevice(n))return r.logger.debug("New session already created.  Not creating a new one."),await this._olmDevice.recordSessionProblem(n,"no_olm",!0),void this.retryDecryptionFromSender(n);let s=this._crypto._deviceList.getDeviceByIdentityKey(t.algorithm,n);if(!s&&(await this._crypto.downloadKeys([i],!1),s=this._crypto._deviceList.getDeviceByIdentityKey(t.algorithm,n),!s))return r.logger.info("Couldn't find device for identity key "+n+": not establishing session"),await this._olmDevice.recordSessionProblem(n,"no_olm",!1),void this.retryDecryptionFromSender(n);await o.ensureOlmSessionsForDevices(this._olmDevice,this._baseApis,{[i]:[s]},!1);const a={algorithm:o.OLM_ALGORITHM,sender_key:this._olmDevice.deviceCurve25519Key,ciphertext:{}};await o.encryptMessageForDevice(a.ciphertext,this._userId,this._deviceId,this._olmDevice,i,s,{type:"m.dummy"}),await this._olmDevice.recordSessionProblem(n,"no_olm",!0),this.retryDecryptionFromSender(n),await this._baseApis.sendToDevice("m.room.encrypted",{[i]:{[s.deviceId]:a}})}else await this._olmDevice.addInboundGroupSessionWithheld(t.room_id,n,t.session_id,t.code,t.reason)},h.prototype.hasKeysForKeyRequest=function(e){const t=e.requestBody;return this._olmDevice.hasInboundSessionKeys(t.room_id,t.sender_key,t.session_id)},h.prototype.shareKeysWithDevice=function(e){const t=e.userId,n=e.deviceId,i=this._crypto.getStoredDevice(t,n),s=e.requestBody;this.olmlib.ensureOlmSessionsForDevices(this._olmDevice,this._baseApis,{[t]:[i]}).then(e=>e[t][n].sessionId?(r.logger.log("sharing keys for session "+s.sender_key+"|"+s.session_id+" with device "+t+":"+n),this._buildKeyForwardingMessage(s.room_id,s.sender_key,s.session_id)):null).then(e=>{const r={algorithm:o.OLM_ALGORITHM,sender_key:this._olmDevice.deviceCurve25519Key,ciphertext:{}};return this.olmlib.encryptMessageForDevice(r.ciphertext,this._userId,this._deviceId,this._olmDevice,t,i,e).then(()=>this._baseApis.sendToDevice("m.room.encrypted",{[t]:{[n]:r}}))})},h.prototype._buildKeyForwardingMessage=async function(e,t,n){const i=await this._olmDevice.getInboundGroupSessionKey(e,t,n);return{type:"m.forwarded_room_key",content:{algorithm:o.MEGOLM_ALGORITHM,room_id:e,sender_key:t,sender_claimed_ed25519_key:i.sender_claimed_ed25519_key,session_id:n,session_key:i.key,chain_index:i.chain_index,forwarding_curve25519_key_chain:i.forwarding_curve25519_key_chain}}},h.prototype.importRoomKey=function(e,t={}){return this._olmDevice.addInboundGroupSession(e.room_id,e.sender_key,e.forwarding_curve25519_key_chain,e.session_id,e.session_key,e.sender_claimed_keys,!0,t.untrusted?{untrusted:t.untrusted}:{}).then(()=>{this._crypto.backupInfo&&"backup"!==t.source&&this._crypto.backupGroupSession(e.room_id,e.sender_key,e.forwarding_curve25519_key_chain,e.session_id,e.session_key,e.sender_claimed_keys,!0).catch(e=>{r.logger.log("Failed to back up megolm session",e)}),this._retryDecryption(e.sender_key,e.session_id)})},h.prototype._retryDecryption=async function(e,t){const n=this._pendingEvents[e];if(!n)return!0;const i=n.get(t);return!i||(r.logger.debug("Retrying decryption on events",[...i]),await Promise.all([...i].map(async e=>{try{await e.attemptDecryption(this._crypto,!0)}catch(t){}})),!(this._pendingEvents[e]||{})[t])},h.prototype.retryDecryptionFromSender=async function(e){const t=this._pendingEvents[e];return!t||(delete this._pendingEvents[e],await Promise.all([...t].map(async([e,t])=>{await Promise.all([...t].map(async e=>{try{await e.attemptDecryption(this._crypto)}catch(t){}}))})),!this._pendingEvents[e])},(0,a.registerAlgorithm)(o.MEGOLM_ALGORITHM,u,h)},tW1z:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ToDeviceRequests=t.ToDeviceChannel=void 0;var i=n("PwFS"),r=n("PrRn"),s=n("3afC"),o=n("VEe5"),a=n("7UXS");class c{constructor(e,t,n,i=null,r=null){this._client=e,this.userId=t,this._devices=n,this.transactionId=i,this._deviceId=r}isToDevices(e){if(e.length===this._devices.length){for(const t of e)if(!this._devices.find(e=>e.deviceId===t.deviceId))return!1;return!0}return!1}get deviceId(){return this._deviceId}static getEventType(e){return e.getType()}static getTransactionId(e){const t=e.getContent();return t&&t.transaction_id}static canCreateRequest(e){return e===s.REQUEST_TYPE||e===s.START_TYPE}static validateEvent(e,t){if(e.isCancelled())return r.logger.warn("Ignoring flagged verification request from "+e.getSender()),!1;const n=e.getContent();if(!n)return r.logger.warn("ToDeviceChannel.validateEvent: invalid: no content"),!1;if(!n.transaction_id)return r.logger.warn("ToDeviceChannel.validateEvent: invalid: no transaction_id"),!1;const i=e.getType();if(i===s.REQUEST_TYPE){if(!Number.isFinite(n.timestamp))return r.logger.warn("ToDeviceChannel.validateEvent: invalid: no timestamp"),!1;if(e.getSender()===t.getUserId()&&n.from_device==t.getDeviceId())return r.logger.warn("ToDeviceChannel.validateEvent: invalid: from own device"),!1}return s.VerificationRequest.validateEvent(i,e,t)}getTimestamp(e){const t=e.getContent();return t&&t.timestamp}async handleEvent(e,t,n){const i=e.getType(),r=e.getContent();if(i===s.REQUEST_TYPE||i===s.READY_TYPE||i===s.START_TYPE){this.transactionId||(this.transactionId=r.transaction_id);const e=r.from_device;if(!this._deviceId&&this._devices.includes(e)&&(this._deviceId=e),!this._deviceId||this._deviceId!==e){const t=this.completeContent((0,o.errorFromEvent)((0,o.newUnexpectedMessageError)()));return this._sendToDevices(s.CANCEL_TYPE,t,[e])}}const a=t.phase===s.PHASE_STARTED||t.phase===s.PHASE_READY;if(await t.handleEvent(e.getType(),e,n,!1,!1),(i===s.START_TYPE||i===s.READY_TYPE)&&!a&&(t.phase===s.PHASE_STARTED||t.phase===s.PHASE_READY)&&this._deviceId){const e=this._devices.filter(e=>e!==this._deviceId);if(e.length){const t=this.completeContent({code:"m.accepted",reason:"Verification request accepted by another device"});await this._sendToDevices(s.CANCEL_TYPE,t,e)}}}completedContentFromEvent(e){return e.getContent()}completeContent(e,t){return t=Object.assign({},t),this.transactionId&&(t.transaction_id=this.transactionId),e!==s.REQUEST_TYPE&&e!==s.READY_TYPE&&e!==s.START_TYPE||(t.from_device=this._client.getDeviceId()),e===s.REQUEST_TYPE&&(t.timestamp=Date.now()),t}send(e,t={}){e!==s.REQUEST_TYPE&&e!==s.START_TYPE||this.transactionId||(this.transactionId=c.makeTransactionId());const n=this.completeContent(e,t);return this.sendCompleted(e,n)}async sendCompleted(e,t){let n;n=e===s.REQUEST_TYPE?await this._sendToDevices(e,t,this._devices):await this._sendToDevices(e,t,[this._deviceId]);const i=new a.MatrixEvent({sender:this._client.getUserId(),content:t,type:e});return await this._request.handleEvent(e,i,!0,!0,!0),n}_sendToDevices(e,t,n){if(n.length){const i={};for(const e of n)i[e]=t;return this._client.sendToDevice(e,{[this.userId]:i})}return Promise.resolve()}static makeTransactionId(){return(0,i.randomString)(32)}}t.ToDeviceChannel=c,t.ToDeviceRequests=class{constructor(){this._requestsByUserId=new Map}getRequest(e){return this.getRequestBySenderAndTxnId(e.getSender(),c.getTransactionId(e))}getRequestByChannel(e){return this.getRequestBySenderAndTxnId(e.userId,e.transactionId)}getRequestBySenderAndTxnId(e,t){const n=this._requestsByUserId.get(e);if(n)return n.get(t)}setRequest(e,t){this.setRequestBySenderAndTxnId(e.getSender(),c.getTransactionId(e),t)}setRequestByChannel(e,t){this.setRequestBySenderAndTxnId(e.userId,e.transactionId,t)}setRequestBySenderAndTxnId(e,t,n){let i=this._requestsByUserId.get(e);i||(i=new Map,this._requestsByUserId.set(e,i)),i.set(t,n)}removeRequest(e){const t=e.getSender(),n=this._requestsByUserId.get(t);n&&(n.delete(c.getTransactionId(e)),0===n.size&&this._requestsByUserId.delete(t))}findRequestInProgress(e,t){const n=this._requestsByUserId.get(e);if(n)for(const i of n.values())if(i.pending&&i.channel.isToDevices(t))return i}getRequestsInProgress(e){const t=this._requestsByUserId.get(e);return t?Array.from(t.values()).filter(e=>e.pending):[]}}},tXbD:function(e,t,n){"use strict";var i=n("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.SearchResult=o;var r=i(n("t+e4")),s=n("FyV3");function o(e,t){this.rank=e,this.context=t}o.fromJson=function(e,t){const n=e.context||{},i=n.events_before||[],a=n.events_after||[],c=new s.EventContext(t(e.result));return c.setPaginateToken(n.start,!0),c.addEvents(r.map(i,t),!0),c.addEvents(r.map(a,t),!1),c.setPaginateToken(n.end,!1),new o(e.rank,c)}},tjlA:function(e,t,n){"use strict";var i=n("H7XF"),r=n("kVK+"),s=n("49sm");function o(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(this,e)}return l(this,e,t,n)}function l(e,t,n,i){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,i){if(n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i),c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=d(e,t),e}(e,t,n,i):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|m(t,n),r=(e=a(e,i)).write(t,n);return r!==i&&(e=e.slice(0,r)),e}(e,t,n):function(e,t){if(c.isBuffer(t)){var n=0|p(t.length);return 0===(e=a(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(i=t.length)!=i?a(e,0):d(e,t);if("Buffer"===t.type&&s(t.data))return d(e,t.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t){if(u(t),e=a(e,t<0?0:0|p(t)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|p(t.length);e=a(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function p(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function m(e,t){if(c.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return j(e).length;default:if(i)return B(e).length;t=(""+t).toLowerCase(),i=!0}}function f(e,t,n){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,n);case"utf8":case"utf-8":return x(this,t,n);case"ascii":return T(this,t,n);case"latin1":case"binary":return I(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function g(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function _(e,t,n,i,r){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof t&&(t=c.from(t,i)),c.isBuffer(t))return 0===t.length?-1:y(e,t,n,i,r);if("number"==typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,i,r);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,i,r){var s,o=1,a=e.length,c=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;o=2,a/=2,c/=2,n/=2}function l(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(r){var u=-1;for(s=n;s<a;s++)if(l(e,s)===l(t,-1===u?0:s-u)){if(-1===u&&(u=s),s-u+1===c)return u*o}else-1!==u&&(s-=s-u),u=-1}else for(n+c>a&&(n=a-c),s=n;s>=0;s--){for(var h=!0,d=0;d<c;d++)if(l(e,s+d)!==l(t,d)){h=!1;break}if(h)return s}return-1}function v(e,t,n,i){n=Number(n)||0;var r=e.length-n;i?(i=Number(i))>r&&(i=r):i=r;var s=t.length;if(s%2!=0)throw new TypeError("Invalid hex string");i>s/2&&(i=s/2);for(var o=0;o<i;++o){var a=parseInt(t.substr(2*o,2),16);if(isNaN(a))return o;e[n+o]=a}return o}function b(e,t,n,i){return V(B(t,e.length-n),e,n,i)}function w(e,t,n,i){return V(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,i)}function S(e,t,n,i){return w(e,t,n,i)}function E(e,t,n,i){return V(j(t),e,n,i)}function k(e,t,n,i){return V(function(e,t){for(var n,i,r=[],s=0;s<e.length&&!((t-=2)<0);++s)i=(n=e.charCodeAt(s))>>8,r.push(n%256),r.push(i);return r}(t,e.length-n),e,n,i)}function C(e,t,n){return i.fromByteArray(0===t&&n===e.length?e:e.slice(t,n))}function x(e,t,n){n=Math.min(e.length,n);for(var i=[],r=t;r<n;){var s,o,a,c,l=e[r],u=null,h=l>239?4:l>223?3:l>191?2:1;if(r+h<=n)switch(h){case 1:l<128&&(u=l);break;case 2:128==(192&(s=e[r+1]))&&(c=(31&l)<<6|63&s)>127&&(u=c);break;case 3:o=e[r+2],128==(192&(s=e[r+1]))&&128==(192&o)&&(c=(15&l)<<12|(63&s)<<6|63&o)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:o=e[r+2],a=e[r+3],128==(192&(s=e[r+1]))&&128==(192&o)&&128==(192&a)&&(c=(15&l)<<18|(63&s)<<12|(63&o)<<6|63&a)>65535&&c<1114112&&(u=c)}null===u?(u=65533,h=1):u>65535&&(i.push((u-=65536)>>>10&1023|55296),u=56320|1023&u),i.push(u),r+=h}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var n="",i=0;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=4096));return n}(i)}function T(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(127&e[r]);return i}function I(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(e[r]);return i}function R(e,t,n){var i,r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var s="",o=t;o<n;++o)s+=(i=e[o])<16?"0"+i.toString(16):i.toString(16);return s}function O(e,t,n){for(var i=e.slice(t,n),r="",s=0;s<i.length;s+=2)r+=String.fromCharCode(i[s]+256*i[s+1]);return r}function A(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,n,i,r,s){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<s)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function P(e,t,n,i){t<0&&(t=65535+t+1);for(var r=0,s=Math.min(e.length-n,2);r<s;++r)e[n+r]=(t&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function M(e,t,n,i){t<0&&(t=4294967295+t+1);for(var r=0,s=Math.min(e.length-n,4);r<s;++r)e[n+r]=t>>>8*(i?r:3-r)&255}function N(e,t,n,i,r,s){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,i,s){return s||N(e,0,n,4),r.write(e,t,n,i,23,4),n+4}function F(e,t,n,i,s){return s||N(e,0,n,8),r.write(e,t,n,i,52,8),n+8}t.Buffer=c,t.SlowBuffer=function(e){return+e!=e&&(e=0),c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==global.TYPED_ARRAY_SUPPORT?global.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=o(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,n){return l(null,e,t,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,n){return function(e,t,n,i){return u(t),t<=0?a(null,t):void 0!==n?"string"==typeof i?a(null,t).fill(n,i):a(null,t).fill(n):a(null,t)}(0,e,t,n)},c.allocUnsafe=function(e){return h(null,e)},c.allocUnsafeSlow=function(e){return h(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,r=0,s=Math.min(n,i);r<s;++r)if(e[r]!==t[r]){n=e[r],i=t[r];break}return n<i?-1:i<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!s(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=c.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var o=e[n];if(!c.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,r),r+=o.length}return i},c.byteLength=m,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?x(this,0,e):f.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,n,i,r){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),t<0||n>e.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&t>=n)return 0;if(i>=r)return-1;if(t>=n)return 1;if(this===e)return 0;for(var s=(r>>>=0)-(i>>>=0),o=(n>>>=0)-(t>>>=0),a=Math.min(s,o),l=this.slice(i,r),u=e.slice(t,n),h=0;h<a;++h)if(l[h]!==u[h]){s=l[h],o=u[h];break}return s<o?-1:o<s?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return _(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return _(this,e,t,n,!1)},c.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var s=!1;;)switch(i){case"hex":return v(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":return w(this,e,t,n);case"latin1":case"binary":return S(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,n);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},c.prototype.slice=function(e,t){var n,i=this.length;if((e=~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),(t=void 0===t?i:~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=c.prototype;else{var r=t-e;n=new c(r,void 0);for(var s=0;s<r;++s)n[s]=this[s+e]}return n},c.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||A(e,t,this.length);for(var i=this[e],r=1,s=0;++s<t&&(r*=256);)i+=this[e+s]*r;return i},c.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||A(e,t,this.length);for(var i=this[e+--t],r=1;t>0&&(r*=256);)i+=this[e+--t]*r;return i},c.prototype.readUInt8=function(e,t){return t||A(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||A(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||A(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||A(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||A(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||A(e,t,this.length);for(var i=this[e],r=1,s=0;++s<t&&(r*=256);)i+=this[e+s]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*t)),i},c.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||A(e,t,this.length);for(var i=t,r=1,s=this[e+--i];i>0&&(r*=256);)s+=this[e+--i]*r;return s>=(r*=128)&&(s-=Math.pow(2,8*t)),s},c.prototype.readInt8=function(e,t){return t||A(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||A(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){t||A(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return t||A(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||A(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||A(e,4,this.length),r.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||A(e,4,this.length),r.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||A(e,8,this.length),r.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||A(e,8,this.length),r.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,i){e=+e,t|=0,n|=0,i||D(this,e,t,n,Math.pow(2,8*n)-1,0);var r=1,s=0;for(this[t]=255&e;++s<n&&(r*=256);)this[t+s]=e/r&255;return t+n},c.prototype.writeUIntBE=function(e,t,n,i){e=+e,t|=0,n|=0,i||D(this,e,t,n,Math.pow(2,8*n)-1,0);var r=n-1,s=1;for(this[t+r]=255&e;--r>=0&&(s*=256);)this[t+r]=e/s&255;return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):M(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);D(this,e,t,n,r-1,-r)}var s=0,o=1,a=0;for(this[t]=255&e;++s<n&&(o*=256);)e<0&&0===a&&0!==this[t+s-1]&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+n},c.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);D(this,e,t,n,r-1,-r)}var s=n-1,o=1,a=0;for(this[t+s]=255&e;--s>=0&&(o*=256);)e<0&&0===a&&0!==this[t+s+1]&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):M(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var r,s=i-n;if(this===e&&n<t&&t<i)for(r=s-1;r>=0;--r)e[r+t]=this[r+n];else if(s<1e3||!c.TYPED_ARRAY_SUPPORT)for(r=0;r<s;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+s),t);return s},c.prototype.fill=function(e,t,n,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!c.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var s;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(s=t;s<n;++s)this[s]=e;else{var o=c.isBuffer(e)?e:B(new c(e,i).toString()),a=o.length;for(s=0;s<n-t;++s)this[s+t]=o[s%a]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function B(e,t){var n;t=t||1/0;for(var i=e.length,r=null,s=[],o=0;o<i;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(o+1===i){(t-=3)>-1&&s.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&s.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&s.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;s.push(n)}else if(n<2048){if((t-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return s}function j(e){return i.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(U,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function V(e,t,n,i){for(var r=0;r<i&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}},tyrX:function(e,t,n){"use strict";var i=n("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.Room=g;var r=n("+qE3"),s=n("ouil"),o=n("tyto"),a=n("JOJy"),c=i(n("t+e4")),l=n("7UXS"),u=n("vR9v"),h=n("Dr/U"),d=n("PrRn"),p=n("7/Kr");const m=["1","2","3","4","5"];function f(e,t,n){const i={content:{},type:"m.receipt",room_id:t.getRoomId()};return i.content[t.getId()]={},i.content[t.getId()][n]={},i.content[t.getId()][n][e]={ts:t.getTs()},new l.MatrixEvent(i)}function g(e,t,n,i){if((i=i||{}).pendingEventOrdering=i.pendingEventOrdering||"chronological",this.setMaxListeners(100),this.reEmitter=new p.ReEmitter(this),-1===["chronological","detached"].indexOf(i.pendingEventOrdering))throw new Error("opts.pendingEventOrdering MUST be either 'chronological' or 'detached'. Got: '"+i.pendingEventOrdering+"'");this.myUserId=n,this.roomId=e,this.name=e,this.tags={},this.accountData={},this.summary=null,this.storageToken=i.storageToken,this._opts=i,this._txnToEvent={},this._receipts={},this._receiptCacheByEventId={},this._realReceipts={},this._notificationCounts={},this._timelineSets=[new s.EventTimelineSet(this,i)],this.reEmitter.reEmit(this.getUnfilteredTimelineSet(),["Room.timeline","Room.timelineReset"]),this._fixUpLegacyTimelineFields(),this._filteredTimelineSets={},"detached"==this._opts.pendingEventOrdering&&(this._pendingEventList=[]),this._blacklistUnverifiedDevices=null,this._selfMembership=null,this._summaryHeroes=null,this._client=t,this._membersPromise=this._opts.lazyLoadMembers?null:Promise.resolve()}c.inherits(g,r.EventEmitter),g.prototype.getVersion=function(){const e=this.currentState.getStateEvents("m.room.create","");if(!e)return d.logger.warn("Room "+this.roomId+" does not have an m.room.create event"),"1";const t=e.getContent().room_version;return void 0===t?"1":t},g.prototype.shouldUpgradeToVersion=function(){return m.includes(this.getVersion())?null:"5"},g.prototype.getRecommendedVersion=async function(){let e=(await this._client.getCapabilities())["m.room_versions"];if(!e){e={default:"5",available:{}};for(const t of m)e.available[t]="stable"}let t=this._checkVersionAgainstCapability(e);if(t.urgent&&t.needsUpgrade){if(d.logger.warn("Refreshing room version capability because the server looks to be supporting a newer room version we don't know about."),e=(await this._client.getCapabilities(!0))["m.room_versions"],!e)return d.logger.warn("No room version capability - assuming upgrade required."),t;t=this._checkVersionAgainstCapability(e)}return t},g.prototype._checkVersionAgainstCapability=function(e){const t=this.getVersion();d.logger.log(`[${this.roomId}] Current version: ${t}`),d.logger.log(`[${this.roomId}] Version capability: `,e);const n={version:t,needsUpgrade:!1,urgent:!1};return t===e.default||Object.keys(e.available).filter(t=>"stable"===e.available[t]).includes(t)||(n.version=e.default,n.needsUpgrade=!0,n.urgent=!!this.getVersion().match(/^[0-9]+[0-9.]*$/g),d.logger.warn(n.urgent?"URGENT upgrade required on "+this.roomId:"Non-urgent upgrade required on "+this.roomId)),n},g.prototype.userMayUpgradeRoom=function(e){return this.currentState.maySendStateEvent("m.room.tombstone",e)},g.prototype.getPendingEvents=function(){if("detached"!==this._opts.pendingEventOrdering)throw new Error("Cannot call getPendingEvents with pendingEventOrdering == "+this._opts.pendingEventOrdering);return this._pendingEventList},g.prototype.hasPendingEvent=function(e){if("detached"!==this._opts.pendingEventOrdering)throw new Error("Cannot call hasPendingEvent with pendingEventOrdering == "+this._opts.pendingEventOrdering);return this._pendingEventList.some(t=>t.getId()===e)},g.prototype.getLiveTimeline=function(){return this.getUnfilteredTimelineSet().getLiveTimeline()},g.prototype.getLastActiveTimestamp=function(){const e=this.getLiveTimeline().getEvents();return e.length?e[e.length-1].getTs():Number.MIN_SAFE_INTEGER},g.prototype.getMyMembership=function(){return this._selfMembership},g.prototype.getDMInviter=function(){if(this.myUserId){const e=this.getMember(this.myUserId);if(e)return e.getDMInviter()}if("invite"===this._selfMembership&&2==this.getInvitedAndJoinedMemberCount()&&this._summaryHeroes.length)return this._summaryHeroes[0]},g.prototype.guessDMUserId=function(){const e=this.getMember(this.myUserId);if(e){const t=e.getDMInviter();if(t)return t}if(Array.isArray(this._summaryHeroes)&&this._summaryHeroes.length)return this._summaryHeroes[0];const t=this.currentState.getMembers().find(e=>e.userId!==this.myUserId);return t?t.userId:this.myUserId},g.prototype.getAvatarFallbackMember=function(){if(this.getInvitedAndJoinedMemberCount()>2)return;const e=Array.isArray(this._summaryHeroes)&&this._summaryHeroes.length;if(e){const e=this._summaryHeroes.map(e=>this.getMember(e)).find(e=>!!e);if(e)return e}const t=this.currentState.getMembers();if(t.length<=2){const e=t.find(e=>e.userId!==this.myUserId);if(e)return e}if(e){const e=this._summaryHeroes.map(e=>this._client.getUser(e)).find(e=>!!e);if(e){const t=new u.RoomMember(this.roomId,e.userId);return t.user=e,t}}},g.prototype.updateMyMembership=function(e){const t=this._selfMembership;this._selfMembership=e,t!==e&&("leave"===e&&this._cleanupAfterLeaving(),this.emit("Room.myMembership",this,e,t))},g.prototype._loadMembersFromServer=async function(){const e=this._client.store.getSyncToken(),t=c.encodeParams({not_membership:"leave",at:e}),n=c.encodeUri("/rooms/$roomId/members?"+t,{$roomId:this.roomId}),i=this._client._http;return(await i.authedRequest(void 0,"GET",n)).chunk},g.prototype._loadMembers=async function(){let e=!1,t=await this._client.store.getOutOfBandMembers(this.roomId);return null===t&&(e=!0,t=await this._loadMembersFromServer(),d.logger.log(`LL: got ${t.length} members from server for room `+this.roomId)),{memberEvents:t.map(this._client.getEventMapper()),fromServer:e}},g.prototype.loadMembersIfNeeded=function(){if(this._membersPromise)return this._membersPromise;this.currentState.markOutOfBandMembersStarted();const e=this._loadMembers().then(e=>(this.currentState.setOutOfBandMembers(e.memberEvents),this._client.isCryptoEnabled()&&this._client.isRoomEncrypted(this.roomId)&&this._client._crypto.trackRoomDevices(this.roomId),e.fromServer)).catch(e=>{throw this._membersPromise=null,this.currentState.markOutOfBandMembersFailed(),e});return e.then(e=>{if(e){const e=this.currentState.getMembers().filter(e=>e.isOutOfBand()).map(e=>e.events.member.event);return d.logger.log("LL: telling store to write "+e.length+" members for room "+this.roomId),this._client.store.setOutOfBandMembers(this.roomId,e).catch(e=>{d.logger.log("LL: storing OOB room members failed, oh well",e)})}}).catch(e=>{d.logger.error(e)}),this._membersPromise=e,this._membersPromise},g.prototype.clearLoadedMembersIfNeeded=async function(){this._opts.lazyLoadMembers&&this._membersPromise&&(await this.loadMembersIfNeeded(),await this._client.store.clearOutOfBandMembers(this.roomId),this.currentState.clearOutOfBandMembers(),this._membersPromise=null)},g.prototype._cleanupAfterLeaving=function(){this.clearLoadedMembersIfNeeded().catch(e=>{d.logger.error(`error after clearing loaded members from room ${this.roomId} after leaving`),d.logger.log(e)})},g.prototype.resetLiveTimeline=function(e,t){for(let n=0;n<this._timelineSets.length;n++)this._timelineSets[n].resetLiveTimeline(e,t);this._fixUpLegacyTimelineFields()},g.prototype._fixUpLegacyTimelineFields=function(){this.timeline=this.getLiveTimeline().getEvents(),this.oldState=this.getLiveTimeline().getState(o.EventTimeline.BACKWARDS),this.currentState=this.getLiveTimeline().getState(o.EventTimeline.FORWARDS)},g.prototype.hasUnverifiedDevices=async function(){if(!this._client.isRoomEncrypted(this.roomId))return!1;const e=await this.getEncryptionTargetMembers();for(const t of e)if(this._client.getStoredDevicesForUser(t.userId).some(e=>e.isUnverified()))return!0;return!1},g.prototype.getTimelineSets=function(){return this._timelineSets},g.prototype.getUnfilteredTimelineSet=function(){return this._timelineSets[0]},g.prototype.getTimelineForEvent=function(e){return this.getUnfilteredTimelineSet().getTimelineForEvent(e)},g.prototype.addTimeline=function(){return this.getUnfilteredTimelineSet().addTimeline()},g.prototype.findEventById=function(e){return this.getUnfilteredTimelineSet().findEventById(e)},g.prototype.getUnreadNotificationCount=function(e){return this._notificationCounts[e=e||"total"]},g.prototype.setUnreadNotificationCount=function(e,t){this._notificationCounts[e]=t},g.prototype.setSummary=function(e){const t=e["m.heroes"],n=e["m.joined_member_count"],i=e["m.invited_member_count"];Number.isInteger(n)&&this.currentState.setJoinedMemberCount(n),Number.isInteger(i)&&this.currentState.setInvitedMemberCount(i),Array.isArray(t)&&(this._summaryHeroes=t.filter(e=>e!==this.myUserId))},g.prototype.setBlacklistUnverifiedDevices=function(e){this._blacklistUnverifiedDevices=e},g.prototype.getBlacklistUnverifiedDevices=function(){return this._blacklistUnverifiedDevices},g.prototype.getAvatarUrl=function(e,t,n,i,r){const s=this.currentState.getStateEvents("m.room.avatar","");if(void 0===r&&(r=!0),!s&&!r)return null;const o=s?s.getContent().url:null;return o?(0,a.getHttpUriForMxc)(e,o,t,n,i):r?(0,a.getIdenticonUri)(e,this.roomId,t,n):null},g.prototype.getAliases=function(){const e=[],t=this.currentState.getStateEvents("m.room.aliases");if(t)for(let n=0;n<t.length;++n){const i=t[n];if(c.isArray(i.getContent().aliases)){const t=i.getContent().aliases.filter(e=>"string"==typeof e&&"#"===e[0]&&!!e.endsWith(":"+i.getStateKey()));Array.prototype.push.apply(e,t)}}return e},g.prototype.getCanonicalAlias=function(){const e=this.currentState.getStateEvents("m.room.canonical_alias","");return e&&e.getContent().alias||null},g.prototype.getAltAliases=function(){const e=this.currentState.getStateEvents("m.room.canonical_alias","");return e&&e.getContent().alt_aliases||[]},g.prototype.addEventsToTimeline=function(e,t,n,i){n.getTimelineSet().addEventsToTimeline(e,t,n,i)},g.prototype.getMember=function(e){return this.currentState.getMember(e)},g.prototype.getJoinedMembers=function(){return this.getMembersWithMembership("join")},g.prototype.getJoinedMemberCount=function(){return this.currentState.getJoinedMemberCount()},g.prototype.getInvitedMemberCount=function(){return this.currentState.getInvitedMemberCount()},g.prototype.getInvitedAndJoinedMemberCount=function(){return this.getInvitedMemberCount()+this.getJoinedMemberCount()},g.prototype.getMembersWithMembership=function(e){return c.filter(this.currentState.getMembers(),(function(t){return t.membership===e}))},g.prototype.getEncryptionTargetMembers=async function(){await this.loadMembersIfNeeded();let e=this.getMembersWithMembership("join");return this.shouldEncryptForInvitedMembers()&&(e=e.concat(this.getMembersWithMembership("invite"))),e},g.prototype.shouldEncryptForInvitedMembers=function(){const e=this.currentState.getStateEvents("m.room.history_visibility","");return e&&e.getContent()&&"joined"!==e.getContent().history_visibility},g.prototype.getDefaultRoomName=function(e){return y(this,e,!0)},g.prototype.hasMembershipState=function(e,t){const n=this.getMember(e);return!!n&&n.membership===t},g.prototype.getOrCreateFilteredTimelineSet=function(e){if(this._filteredTimelineSets[e.filterId])return this._filteredTimelineSets[e.filterId];const t=Object.assign({filter:e},this._opts),n=new s.EventTimelineSet(this,t);this.reEmitter.reEmit(n,["Room.timeline","Room.timelineReset"]),this._filteredTimelineSets[e.filterId]=n,this._timelineSets.push(n);const i=this.getLiveTimeline();i.getEvents().forEach((function(e){n.addLiveEvent(e)}));let r=i;for(;r.getNeighbouringTimeline(o.EventTimeline.BACKWARDS);)r=r.getNeighbouringTimeline(o.EventTimeline.BACKWARDS);return n.getLiveTimeline().setPaginationToken(r.getPaginationToken(o.EventTimeline.BACKWARDS),o.EventTimeline.BACKWARDS),n},g.prototype.removeFilteredTimelineSet=function(e){const t=this._filteredTimelineSets[e.filterId];delete this._filteredTimelineSets[e.filterId];const n=this._timelineSets.indexOf(t);n>-1&&this._timelineSets.splice(n,1)},g.prototype._addLiveEvent=function(e,t,n){if(e.isRedaction()){const t=e.event.redacts,n=this.getUnfilteredTimelineSet().findEventById(t);n&&(n.makeRedacted(e),n.getStateKey()&&this.currentState.getStateEvents(n.getType(),n.getStateKey()).getId()===n.getId()&&this.currentState.setStateEvents([n]),this.emit("Room.redaction",e,this))}if(e.getUnsigned().transaction_id){const t=this._txnToEvent[e.getUnsigned().transaction_id];if(t)return void this._handleRemoteEcho(e,t)}for(let i=0;i<this._timelineSets.length;i++)this._timelineSets[i].addLiveEvent(e,t,n);e.sender&&"m.room.redaction"!==e.getType()&&this.addReceipt(f(e.sender.userId,e,"m.read"),!0)},g.prototype.addPendingEvent=function(e,t){if(e.status!==l.EventStatus.SENDING)throw new Error("addPendingEvent called on an event with status "+e.status);if(this._txnToEvent[t])throw new Error("addPendingEvent called on an event with known txnId "+t);if(o.EventTimeline.setEventMetadata(e,this.getLiveTimeline().getState(o.EventTimeline.FORWARDS),!1),this._txnToEvent[t]=e,"detached"==this._opts.pendingEventOrdering){if(this._pendingEventList.some(e=>e.status===l.EventStatus.NOT_SENT)&&(d.logger.warn("Setting event as NOT_SENT due to messages in the same state"),e.setStatus(l.EventStatus.NOT_SENT)),this._pendingEventList.push(e),e.isRelation()&&this._aggregateNonLiveRelation(e),e.isRedaction()){const t=e.event.redacts;let n=this._pendingEventList&&this._pendingEventList.find(e=>e.getId()===t);n||(n=this.getUnfilteredTimelineSet().findEventById(t)),n&&(n.markLocallyRedacted(e),this.emit("Room.redaction",e,this))}}else for(let n=0;n<this._timelineSets.length;n++){const t=this._timelineSets[n];t.getFilter()?t.getFilter().filterRoomTimeline([e]).length&&t.addEventToTimeline(e,t.getLiveTimeline(),!1):t.addEventToTimeline(e,t.getLiveTimeline(),!1)}this.emit("Room.localEchoUpdated",e,this,null,null)},g.prototype._aggregateNonLiveRelation=function(e){for(let t=0;t<this._timelineSets.length;t++){const n=this._timelineSets[t];n.getFilter()?n.getFilter().filterRoomTimeline([e]).length&&n.aggregateRelations(e):n.aggregateRelations(e)}},g.prototype._handleRemoteEcho=function(e,t){const n=t.getId(),i=e.getId(),r=t.status;d.logger.debug(`Got remote echo for event ${n} -> ${i} old status `+r),delete this._txnToEvent[e.getUnsigned().transaction_id],this._pendingEventList&&c.removeElement(this._pendingEventList,(function(e){return e.getId()==n}),!1),t.handleRemoteEcho(e.event);for(let s=0;s<this._timelineSets.length;s++)this._timelineSets[s].handleRemoteEcho(t,n,i);this.emit("Room.localEchoUpdated",t,this,n,r)};const _=function(){var e={};return e[l.EventStatus.ENCRYPTING]=[l.EventStatus.SENDING,l.EventStatus.NOT_SENT],e[l.EventStatus.SENDING]=[l.EventStatus.ENCRYPTING,l.EventStatus.QUEUED,l.EventStatus.NOT_SENT,l.EventStatus.SENT],e[l.EventStatus.QUEUED]=[l.EventStatus.SENDING,l.EventStatus.CANCELLED],e[l.EventStatus.SENT]=[],e[l.EventStatus.NOT_SENT]=[l.EventStatus.SENDING,l.EventStatus.QUEUED,l.EventStatus.CANCELLED],e[l.EventStatus.CANCELLED]=[],e}();function y(e,t,n){if(!n){const t=e.currentState.getStateEvents("m.room.name","");if(t&&t.getContent()&&t.getContent().name)return t.getContent().name}let i=e.getCanonicalAlias();if(!i){const t=e.getAltAliases();t.length&&(i=t[0])}if(i)return i;const r=e.currentState.getJoinedMemberCount()+e.currentState.getInvitedMemberCount()-1;let s=null;if(e._summaryHeroes)s=e._summaryHeroes.map(t=>{const n=e.getMember(t);return n?n.name:t});else{let n=e.currentState.getMembers().filter(e=>e.userId!==t&&("invite"===e.membership||"join"===e.membership));n.sort((e,t)=>e.userId.localeCompare(t.userId)),n=n.slice(0,5),s=n.map(e=>e.name)}if(r)return v(s,r);if("join"==e.getMyMembership()){const t=e.currentState.getStateEvents("m.room.third_party_invite");if(t&&t.length)return"Inviting "+v(t.map(e=>e.getContent().display_name))}let o=s;return o.length||(o=e.currentState.getMembers().filter(e=>e.userId!==t&&"invite"!==e.membership&&"join"!==e.membership).map(e=>e.name)),o.length?`Empty room (was ${v(o)})`:"Empty room"}function v(e,t=e.length+1){const n=t-1;return e.length?1===e.length&&n<=1?e[0]:2===e.length&&n<=2?`${e[0]} and ${e[1]}`:n>1?`${e[0]} and ${n} others`:e[0]+" and 1 other":"Empty room"}g.prototype.updatePendingEvent=function(e,t,n){if(d.logger.log(`setting pendingEvent status to ${t} in ${e.getRoomId()} event ID ${e.getId()} -> ${n}`),t==l.EventStatus.SENT&&!n)throw new Error("updatePendingEvent called with status=SENT, but no new event id");if(t==l.EventStatus.SENT&&this.getUnfilteredTimelineSet().eventIdToTimeline(n))return;const i=e.status,r=e.getId();if(!i)throw new Error("updatePendingEventStatus called on an event which is not a local echo.");const s=_[i];if(!s||s.indexOf(t)<0)throw new Error("Invalid EventStatus transition "+i+"->"+t);if(e.setStatus(t),t==l.EventStatus.SENT){e.replaceLocalEventId(n);for(let e=0;e<this._timelineSets.length;e++)this._timelineSets[e].replaceEventId(r,n)}else if(t==l.EventStatus.CANCELLED){if(this._pendingEventList){const e=this._pendingEventList.findIndex(e=>e.getId()===r);if(-1!==e){const[t]=this._pendingEventList.splice(e,1);t.isRedaction()&&this._revertRedactionLocalEcho(t)}}this.removeEvent(r)}this.emit("Room.localEchoUpdated",e,this,r,i)},g.prototype._revertRedactionLocalEcho=function(e){const t=e.event.redacts;if(!t)return;const n=this.getUnfilteredTimelineSet().findEventById(t);n&&(n.unmarkLocallyRedacted(),this.emit("Room.redactionCancelled",e,this),n.isRelation()&&this._aggregateNonLiveRelation(n))},g.prototype.addLiveEvents=function(e,t,n){let i;if(t&&-1===["replace","ignore"].indexOf(t))throw new Error("duplicateStrategy MUST be either 'replace' or 'ignore'");for(i=0;i<this._timelineSets.length;i++){const e=this._timelineSets[i].getLiveTimeline();if(e.getPaginationToken(o.EventTimeline.FORWARDS))throw new Error("live timeline "+i+" is no longer live - it has a pagination token ("+e.getPaginationToken(o.EventTimeline.FORWARDS)+")");if(e.getNeighbouringTimeline(o.EventTimeline.FORWARDS))throw new Error("live timeline "+i+" is no longer live - it has a neighbouring timeline")}for(i=0;i<e.length;i++)this._addLiveEvent(e[i],t,n)},g.prototype.addEphemeralEvents=function(e){for(const t of e)"m.typing"===t.getType()?this.currentState.setTypingEvent(t):"m.receipt"===t.getType()&&this.addReceipt(t)},g.prototype.removeEvents=function(e){for(let t=0;t<e.length;++t)this.removeEvent(e[t])},g.prototype.removeEvent=function(e){let t=!1;for(let n=0;n<this._timelineSets.length;n++){const i=this._timelineSets[n].removeEvent(e);i&&(i.isRedaction()&&this._revertRedactionLocalEcho(i),t=!0)}return t},g.prototype.recalculate=function(){const e=this,t=this.currentState.getStateEvents("m.room.member",this.myUserId);t&&"invite"===t.getContent().membership&&c.forEach(t.event.invite_room_state||[],(function(t){e.currentState.getStateEvents(t.type,t.state_key)||e.currentState.setStateEvents([new l.MatrixEvent({type:t.type,state_key:t.state_key,content:t.content,event_id:"$fake"+Date.now(),room_id:e.roomId,user_id:e.myUserId})])}));const n=this.name;this.name=y(this,this.myUserId),this.summary=new h.RoomSummary(this.roomId,{title:this.name}),n!==this.name&&this.emit("Room.name",this)},g.prototype.getUsersReadUpTo=function(e){return this.getReceiptsForEvent(e).filter((function(e){return"m.read"===e.type})).map((function(e){return e.userId}))},g.prototype.getEventReadUpTo=function(e,t){let n=this._receipts;return t&&(n=this._realReceipts),void 0===n["m.read"]||void 0===n["m.read"][e]?null:n["m.read"][e].eventId},g.prototype.hasUserReadEvent=function(e,t){const n=this.getEventReadUpTo(e,!1);if(n===t)return!0;if(this.timeline.length&&this.timeline[this.timeline.length-1].getSender()&&this.timeline[this.timeline.length-1].getSender()===e)return!0;for(let i=this.timeline.length-1;i>=0;--i){const e=this.timeline[i];if(e.getId()===t)return!1;if(e.getId()===n)return!0}return!1},g.prototype.getReceiptsForEvent=function(e){return this._receiptCacheByEventId[e.getId()]||[]},g.prototype.addReceipt=function(e,t){void 0===t&&(t=!1),t||this._addReceiptsToStructure(e,this._realReceipts),this._addReceiptsToStructure(e,this._receipts),this._receiptCacheByEventId=this._buildReceiptCache(this._receipts),this.emit("Room.receipt",e,this)},g.prototype._addReceiptsToStructure=function(e,t){const n=this;c.keys(e.getContent()).forEach((function(i){c.keys(e.getContent()[i]).forEach((function(r){c.keys(e.getContent()[i][r]).forEach((function(s){const o=e.getContent()[i][r][s];t[r]||(t[r]={});const a=t[r][s];if(a){const e=n.getUnfilteredTimelineSet().compareEventOrdering(a.eventId,i);if(null!==e&&e>=0)return}else t[r][s]={};t[r][s]={eventId:i,data:o}}))}))}))},g.prototype._buildReceiptCache=function(e){const t={};return c.keys(e).forEach((function(n){c.keys(e[n]).forEach((function(i){const r=e[n][i];t[r.eventId]||(t[r.eventId]=[]),t[r.eventId].push({userId:i,type:n,data:r.data})}))})),t},g.prototype._addLocalEchoReceipt=function(e,t,n){this.addReceipt(f(e,t,n),!0)},g.prototype.addTags=function(e){this.tags=e.getContent().tags||{},this.emit("Room.tags",e,this)},g.prototype.addAccountData=function(e){for(let t=0;t<e.length;t++){const n=e[t];"m.tag"===n.getType()&&this.addTags(n);const i=this.accountData[n.getType()];this.accountData[n.getType()]=n,this.emit("Room.accountData",n,this,i)}},g.prototype.getAccountData=function(e){return this.accountData[e]},g.prototype.maySendMessage=function(){return"join"===this.getMyMembership()&&this.currentState.maySendEvent("m.room.message",this.myUserId)}},tyto:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventTimeline=r;var i=n("4Cle");function r(e){this._eventTimelineSet=e,this._roomId=e.room?e.room.roomId:null,this._events=[],this._baseIndex=0,this._startState=new i.RoomState(this._roomId),this._startState.paginationToken=null,this._endState=new i.RoomState(this._roomId),this._endState.paginationToken=null,this._prevTimeline=null,this._nextTimeline=null,this._paginationRequests={b:null,f:null},this._name=this._roomId+":"+(new Date).toISOString()}r.BACKWARDS="b",r.FORWARDS="f",r.prototype.initialiseState=function(e){if(this._events.length>0)throw new Error("Cannot initialise state after events are added");for(const t of e)Object.freeze(t);this._startState.setStateEvents(e),this._endState.setStateEvents(e)},r.prototype.forkLive=function(e){const t=this.getState(e),n=new r(this._eventTimelineSet);return n._startState=t.clone(),n._endState=t,this._endState=t.clone(),n},r.prototype.fork=function(e){const t=this.getState(e),n=new r(this._eventTimelineSet);return n._startState=t.clone(),n._endState=t.clone(),n},r.prototype.getRoomId=function(){return this._roomId},r.prototype.getFilter=function(){return this._eventTimelineSet.getFilter()},r.prototype.getTimelineSet=function(){return this._eventTimelineSet},r.prototype.getBaseIndex=function(){return this._baseIndex},r.prototype.getEvents=function(){return this._events},r.prototype.getState=function(e){if(e==r.BACKWARDS)return this._startState;if(e==r.FORWARDS)return this._endState;throw new Error("Invalid direction '"+e+"'")},r.prototype.getPaginationToken=function(e){return this.getState(e).paginationToken},r.prototype.setPaginationToken=function(e,t){this.getState(t).paginationToken=e},r.prototype.getNeighbouringTimeline=function(e){if(e==r.BACKWARDS)return this._prevTimeline;if(e==r.FORWARDS)return this._nextTimeline;throw new Error("Invalid direction '"+e+"'")},r.prototype.setNeighbouringTimeline=function(e,t){if(this.getNeighbouringTimeline(t))throw new Error("timeline already has a neighbouring timeline - cannot reset neighbour (direction: "+t+")");if(t==r.BACKWARDS)this._prevTimeline=e;else{if(t!=r.FORWARDS)throw new Error("Invalid direction '"+t+"'");this._nextTimeline=e}this.setPaginationToken(null,t)},r.prototype.addEvent=function(e,t){const n=t?this._startState:this._endState,i=this.getTimelineSet();let s;i.room&&i.room.getUnfilteredTimelineSet()===i&&(r.setEventMetadata(e,n,t),e.isState()&&(n.setStateEvents([e]),e.sender&&("m.room.member"!==e.getType()||t)||r.setEventMetadata(e,n,t))),s=t?0:this._events.length,this._events.splice(s,0,e),t&&this._baseIndex++},r.setEventMetadata=function(e,t,n){e.sender=t.getSentinelMember(e.getSender()),"m.room.member"===e.getType()&&(e.target=t.getSentinelMember(e.getStateKey())),e.isState()&&n&&(e.forwardLooking=!1)},r.prototype.removeEvent=function(e){for(let t=this._events.length-1;t>=0;t--){const n=this._events[t];if(n.getId()==e)return this._events.splice(t,1),t<this._baseIndex&&this._baseIndex--,n}return null},r.prototype.toString=function(){return this._name}},uMDy:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encryptAES=function(...e){return s?async function(e,t,n,i){let o;i?o=(0,r.decodeBase64)(i):(o=new Uint8Array(16),window.crypto.getRandomValues(o)),o[8]&=127;const[a,l]=await c(t,n),u=(new TextEncoder).encode(e),h=await s.encrypt({name:"AES-CTR",counter:o,length:64},a,u),d=await s.sign({name:"HMAC"},l,h);return{iv:(0,r.encodeBase64)(o),ciphertext:(0,r.encodeBase64)(h),mac:(0,r.encodeBase64)(d)}}(...e):async function(e,t,n,s){const o=(0,i.getCrypto)();if(!o)throw new Error("No usable crypto implementation");let c;c=s?(0,r.decodeBase64)(s):o.randomBytes(16),c[8]&=127;const[l,u]=a(t,n),h=o.createCipheriv("aes-256-ctr",l,c),d=h.update(e,"utf-8","base64")+h.final("base64"),p=o.createHmac("sha256",u).update(d,"base64").digest("base64");return{iv:(0,r.encodeBase64)(c),ciphertext:d,mac:p}}(...e)},t.decryptAES=function(...e){return s?async function(e,t,n){const[i,o]=await c(t,n),a=(0,r.decodeBase64)(e.ciphertext);if(!(await s.verify({name:"HMAC"},o,(0,r.decodeBase64)(e.mac),a)))throw new Error(`Error decrypting secret ${n}: bad MAC`);const l=await s.decrypt({name:"AES-CTR",counter:(0,r.decodeBase64)(e.iv),length:64},i,a);return(new TextDecoder).decode(new Uint8Array(l))}(...e):async function(e,t,n){const s=(0,i.getCrypto)();if(!s)throw new Error("No usable crypto implementation");const[o,c]=a(t,n);if(s.createHmac("sha256",c).update(e.ciphertext,"base64").digest("base64").replace(/=+$/g,"")!==e.mac.replace(/=+$/g,""))throw new Error(`Error decrypting secret ${n}: bad MAC`);const l=s.createDecipheriv("aes-256-ctr",o,(0,r.decodeBase64)(e.iv));return l.update(e.ciphertext,"base64","utf-8")+l.final("utf-8")}(...e)};var i=n("t+e4"),r=n("VRzr");const s="undefined"!=typeof window&&window.crypto?window.crypto.subtle||window.crypto.webkitSubtle:null,o=new Uint8Array(8);function a(e,t){const n=(0,i.getCrypto)(),r=n.createHmac("sha256",o).update(e).digest(),s=Buffer.alloc(1,1),a=n.createHmac("sha256",r).update(t,"utf-8").update(s).digest();return s[0]=2,[a,n.createHmac("sha256",r).update(a).update(t,"utf-8").update(s).digest()]}async function c(e,t){const n=await s.importKey("raw",e,{name:"HKDF"},!1,["deriveBits"]),i=await s.deriveBits({name:"HKDF",salt:o,info:(new TextEncoder).encode(t),hash:"SHA-256"},n,512),r=i.slice(0,32),a=i.slice(32),c=s.importKey("raw",r,{name:"AES-CTR"},!1,["encrypt","decrypt"]),l=s.importKey("raw",a,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]);return await Promise.all([c,l])}},ucoE:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QRCodeData=t.ReciprocateQRCode=t.SCAN_QR_CODE_METHOD=t.SHOW_QR_CODE_METHOD=void 0;var i=n("7kwF"),r=n("VEe5"),s=n("VRzr");t.SHOW_QR_CODE_METHOD="m.qr_code.show.v1",t.SCAN_QR_CODE_METHOD="m.qr_code.scan.v1";class o extends i.VerificationBase{static factory(...e){return new o(...e)}static get NAME(){return"m.reciprocate.v1"}async _doVerification(){if(!this.startEvent)throw new Error("It is not currently possible to start verificationwith this method yet.");const{qrCodeData:e}=this.request;if(this.startEvent.getContent().secret!==e.encodedSharedSecret)throw(0,r.newKeyMismatchError)();await new Promise((e,t)=>{this.reciprocateQREvent={confirm:e,cancel:()=>t((0,r.newUserCancelledError)())},this.emit("show_reciprocate_qr",this.reciprocateQREvent)});const t={};switch(e.mode){case a:{const n=e.otherUserMasterKey;t["ed25519:"+n]=n;break}case c:t["ed25519:"+this.request.targetDevice.deviceId]=e.otherDeviceKey;break;case l:{const n=e.myMasterKey;t["ed25519:"+n]=n;break}}await this._verifyKeys(this.userId,t,(e,n,i)=>{const s=t[e];if(!s)throw(0,r.newKeyMismatchError)();if(i!==s)throw console.error("key ID from key info does not match"),(0,r.newKeyMismatchError)();for(const o in n.keys){if(!o.startsWith("ed25519"))continue;const e=t[o];if(!e)throw(0,r.newKeyMismatchError)();if(n.keys[o]!==e)throw console.error("master key does not match"),(0,r.newKeyMismatchError)()}})}}t.ReciprocateQRCode=o;const a=0,c=1,l=2;class u{constructor(e,t,n,i,r,s){this._sharedSecret=t,this._mode=e,this._otherUserMasterKey=n,this._otherDeviceKey=i,this._myMasterKey=r,this._buffer=s}static async create(e,t){const n=u._generateSharedSecret(),i=u._determineMode(e,t);let r=null,s=null,o=null;if(i===a)r=t.getStoredCrossSigningForUser(e.otherUserId).getId("master");else if(i===c)s=await u._getOtherDeviceKey(e,t);else if(i===l){const e=t.getUserId();o=t.getStoredCrossSigningForUser(e).getId("master")}const h=u._generateQrData(e,t,i,n,r,s,o),d=u._generateBuffer(h);return new u(i,n,r,s,o,d)}get buffer(){return this._buffer}get mode(){return this._mode}get otherDeviceKey(){return this._otherDeviceKey}get otherUserMasterKey(){return this._otherUserMasterKey}get myMasterKey(){return this._myMasterKey}get encodedSharedSecret(){return this._sharedSecret}static _generateSharedSecret(){const e=new Uint8Array(11);return global.crypto.getRandomValues(e),(0,s.encodeUnpaddedBase64)(e)}static async _getOtherDeviceKey(e,t){const n=t.getUserId(),i=e.targetDevice,r=i?i.deviceId:null,s=t.getStoredDevice(n,r);if(!s)throw new Error("could not find device "+r);return s.getFingerprint()}static _determineMode(e,t){const n=t.getUserId();let i=a;return n===e.otherUserId&&(i=t.checkUserTrust(n).isCrossSigningVerified()?c:l),i}static _generateQrData(e,t,n,i,r,s,o){const u=t.getUserId(),h={prefix:"MATRIX",version:2,mode:n,transactionId:e.channel.transactionId,firstKeyB64:"",secondKeyB64:"",secretB64:i},d=t.getStoredCrossSigningForUser(u);return n===a?(h.firstKeyB64=d.getId("master"),h.secondKeyB64=r):n===c?(h.firstKeyB64=d.getId("master"),h.secondKeyB64=s):n===l&&(h.firstKeyB64=t.getDeviceEd25519Key(),h.secondKeyB64=o),h}static _generateBuffer(e){let t=Buffer.alloc(0);const n=e=>{const n=Buffer.from([e]);t=Buffer.concat([t,n])},i=(e,n,i=!0)=>{const r=Buffer.from(e,n);i&&(e=>{const n=Buffer.alloc(2);n.writeInt16BE(e,0),t=Buffer.concat([t,n])})(r.byteLength),t=Buffer.concat([t,r])},r=e=>{const n=(0,s.decodeBase64)(e),i=Buffer.from(n);t=Buffer.concat([t,i])};return i(e.prefix,"ascii",!1),n(e.version),n(e.mode),i(e.transactionId,"utf-8"),r(e.firstKeyB64),r(e.secondKeyB64),r(e.secretB64),t}}t.QRCodeData=u},vR9v:function(e,t,n){"use strict";var i=n("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.RoomMember=a;var r=n("+qE3"),s=n("JOJy"),o=i(n("t+e4"));function a(e,t){this.roomId=e,this.userId=t,this.typing=!1,this.name=t,this.rawDisplayName=t,this.powerLevel=0,this.powerLevelNorm=0,this.user=null,this.membership=null,this.events={member:null},this._isOutOfBand=!1,this._updateModifiedTime()}o.inherits(a,r.EventEmitter),a.prototype.markOutOfBand=function(){this._isOutOfBand=!0},a.prototype.isOutOfBand=function(){return this._isOutOfBand},a.prototype.setMembershipEvent=function(e,t){if("m.room.member"!==e.getType())return;this._isOutOfBand=!1,this.events.member=e;const n=this.membership;this.membership=e.getDirectionalContent().membership;const i=this.name;this.name=function(e,t,n){if(!t||t===e)return e;if(!o.removeHiddenChars(t))return e;if(!n)return t;let i=/@.+:.+/.test(t);return i||(i=/[\u200E\u200F\u202A-\u202F]/.test(t)),i||(i=n.getUserIdsWithDisplayName(t).some(t=>t!==e)),i?t+" ("+e+")":t}(this.userId,e.getDirectionalContent().displayname,t),this.rawDisplayName=e.getDirectionalContent().displayname||this.userId,n!==this.membership&&(this._updateModifiedTime(),this.emit("RoomMember.membership",e,this,n)),i!==this.name&&(this._updateModifiedTime(),this.emit("RoomMember.name",e,this,i))},a.prototype.setPowerLevelEvent=function(e){if("m.room.power_levels"!==e.getType())return;const t=e.getDirectionalContent();let n=t.users_default||0;o.forEach(o.values(t.users),(function(e){n=Math.max(n,e)}));const i=this.powerLevel,r=this.powerLevelNorm;this.powerLevel=t.users&&void 0!==t.users[this.userId]?t.users[this.userId]:void 0!==t.users_default?t.users_default:0,this.powerLevelNorm=0,n>0&&(this.powerLevelNorm=100*this.powerLevel/n),i===this.powerLevel&&r===this.powerLevelNorm||(this._updateModifiedTime(),this.emit("RoomMember.powerLevel",e,this))},a.prototype.setTypingEvent=function(e){if("m.typing"!==e.getType())return;const t=this.typing;this.typing=!1;const n=e.getContent().user_ids;o.isArray(n)&&(-1!==n.indexOf(this.userId)&&(this.typing=!0),t!==this.typing&&(this._updateModifiedTime(),this.emit("RoomMember.typing",e,this)))},a.prototype._updateModifiedTime=function(){this._modified=Date.now()},a.prototype.getLastModifiedTime=function(){return this._modified},a.prototype.isKicked=function(){return"leave"===this.membership&&this.events.member.getSender()!==this.events.member.getStateKey()},a.prototype.getDMInviter=function(){if(this.events.member){const e=this.events.member;let t=e.getContent(),n=e.getSender();if("join"===t.membership&&(t=e.getPrevContent(),n=e.getUnsigned().prev_sender),"invite"===t.membership&&t.is_direct)return n}},a.prototype.getAvatarUrl=function(e,t,n,i,r,o){void 0===r&&(r=!0);const a=this.getMxcAvatarUrl();return a||r?(0,s.getHttpUriForMxc)(e,a,t,n,i,o)||(r?(0,s.getIdenticonUri)(e,this.userId,t,n):null):null},a.prototype.getMxcAvatarUrl=function(){return this.events.member?this.events.member.getDirectionalContent().avatar_url:this.user?this.user.avatarUrl:null}},xPRb:function(e,t,n){"use strict";var i=n("TqRt"),r=n("284h");Object.defineProperty(t,"__esModule",{value:!0});var s={};t.default=void 0;var o=r(n("Gghg"));Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(s,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var a=i(n("cio7")),c=i(n("Qyje"));let l;o.request((function(e,t){return e.qs=c.default.stringify(e.qs||{},e.qsStringifyOptions),(0,a.default)(e,t)}));try{l=global.indexedDB}catch(u){}l&&o.setCryptoStoreFactory((function(){return new o.IndexedDBCryptoStore(l,"matrix-js-sdk:crypto")})),t.default=o,global.matrixcs=o},zUnb:function(e,t,n){"use strict";function i(e){return"function"==typeof e}n.r(t);let r=!1;const s={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}};function o(e){setTimeout(()=>{throw e},0)}const a={closed:!0,next(e){},error(e){if(s.useDeprecatedSynchronousErrorHandling)throw e;o(e)},complete(){}},c=(()=>Array.isArray||(e=>e&&"number"==typeof e.length))();function l(e){return null!==e&&"object"==typeof e}const u=(()=>{function e(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e})();let h=(()=>{class e{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:r,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(let e=0;e<n.length;++e)n[e].remove(this);if(i(r))try{r.call(this)}catch(o){t=o instanceof u?d(o.errors):[o]}if(c(s)){let e=-1,n=s.length;for(;++e<n;){const n=s[e];if(l(n))try{n.unsubscribe()}catch(o){t=t||[],o instanceof u?t=t.concat(d(o.errors)):t.push(o)}}}if(t)throw new u(t)}add(t){let n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){const t=n;n=new e,n._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:i}=n;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[n]:r.push(n),n}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}var t;return e.EMPTY=((t=new e).closed=!0,t),e})();function d(e){return e.reduce((e,t)=>e.concat(t instanceof u?t.errors:t),[])}const p=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class m extends h{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!e){this.destination=a;break}if("object"==typeof e){e instanceof m?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new f(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new f(this,e,t,n)}}[p](){return this}static create(e,t,n){const i=new m(e,t,n);return i.syncErrorThrowable=!1,i}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class f extends m{constructor(e,t,n,r){let s;super(),this._parentSubscriber=e;let o=this;i(t)?s=t:t&&(s=t.next,n=t.error,r=t.complete,t!==a&&(o=Object.create(t),i(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=s,this._error=n,this._complete=r}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;s.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=s;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):o(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;o(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);s.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),s.useDeprecatedSynchronousErrorHandling)throw n;o(n)}}__tryOrSetError(e,t,n){if(!s.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(i){return s.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=i,e.syncErrorThrown=!0,!0):(o(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const g=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function _(e){return e}let y=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(e,t,n){const{operator:i}=this,r=function(e,t,n){if(e){if(e instanceof m)return e;if(e[p])return e[p]()}return e||t||n?new m(e,t,n):new m(a)}(e,t,n);if(r.add(i?i.call(r,this.source):this.source||s.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),s.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r}_trySubscribe(e){try{return this._subscribe(e)}catch(t){s.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:n,isStopped:i}=e;if(t||i)return!1;e=n&&n instanceof m?n:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=v(t))((t,n)=>{let i;i=this.subscribe(t=>{try{e(t)}catch(r){n(r),i&&i.unsubscribe()}},n,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[g](){return this}pipe(...e){return 0===e.length?this:(0===(t=e).length?_:1===t.length?t[0]:function(e){return t.reduce((e,t)=>t(e),e)})(this);var t}toPromise(e){return new(e=v(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}return e.create=t=>new e(t),e})();function v(e){if(e||(e=s.Promise||Promise),!e)throw new Error("no Promise impl found");return e}const b=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})();class w extends h{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}class S extends m{constructor(e){super(e),this.destination=e}}let E=(()=>{class e extends y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[p](){return new S(this)}lift(e){const t=new k(this,this);return t.operator=e,t}next(e){if(this.closed)throw new b;if(!this.isStopped){const{observers:t}=this,n=t.length,i=t.slice();for(let r=0;r<n;r++)i[r].next(e)}}error(e){if(this.closed)throw new b;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,i=t.slice();for(let r=0;r<n;r++)i[r].error(e);this.observers.length=0}complete(){if(this.closed)throw new b;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let i=0;i<t;i++)n[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new b;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new b;return this.hasError?(e.error(this.thrownError),h.EMPTY):this.isStopped?(e.complete(),h.EMPTY):(this.observers.push(e),new w(this,e))}asObservable(){const e=new y;return e.source=this,e}}return e.create=(e,t)=>new k(e,t),e})();class k extends E{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):h.EMPTY}}function C(e){return e&&"function"==typeof e.schedule}class x extends m{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const T=e=>t=>{for(let n=0,i=e.length;n<i&&!t.closed;n++)t.next(e[n]);t.complete()};function I(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const R=I(),O=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function A(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}const D=e=>{if(e&&"function"==typeof e[g])return i=e,e=>{const t=i[g]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(O(e))return T(e);if(A(e))return n=e,e=>(n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,o),e);if(e&&"function"==typeof e[R])return t=e,e=>{const n=t[R]();for(;;){const t=n.next();if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e};{const t=l(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var t,n,i};function P(e,t,n,i,r=new x(e,n,i)){if(!r.closed)return t instanceof y?t.subscribe(r):D(t)(r)}class M extends m{notifyNext(e,t,n,i,r){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}function N(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new L(e,t))}}class L{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new F(e,this.project,this.thisArg))}}class F extends m{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}function U(e,t){return new y(n=>{const i=new h;let r=0;return i.add(t.schedule((function(){r!==e.length?(n.next(e[r++]),n.closed||i.add(this.schedule())):n.complete()}))),i})}function B(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[g]}(e))return function(e,t){return new y(n=>{const i=new h;return i.add(t.schedule(()=>{const r=e[g]();i.add(r.subscribe({next(e){i.add(t.schedule(()=>n.next(e)))},error(e){i.add(t.schedule(()=>n.error(e)))},complete(){i.add(t.schedule(()=>n.complete()))}}))})),i})}(e,t);if(A(e))return function(e,t){return new y(n=>{const i=new h;return i.add(t.schedule(()=>e.then(e=>{i.add(t.schedule(()=>{n.next(e),i.add(t.schedule(()=>n.complete()))}))},e=>{i.add(t.schedule(()=>n.error(e)))}))),i})}(e,t);if(O(e))return U(e,t);if(function(e){return e&&"function"==typeof e[R]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new y(n=>{const i=new h;let r;return i.add(()=>{r&&"function"==typeof r.return&&r.return()}),i.add(t.schedule(()=>{r=e[R](),i.add(t.schedule((function(){if(n.closed)return;let e,t;try{const n=r.next();e=n.value,t=n.done}catch(i){return void n.error(i)}t?n.complete():(n.next(e),this.schedule())})))})),i})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof y?e:new y(D(e))}function j(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?i=>i.pipe(j((n,i)=>B(e(n,i)).pipe(N((e,r)=>t(n,e,i,r))),n)):("number"==typeof t&&(n=t),t=>t.lift(new V(e,n)))}class V{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new K(e,this.project,this.concurrent))}}class K extends M{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(t,e,n)}_innerSub(e,t,n){const i=new x(this,t,n),r=this.destination;r.add(i);const s=P(this,e,void 0,void 0,i);s!==i&&r.add(s)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e,t,n,i,r){this.destination.next(t)}notifyComplete(e){const t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function q(e=Number.POSITIVE_INFINITY){return j(_,e)}function G(e,t){return t?U(e,t):new y(T(e))}function $(...e){let t=Number.POSITIVE_INFINITY,n=null,i=e[e.length-1];return C(i)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof i&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof y?e[0]:q(t)(G(e,n))}function H(){return function(e){return e.lift(new z(e))}}class z{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const i=new W(e,n),r=t.subscribe(i);return i.closed||(i.connection=n.connect()),r}}class W extends m{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,i=e._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}class Y extends y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new h,e.add(this.source.subscribe(new Q(this.getSubject(),this))),e.closed&&(this._connection=null,e=h.EMPTY)),e}refCount(){return H()(this)}}const X=(()=>{const e=Y.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class Q extends S{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function Z(){return new E}function J(){return e=>{return H()((t=Z,function(e){let n;n="function"==typeof t?t:function(){return t};const i=Object.create(e,X);return i.source=e,i.subjectFactory=n,i})(e));var t}}function ee(e){return{toString:e}.toString()}function te(e,t,n){return ee(()=>{const i=function(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}(t);function r(...e){if(this instanceof r)return i.apply(this,e),this;const t=new r(...e);return n.annotation=t,n;function n(e,n,i){const r=e.hasOwnProperty("__parameters__")?e.__parameters__:Object.defineProperty(e,"__parameters__",{value:[]}).__parameters__;for(;r.length<=i;)r.push(null);return(r[i]=r[i]||[]).push(t),e}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}const ne=te("Inject",e=>({token:e})),ie=te("Optional"),re=te("Self"),se=te("SkipSelf");var oe=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function ae(e){for(let t in e)if(e[t]===ae)return t;throw Error("Could not find renamed property on target object.")}function ce(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function le(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ue(e){return{factory:e.factory,providers:e.providers||[],imports:e.imports||[]}}function he(e){return de(e,e[me])||de(e,e[_e])}function de(e,t){return t&&t.token===e?t:null}function pe(e){return e&&(e.hasOwnProperty(fe)||e.hasOwnProperty(ye))?e[fe]:null}const me=ae({"\u0275prov":ae}),fe=ae({"\u0275inj":ae}),ge=ae({"\u0275provFallback":ae}),_e=ae({ngInjectableDef:ae}),ye=ae({ngInjectorDef:ae});function ve(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ve).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return""+e.overriddenName;if(e.name)return""+e.name;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function be(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const we=ae({__forward_ref__:ae});function Se(e){return e.__forward_ref__=Se,e.toString=function(){return ve(this())},e}function Ee(e){return ke(e)?e():e}function ke(e){return"function"==typeof e&&e.hasOwnProperty(we)&&e.__forward_ref__===Se}const Ce="undefined"!=typeof globalThis&&globalThis,xe="undefined"!=typeof window&&window,Te="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ie="undefined"!=typeof global&&global,Re=Ce||Ie||xe||Te,Oe=ae({"\u0275cmp":ae}),Ae=ae({"\u0275dir":ae}),De=ae({"\u0275pipe":ae}),Pe=ae({"\u0275mod":ae}),Me=ae({"\u0275loc":ae}),Ne=ae({"\u0275fac":ae}),Le=ae({__NG_ELEMENT_ID__:ae});class Fe{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=le({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return"InjectionToken "+this._desc}}const Ue=new Fe("INJECTOR",-1),Be={},je=/\n/gm,Ve=ae({provide:String,useValue:ae});let Ke,qe=void 0;function Ge(e){const t=qe;return qe=e,t}function $e(e){const t=Ke;return Ke=e,t}function He(e,t=oe.Default){if(void 0===qe)throw new Error("inject() must be called from an injection context");return null===qe?Ye(e,void 0,t):qe.get(e,t&oe.Optional?null:void 0,t)}function ze(e,t=oe.Default){return(Ke||He)(Ee(e),t)}const We=ze;function Ye(e,t,n){const i=he(e);if(i&&"root"==i.providedIn)return void 0===i.value?i.value=i.factory():i.value;if(n&oe.Optional)return null;if(void 0!==t)return t;throw new Error(`Injector: NOT_FOUND [${ve(e)}]`)}function Xe(e){const t=[];for(let n=0;n<e.length;n++){const i=Ee(e[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let e=void 0,n=oe.Default;for(let t=0;t<i.length;t++){const r=i[t];r instanceof ie||"Optional"===r.ngMetadataName||r===ie?n|=oe.Optional:r instanceof se||"SkipSelf"===r.ngMetadataName||r===se?n|=oe.SkipSelf:r instanceof re||"Self"===r.ngMetadataName||r===re?n|=oe.Self:e=r instanceof ne||r===ne?r.token:r}t.push(ze(e,n))}else t.push(ze(i))}return t}class Qe{get(e,t=Be){if(t===Be){const t=new Error(`NullInjectorError: No provider for ${ve(e)}!`);throw t.name="NullInjectorError",t}return t}}class Ze{}class Je{}function et(e,t){e.forEach(e=>Array.isArray(e)?et(e,t):t(e))}function tt(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function nt(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function it(e,t){const n=[];for(let i=0;i<e;i++)n.push(t);return n}function rt(e,t,n){let i=ot(e,t);return i>=0?e[1|i]=n:(i=~i,function(e,t,n,i){let r=e.length;if(r==t)e.push(n,i);else if(1===r)e.push(i,e[0]),e[0]=n;else{for(r--,e.push(e[r-1],e[r]);r>t;)e[r]=e[r-2],r--;e[t]=n,e[t+1]=i}}(e,i,t,n)),i}function st(e,t){const n=ot(e,t);if(n>=0)return e[1|n]}function ot(e,t){return function(e,t,n){let i=0,r=e.length>>1;for(;r!==i;){const n=i+(r-i>>1),s=e[n<<1];if(t===s)return n<<1;s>t?r=n:i=n+1}return~(r<<1)}(e,t)}var at=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}({}),ct=function(e){return e[e.Emulated=0]="Emulated",e[e.Native=1]="Native",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}({});const lt={},ut=[];let ht=0;function dt(e){return ee(()=>{const t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===at.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||ut,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||ct.Emulated,id:"c",styles:e.styles||ut,_:null,setInput:null,schemas:e.schemas||null,tView:null},i=e.directives,r=e.features,s=e.pipes;return n.id+=ht++,n.inputs=_t(e.inputs,t),n.outputs=_t(e.outputs),r&&r.forEach(e=>e(n)),n.directiveDefs=i?()=>("function"==typeof i?i():i).map(pt):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(mt):null,n})}function pt(e){return bt(e)||function(e){return e[Ae]||null}(e)}function mt(e){return function(e){return e[De]||null}(e)}const ft={};function gt(e){const t={type:e.type,bootstrap:e.bootstrap||ut,declarations:e.declarations||ut,imports:e.imports||ut,exports:e.exports||ut,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&ee(()=>{ft[e.id]=e.type}),t}function _t(e,t){if(null==e)return lt;const n={};for(const i in e)if(e.hasOwnProperty(i)){let r=e[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),n[r]=i,t&&(t[r]=s)}return n}const yt=dt;function vt(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function bt(e){return e[Oe]||null}function wt(e,t){return e.hasOwnProperty(Ne)?e[Ne]:null}function St(e,t){const n=e[Pe]||null;if(!n&&!0===t)throw new Error(`Type ${ve(e)} does not have '\u0275mod' property.`);return n}function Et(e){return Array.isArray(e)&&"object"==typeof e[1]}function kt(e){return Array.isArray(e)&&!0===e[1]}function Ct(e){return 0!=(8&e.flags)}function xt(e){return 2==(2&e.flags)}function Tt(e){return 1==(1&e.flags)}function It(e){return null!==e.template}function Rt(e){return 0!=(512&e[2])}class Ot{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function At(){return Dt}function Dt(e){return e.type.prototype.ngOnChanges&&(e.setInput=Mt),Pt}function Pt(){const e=Nt(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===lt)e.previous=t;else for(let e in t)n[e]=t[e];e.current=null,this.ngOnChanges(t)}}function Mt(e,t,n,i){const r=Nt(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:lt,current:null}),s=r.current||(r.current={}),o=r.previous,a=this.declaredInputs[n],c=o[a];s[a]=new Ot(c&&c.currentValue,t,o===lt),e[i]=t}function Nt(e){return e.__ngSimpleChanges__||null}At.ngInherit=!0;let Lt=void 0;function Ft(){return void 0!==Lt?Lt:"undefined"!=typeof document?document:void 0}function Ut(e){return!!e.listen}const Bt={createRenderer:(e,t)=>Ft()};function jt(e){for(;Array.isArray(e);)e=e[0];return e}function Vt(e,t){return jt(t[e+20])}function Kt(e,t){return jt(t[e.index])}function qt(e,t){return e.data[t+20]}function Gt(e,t){return e[t+20]}function $t(e,t){const n=t[e];return Et(n)?n:n[0]}function Ht(e){const t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function zt(e){return 4==(4&e[2])}function Wt(e){return 128==(128&e[2])}function Yt(e,t){return null===e||null==t?null:e[t]}function Xt(e){e[18]=0}function Qt(e,t){e[5]+=t;let n=e,i=e[3];for(;null!==i&&(1===t&&1===n[5]||-1===t&&0===n[5]);)i[5]+=t,n=i,i=i[3]}const Zt={lFrame:Sn(null),bindingsEnabled:!0,checkNoChangesMode:!1};function Jt(){return Zt.bindingsEnabled}function en(){return Zt.lFrame.lView}function tn(){return Zt.lFrame.tView}function nn(e){Zt.lFrame.contextLView=e}function rn(){return Zt.lFrame.previousOrParentTNode}function sn(e,t){Zt.lFrame.previousOrParentTNode=e,Zt.lFrame.isParent=t}function on(){return Zt.lFrame.isParent}function an(){Zt.lFrame.isParent=!1}function cn(){return Zt.checkNoChangesMode}function ln(e){Zt.checkNoChangesMode=e}function un(){const e=Zt.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function hn(){return Zt.lFrame.bindingIndex}function dn(){return Zt.lFrame.bindingIndex++}function pn(e){const t=Zt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function mn(e,t){const n=Zt.lFrame;n.bindingIndex=n.bindingRootIndex=e,fn(t)}function fn(e){Zt.lFrame.currentDirectiveIndex=e}function gn(e){const t=Zt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function _n(){return Zt.lFrame.currentQueryIndex}function yn(e){Zt.lFrame.currentQueryIndex=e}function vn(e,t){const n=wn();Zt.lFrame=n,n.previousOrParentTNode=t,n.lView=e}function bn(e,t){const n=wn(),i=e[1];Zt.lFrame=n,n.previousOrParentTNode=t,n.lView=e,n.tView=i,n.contextLView=e,n.bindingIndex=i.bindingStartIndex}function wn(){const e=Zt.lFrame,t=null===e?null:e.child;return null===t?Sn(e):t}function Sn(e){const t={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null};return null!==e&&(e.child=t),t}function En(){const e=Zt.lFrame;return Zt.lFrame=e.parent,e.previousOrParentTNode=null,e.lView=null,e}const kn=En;function Cn(){const e=En();e.isParent=!0,e.tView=null,e.selectedIndex=0,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function xn(){return Zt.lFrame.selectedIndex}function Tn(e){Zt.lFrame.selectedIndex=e}function In(){const e=Zt.lFrame;return qt(e.tView,e.selectedIndex)}function Rn(){Zt.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function On(){Zt.lFrame.currentNamespace=null}function An(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){const t=e.data[n].type.prototype,{ngAfterContentInit:i,ngAfterContentChecked:r,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=t;i&&(e.contentHooks||(e.contentHooks=[])).push(-n,i),r&&((e.contentHooks||(e.contentHooks=[])).push(n,r),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,r)),s&&(e.viewHooks||(e.viewHooks=[])).push(-n,s),o&&((e.viewHooks||(e.viewHooks=[])).push(n,o),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,o)),null!=a&&(e.destroyHooks||(e.destroyHooks=[])).push(n,a)}}function Dn(e,t,n){Nn(e,t,3,n)}function Pn(e,t,n,i){(3&e[2])===n&&Nn(e,t,n,i)}function Mn(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Nn(e,t,n,i){const r=null!=i?i:-1;let s=0;for(let o=void 0!==i?65535&e[18]:0;o<t.length;o++)if("number"==typeof t[o+1]){if(s=t[o],null!=i&&s>=i)break}else t[o]<0&&(e[18]+=65536),(s<r||-1==r)&&(Ln(e,n,t,o),e[18]=(4294901760&e[18])+o+2),o++}function Ln(e,t,n,i){const r=n[i]<0,s=n[i+1],o=e[r?-n[i]:n[i]];r?e[2]>>11<e[18]>>16&&(3&e[2])===t&&(e[2]+=2048,s.call(o)):s.call(o)}class Fn{constructor(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}function Un(e,t,n){const i=Ut(e);let r=0;for(;r<n.length;){const s=n[r];if("number"==typeof s){if(0!==s)break;r++;const o=n[r++],a=n[r++],c=n[r++];i?e.setAttribute(t,a,c,o):t.setAttributeNS(o,a,c)}else{const o=s,a=n[++r];jn(o)?i&&e.setProperty(t,o,a):i?e.setAttribute(t,o,a):t.setAttribute(o,a),r++}}return r}function Bn(e){return 3===e||4===e||6===e}function jn(e){return 64===e.charCodeAt(0)}function Vn(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?n=r:0===n||Kn(e,n,r,null,-1===n||2===n?t[++i]:null)}}return e}function Kn(e,t,n,i,r){let s=0,o=e.length;if(-1===t)o=-1;else for(;s<e.length;){const n=e[s++];if("number"==typeof n){if(n===t){o=-1;break}if(n>t){o=s-1;break}}}for(;s<e.length;){const t=e[s];if("number"==typeof t)break;if(t===n){if(null===i)return void(null!==r&&(e[s+1]=r));if(i===e[s+1])return void(e[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(e.splice(o,0,t),s=o+1),e.splice(s++,0,n),null!==i&&e.splice(s++,0,i),null!==r&&e.splice(s++,0,r)}function qn(e){return-1!==e}function Gn(e){return 32767&e}function $n(e){return e>>16}function Hn(e,t){let n=$n(e),i=t;for(;n>0;)i=i[15],n--;return i}function zn(e){return"string"==typeof e?e:null==e?"":""+e}function Wn(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():zn(e)}const Yn=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Re))();function Xn(e){return{name:"window",target:e.ownerDocument.defaultView}}function Qn(e){return e instanceof Function?e():e}let Zn=!0;function Jn(e){const t=Zn;return Zn=e,t}let ei=0;function ti(e,t){const n=ii(e,t);if(-1!==n)return n;const i=t[1];i.firstCreatePass&&(e.injectorIndex=t.length,ni(i.data,e),ni(t,null),ni(i.blueprint,null));const r=ri(e,t),s=e.injectorIndex;if(qn(r)){const e=Gn(r),n=Hn(r,t),i=n[1].data;for(let r=0;r<8;r++)t[s+r]=n[e+r]|i[e+r]}return t[s+8]=r,s}function ni(e,t){e.push(0,0,0,0,0,0,0,0,t)}function ii(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null==t[e.injectorIndex+8]?-1:e.injectorIndex}function ri(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=t[6],i=1;for(;n&&-1===n.injectorIndex;)n=(t=t[15])?t[6]:null,i++;return n?n.injectorIndex|i<<16:-1}function si(e,t,n){!function(e,t,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(Le)&&(i=n[Le]),null==i&&(i=n[Le]=ei++);const r=255&i,s=1<<r,o=64&r,a=32&r,c=t.data;128&r?o?a?c[e+7]|=s:c[e+6]|=s:a?c[e+5]|=s:c[e+4]|=s:o?a?c[e+3]|=s:c[e+2]|=s:a?c[e+1]|=s:c[e]|=s}(e,t,n)}function oi(e,t,n,i=oe.Default,r){if(null!==e){const r=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Le)?e[Le]:void 0;return"number"==typeof t&&t>0?255&t:t}(n);if("function"==typeof r){vn(t,e);try{const e=r();if(null!=e||i&oe.Optional)return e;throw new Error(`No provider for ${Wn(n)}!`)}finally{kn()}}else if("number"==typeof r){if(-1===r)return new pi(e,t);let s=null,o=ii(e,t),a=-1,c=i&oe.Host?t[16][6]:null;for((-1===o||i&oe.SkipSelf)&&(a=-1===o?ri(e,t):t[o+8],di(i,!1)?(s=t[1],o=Gn(a),t=Hn(a,t)):o=-1);-1!==o;){a=t[o+8];const e=t[1];if(hi(r,o,e.data)){const e=ci(o,t,n,s,i,c);if(e!==ai)return e}di(i,t[1].data[o+8]===c)&&hi(r,o,t)?(s=e,o=Gn(a),t=Hn(a,t)):o=-1}}}if(i&oe.Optional&&void 0===r&&(r=null),0==(i&(oe.Self|oe.Host))){const e=t[9],s=$e(void 0);try{return e?e.get(n,r,i&oe.Optional):Ye(n,r,i&oe.Optional)}finally{$e(s)}}if(i&oe.Optional)return r;throw new Error(`NodeInjector: NOT_FOUND [${Wn(n)}]`)}const ai={};function ci(e,t,n,i,r,s){const o=t[1],a=o.data[e+8],c=li(a,o,n,null==i?xt(a)&&Zn:i!=o&&3===a.type,r&oe.Host&&s===a);return null!==c?ui(t,o,c,a):ai}function li(e,t,n,i,r){const s=e.providerIndexes,o=t.data,a=1048575&s,c=e.directiveStart,l=s>>20,u=r?a+l:e.directiveEnd;for(let h=i?a:a+l;h<u;h++){const e=o[h];if(h<c&&n===e||h>=c&&e.type===n)return h}if(r){const e=o[c];if(e&&It(e)&&e.type===n)return c}return null}function ui(e,t,n,i){let r=e[n];const s=t.data;if(r instanceof Fn){const o=r;if(o.resolving)throw new Error("Circular dep for "+Wn(s[n]));const a=Jn(o.canSeeViewProviders);let c;o.resolving=!0,o.injectImpl&&(c=$e(o.injectImpl)),vn(e,i);try{r=e[n]=o.factory(void 0,s,e,i),t.firstCreatePass&&n>=i.directiveStart&&function(e,t,n){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(i){const i=Dt(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,i)}r&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,r),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s))}(n,s[n],t)}finally{o.injectImpl&&$e(c),Jn(a),o.resolving=!1,kn()}}return r}function hi(e,t,n){const i=64&e,r=32&e;let s;return s=128&e?i?r?n[t+7]:n[t+6]:r?n[t+5]:n[t+4]:i?r?n[t+3]:n[t+2]:r?n[t+1]:n[t],!!(s&1<<e)}function di(e,t){return!(e&oe.Self||e&oe.Host&&t)}class pi{constructor(e,t){this._tNode=e,this._lView=t}get(e,t){return oi(this._tNode,this._lView,e,void 0,t)}}function mi(e){const t=e;if(ke(e))return()=>{const e=mi(Ee(t));return e?e():null};let n=wt(t);if(null===n){const e=pe(t);n=e&&e.factory}return n||null}function fi(e){return ee(()=>{const t=e.prototype.constructor,n=t[Ne]||mi(t),i=Object.prototype;let r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==i;){const e=r[Ne]||mi(r);if(e&&e!==n)return e;r=Object.getPrototypeOf(r)}return e=>new e})}function gi(e){return e.ngDebugContext}function _i(e){return e.ngOriginalError}function yi(e,...t){e.error(...t)}class vi{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),i=function(e){return e.ngErrorLogger||yi}(e);i(this._console,"ERROR",e),t&&i(this._console,"ORIGINAL ERROR",t),n&&i(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?gi(e)?gi(e):this._findContext(_i(e)):null}_findOriginalError(e){let t=_i(e);for(;t&&_i(t);)t=_i(t);return t}}class bi{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class wi extends bi{getTypeName(){return"HTML"}}class Si extends bi{getTypeName(){return"Style"}}class Ei extends bi{getTypeName(){return"Script"}}class ki extends bi{getTypeName(){return"URL"}}class Ci extends bi{getTypeName(){return"ResourceURL"}}function xi(e){return e instanceof bi?e.changingThisBreaksApplicationSecurity:e}function Ti(e,t){const n=Ii(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===t}function Ii(e){return e instanceof bi&&e.getTypeName()||null}let Ri=!0,Oi=!1;function Ai(){return Oi=!0,Ri}class Di{getInertBodyElement(e){e="<body><remove></remove>"+e+"</body>";try{const t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(t){return null}}}class Pi{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const t=this.inertDocument.createElement("body");e.appendChild(t)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=e,t;const n=this.inertDocument.createElement("body");return n.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(e){const t=e.attributes;for(let i=t.length-1;0<i;i--){const n=t.item(i).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||e.removeAttribute(n)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Mi=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Ni=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Li(e){return(e=String(e)).match(Mi)||e.match(Ni)?e:(Ai()&&console.warn(`WARNING: sanitizing unsafe URL value ${e} (see http://g.co/ng/security#xss)`),"unsafe:"+e)}function Fi(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function Ui(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const Bi=Fi("area,br,col,hr,img,wbr"),ji=Fi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Vi=Fi("rp,rt"),Ki=Ui(Vi,ji),qi=Ui(Bi,Ui(ji,Fi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ui(Vi,Fi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ki),Gi=Fi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),$i=Fi("srcset"),Hi=Ui(Gi,$i,Fi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Fi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),zi=Fi("script,style,template");class Wi{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!qi.hasOwnProperty(t))return this.sanitizedSomething=!0,!zi.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let r=0;r<n.length;r++){const e=n.item(r),t=e.name,s=t.toLowerCase();if(!Hi.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=e.value;Gi[s]&&(o=Li(o)),$i[s]&&(i=o,o=(i=String(i)).split(",").map(e=>Li(e.trim())).join(", ")),this.buf.push(" ",t,'="',Qi(o),'"')}var i;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();qi.hasOwnProperty(t)&&!Bi.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Qi(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+e.outerHTML);return t}}const Yi=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Xi=/([^\#-~ |!])/g;function Qi(e){return e.replace(/&/g,"&amp;").replace(Yi,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(Xi,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Zi;function Ji(e,t){let n=null;try{Zi=Zi||function(e){return function(){try{return!!(new window.DOMParser).parseFromString("","text/html")}catch(e){return!1}}()?new Di:new Pi(e)}(e);let i=t?String(t):"";n=Zi.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=n.innerHTML,n=Zi.getInertBodyElement(i)}while(i!==s);const o=new Wi,a=o.sanitizeChildren(er(n)||n);return Ai()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const e=er(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}function er(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var tr=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}({});function nr(e){const t=rr();return t?t.sanitize(tr.HTML,e)||"":Ti(e,"HTML")?xi(e):Ji(Ft(),zn(e))}function ir(e){const t=rr();return t?t.sanitize(tr.URL,e)||"":Ti(e,"URL")?xi(e):Li(zn(e))}function rr(){const e=en();return e&&e[12]}function sr(e,t){e.__ngContext__=t}function or(e){throw new Error("Multiple components match node with tagname "+e.tagName)}function ar(){throw new Error("Cannot mix multi providers and regular providers")}function cr(e,t,n){let i=e.length;for(;;){const r=e.indexOf(t,n);if(-1===r)return r;if(0===r||e.charCodeAt(r-1)<=32){const n=t.length;if(r+n===i||e.charCodeAt(r+n)<=32)return r}n=r+1}}function lr(e,t,n){let i=0;for(;i<e.length;){let r=e[i++];if(n&&"class"===r){if(r=e[i],-1!==cr(r.toLowerCase(),t,0))return!0}else if(1===r){for(;i<e.length&&"string"==typeof(r=e[i++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function ur(e){return 0===e.type&&"ng-template"!==e.tagName}function hr(e,t,n){return t===(0!==e.type||n?e.tagName:"ng-template")}function dr(e,t,n){let i=4;const r=e.attrs||[],s=function(e){for(let t=0;t<e.length;t++)if(Bn(e[t]))return t;return e.length}(r);let o=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!o)if(4&i){if(i=2|1&i,""!==c&&!hr(e,c,n)||""===c&&1===t.length){if(pr(i))return!1;o=!0}}else{const l=8&i?c:t[++a];if(8&i&&null!==e.attrs){if(!lr(e.attrs,l,n)){if(pr(i))return!1;o=!0}continue}const u=mr(8&i?"class":c,r,ur(e),n);if(-1===u){if(pr(i))return!1;o=!0;continue}if(""!==l){let e;e=u>s?"":r[u+1].toLowerCase();const t=8&i?e:null;if(t&&-1!==cr(t,l,0)||2&i&&l!==e){if(pr(i))return!1;o=!0}}}}else{if(!o&&!pr(i)&&!pr(c))return!1;if(o&&pr(c))continue;o=!1,i=c|1&i}}return pr(i)||o}function pr(e){return 0==(1&e)}function mr(e,t,n,i){if(null===t)return-1;let r=0;if(i||!n){let n=!1;for(;r<t.length;){const i=t[r];if(i===e)return r;if(3===i||6===i)n=!0;else{if(1===i||2===i){let e=t[++r];for(;"string"==typeof e;)e=t[++r];continue}if(4===i)break;if(0===i){r+=4;continue}}r+=n?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const i=e[n];if("number"==typeof i)return-1;if(i===t)return n;n++}return-1}(t,e)}function fr(e,t,n=!1){for(let i=0;i<t.length;i++)if(dr(e,t[i],n))return!0;return!1}function gr(e,t){e:for(let n=0;n<t.length;n++){const i=t[n];if(e.length===i.length){for(let t=0;t<e.length;t++)if(e[t]!==i[t])continue e;return!0}}return!1}function _r(e,t){return e?":not("+t.trim()+")":t}function yr(e){let t=e[0],n=1,i=2,r="",s=!1;for(;n<e.length;){let o=e[n];if("string"==typeof o)if(2&i){const t=e[++n];r+="["+o+(t.length>0?'="'+t+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""===r||pr(o)||(t+=_r(s,r),r=""),i=o,s=s||!pr(i);n++}return""!==r&&(t+=_r(s,r)),t}const vr={};function br(e){const t=e[3];return kt(t)?t[3]:t}function wr(e){return Er(e[13])}function Sr(e){return Er(e[4])}function Er(e){for(;null!==e&&!kt(e);)e=e[4];return e}function kr(e){Cr(tn(),en(),xn()+e,cn())}function Cr(e,t,n,i){if(!i)if(3==(3&t[2])){const i=e.preOrderCheckHooks;null!==i&&Dn(t,i,n)}else{const i=e.preOrderHooks;null!==i&&Pn(t,i,0,n)}Tn(n)}function xr(e,t){return e<<17|t<<2}function Tr(e){return e>>17&32767}function Ir(e){return 2|e}function Rr(e){return(131068&e)>>2}function Or(e,t){return-131069&e|t<<2}function Ar(e){return 1|e}function Dr(e,t){const n=e.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const r=n[i],s=n[i+1];if(-1!==s){const n=e.data[s];yn(r),n.contentQueries(2,t[s],s)}}}function Pr(e,t,n){return Ut(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Mr(e,t,n,i,r,s,o,a,c,l){const u=t.blueprint.slice();return u[0]=r,u[2]=140|i,Xt(u),u[3]=u[15]=e,u[8]=n,u[10]=o||e&&e[10],u[11]=a||e&&e[11],u[12]=c||e&&e[12]||null,u[9]=l||e&&e[9]||null,u[6]=s,u[16]=2==t.type?e[16]:u,u}function Nr(e,t,n,i,r,s){const o=n+20,a=e.data[o]||function(e,t,n,i,r,s){const o=rn(),a=on(),c=a?o:o&&o.parent,l=e.data[n]=Hr(0,c&&c!==t?c:null,i,n,r,s);return null===e.firstChild&&(e.firstChild=l),o&&(!a||null!=o.child||null===l.parent&&2!==o.type?a||(o.next=l):o.child=l),l}(e,t,o,i,r,s);return sn(a,!0),a}function Lr(e,t,n){bn(t,t[6]);try{const i=e.viewQuery;null!==i&&ms(1,i,n);const r=e.template;null!==r&&Br(e,t,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Dr(e,t),e.staticViewQueries&&ms(2,e.viewQuery,n);const s=e.components;null!==s&&function(e,t){for(let n=0;n<t.length;n++)ls(e,t[n])}(t,s)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),i}finally{t[2]&=-5,Cn()}}function Fr(e,t,n,i){const r=t[2];if(256==(256&r))return;bn(t,t[6]);const s=cn();try{Xt(t),Zt.lFrame.bindingIndex=e.bindingStartIndex,null!==n&&Br(e,t,n,2,i);const o=3==(3&r);if(!s)if(o){const n=e.preOrderCheckHooks;null!==n&&Dn(t,n,null)}else{const n=e.preOrderHooks;null!==n&&Pn(t,n,0,null),Mn(t,0)}if(function(e){for(let t=wr(e);null!==t;t=Sr(t)){if(!t[2])continue;const e=t[9];for(let t=0;t<e.length;t++){const n=e[t],i=n[3];0==(1024&n[2])&&Qt(i,1),n[2]|=1024}}}(t),function(e){for(let t=wr(e);null!==t;t=Sr(t))for(let e=10;e<t.length;e++){const n=t[e],i=n[1];Wt(n)&&Fr(i,n,i.template,n[8])}}(t),null!==e.contentQueries&&Dr(e,t),!s)if(o){const n=e.contentCheckHooks;null!==n&&Dn(t,n)}else{const n=e.contentHooks;null!==n&&Pn(t,n,1),Mn(t,1)}!function(e,t){try{const n=e.expandoInstructions;if(null!==n){let i=e.expandoStartIndex,r=-1,s=-1;for(let e=0;e<n.length;e++){const o=n[e];"number"==typeof o?o<=0?(s=0-o,Tn(s),i+=9+n[++e],r=i):i+=o:(null!==o&&(mn(i,r),o(2,t[r])),r++)}}}finally{Tn(-1)}}(e,t);const a=e.components;null!==a&&function(e,t){for(let n=0;n<t.length;n++)cs(e,t[n])}(t,a);const c=e.viewQuery;if(null!==c&&ms(2,c,i),!s)if(o){const n=e.viewCheckHooks;null!==n&&Dn(t,n)}else{const n=e.viewHooks;null!==n&&Pn(t,n,2),Mn(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),s||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Qt(t[3],-1))}finally{Cn()}}function Ur(e,t,n,i){const r=t[10],s=!cn(),o=zt(t);try{s&&!o&&r.begin&&r.begin(),o&&Lr(e,t,i),Fr(e,t,n,i)}finally{s&&!o&&r.end&&r.end()}}function Br(e,t,n,i,r){const s=xn();try{Tn(-1),2&i&&t.length>20&&Cr(e,t,0,cn()),n(i,r)}finally{Tn(s)}}function jr(e,t,n){if(Ct(t)){const i=t.directiveEnd;for(let r=t.directiveStart;r<i;r++){const t=e.data[r];t.contentQueries&&t.contentQueries(1,n[r],r)}}}function Vr(e,t,n){Jt()&&(function(e,t,n,i){const r=n.directiveStart,s=n.directiveEnd;e.firstCreatePass||ti(n,t),sr(i,t);const o=n.initialInputs;for(let a=r;a<s;a++){const i=e.data[a],s=It(i);s&&rs(t,n,i);const c=ui(t,e,a,n);sr(c,t),null!==o&&ss(0,a-r,c,i,0,o),s&&($t(n.index,t)[8]=c)}}(e,t,n,Kt(n,t)),128==(128&n.flags)&&function(e,t,n){const i=n.directiveStart,r=n.directiveEnd,s=e.expandoInstructions,o=e.firstCreatePass,a=n.index-20,c=Zt.lFrame.currentDirectiveIndex;try{Tn(a);for(let n=i;n<r;n++){const i=e.data[n],r=t[n];fn(n),null!==i.hostBindings||0!==i.hostVars||null!==i.hostAttrs?Zr(i,r):o&&s.push(null)}}finally{Tn(-1),fn(c)}}(e,t,n))}function Kr(e,t,n=Kt){const i=t.localNames;if(null!==i){let r=t.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?n(t,e):e[o];e[r++]=a}}}function qr(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Gr(1,-1,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Gr(e,t,n,i,r,s,o,a,c,l){const u=20+i,h=u+r,d=function(e,t){const n=[];for(let i=0;i<t;i++)n.push(i<e?null:vr);return n}(u,h);return d[1]={type:e,id:t,blueprint:d,template:n,queries:null,viewQuery:a,node:null,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:l,incompleteFirstPass:!1}}function $r(e,t,n,i){const r=gs(t);r.push(n),e.firstCreatePass&&function(e){return e.cleanup||(e.cleanup=[])}(e).push(i,r.length-1)}function Hr(e,t,n,i,r,s){return{type:n,index:i,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function zr(e,t,n){for(let i in e)if(e.hasOwnProperty(i)){const r=e[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(t,r):n[i]=[t,r]}return n}function Wr(e,t,n,i,r,s,o,a){const c=Kt(t,n);let l,u=t.inputs;var h;!a&&null!=u&&(l=u[i])?(vs(e,n,l,i,r),xt(t)&&function(e,t){const n=$t(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3===t.type&&(i="class"===(h=i)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,r=null!=o?o(r,t.tagName||"",i):r,Ut(s)?s.setProperty(c,i,r):jn(i)||(c.setProperty?c.setProperty(i,r):c[i]=r))}function Yr(e,t,n,i){let r=!1;if(Jt()){const s=function(e,t,n){const i=e.directiveRegistry;let r=null;if(i)for(let s=0;s<i.length;s++){const o=i[s];fr(n,o.selectors,!1)&&(r||(r=[]),si(ti(n,t),e,o.type),It(o)?(2&n.flags&&or(n),es(e,n),r.unshift(o)):r.push(o))}return r}(e,t,n),o=null===i?null:{"":-1};if(null!==s){let i=0;r=!0,ns(n,e.data.length,s.length);for(let e=0;e<s.length;e++){const t=s[e];t.providersResolver&&t.providersResolver(t)}Jr(e,n,s.length);let a=!1,c=!1;for(let r=0;r<s.length;r++){const l=s[r];n.mergedAttrs=Vn(n.mergedAttrs,l.hostAttrs),is(e,t,l),ts(e.data.length-1,l,o),null!==l.contentQueries&&(n.flags|=8),null===l.hostBindings&&null===l.hostAttrs&&0===l.hostVars||(n.flags|=128);const u=l.type.prototype;!a&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index-20),a=!0),c||!u.ngOnChanges&&!u.ngDoCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index-20),c=!0),Xr(e,l),i+=l.hostVars}!function(e,t){const n=t.directiveEnd,i=e.data,r=t.attrs,s=[];let o=null,a=null;for(let c=t.directiveStart;c<n;c++){const e=i[c],n=e.inputs,l=null===r||ur(t)?null:os(n,r);s.push(l),o=zr(n,c,o),a=zr(e.outputs,c,a)}null!==o&&(o.hasOwnProperty("class")&&(t.flags|=16),o.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=o,t.outputs=a}(e,n),Qr(e,t,i)}o&&function(e,t,n){if(t){const i=e.localNames=[];for(let e=0;e<t.length;e+=2){const r=n[t[e+1]];if(null==r)throw new Error(`Export of name '${t[e+1]}' not found!`);i.push(t[e],r)}}}(n,i,o)}return n.mergedAttrs=Vn(n.mergedAttrs,n.attrs),r}function Xr(e,t){const n=e.expandoInstructions;n.push(t.hostBindings),0!==t.hostVars&&n.push(t.hostVars)}function Qr(e,t,n){for(let i=0;i<n;i++)t.push(vr),e.blueprint.push(vr),e.data.push(null)}function Zr(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Jr(e,t,n){const i=20-t.index,r=e.data.length-(1048575&t.providerIndexes);(e.expandoInstructions||(e.expandoInstructions=[])).push(i,r,n)}function es(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function ts(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;It(t)&&(n[""]=e)}}function ns(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function is(e,t,n){e.data.push(n);const i=n.factory||(n.factory=wt(n.type)),r=new Fn(i,It(n),null);e.blueprint.push(r),t.push(r)}function rs(e,t,n){const i=Kt(t,e),r=qr(n),s=e[10],o=us(e,Mr(e,r,null,n.onPush?64:16,i,t,s,s.createRenderer(i,n)));e[t.index]=o}function ss(e,t,n,i,r,s){const o=s[t];if(null!==o){const e=i.setInput;for(let t=0;t<o.length;){const r=o[t++],s=o[t++],a=o[t++];null!==e?i.setInput(n,a,r,s):n[s]=a}}}function os(e,t){let n=null,i=0;for(;i<t.length;){const r=t[i];if(0!==r)if(5!==r){if("number"==typeof r)break;e.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,e[r],t[i+1])),i+=2}else i+=2;else i+=4}return n}function as(e,t,n,i){return new Array(e,!0,!1,t,null,0,i,n,null,null)}function cs(e,t){const n=$t(t,e);if(Wt(n)){const e=n[1];80&n[2]?Fr(e,n,e.template,n[8]):n[5]>0&&function e(t){for(let i=wr(t);null!==i;i=Sr(i))for(let t=10;t<i.length;t++){const n=i[t];if(1024&n[2]){const e=n[1];Fr(e,n,e.template,n[8])}else n[5]>0&&e(n)}const n=t[1].components;if(null!==n)for(let i=0;i<n.length;i++){const r=$t(n[i],t);Wt(r)&&r[5]>0&&e(r)}}(n)}}function ls(e,t){const n=$t(t,e),i=n[1];!function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(i,n),Lr(i,n,n[8])}function us(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function hs(e){for(;e;){e[2]|=64;const t=br(e);if(Rt(e)&&!t)return e;e=t}return null}function ds(e,t,n){const i=t[10];i.begin&&i.begin();try{Fr(e,t,e.template,n)}catch(r){throw ys(t,r),r}finally{i.end&&i.end()}}function ps(e){!function(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],i=Ht(n),r=i[1];Ur(r,i,r.template,n)}}(e[8])}function ms(e,t,n){yn(0),t(e,n)}const fs=(()=>Promise.resolve(null))();function gs(e){return e[7]||(e[7]=[])}function _s(e,t,n){return(null===e||It(e))&&(n=function(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(n[t.index])),n[11]}function ys(e,t){const n=e[9],i=n?n.get(vi,null):null;i&&i.handleError(t)}function vs(e,t,n,i,r){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],c=t[o],l=e.data[o];null!==l.setInput?l.setInput(c,r,i,a):c[a]=r}}function bs(e,t,n){const i=Vt(t,e),r=e[11];Ut(r)?r.setValue(i,n):i.textContent=n}function ws(e,t){const n=t[3];return-1===e.index?kt(n)?n:null:n}function Ss(e,t){const n=ws(e,t);return n?Ms(t[11],n[7]):null}function Es(e,t,n,i,r){if(null!=i){let s,o=!1;kt(i)?s=i:Et(i)&&(o=!0,i=i[0]);const a=jt(i);0===e&&null!==n?null==r?Ds(t,n,a):As(t,n,a,r||null):1===e&&null!==n?As(t,n,a,r||null):2===e?function(e,t,n){const i=Ms(e,t);i&&function(e,t,n,i){Ut(e)?e.removeChild(t,n,i):t.removeChild(n)}(e,i,t,n)}(t,a,o):3===e&&t.destroyNode(a),null!=s&&function(e,t,n,i,r){const s=n[7];s!==jt(n)&&Es(t,e,i,s,r);for(let o=10;o<n.length;o++){const r=n[o];Bs(r[1],r,e,t,i,s)}}(t,e,s,n,r)}}function ks(e,t,n,i){const r=Ss(e.node,t);r&&Bs(e,t,t[11],n?1:2,r,i)}function Cs(e,t){const n=e[9],i=n.indexOf(t);1024&t[2]&&Qt(t[3],-1),n.splice(i,1)}function xs(e,t){if(e.length<=10)return;const n=10+t,i=e[n];if(i){const r=i[17];null!==r&&r!==e&&Cs(r,i),t>0&&(e[n-1][4]=i[4]);const s=nt(e,10+t);ks(i[1],i,!1,null);const o=s[19];null!==o&&o.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function Ts(e,t){if(!(256&t[2])){const n=t[11];Ut(n)&&n.destroyNode&&Bs(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return Rs(e[1],e);for(;t;){let n=null;if(Et(t))n=t[13];else{const e=t[10];e&&(n=e)}if(!n){for(;t&&!t[4]&&t!==e;)Et(t)&&Rs(t[1],t),t=Is(t,e);null===t&&(t=e),Et(t)&&Rs(t[1],t),n=t&&t[4]}t=n}}(t)}}function Is(e,t){let n;return Et(e)&&(n=e[6])&&2===n.type?ws(n,e):e[3]===t?null:e[3]}function Rs(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let i=0;i<n.length;i+=2){const e=t[n[i]];if(!(e instanceof Fn)){const t=n[i+1];if(Array.isArray(t))for(let n=0;n<t.length;n+=2)t[n+1].call(e[t[n]]);else t.call(e)}}}(e,t),function(e,t){const n=e.cleanup;if(null!==n){const e=t[7];for(let i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){const r=n[i+1],s="function"==typeof r?r(t):jt(t[r]),o=e[n[i+2]],a=n[i+3];"boolean"==typeof a?s.removeEventListener(n[i],o,a):a>=0?e[a]():e[-a].unsubscribe(),i+=2}else n[i].call(e[n[i+1]]);t[7]=null}}(e,t);const n=t[6];n&&3===n.type&&Ut(t[11])&&t[11].destroy();const i=t[17];if(null!==i&&kt(t[3])){i!==t[3]&&Cs(i,t);const n=t[19];null!==n&&n.detachView(e)}}}function Os(e,t,n){let i=t.parent;for(;null!=i&&(4===i.type||5===i.type);)i=(t=i).parent;if(null==i){const e=n[6];return 2===e.type?Ss(e,n):n[0]}if(t&&5===t.type&&4&t.flags)return Kt(t,n).parentNode;if(2&i.flags){const t=e.data,n=t[t[i.index].directiveStart].encapsulation;if(n!==ct.ShadowDom&&n!==ct.Native)return null}return Kt(i,n)}function As(e,t,n,i){Ut(e)?e.insertBefore(t,n,i):t.insertBefore(n,i,!0)}function Ds(e,t,n){Ut(e)?e.appendChild(t,n):t.appendChild(n)}function Ps(e,t,n,i){null!==i?As(e,t,n,i):Ds(e,t,n)}function Ms(e,t){return Ut(e)?e.parentNode(t):t.parentNode}function Ns(e,t){if(2===e.type){const n=ws(e,t);return null===n?null:Fs(n.indexOf(t,10)-10,n)}return 4===e.type||5===e.type?Kt(e,t):null}function Ls(e,t,n,i){const r=Os(e,i,t);if(null!=r){const e=t[11],s=Ns(i.parent||t[6],t);if(Array.isArray(n))for(let t=0;t<n.length;t++)Ps(e,r,n[t],s);else Ps(e,r,n,s)}}function Fs(e,t){const n=10+e+1;if(n<t.length){const e=t[n],i=e[1].firstChild;if(null!==i)return function e(t,n){if(null!==n){const i=n.type;if(3===i)return Kt(n,t);if(0===i)return Fs(-1,t[n.index]);if(4===i||5===i){const i=n.child;if(null!==i)return e(t,i);{const e=t[n.index];return kt(e)?Fs(-1,e):jt(e)}}{const i=t[16],r=i[6],s=br(i),o=r.projection[n.projection];return null!=o?e(s,o):e(t,n.next)}}return null}(e,i)}return t[7]}function Us(e,t,n,i,r,s,o){for(;null!=n;){const a=i[n.index],c=n.type;o&&0===t&&(a&&sr(jt(a),i),n.flags|=4),64!=(64&n.flags)&&(4===c||5===c?(Us(e,t,n.child,i,r,s,!1),Es(t,e,r,a,s)):1===c?js(e,t,i,n,r,s):Es(t,e,r,a,s)),n=o?n.projectionNext:n.next}}function Bs(e,t,n,i,r,s){Us(n,i,e.node.child,t,r,s,!1)}function js(e,t,n,i,r,s){const o=n[16],a=o[6].projection[i.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)Es(t,e,r,a[c],s);else Us(e,t,a,o[3],r,s,!0)}function Vs(e,t,n){Ut(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Ks(e,t,n){Ut(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}class qs{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const e=this._lView;return null==e[0]?function e(t,n,i,r,s=!1){for(;null!==i;){const o=n[i.index];if(null!==o&&r.push(jt(o)),kt(o))for(let t=10;t<o.length;t++){const n=o[t],i=n[1].firstChild;null!==i&&e(n[1],n,i,r)}const a=i.type;if(4===a||5===a)e(t,n,i.child,r);else if(1===a){const t=n[16],s=t[6].projection[i.projection];if(Array.isArray(s))r.push(...s);else{const n=br(t);e(n[1],n,s,r,!0)}}i=s?i.projectionNext:i.next}return r}(e[1],e,e[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const e=this._viewContainerRef.indexOf(this);e>-1&&this._viewContainerRef.detach(e),this._viewContainerRef=null}Ts(this._lView[1],this._lView)}onDestroy(e){$r(this._lView[1],this._lView,null,e)}markForCheck(){hs(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ds(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){ln(!0);try{ds(e,t,n)}finally{ln(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}detachFromAppRef(){var e;this._appRef=null,Bs(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class Gs extends qs{constructor(e){super(e),this._view=e}detectChanges(){ps(this._view)}checkNoChanges(){!function(e){ln(!0);try{ps(e)}finally{ln(!1)}}(this._view)}get context(){return null}}let $s,Hs,zs;function Ws(e,t,n){return $s||($s=class extends e{}),new $s(Kt(t,n))}function Ys(e,t,n,i){return Hs||(Hs=class extends e{constructor(e,t,n){super(),this._declarationView=e,this._declarationTContainer=t,this.elementRef=n}createEmbeddedView(e){const t=this._declarationTContainer.tViews,n=Mr(this._declarationView,t,e,16,null,t.node);n[17]=this._declarationView[this._declarationTContainer.index];const i=this._declarationView[19];return null!==i&&(n[19]=i.createEmbeddedView(t)),Lr(t,n,e),new qs(n)}}),0===n.type?new Hs(i,n,Ws(t,n,i)):null}function Xs(e,t,n,i){let r;zs||(zs=class extends e{constructor(e,t,n){super(),this._lContainer=e,this._hostTNode=t,this._hostView=n}get element(){return Ws(t,this._hostTNode,this._hostView)}get injector(){return new pi(this._hostTNode,this._hostView)}get parentInjector(){const e=ri(this._hostTNode,this._hostView),t=Hn(e,this._hostView),n=function(e,t,n){if(n.parent&&-1!==n.parent.injectorIndex){const e=n.parent.injectorIndex;let t=n.parent;for(;null!=t.parent&&e==t.parent.injectorIndex;)t=t.parent;return t}let i=$n(e),r=t,s=t[6];for(;i>1;)r=r[15],s=r[6],i--;return s}(e,this._hostView,this._hostTNode);return qn(e)&&null!=n?new pi(n,t):new pi(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){return null!==this._lContainer[8]&&this._lContainer[8][e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,n){const i=e.createEmbeddedView(t||{});return this.insert(i,n),i}createComponent(e,t,n,i,r){const s=n||this.parentInjector;if(!r&&null==e.ngModule&&s){const e=s.get(Ze,null);e&&(r=e)}const o=e.create(s,i,void 0,r);return this.insert(o.hostView,t),o}insert(e,t){const n=e._lView,i=n[1];if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),kt(n[3])){const t=this.indexOf(e);if(-1!==t)this.detach(t);else{const t=n[3],i=new zs(t,t[6],t[3]);i.detach(i.indexOf(e))}}const r=this._adjustIndex(t);return function(e,t,n,i){const r=10+i,s=n.length;i>0&&(n[r-1][4]=t),i<s-10?(t[4]=n[r],tt(n,10+i,t)):(n.push(t),t[4]=null),t[3]=n;const o=t[17];null!==o&&n!==o&&function(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(o,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=128}(i,n,this._lContainer,r),ks(i,n,!0,Fs(r,this._lContainer)),e.attachToViewContainerRef(this),tt(this._lContainer[8],r,e),e}move(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(e,t)}indexOf(e){const t=this._lContainer[8];return null!==t?t.indexOf(e):-1}remove(e){this.allocateContainerIfNeeded();const t=this._adjustIndex(e,-1),n=xs(this._lContainer,t);n&&(nt(this._lContainer[8],t),Ts(n[1],n))}detach(e){this.allocateContainerIfNeeded();const t=this._adjustIndex(e,-1),n=xs(this._lContainer,t);return n&&null!=nt(this._lContainer[8],t)?new qs(n):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const s=i[n.index];if(kt(s))r=s;else{let e;if(4===n.type)e=jt(s);else if(e=i[11].createComment(""),Rt(i)){const t=i[11],r=Kt(n,i);As(t,Ms(t,r),e,function(e,t){return Ut(e)?e.nextSibling(t):t.nextSibling}(t,r))}else Ls(i[1],i,e,n);i[n.index]=r=as(s,i,e,n),us(i,r)}return new zs(r,n,i)}function Qs(e=!1){return function(e,t,n){if(!n&&xt(e)){const n=$t(e.index,t);return new qs(n,n)}return 3===e.type||0===e.type||4===e.type||5===e.type?new qs(t[16],t):null}(rn(),en(),e)}let Zs=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Js(),e})();const Js=Qs,eo=Function,to=new Fe("Set Injector scope."),no={},io={},ro=[];let so=void 0;function oo(){return void 0===so&&(so=new Qe),so}function ao(e,t=null,n=null,i){return new co(e,n,t||oo(),i)}class co{constructor(e,t,n,i=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const r=[];t&&et(t,n=>this.processProvider(n,e,t)),et([e],e=>this.processInjectorType(e,[],r)),this.records.set(Ue,ho(void 0,this));const s=this.records.get(to);this.scope=null!=s?s.value:null,this.source=i||("object"==typeof e?null:ve(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=Be,n=oe.Default){this.assertNotDestroyed();const i=Ge(this);try{if(!(n&oe.SkipSelf)){let t=this.records.get(e);if(void 0===t){const n=("function"==typeof(r=e)||"object"==typeof r&&r instanceof Fe)&&he(e);t=n&&this.injectableDefInScope(n)?ho(lo(e),no):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}return(n&oe.Self?oo():this.parent).get(e,t=n&oe.Optional&&t===Be?null:t)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(ve(e)),i)throw s;return function(e,t,n,i){const r=e.ngTempTokenPath;throw t.__source&&r.unshift(t.__source),e.message=function(e,t,n,i=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let r=ve(t);if(Array.isArray(t))r=t.map(ve).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let i=t[n];e.push(n+":"+("string"==typeof i?JSON.stringify(i):ve(i)))}r=`{${e.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${e.replace(je,"\n  ")}`}("\n"+e.message,r,n,i),e.ngTokenPath=r,e.ngTempTokenPath=null,e}(s,e,"R3InjectorError",this.source)}throw s}finally{Ge(i)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((t,n)=>e.push(ve(n))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,n){if(!(e=Ee(e)))return!1;let i=pe(e);const r=null==i&&e.ngModule||void 0,s=void 0===r?e:r,o=-1!==n.indexOf(s);if(void 0!==r&&(i=pe(r)),null==i)return!1;if(null!=i.imports&&!o){let e;n.push(s);try{et(i.imports,i=>{this.processInjectorType(i,t,n)&&(void 0===e&&(e=[]),e.push(i))})}finally{}if(void 0!==e)for(let t=0;t<e.length;t++){const{ngModule:n,providers:i}=e[t];et(i,e=>this.processProvider(e,n,i||ro))}}this.injectorDefTypes.add(s),this.records.set(s,ho(i.factory,no));const a=i.providers;if(null!=a&&!o){const t=e;et(a,e=>this.processProvider(e,t,a))}return void 0!==r&&void 0!==e.providers}processProvider(e,t,n){let i=mo(e=Ee(e))?e:Ee(e&&e.provide);const r=function(e,t,n){return po(e)?ho(void 0,e.useValue):ho(uo(e,t,n),no)}(e,t,n);if(mo(e)||!0!==e.multi){const e=this.records.get(i);e&&void 0!==e.multi&&ar()}else{let t=this.records.get(i);t?void 0===t.multi&&ar():(t=ho(void 0,no,!0),t.factory=()=>Xe(t.multi),this.records.set(i,t)),i=e,t.multi.push(e)}this.records.set(i,r)}hydrate(e,t){var n;return t.value===io?function(e){throw new Error("Cannot instantiate cyclic dependency! "+e)}(ve(e)):t.value===no&&(t.value=io,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||e.providedIn===this.scope:this.injectorDefTypes.has(e.providedIn))}}function lo(e){const t=he(e),n=null!==t?t.factory:wt(e);if(null!==n)return n;const i=pe(e);if(null!==i)return i.factory;if(e instanceof Fe)throw new Error(`Token ${ve(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const n=it(t,"?");throw new Error(`Can't resolve all parameters for ${ve(e)}: (${n.join(", ")}).`)}const n=function(e){const t=e&&(e[me]||e[_e]||e[ge]&&e[ge]());if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function uo(e,t,n){let i=void 0;if(mo(e)){const t=Ee(e);return wt(t)||lo(t)}if(po(e))i=()=>Ee(e.useValue);else if((r=e)&&r.useFactory)i=()=>e.useFactory(...Xe(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))i=()=>ze(Ee(e.useExisting));else{const r=Ee(e&&(e.useClass||e.provide));if(r||function(e,t,n){let i="";throw e&&t&&(i=` - only instances of Provider and Type are allowed, got: [${t.map(e=>e==n?"?"+n+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${ve(e)}'`+i)}(t,n,e),!function(e){return!!e.deps}(e))return wt(r)||lo(r);i=()=>new r(...Xe(e.deps))}var r;return i}function ho(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function po(e){return null!==e&&"object"==typeof e&&Ve in e}function mo(e){return"function"==typeof e}const fo=function(e,t,n){return function(e,t=null,n=null,i){const r=ao(e,t,n,i);return r._resolveInjectorDefTypes(),r}({name:n},t,e,n)};let go=(()=>{class e{static create(e,t){return Array.isArray(e)?fo(e,t,""):fo(e.providers,e.parent,e.name||"")}}return e.THROW_IF_NOT_FOUND=Be,e.NULL=new Qe,e.\u0275prov=le({token:e,providedIn:"any",factory:()=>ze(Ue)}),e.__NG_ELEMENT_ID__=-1,e})();const _o=new Fe("AnalyzeForEntryComponents");function yo(e,t,n){let i=n?e.styles:null,r=n?e.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const e=t[o];"number"==typeof e?s=e:1==s?r=be(r,e):2==s&&(i=be(i,e+": "+t[++o]+";"))}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=r:e.classesWithoutHost=r}let vo=null;function bo(){if(!vo){const e=Re.Symbol;if(e&&e.iterator)vo=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(vo=n)}}}return vo}class wo{constructor(e){this.wrapped=e}static wrap(e){return new wo(e)}static unwrap(e){return wo.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof wo}}function So(e){return!!Eo(e)&&(Array.isArray(e)||!(e instanceof Map)&&bo()in e)}function Eo(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function ko(e,t,n){return e[t]=n}function Co(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function xo(e,t,n,i){const r=Co(e,t,n);return Co(e,t+1,i)||r}function To(e,t,n,i){const r=en();return Co(r,dn(),t)&&(tn(),function(e,t,n,i,r,s){const o=Kt(e,t),a=t[11];if(null==i)Ut(a)?a.removeAttribute(o,n,s):o.removeAttribute(n);else{const t=null==r?zn(i):r(i,e.tagName||"",n);Ut(a)?a.setAttribute(o,n,t,s):s?o.setAttributeNS(s,n,t):o.setAttribute(n,t)}}(In(),r,e,t,n,i)),To}function Io(e,t,n,i){return Co(e,dn(),n)?t+zn(n)+i:vr}function Ro(e,t,n,i,r,s,o,a){const c=en(),l=tn(),u=e+20,h=l.firstCreatePass?function(e,t,n,i,r,s,o,a,c){const l=t.consts,u=Nr(t,n[6],e,0,o||null,Yt(l,a));Yr(t,n,u,Yt(l,c)),An(t,u);const h=u.tViews=Gr(2,-1,i,r,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l),d=Hr(0,null,2,-1,null,null);return d.injectorIndex=u.injectorIndex,h.node=d,null!==t.queries&&(t.queries.template(t,u),h.queries=t.queries.embeddedTView(u)),u}(e,l,c,t,n,i,r,s,o):l.data[u];sn(h,!1);const d=c[11].createComment("");Ls(l,c,d,h),sr(d,c),us(c,c[u]=as(d,c,d,h)),Tt(h)&&Vr(l,c,h),null!=o&&Kr(c,h,a)}function Oo(e){return Gt(Zt.lFrame.contextLView,e)}function Ao(e,t=oe.Default){const n=en();return null==n?ze(e,t):oi(rn(),n,Ee(e),t)}function Do(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const e=n.length;let i=0;for(;i<e;){const r=n[i];if(Bn(r))break;if(0===r)i+=2;else if("number"==typeof r)for(i++;i<e&&"string"==typeof n[i];)i++;else{if(r===t)return n[i+1];i+=2}}}return null}(rn(),e)}function Po(e,t,n){const i=en();return Co(i,dn(),t)&&Wr(tn(),In(),i,e,t,i[11],n,!1),Po}function Mo(e,t,n,i,r){const s=r?"class":"style";vs(e,n,t.inputs[s],s,i)}function No(e,t,n,i){const r=en(),s=tn(),o=20+e,a=r[11],c=r[o]=Pr(t,a,Zt.lFrame.currentNamespace),l=s.firstCreatePass?function(e,t,n,i,r,s,o){const a=t.consts,c=Yt(a,s),l=Nr(t,n[6],e,3,r,c);return Yr(t,n,l,Yt(a,o)),null!==l.attrs&&yo(l,l.attrs,!1),null!==l.mergedAttrs&&yo(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(e,s,r,0,t,n,i):s.data[o];sn(l,!0);const u=l.mergedAttrs;null!==u&&Un(a,c,u);const h=l.classes;null!==h&&Ks(a,c,h);const d=l.styles;null!==d&&Vs(a,c,d),Ls(s,r,c,l),0===Zt.lFrame.elementDepthCount&&sr(c,r),Zt.lFrame.elementDepthCount++,Tt(l)&&(Vr(s,r,l),jr(s,l,r)),null!==i&&Kr(r,l)}function Lo(){let e=rn();on()?an():(e=e.parent,sn(e,!1));const t=e;Zt.lFrame.elementDepthCount--;const n=tn();n.firstCreatePass&&(An(n,e),Ct(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Mo(n,t,en(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Mo(n,t,en(),t.stylesWithoutHost,!1)}function Fo(e,t,n,i){No(e,t,n,i),Lo()}function Uo(e,t,n){const i=en(),r=tn(),s=e+20,o=r.firstCreatePass?function(e,t,n,i,r){const s=t.consts,o=Yt(s,i),a=Nr(t,n[6],e,4,"ng-container",o);return null!==o&&yo(a,o,!0),Yr(t,n,a,Yt(s,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(e,r,i,t,n):r.data[s];sn(o,!0);const a=i[s]=i[11].createComment("");Ls(r,i,a,o),sr(a,i),Tt(o)&&(Vr(r,i,o),jr(r,o,i)),null!=n&&Kr(i,o)}function Bo(){let e=rn();const t=tn();on()?an():(e=e.parent,sn(e,!1)),t.firstCreatePass&&(An(t,e),Ct(e)&&t.queries.elementEnd(e))}function jo(){return en()}function Vo(e){return!!e&&"function"==typeof e.then}function Ko(e){return!!e&&"function"==typeof e.subscribe}function qo(e,t,n=!1,i){const r=en(),s=tn(),o=rn();return $o(s,r,r[11],o,e,t,n,i),qo}function Go(e,t,n=!1,i){const r=rn(),s=en(),o=tn();return $o(o,s,_s(gn(o.data),r,s),r,e,t,n,i),Go}function $o(e,t,n,i,r,s,o=!1,a){const c=Tt(i),l=e.firstCreatePass&&(e.cleanup||(e.cleanup=[])),u=gs(t);let h=!0;if(3===i.type){const d=Kt(i,t),p=a?a(d):lt,m=p.target||d,f=u.length,g=a?e=>a(jt(e[i.index])).target:i.index;if(Ut(n)){let o=null;if(!a&&c&&(o=function(e,t,n,i){const r=e.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const e=r[s];if(e===n&&r[s+1]===i){const e=t[7],n=r[s+2];return e.length>n?e[n]:null}"string"==typeof e&&(s+=2)}return null}(e,t,r,i.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=zo(i,t,s,!1);const e=n.listen(p.name||m,r,s);u.push(s,e),l&&l.push(r,g,f,f+1)}}else s=zo(i,t,s,!0),m.addEventListener(r,s,o),u.push(s),l&&l.push(r,g,f,o)}const d=i.outputs;let p;if(h&&null!==d&&(p=d[r])){const e=p.length;if(e)for(let n=0;n<e;n+=2){const e=t[p[n]][p[n+1]].subscribe(s),o=u.length;u.push(s,e),l&&l.push(r,i.index,o,-(o+1))}}}function Ho(e,t,n){try{return!1!==t(n)}catch(i){return ys(e,i),!1}}function zo(e,t,n,i){return function r(s){if(s===Function)return n;const o=2&e.flags?$t(e.index,t):t;0==(32&t[2])&&hs(o);let a=Ho(t,n,s),c=r.__ngNextListenerFn__;for(;c;)a=Ho(t,c,s)&&a,c=c.__ngNextListenerFn__;return i&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function Wo(e=1){return function(e){return(Zt.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Zt.lFrame.contextLView))[8]}(e)}function Yo(e,t){let n=null;const i=function(e){const t=e.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(e);for(let r=0;r<t.length;r++){const s=t[r];if("*"!==s){if(null===i?fr(e,s,!0):gr(i,s))return r}else n=r}return n}function Xo(e){const t=en()[16][6];if(!t.projection){const n=t.projection=it(e?e.length:1,null),i=n.slice();let r=t.child;for(;null!==r;){const t=e?Yo(r,e):0;null!==t&&(i[t]?i[t].projectionNext=r:n[t]=r,i[t]=r),r=r.next}}}function Qo(e,t=0,n){const i=en(),r=tn(),s=Nr(r,i[6],e,1,null,n||null);null===s.projection&&(s.projection=t),an(),function(e,t,n){js(t[11],0,t,n,Os(e,n,t),Ns(n.parent||t[6],t))}(r,i,s)}const Zo=[];function Jo(e,t,n,i,r){const s=e[n+1],o=null===t;let a=i?Tr(s):Rr(s),c=!1;for(;0!==a&&(!1===c||o);){const n=e[a+1];ea(e[a],t)&&(c=!0,e[a+1]=i?Ar(n):Ir(n)),a=i?Tr(n):Rr(n)}c&&(e[n+1]=i?Ir(s):Ar(s))}function ea(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&ot(e,t)>=0}const ta={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function na(e){return e.substring(ta.key,ta.keyEnd)}function ia(e,t){const n=ta.textEnd;return n===t?-1:(t=ta.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,ta.key=t,n),ra(e,t,n))}function ra(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function sa(e,t,n){return ca(e,t,n,!1),sa}function oa(e,t){return ca(e,t,null,!0),oa}function aa(e,t){for(let n=function(e){return function(e){ta.key=0,ta.keyEnd=0,ta.value=0,ta.valueEnd=0,ta.textEnd=e.length}(e),ia(e,ra(e,0,ta.textEnd))}(t);n>=0;n=ia(t,n))rt(e,na(t),!0)}function ca(e,t,n,i){const r=en(),s=tn(),o=pn(2);s.firstUpdatePass&&ha(s,e,o,i),t!==vr&&Co(r,o,t)&&ma(s,s.data[xn()+20],r,r[11],e,r[o+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=ve(xi(e)))),e}(t,n),i,o)}function la(e,t,n,i){const r=tn(),s=pn(2);r.firstUpdatePass&&ha(r,null,s,i);const o=en();if(n!==vr&&Co(o,s,n)){const a=r.data[xn()+20];if(_a(a,i)&&!ua(r,s)){let e=i?a.classesWithoutHost:a.stylesWithoutHost;null!==e&&(n=be(e,n||"")),Mo(r,a,o,n,i)}else!function(e,t,n,i,r,s,o,a){r===vr&&(r=Zo);let c=0,l=0,u=0<r.length?r[0]:null,h=0<s.length?s[0]:null;for(;null!==u||null!==h;){const d=c<r.length?r[c+1]:void 0,p=l<s.length?s[l+1]:void 0;let m=null,f=void 0;u===h?(c+=2,l+=2,d!==p&&(m=h,f=p)):null===h||null!==u&&u<h?(c+=2,m=u):(l+=2,m=h,f=p),null!==m&&ma(e,t,n,i,m,f,o,a),u=c<r.length?r[c]:null,h=l<s.length?s[l]:null}}(r,a,o,o[11],o[s+1],o[s+1]=function(e,t,n){if(null==n||""===n)return Zo;const i=[],r=xi(n);if(Array.isArray(r))for(let s=0;s<r.length;s++)e(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&e(i,s,r[s]);else"string"==typeof r&&t(i,r);return i}(e,t,n),i,s)}}function ua(e,t){return t>=e.expandoStartIndex}function ha(e,t,n,i){const r=e.data;if(null===r[n+1]){const s=r[xn()+20],o=ua(e,n);_a(s,i)&&null===t&&!o&&(t=!1),t=function(e,t,n,i){const r=gn(e);let s=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(n=pa(n=da(null,e,t,n,i),t.attrs,i),s=null);else{const o=t.directiveStylingLast;if(-1===o||e[o]!==r)if(n=da(r,e,t,n,i),null===s){let n=function(e,t,n){const i=n?t.classBindings:t.styleBindings;if(0!==Rr(i))return e[Tr(i)]}(e,t,i);void 0!==n&&Array.isArray(n)&&(n=da(null,e,t,n[1],i),n=pa(n,t.attrs,i),function(e,t,n,i){e[Tr(n?t.classBindings:t.styleBindings)]=i}(e,t,i,n))}else s=function(e,t,n){let i=void 0;const r=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<r;s++)i=pa(i,e[s].hostAttrs,n);return pa(i,t.attrs,n)}(e,t,i)}return void 0!==s&&(i?t.residualClasses=s:t.residualStyles=s),n}(r,s,t,i),function(e,t,n,i,r,s){let o=s?t.classBindings:t.styleBindings,a=Tr(o),c=Rr(o);e[i]=n;let l,u=!1;if(Array.isArray(n)){const e=n;l=e[1],(null===l||ot(e,l)>0)&&(u=!0)}else l=n;if(r)if(0!==c){const t=Tr(e[a+1]);e[i+1]=xr(t,a),0!==t&&(e[t+1]=Or(e[t+1],i)),e[a+1]=131071&e[a+1]|i<<17}else e[i+1]=xr(a,0),0!==a&&(e[a+1]=Or(e[a+1],i)),a=i;else e[i+1]=xr(c,0),0===a?a=i:e[c+1]=Or(e[c+1],i),c=i;u&&(e[i+1]=Ir(e[i+1])),Jo(e,l,i,!0),Jo(e,l,i,!1),function(e,t,n,i,r){const s=r?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&ot(s,t)>=0&&(n[i+1]=Ar(n[i+1]))}(t,l,e,i,s),o=xr(a,c),s?t.classBindings=o:t.styleBindings=o}(r,s,t,n,o,i)}}function da(e,t,n,i,r){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=t[a],i=pa(i,s.hostAttrs,r),s!==e);)a++;return null!==e&&(n.directiveStylingLast=a),i}function pa(e,t,n){const i=n?1:2;let r=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?r=o:r===i&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),rt(e,o,!!n||t[++s]))}return void 0===e?null:e}function ma(e,t,n,i,r,s,o,a){if(3!==t.type)return;const c=e.data,l=c[a+1];ga(1==(1&l)?fa(c,t,n,r,Rr(l),o):void 0)||(ga(s)||function(e){return 2==(2&e)}(l)&&(s=fa(c,null,n,r,a,o)),function(e,t,n,i,r){const s=Ut(e);if(t)r?s?e.addClass(n,i):n.classList.add(i):s?e.removeClass(n,i):n.classList.remove(i);else{const t=-1==i.indexOf("-")?void 0:2;null==r?s?e.removeStyle(n,i,t):n.style.removeProperty(i):s?e.setStyle(n,i,r,t):n.style.setProperty(i,r)}}(i,o,Vt(xn(),n),r,s))}function fa(e,t,n,i,r,s){const o=null===t;let a=void 0;for(;r>0;){const t=e[r],s=Array.isArray(t),c=s?t[1]:t,l=null===c;let u=n[r+1];u===vr&&(u=l?Zo:void 0);let h=l?st(u,i):c===i?u:void 0;if(s&&!ga(h)&&(h=st(t,i)),ga(h)&&(a=h,o))return a;const d=e[r+1];r=o?Tr(d):Rr(d)}if(null!==t){let e=s?t.residualClasses:t.residualStyles;null!=e&&(a=st(e,i))}return a}function ga(e){return void 0!==e}function _a(e,t){return 0!=(e.flags&(t?16:32))}function ya(e,t=""){const n=en(),i=tn(),r=e+20,s=i.firstCreatePass?Nr(i,n[6],e,3,null,null):i.data[r],o=n[r]=function(e,t){return Ut(t)?t.createText(e):t.createTextNode(e)}(t,n[11]);Ls(i,n,o,s),sn(s,!1)}function va(e){return ba("",e,""),va}function ba(e,t,n){const i=en(),r=Io(i,e,t,n);return r!==vr&&bs(i,xn(),r),ba}function wa(e,t,n,i,r){const s=en(),o=function(e,t,n,i,r,s){const o=xo(e,hn(),n,r);return pn(2),o?t+zn(n)+i+zn(r)+s:vr}(s,e,t,n,i,r);return o!==vr&&bs(s,xn(),o),wa}function Sa(e,t,n,i,r,s,o){const a=en(),c=function(e,t,n,i,r,s,o,a){const c=function(e,t,n,i,r){const s=xo(e,t,n,i);return Co(e,t+2,r)||s}(e,hn(),n,r,o);return pn(3),c?t+zn(n)+i+zn(r)+s+zn(o)+a:vr}(a,e,t,n,i,r,s,o);return c!==vr&&bs(a,xn(),c),Sa}function Ea(e,t,n,i,r,s,o,a,c){const l=en(),u=function(e,t,n,i,r,s,o,a,c,l){const u=function(e,t,n,i,r,s){const o=xo(e,t,n,i);return xo(e,t+2,r,s)||o}(e,hn(),n,r,o,c);return pn(4),u?t+zn(n)+i+zn(r)+s+zn(o)+a+zn(c)+l:vr}(l,e,t,n,i,r,s,o,a,c);return u!==vr&&bs(l,xn(),u),Ea}function ka(e,t,n){la(rt,aa,Io(en(),e,t,n),!0)}function Ca(e,t,n){const i=en();return Co(i,dn(),t)&&Wr(tn(),In(),i,e,t,i[11],n,!0),Ca}function xa(e,t,n){const i=en();if(Co(i,dn(),t)){const r=tn(),s=In();Wr(r,s,i,e,t,_s(gn(r.data),s,i),n,!0)}return xa}function Ta(e,t){const n=Ht(e)[1],i=n.data.length-1;An(n,{directiveStart:i,directiveEnd:i+1})}function Ia(e){let t=Object.getPrototypeOf(e.type.prototype).constructor,n=!0;const i=[e];for(;t;){let r=void 0;if(It(e))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");r=t.\u0275dir}if(r){if(n){i.push(r);const t=e;t.inputs=Ra(e.inputs),t.declaredInputs=Ra(e.declaredInputs),t.outputs=Ra(e.outputs);const n=r.hostBindings;n&&Da(e,n);const s=r.viewQuery,o=r.contentQueries;if(s&&Oa(e,s),o&&Aa(e,o),ce(e.inputs,r.inputs),ce(e.declaredInputs,r.declaredInputs),ce(e.outputs,r.outputs),It(r)&&r.data.animation){const t=e.data;t.animation=(t.animation||[]).concat(r.data.animation)}}const t=r.features;if(t)for(let i=0;i<t.length;i++){const r=t[i];r&&r.ngInherit&&r(e),r===Ia&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let i=e.length-1;i>=0;i--){const r=e[i];r.hostVars=t+=r.hostVars,r.hostAttrs=Vn(r.hostAttrs,n=Vn(n,r.hostAttrs))}}(i)}function Ra(e){return e===lt?{}:e===ut?[]:e}function Oa(e,t){const n=e.viewQuery;e.viewQuery=n?(e,i)=>{t(e,i),n(e,i)}:t}function Aa(e,t){const n=e.contentQueries;e.contentQueries=n?(e,i,r)=>{t(e,i,r),n(e,i,r)}:t}function Da(e,t){const n=e.hostBindings;e.hostBindings=n?(e,i)=>{t(e,i),n(e,i)}:t}function Pa(e,t,n,i,r){if(e=Ee(e),Array.isArray(e))for(let s=0;s<e.length;s++)Pa(e[s],t,n,i,r);else{const s=tn(),o=en();let a=mo(e)?e:Ee(e.provide),c=uo(e);const l=rn(),u=1048575&l.providerIndexes,h=l.directiveStart,d=l.providerIndexes>>20;if(mo(e)||!e.multi){const i=new Fn(c,r,Ao),p=La(a,t,r?u:u+d,h);-1===p?(si(ti(l,o),s,a),Ma(s,e,t.length),t.push(a),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),n.push(i),o.push(i)):(n[p]=i,o[p]=i)}else{const p=La(a,t,u+d,h),m=La(a,t,u,u+d),f=p>=0&&n[p],g=m>=0&&n[m];if(r&&!g||!r&&!f){si(ti(l,o),s,a);const u=function(e,t,n,i,r){const s=new Fn(e,n,Ao);return s.multi=[],s.index=t,s.componentProviders=0,Na(s,r,i&&!n),s}(r?Ua:Fa,n.length,r,i,c);!r&&g&&(n[m].providerFactory=u),Ma(s,e,t.length,0),t.push(a),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),n.push(u),o.push(u)}else Ma(s,e,p>-1?p:m,Na(n[r?m:p],c,!r&&i));!r&&i&&g&&n[m].componentProviders++}}}function Ma(e,t,n,i){const r=mo(t);if(r||t.useClass){const s=(t.useClass||t).prototype.ngOnDestroy;if(s){const o=e.destroyHooks||(e.destroyHooks=[]);if(!r&&t.multi){const e=o.indexOf(n);-1===e?o.push(n,[i,s]):o[e+1].push(i,s)}else o.push(n,s)}}}function Na(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function La(e,t,n,i){for(let r=n;r<i;r++)if(t[r]===e)return r;return-1}function Fa(e,t,n,i){return Ba(this.multi,[])}function Ua(e,t,n,i){const r=this.multi;let s;if(this.providerFactory){const e=this.providerFactory.componentProviders,t=ui(n,n[1],this.providerFactory.index,i);s=t.slice(0,e),Ba(r,s);for(let n=e;n<t.length;n++)s.push(t[n])}else s=[],Ba(r,s);return s}function Ba(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function ja(e,t=[]){return n=>{n.providersResolver=(n,i)=>function(e,t,n){const i=tn();if(i.firstCreatePass){const r=It(e);Pa(n,i.data,i.blueprint,r,!0),Pa(t,i.data,i.blueprint,r,!1)}}(n,i?i(e):e,t)}}class Va{}class Ka{resolveComponentFactory(e){throw function(e){const t=Error(`No component factory found for ${ve(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(e)}}let qa=(()=>{class e{}return e.NULL=new Ka,e})(),Ga=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=()=>$a(e),e})();const $a=function(e){return Ws(e,rn(),en())};class Ha{}var za=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}({});let Wa=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Ya(),e})();const Ya=function(){const e=en(),t=$t(rn().index,e);return function(e){const t=e[11];if(Ut(t))return t;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Et(t)?t:e)};let Xa=(()=>{class e{}return e.\u0275prov=le({token:e,providedIn:"root",factory:()=>null}),e})();class Qa{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Za=new Qa("10.0.11");class Ja{constructor(){}supports(e){return So(e)}create(e){return new tc(e)}}const ec=(e,t)=>t;class tc{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||ec}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,i=0,r=null;for(;t||n;){const s=!n||t&&t.currentIndex<sc(n,i,r)?t:n,o=sc(s,i,r),a=s.currentIndex;if(s===n)i--,n=n._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{r||(r=[]);const e=o-i,t=a-i;if(e!=t){for(let n=0;n<e;n++){const i=n<r.length?r[n]:r[n]=0,s=i+n;t<=s&&s<e&&(r[n]=i+1)}r[s.previousIndex]=t-e}}o!==a&&e(s,o,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!So(e))throw new Error(`Error trying to diff '${ve(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,i,r=this._itHead,s=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)n=e[t],i=this._trackByFn(t,n),null!==r&&Object.is(r.trackById,i)?(s&&(r=this._verifyReinsertion(r,n,i,t)),Object.is(r.item,n)||this._addIdentityChange(r,n)):(r=this._mismatch(r,n,i,t),s=!0),r=r._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[bo()]();let i;for(;!(i=n.next()).done;)t(i.value)}}(e,e=>{i=this._trackByFn(t,e),null!==r&&Object.is(r.trackById,i)?(s&&(r=this._verifyReinsertion(r,e,i,t)),Object.is(r.item,e)||this._addIdentityChange(r,e)):(r=this._mismatch(r,e,i,t),s=!0),r=r._next,t++}),this.length=t;return this._truncate(r),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,i){let r;return null===e?r=this._itTail:(r=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,r,i)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,r,i)):e=this._addAfter(new nc(t,n),r,i),e}_verifyReinsertion(e,t,n,i){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?e=this._reinsertAfter(r,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,r=e._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new rc),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new rc),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class nc{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ic{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class rc{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new ic,this.map.set(t,n)),n.add(e)}get(e,t){const n=this.map.get(e);return n?n.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function sc(e,t,n){const i=e.previousIndex;if(null===i)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+t+r}class oc{constructor(){}supports(e){return e instanceof Map||Eo(e)}create(){return new ac}}class ac{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Eo(e)))throw new Error(`Error trying to diff '${ve(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const i=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,i)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}const n=new cc(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class cc{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let lc=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(null!=n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new se,new ie]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`);var n}}return e.\u0275prov=le({token:e,providedIn:"root",factory:()=>new e([new Ja])}),e})(),uc=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new se,new ie]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.\u0275prov=le({token:e,providedIn:"root",factory:()=>new e([new oc])}),e})();const hc=[new oc],dc=new lc([new Ja]),pc=new uc(hc);let mc=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>fc(e,Ga),e})();const fc=function(e,t){return Ys(e,t,rn(),en())};let gc=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>_c(e,Ga),e})();const _c=function(e,t){return Xs(e,t,rn(),en())},yc={};class vc extends qa{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=bt(e);return new Sc(t,this.ngModule)}}function bc(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const wc=new Fe("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Yn});class Sc extends Va{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map(yr).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return bc(this.componentDef.inputs)}get outputs(){return bc(this.componentDef.outputs)}create(e,t,n,i){const r=(i=i||this.ngModule)?function(e,t){return{get:(n,i,r)=>{const s=e.get(n,yc,r);return s!==yc||i===yc?s:t.get(n,i,r)}}}(e,i.injector):e,s=r.get(Ha,Bt),o=r.get(Xa,null),a=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",l=n?function(e,t,n){if(Ut(e))return e.selectRootElement(t,n===ct.ShadowDom);let i="string"==typeof t?e.querySelector(t):t;return i.textContent="",i}(a,n,this.componentDef.encapsulation):Pr(c,s.createRenderer(null,this.componentDef),function(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(c)),u=this.componentDef.onPush?576:528,h={components:[],scheduler:Yn,clean:fs,playerHandler:null,flags:0},d=Gr(0,-1,null,1,0,null,null,null,null,null),p=Mr(null,d,h,u,null,null,s,a,o,r);let m,f;bn(p,null);try{const e=function(e,t,n,i,r,s){const o=n[1];n[20]=e;const a=Nr(o,null,0,3,null,null),c=a.mergedAttrs=t.hostAttrs;null!==c&&(yo(a,c,!0),null!==e&&(Un(r,e,c),null!==a.classes&&Ks(r,e,a.classes),null!==a.styles&&Vs(r,e,a.styles)));const l=i.createRenderer(e,t),u=Mr(n,qr(t),null,t.onPush?64:16,n[20],a,i,l,void 0);return o.firstCreatePass&&(si(ti(a,n),o,t.type),es(o,a),ns(a,n.length,1)),us(n,u),n[20]=u}(l,this.componentDef,p,s,a);if(l)if(n)Un(a,l,["ng-version",Za.full]);else{const{attrs:e,classes:t}=function(e){const t=[],n=[];let i=1,r=2;for(;i<e.length;){let s=e[i];if("string"==typeof s)2===r?""!==s&&t.push(s,e[++i]):8===r&&n.push(s);else{if(!pr(r))break;r=s}i++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);e&&Un(a,l,e),t&&t.length>0&&Ks(a,l,t.join(" "))}if(f=qt(d,0),void 0!==t){const e=f.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const i=t[n];e.push(null!=i?Array.from(i):null)}}m=function(e,t,n,i,r){const s=n[1],o=function(e,t,n){const i=rn();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Jr(e,i,1),is(e,t,n));const r=ui(t,e,t.length-1,i);sr(r,t);const s=Kt(i,t);return s&&sr(s,t),r}(s,n,t);i.components.push(o),e[8]=o,r&&r.forEach(e=>e(o,t)),t.contentQueries&&t.contentQueries(1,o,n.length-1);const a=rn();if(s.firstCreatePass&&(null!==t.hostBindings||null!==t.hostAttrs)){Tn(a.index-20);const e=n[1];Xr(e,t),Qr(e,n,t.hostVars),Zr(t,o)}return o}(e,this.componentDef,p,h,[Ta]),Lr(d,p,null)}finally{Cn()}const g=new Ec(this.componentType,m,Ws(Ga,f,p),p,f);return d.node.child=f,g}}class Ec extends class{}{constructor(e,t,n,i,r){super(),this.location=n,this._rootLView=i,this._tNode=r,this.destroyCbs=[],this.instance=t,this.hostView=this.changeDetectorRef=new Gs(i),function(e,t,n,i){let r=e.node;null==r&&(e.node=r=Hr(0,null,2,-1,null,null)),i[6]=r}(i[1],0,0,i),this.componentType=e}get injector(){return new pi(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(e=>e()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(e){this.destroyCbs&&this.destroyCbs.push(e)}}const kc=void 0;var Cc=["en",[["a","p"],["AM","PM"],kc],[["AM","PM"],kc,kc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],kc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],kc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",kc,"{1} 'at' {0}",kc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let xc={};function Tc(e){return e in xc||(xc[e]=Re.ng&&Re.ng.common&&Re.ng.common.locales&&Re.ng.common.locales[e]),xc[e]}var Ic=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}({});let Rc="en-US";function Oc(e){var t,n;n="Expected localeId to be defined",null==(t=e)&&function(e,t,n,i){throw new Error("ASSERTION ERROR: "+e+` [Expected=> null != ${t} <=Actual]`)}(n,t),"string"==typeof e&&(Rc=e.toLowerCase().replace(/_/g,"-"))}const Ac=new Map;class Dc extends Ze{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new vc(this);const n=St(e),i=e[Me]||null;i&&Oc(i),this._bootstrapComponents=Qn(n.bootstrap),this._r3Injector=ao(e,t,[{provide:Ze,useValue:this},{provide:qa,useValue:this.componentFactoryResolver}],ve(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=go.THROW_IF_NOT_FOUND,n=oe.Default){return e===go||e===Ze||e===Ue?this:this._r3Injector.get(e,t,n)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Pc extends Je{constructor(e){super(),this.moduleType=e,null!==St(e)&&function e(t){if(null!==t.\u0275mod.id){const e=t.\u0275mod.id;(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${ve(t)} vs ${ve(t.name)}`)})(e,Ac.get(e),t),Ac.set(e,t)}let n=t.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(t=>e(t))}(e)}create(e){return new Dc(this.moduleType,e)}}function Mc(e,t,n,i){return Fc(en(),un(),e,t,n,i)}function Nc(e,t,n,i,r){return function(e,t,n,i,r,s,o){const a=t+n;return xo(e,a,r,s)?ko(e,a+2,o?i.call(o,r,s):i(r,s)):Lc(e,a+2)}(en(),un(),e,t,n,i,r)}function Lc(e,t){const n=e[t];return n===vr?void 0:n}function Fc(e,t,n,i,r,s){const o=t+n;return Co(e,o,r)?ko(e,o+1,s?i.call(s,r):i(r)):Lc(e,o+1)}function Uc(e,t){const n=tn();let i;const r=e+20;n.firstCreatePass?(i=function(e,t){if(t)for(let n=t.length-1;n>=0;n--){const i=t[n];if(e===i.name)return i}throw new Error(`The pipe '${e}' could not be found!`)}(t,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(r,i.onDestroy)):i=n.data[r];const s=i.factory||(i.factory=wt(i.type)),o=$e(Ao),a=Jn(!1),c=s();return Jn(a),$e(o),function(e,t,n,i){const r=n+20;r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),t[r]=i}(n,en(),e,c),c}function Bc(e,t,n){const i=en(),r=Gt(i,e);return function(e,t){return wo.isWrapped(t)&&(t=wo.unwrap(t),e[hn()]=vr),t}(i,function(e,t){return e[1].data[t+20].pure}(i,e)?Fc(i,un(),t,r.transform,n,r):r.transform(n))}const jc=class extends E{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){let i,r=e=>null,s=()=>null;e&&"object"==typeof e?(i=this.__isAsync?t=>{setTimeout(()=>e.next(t))}:t=>{e.next(t)},e.error&&(r=this.__isAsync?t=>{setTimeout(()=>e.error(t))}:t=>{e.error(t)}),e.complete&&(s=this.__isAsync?()=>{setTimeout(()=>e.complete())}:()=>{e.complete()})):(i=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)},t&&(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const o=super.subscribe(i,r,s);return e instanceof h&&e.add(o),o}};function Vc(){return this._results[bo()]()}class Kc{constructor(){this.dirty=!0,this._results=[],this.changes=new jc,this.length=0;const e=bo(),t=Kc.prototype;t[e]||(t[e]=Vc)}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e){this._results=function e(t,n){void 0===n&&(n=t);for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?(n===t&&(n=t.slice(0,i)),e(r,n)):n!==t&&n.push(r)}return n}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class qc{constructor(e){this.queryList=e,this.matches=null}clone(){return new qc(this.queryList)}setDirty(){this.queryList.setDirty()}}class Gc{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const n=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let e=0;e<n;e++){const n=t.getByIndex(e);i.push(this.queries[n.indexInDeclarationView].clone())}return new Gc(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==al(e,t).matches&&this.queries[t].setDirty()}}class $c{constructor(e,t,n,i=null){this.predicate=e,this.descendants=t,this.isStatic=n,this.read=i}}class Hc{constructor(e=[]){this.queries=e}elementStart(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let n=0;n<this.length;n++){const i=null!==t?t.length:0,r=this.getByIndex(n).embeddedTView(e,i);r&&(r.indexInDeclarationView=n,null!==t?t.push(r):t=[r])}return null!==t?new Hc(t):null}template(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class zc{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new zc(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&!1===this.metadata.descendants){const t=this._declarationNodeIndex;let n=e.parent;for(;null!==n&&4===n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const n=this.metadata.predicate;if(Array.isArray(n))for(let i=0;i<n.length;i++){const r=n[i];this.matchTNodeWithReadOption(e,t,Wc(t,r)),this.matchTNodeWithReadOption(e,t,li(t,e,r,!1,!1))}else n===mc?0===t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,li(t,e,n,!1,!1))}matchTNodeWithReadOption(e,t,n){if(null!==n){const i=this.metadata.read;if(null!==i)if(i===Ga||i===gc||i===mc&&0===t.type)this.addMatch(t.index,-2);else{const n=li(t,e,i,!1,!1);null!==n&&this.addMatch(t.index,n)}else this.addMatch(t.index,n)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Wc(e,t){const n=e.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1];return null}function Yc(e,t,n,i){return-1===n?function(e,t){return 3===e.type||4===e.type?Ws(Ga,e,t):0===e.type?Ys(mc,Ga,e,t):null}(t,e):-2===n?function(e,t,n){return n===Ga?Ws(Ga,t,e):n===mc?Ys(mc,Ga,t,e):n===gc?Xs(gc,Ga,t,e):void 0}(e,t,i):ui(e,e[1],n,t)}function Xc(e,t,n,i){const r=t[19].queries[i];if(null===r.matches){const i=e.data,s=n.matches,o=[];for(let e=0;e<s.length;e+=2){const r=s[e];o.push(r<0?null:Yc(t,i[r],s[e+1],n.metadata.read))}r.matches=o}return r.matches}function Qc(e){const t=en(),n=tn(),i=_n();yn(i+1);const r=al(n,i);if(e.dirty&&zt(t)===r.metadata.isStatic){if(null===r.matches)e.reset([]);else{const s=r.crossesNgTemplate?function e(t,n,i,r){const s=t.queries.getByIndex(i),o=s.matches;if(null!==o){const a=Xc(t,n,s,i);for(let t=0;t<o.length;t+=2){const i=o[t];if(i>0)r.push(a[t/2]);else{const s=o[t+1],a=n[-i];for(let t=10;t<a.length;t++){const n=a[t];n[17]===n[3]&&e(n[1],n,s,r)}if(null!==a[9]){const t=a[9];for(let n=0;n<t.length;n++){const i=t[n];e(i[1],i,s,r)}}}}}return r}(n,t,i,[]):Xc(n,t,r,i);e.reset(s),e.notifyOnChanges()}return!0}return!1}function Zc(e,t,n){el(tn(),en(),e,t,n,!0)}function Jc(e,t,n){el(tn(),en(),e,t,n,!1)}function el(e,t,n,i,r,s){e.firstCreatePass&&(ol(e,new $c(n,i,s,r),-1),s&&(e.staticViewQueries=!0)),sl(e,t)}function tl(e,t,n,i){il(tn(),en(),t,n,i,!1,rn(),e)}function nl(e,t,n,i){il(tn(),en(),t,n,i,!0,rn(),e)}function il(e,t,n,i,r,s,o,a){e.firstCreatePass&&(ol(e,new $c(n,i,s,r),o.index),function(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(e.contentQueries.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(e,a),s&&(e.staticContentQueries=!0)),sl(e,t)}function rl(){return e=en(),t=_n(),e[19].queries[t].queryList;var e,t}function sl(e,t){const n=new Kc;$r(e,t,n,n.destroy),null===t[19]&&(t[19]=new Gc),t[19].queries.push(new qc(n))}function ol(e,t,n){null===e.queries&&(e.queries=new Hc),e.queries.track(new zc(t,n))}function al(e,t){return e.queries.getByIndex(t)}const cl=new Fe("Application Initializer");let ll=(()=>{class e{constructor(e){this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();Vo(t)&&e.push(t)}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)(ze(cl,8))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})();const ul=new Fe("AppId"),hl={provide:ul,useFactory:function(){return`${dl()}${dl()}${dl()}`},deps:[]};function dl(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const pl=new Fe("Platform Initializer"),ml=new Fe("Platform ID"),fl=new Fe("appBootstrapListener");let gl=(()=>{class e{log(e){console.log(e)}warn(e){console.warn(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})();const _l=new Fe("LocaleId"),yl=new Fe("DefaultCurrencyCode");class vl{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const bl=function(e){return new Pc(e)},wl=bl,Sl=function(e){return Promise.resolve(bl(e))},El=function(e){const t=bl(e),n=Qn(St(e).declarations).reduce((e,t)=>{const n=bt(t);return n&&e.push(new Sc(n)),e},[]);return new vl(t,n)},kl=El,Cl=function(e){return Promise.resolve(El(e))};let xl=(()=>{class e{constructor(){this.compileModuleSync=wl,this.compileModuleAsync=Sl,this.compileModuleAndAllComponentsSync=kl,this.compileModuleAndAllComponentsAsync=Cl}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})();const Tl=(()=>Promise.resolve(0))();function Il(e){"undefined"==typeof Zone?Tl.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Rl{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new jc(!1),this.onMicrotaskEmpty=new jc(!1),this.onStable=new jc(!1),this.onError=new jc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=t,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let e=Re.requestAnimationFrame,t=Re.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=!!e.shouldCoalesceEventChangeDetection&&e.nativeRequestAnimationFrame&&(()=>{!function(e){-1===e.lastRequestAnimationFrameId&&(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Re,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Pl(e),Dl(e)},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Pl(e))}(e)});e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:t},onInvokeTask:(n,i,r,s,o,a)=>{try{return Ml(e),n.invokeTask(r,s,o,a)}finally{t&&"eventTask"===s.type&&t(),Nl(e)}},onInvoke:(t,n,i,r,s,o,a)=>{try{return Ml(e),t.invoke(i,r,s,o,a)}finally{Nl(e)}},onHasTask:(t,n,i,r)=>{t.hasTask(i,r),n===i&&("microTask"==r.change?(e._hasPendingMicrotasks=r.microTask,Pl(e),Dl(e)):"macroTask"==r.change&&(e.hasPendingMacrotasks=r.macroTask))},onHandleError:(t,n,i,r)=>(t.handleError(i,r),e.runOutsideAngular(()=>e.onError.emit(r)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Rl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Rl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,i){const r=this._inner,s=r.scheduleEventTask("NgZoneEvent: "+i,e,Al,Ol,Ol);try{return r.runTask(s,t,n)}finally{r.cancelTask(s)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}function Ol(){}const Al={};function Dl(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Pl(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||e.shouldCoalesceEventChangeDetection&&-1!==e.lastRequestAnimationFrameId)}function Ml(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Nl(e){e._nesting--,Dl(e)}class Ll{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new jc,this.onMicrotaskEmpty=new jc,this.onStable=new jc,this.onError=new jc}run(e,t,n){return e.apply(t,n)}runGuarded(e,t,n){return e.apply(t,n)}runOutsideAngular(e){return e()}runTask(e,t,n,i){return e.apply(t,n)}}let Fl=(()=>{class e{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Rl.assertNotInAngularZone(),Il(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Il(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let i=-1;t&&t>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==i),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}return e.\u0275fac=function(t){return new(t||e)(ze(Rl))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})(),Ul=(()=>{class e{constructor(){this._applications=new Map,Vl.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return Vl.findTestabilityInTree(this,e,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})();class Bl{addToWindow(e){}findTestabilityInTree(e,t,n){return null}}let jl,Vl=new Bl;const Kl=new Fe("AllowMultipleToken");class ql{constructor(e,t){this.name=e,this.token=t}}function Gl(e,t,n=[]){const i="Platform: "+t,r=new Fe(i);return(t=[])=>{let s=$l();if(!s||s.injector.get(Kl,!1))if(e)e(n.concat(t).concat({provide:r,useValue:!0}));else{const e=n.concat(t).concat({provide:r,useValue:!0},{provide:to,useValue:"platform"});!function(e){if(jl&&!jl.destroyed&&!jl.injector.get(Kl,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");jl=e.get(Hl);const t=e.get(pl,null);t&&t.forEach(e=>e())}(go.create({providers:e,name:i}))}return function(e){const t=$l();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(r)}}function $l(){return jl&&!jl.destroyed?jl:null}let Hl=(()=>{class e{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n=function(e,t){let n;return n="noop"===e?new Ll:("zone.js"===e?void 0:e)||new Rl({enableLongStackTrace:Ai(),shouldCoalesceEventChangeDetection:t}),n}(t?t.ngZone:void 0,t&&t.ngZoneEventCoalescing||!1),i=[{provide:Rl,useValue:n}];return n.run(()=>{const t=go.create({providers:i,parent:this.injector,name:e.moduleType.name}),r=e.create(t),s=r.injector.get(vi,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return r.onDestroy(()=>Yl(this._modules,r)),n.runOutsideAngular(()=>n.onError.subscribe({next:e=>{s.handleError(e)}})),function(e,t,n){try{const i=n();return Vo(i)?i.catch(n=>{throw t.runOutsideAngular(()=>e.handleError(n)),n}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}(s,n,()=>{const e=r.injector.get(ll);return e.runInitializers(),e.donePromise.then(()=>(Oc(r.injector.get(_l,"en-US")||"en-US"),this._moduleDoBootstrap(r),r))})})}bootstrapModule(e,t=[]){const n=zl({},t);return function(e,t,n){const i=new Pc(n);return Promise.resolve(i)}(0,0,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(Wl);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${ve(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(ze(go))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})();function zl(e,t){return Array.isArray(t)?t.reduce(zl,e):Object.assign(Object.assign({},e),t)}let Wl=(()=>{class e{constructor(e,t,n,i,r,s){this._zone=e,this._console=t,this._injector=n,this._exceptionHandler=i,this._componentFactoryResolver=r,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Ai(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new y(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),a=new y(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{Rl.assertNotInAngularZone(),Il(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Rl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=$(o,a.pipe(J()))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof Va?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const i=n.isBoundToModule?void 0:this._injector.get(Ze),r=n.create(go.NULL,[],t||n.selector,i);r.onDestroy(()=>{this._unloadComponent(r)});const s=r.injector.get(Fl,null);return s&&r.injector.get(Ul).registerApplication(r.location.nativeElement,s),this._loadComponent(r),Ai()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),r}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges();if(this._enforceNoNewChanges)for(let e of this._views)e.checkNoChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;Yl(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(fl,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}_unloadComponent(e){this.detachView(e.hostView),Yl(this.components,e)}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy())}get viewCount(){return this._views.length}}return e.\u0275fac=function(t){return new(t||e)(ze(Rl),ze(gl),ze(go),ze(vi),ze(qa),ze(ll))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})();function Yl(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Xl{}class Ql{}const Zl={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Jl=(()=>{class e{constructor(e,t){this._compiler=e,this._config=t||Zl}load(e){return this.loadAndCompile(e)}loadAndCompile(e){let[t,i]=e.split("#");return void 0===i&&(i="default"),n("zn8P")(t).then(e=>e[i]).then(e=>eu(e,t,i)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,i]=e.split("#"),r="NgFactory";return void 0===i&&(i="default",r=""),n("zn8P")(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[i+r]).then(e=>eu(e,t,i))}}return e.\u0275fac=function(t){return new(t||e)(ze(xl),ze(Ql,8))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})();function eu(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}const tu=Gl(null,"core",[{provide:ml,useValue:"unknown"},{provide:Hl,deps:[go]},{provide:Ul,deps:[]},{provide:gl,deps:[]}]),nu=[{provide:Wl,useClass:Wl,deps:[Rl,gl,go,vi,qa,ll]},{provide:wc,deps:[Rl],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:ll,useClass:ll,deps:[[new ie,cl]]},{provide:xl,useClass:xl,deps:[]},hl,{provide:lc,useFactory:function(){return dc},deps:[]},{provide:uc,useFactory:function(){return pc},deps:[]},{provide:_l,useFactory:function(e){return Oc(e=e||"undefined"!=typeof $localize&&$localize.locale||"en-US"),e},deps:[[new ne(_l),new ie,new se]]},{provide:yl,useValue:"USD"}];let iu=(()=>{class e{constructor(e){}}return e.\u0275mod=gt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)(ze(Wl))},providers:nu}),e})(),ru=null;function su(){return ru}const ou=new Fe("DocumentToken");let au=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=le({factory:cu,token:e,providedIn:"platform"}),e})();function cu(){return ze(uu)}const lu=new Fe("Location Initialized");let uu=(()=>{class e extends au{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=su().getLocation(),this._history=su().getHistory()}getBaseHrefFromDOM(){return su().getBaseHref(this._doc)}onPopState(e){su().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}onHashChange(e){su().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){hu()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){hu()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)(ze(ou))},e.\u0275prov=le({factory:du,token:e,providedIn:"platform"}),e})();function hu(){return!!window.history.pushState}function du(){return new uu(ze(ou))}function pu(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function mu(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function fu(e){return e&&"?"!==e[0]?"?"+e:e}let gu=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=le({factory:_u,token:e,providedIn:"root"}),e})();function _u(e){const t=ze(ou).location;return new vu(ze(au),t&&t.origin||"")}const yu=new Fe("appBaseHref");let vu=(()=>{class e extends gu{constructor(e,t){if(super(),this._platformLocation=e,null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return pu(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+fu(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,i){const r=this.prepareExternalUrl(n+fu(i));this._platformLocation.pushState(e,t,r)}replaceState(e,t,n,i){const r=this.prepareExternalUrl(n+fu(i));this._platformLocation.replaceState(e,t,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return e.\u0275fac=function(t){return new(t||e)(ze(au),ze(yu,8))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})(),bu=(()=>{class e extends gu{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",null!=t&&(this._baseHref=t)}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=pu(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,i){let r=this.prepareExternalUrl(n+fu(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(e,t,r)}replaceState(e,t,n,i){let r=this.prepareExternalUrl(n+fu(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return e.\u0275fac=function(t){return new(t||e)(ze(au),ze(yu,8))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})(),wu=(()=>{class e{constructor(e,t){this._subject=new jc,this._urlChangeListeners=[],this._platformStrategy=e;const n=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=mu(Eu(n)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+fu(t))}normalize(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,Eu(t)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",n=null){this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+fu(t)),n)}replaceState(e,t="",n=null){this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+fu(t)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)}))}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(n=>n(e,t))}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}return e.\u0275fac=function(t){return new(t||e)(ze(gu),ze(au))},e.normalizeQueryParams=fu,e.joinWithSlash=pu,e.stripTrailingSlash=mu,e.\u0275prov=le({factory:Su,token:e,providedIn:"root"}),e})();function Su(){return new wu(ze(gu),ze(au))}function Eu(e){return e.replace(/\/index.html$/,"")}var ku=function(e){return e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Few=3]="Few",e[e.Many=4]="Many",e[e.Other=5]="Other",e}({});class Cu{}let xu=(()=>{class e extends Cu{constructor(e){super(),this.locale=e}getPluralCategory(e,t){switch(function(e){return function(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=Tc(t);if(n)return n;const i=t.split("-")[0];if(n=Tc(i),n)return n;if("en"===i)return Cc;throw new Error(`Missing locale data for the locale "${e}".`)}(e)[Ic.PluralCase]}(t||this.locale)(e)){case ku.Zero:return"zero";case ku.One:return"one";case ku.Two:return"two";case ku.Few:return"few";case ku.Many:return"many";default:return"other"}}}return e.\u0275fac=function(t){return new(t||e)(ze(_l))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})(),Tu=(()=>{class e{constructor(e,t,n,i){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=n,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(So(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachChangedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachRemovedItem(e=>{e.previousValue&&this._toggleClass(e.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(e=>{if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+ve(e.item));this._toggleClass(e.item,!0)}),e.forEachRemovedItem(e=>this._toggleClass(e.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!0)):Object.keys(e).forEach(t=>this._toggleClass(t,!!e[t])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!1)):Object.keys(e).forEach(e=>this._toggleClass(e,!1)))}_toggleClass(e,t){(e=e.trim())&&e.split(/\s+/g).forEach(e=>{t?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)})}}return e.\u0275fac=function(t){return new(t||e)(Ao(lc),Ao(uc),Ao(Ga),Ao(Wa))},e.\u0275dir=yt({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e})();class Iu{constructor(e,t,n,i){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ru=(()=>{class e{constructor(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){Ai()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(e)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(t){throw new Error(`Cannot find a differ supporting object '${n}' of type '${e=n,e.name||typeof e}'. NgFor only supports binding to Iterables such as Arrays.`)}}var e;if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,n,i)=>{if(null==e.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new Iu(null,this._ngForOf,-1,-1),null===i?void 0:i),r=new Ou(e,n);t.push(r)}else if(null==i)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const r=this._viewContainer.get(n);this._viewContainer.move(r,i);const s=new Ou(e,r);t.push(s)}});for(let n=0;n<t.length;n++)this._perViewChange(t[n].view,t[n].record);for(let n=0,i=this._viewContainer.length;n<i;n++){const e=this._viewContainer.get(n);e.context.index=n,e.context.count=i,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(Ao(gc),Ao(mc),Ao(lc))},e.\u0275dir=yt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e})();class Ou{constructor(e,t){this.record=e,this.view=t}}let Au=(()=>{class e{constructor(e,t){this._viewContainer=e,this._context=new Du,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Pu("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Pu("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(Ao(gc),Ao(mc))},e.\u0275dir=yt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e})();class Du{constructor(){this.$implicit=null,this.ngIf=null}}function Pu(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${ve(t)}'.`)}class Mu{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Nu=(()=>{class e{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let t=0;t<this._defaultViews.length;t++)this._defaultViews[t].enforceState(e)}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=yt({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),e})(),Lu=(()=>{class e{constructor(e,t,n){this.ngSwitch=n,n._addCase(),this._view=new Mu(e,t)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return e.\u0275fac=function(t){return new(t||e)(Ao(gc),Ao(mc),Ao(Nu,1))},e.\u0275dir=yt({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),e})(),Fu=(()=>{class e{constructor(e,t,n){n._addDefault(new Mu(e,t))}}return e.\u0275fac=function(t){return new(t||e)(Ao(gc),Ao(mc),Ao(Nu,1))},e.\u0275dir=yt({type:e,selectors:[["","ngSwitchDefault",""]]}),e})(),Uu=(()=>{class e{constructor(e,t,n){this._ngEl=e,this._differs=t,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,t){const[n,i]=e.split(".");null!=(t=null!=t&&i?`${t}${i}`:t)?this._renderer.setStyle(this._ngEl.nativeElement,n,t):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(e){e.forEachRemovedItem(e=>this._setStyle(e.key,null)),e.forEachAddedItem(e=>this._setStyle(e.key,e.currentValue)),e.forEachChangedItem(e=>this._setStyle(e.key,e.currentValue))}}return e.\u0275fac=function(t){return new(t||e)(Ao(Ga),Ao(uc),Ao(Wa))},e.\u0275dir=yt({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),e})(),Bu=(()=>{class e{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(this._shouldRecreateView(e)){const e=this._viewContainerRef;this._viewRef&&e.remove(e.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?e.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(e){const t=e.ngTemplateOutletContext;return!!e.ngTemplateOutlet||t&&this._hasContextShapeChanged(t)}_hasContextShapeChanged(e){const t=Object.keys(e.previousValue||{}),n=Object.keys(e.currentValue||{});if(t.length===n.length){for(let e of n)if(-1===t.indexOf(e))return!0;return!1}return!0}_updateExistingContext(e){for(let t of Object.keys(e))this._viewRef.context[t]=this.ngTemplateOutletContext[t]}}return e.\u0275fac=function(t){return new(t||e)(Ao(gc))},e.\u0275dir=yt({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[At]}),e})();class ju{createSubscription(e,t){return e.subscribe({next:t,error:e=>{throw e}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class Vu{createSubscription(e,t){return e.then(t,e=>{throw e})}dispose(e){}onDestroy(e){}}const Ku=new Vu,qu=new ju;let Gu=(()=>{class e{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,t=>this._updateLatestValue(e,t))}_selectStrategy(t){if(Vo(t))return Ku;if(Ko(t))return qu;throw Error(`InvalidPipeArgument: '${t}' for pipe '${ve(e)}'`)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}return e.\u0275fac=function(t){return new(t||e)(function(e=oe.Default){const t=Qs(!0);if(null!=t||e&oe.Optional)return t;throw new Error("No provider for ChangeDetectorRef!")}())},e.\u0275pipe=vt({name:"async",type:e,pure:!1}),e})(),$u=(()=>{class e{}return e.\u0275mod=gt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:[{provide:Cu,useClass:xu}]}),e})(),Hu=(()=>{class e{}return e.\u0275prov=le({token:e,providedIn:"root",factory:()=>new zu(ze(ou),window,ze(vi))}),e})();class zu{constructor(e,t,n){this.document=e,this.window=t,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(this.supportsScrolling()){const t=this.document.getElementById(e)||this.document.getElementsByName(e)[0];t&&this.scrollToElement(t)}}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],i-r[1])}supportScrollRestoration(){try{if(!this.window||!this.window.scrollTo)return!1;const e=Wu(this.window.history)||Wu(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window.scrollTo}catch(e){return!1}}}function Wu(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class Yu extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var e;e=new Yu,ru||(ru=e)}getProperty(e,t){return e[t]}log(e){window.console&&window.console.log&&window.console.log(e)}logGroup(e){window.console&&window.console.group&&window.console.group(e)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){return e.parentNode&&e.parentNode.removeChild(e),e}getValue(e){return e.value}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(e){const t=Qu||(Qu=document.querySelector("base"),Qu)?Qu.getAttribute("href"):null;return null==t?null:(n=t,Xu||(Xu=document.createElement("a")),Xu.setAttribute("href",n),"/"===Xu.pathname.charAt(0)?Xu.pathname:"/"+Xu.pathname);var n}resetBaseElement(){Qu=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(e){return function(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[i,r]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(i.trim()===t)return decodeURIComponent(r)}return null}(document.cookie,e)}}let Xu,Qu=null;const Zu=new Fe("TRANSITION_ID"),Ju=[{provide:cl,useFactory:function(e,t,n){return()=>{n.get(ll).donePromise.then(()=>{const n=su();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(t=>t.getAttribute("ng-transition")===e).forEach(e=>n.remove(e))})}},deps:[Zu,ou,go],multi:!0}];class eh{static init(){var e;e=new eh,Vl=e}addToWindow(e){Re.getAngularTestability=(t,n=!0)=>{const i=e.findTestabilityInTree(t,n);if(null==i)throw new Error("Could not find testability for element.");return i},Re.getAllAngularTestabilities=()=>e.getAllTestabilities(),Re.getAllAngularRootElements=()=>e.getAllRootElements(),Re.frameworkStabilizers||(Re.frameworkStabilizers=[]),Re.frameworkStabilizers.push(e=>{const t=Re.getAllAngularTestabilities();let n=t.length,i=!1;const r=function(t){i=i||t,n--,0==n&&e(i)};t.forEach((function(e){e.whenStable(r)}))})}findTestabilityInTree(e,t,n){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:n?su().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}const th=new Fe("EventManagerPlugins");let nh=(()=>{class e{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let i=0;i<n.length;i++){const t=n[i];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error("No event manager plugin found for event "+e)}}return e.\u0275fac=function(t){return new(t||e)(ze(th),ze(Rl))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})();class ih{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const i=su().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,n)}}let rh=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})(),sh=(()=>{class e extends rh{constructor(e){super(),this._doc=e,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(e.head)}_addStylesToHost(e,t){e.forEach(e=>{const n=this._doc.createElement("style");n.textContent=e,this._styleNodes.add(t.appendChild(n))})}addHost(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}removeHost(e){this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach(t=>this._addStylesToHost(e,t))}ngOnDestroy(){this._styleNodes.forEach(e=>su().remove(e))}}return e.\u0275fac=function(t){return new(t||e)(ze(ou))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})();const oh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ah=/%COMP%/g;function ch(e,t,n){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?ch(e,r,n):(r=r.replace(ah,e),n.push(r))}return n}function lh(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let uh=(()=>{class e{constructor(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new hh(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case ct.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new dh(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case ct.Native:case ct.ShadowDom:return new ph(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=ch(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(ze(nh),ze(sh),ze(ul))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})();class hh{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(oh[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,i){if(i){t=i+":"+t;const r=oh[i];r?e.setAttributeNS(r,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const i=oh[n];i?e.removeAttributeNS(i,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,i){i&za.DashCase?e.style.setProperty(t,n,i&za.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&za.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,lh(n)):this.eventManager.addEventListener(e,t,lh(n))}}class dh extends hh{constructor(e,t,n,i){super(e),this.component=n;const r=ch(i+"-"+n.id,n.styles,[]);t.addStyles(r),this.contentAttr="_ngcontent-%COMP%".replace(ah,i+"-"+n.id),this.hostAttr=function(e){return"_nghost-%COMP%".replace(ah,e)}(i+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class ph extends hh{constructor(e,t,n,i){super(e),this.sharedStylesHost=t,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===ct.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const r=ch(i.id,i.styles,[]);for(let s=0;s<r.length;s++){const e=document.createElement("style");e.textContent=r[s],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let mh=(()=>{class e extends ih{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,n){return e.addEventListener(t,n,!1),()=>this.removeEventListener(e,t,n)}removeEventListener(e,t,n){return e.removeEventListener(t,n)}}return e.\u0275fac=function(t){return new(t||e)(ze(ou))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})();const fh=["alt","control","meta","shift"],gh={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_h={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},yh={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let vh=(()=>{class e extends ih{constructor(e){super(e)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,n,i){const r=e.parseEventName(n),s=e.eventCallback(r.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>su().onAndCancel(t,r.domEventName,s))}static parseEventName(t){const n=t.toLowerCase().split("."),i=n.shift();if(0===n.length||"keydown"!==i&&"keyup"!==i)return null;const r=e._normalizeKey(n.pop());let s="";if(fh.forEach(e=>{const t=n.indexOf(e);t>-1&&(n.splice(t,1),s+=e+".")}),s+=r,0!=n.length||0===r.length)return null;const o={};return o.domEventName=i,o.fullKey=s,o}static getEventFullKey(e){let t="",n=function(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&_h.hasOwnProperty(t)&&(t=_h[t]))}return gh[t]||t}(e);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),fh.forEach(i=>{i!=n&&(0,yh[i])(e)&&(t+=i+".")}),t+=n,t}static eventCallback(t,n,i){return r=>{e.getEventFullKey(r)===t&&i.runGuarded(()=>n(r))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return e.\u0275fac=function(t){return new(t||e)(ze(ou))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})(),bh=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=le({factory:function(){return ze(wh)},token:e,providedIn:"root"}),e})(),wh=(()=>{class e extends bh{constructor(e){super(),this._doc=e}sanitize(e,t){if(null==t)return null;switch(e){case tr.NONE:return t;case tr.HTML:return Ti(t,"HTML")?xi(t):Ji(this._doc,String(t));case tr.STYLE:return Ti(t,"Style")?xi(t):t;case tr.SCRIPT:if(Ti(t,"Script"))return xi(t);throw new Error("unsafe value used in a script context");case tr.URL:return Ii(t),Ti(t,"URL")?xi(t):Li(String(t));case tr.RESOURCE_URL:if(Ti(t,"ResourceURL"))return xi(t);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see http://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return new wi(e)}bypassSecurityTrustStyle(e){return new Si(e)}bypassSecurityTrustScript(e){return new Ei(e)}bypassSecurityTrustUrl(e){return new ki(e)}bypassSecurityTrustResourceUrl(e){return new Ci(e)}}return e.\u0275fac=function(t){return new(t||e)(ze(ou))},e.\u0275prov=le({factory:function(){return e=ze(Ue),new wh(e.get(ou));var e},token:e,providedIn:"root"}),e})();const Sh=Gl(tu,"browser",[{provide:ml,useValue:"browser"},{provide:pl,useValue:function(){Yu.makeCurrent(),eh.init()},multi:!0},{provide:ou,useFactory:function(){return function(e){Lt=e}(document),document},deps:[]}]),Eh=[[],{provide:to,useValue:"root"},{provide:vi,useFactory:function(){return new vi},deps:[]},{provide:th,useClass:mh,multi:!0,deps:[ou,Rl,ml]},{provide:th,useClass:vh,multi:!0,deps:[ou]},[],{provide:uh,useClass:uh,deps:[nh,sh,ul]},{provide:Ha,useExisting:uh},{provide:rh,useExisting:sh},{provide:sh,useClass:sh,deps:[ou]},{provide:Fl,useClass:Fl,deps:[Rl]},{provide:nh,useClass:nh,deps:[th,Rl]},[]];let kh=(()=>{class e{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:e,providers:[{provide:ul,useValue:t.appId},{provide:Zu,useExisting:ul},Ju]}}}return e.\u0275mod=gt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)(ze(e,12))},providers:Eh,imports:[$u,iu]}),e})();function Ch(e){return null!=e&&""+e!="false"}function xh(e,t=0){return function(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}(e)?Number(e):t}function Th(e){return Array.isArray(e)?e:[e]}function Ih(e){return null==e?"":"string"==typeof e?e:e+"px"}function Rh(e){return e instanceof Ga?e.nativeElement:e}"undefined"!=typeof window&&window;class Oh extends h{constructor(e,t){super()}schedule(e,t=0){return this}}class Ah extends Oh{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n=!1,i=void 0;try{this.work(e)}catch(r){n=!0,i=!!r&&r||new Error(r)}if(n)return this.unsubscribe(),i}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}let Dh=(()=>{class e{constructor(t,n=e.now){this.SchedulerAction=t,this.now=n}schedule(e,t=0,n){return new this.SchedulerAction(this,e).schedule(n,t)}}return e.now=()=>Date.now(),e})();class Ph extends Dh{constructor(e,t=Dh.now){super(e,()=>Ph.delegate&&Ph.delegate!==this?Ph.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return Ph.delegate&&Ph.delegate!==this?Ph.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}const Mh=new Ph(Ah);function Nh(e,t=Mh){return n=>n.lift(new Lh(e,t))}class Lh{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new Fh(e,this.dueTime,this.scheduler))}}class Fh extends m{constructor(e,t,n){super(e),this.dueTime=t,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Uh,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function Uh(e){e.debouncedNext()}let Bh,jh=(()=>{class e{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=le({factory:function(){return new e},token:e,providedIn:"root"}),e})(),Vh=(()=>{class e{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,t)=>this._cleanupObserver(t))}observe(e){const t=Rh(e);return new y(e=>{const n=this._observeElement(t).subscribe(e);return()=>{n.unsubscribe(),this._unobserveElement(t)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const t=new E,n=this._mutationObserverFactory.create(e=>t.next(e));n&&n.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:n,stream:t,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:t,stream:n}=this._observedElements.get(e);t&&t.disconnect(),n.complete(),this._observedElements.delete(e)}}}return e.\u0275fac=function(t){return new(t||e)(ze(jh))},e.\u0275prov=le({factory:function(){return new e(ze(jh))},token:e,providedIn:"root"}),e})(),Kh=(()=>{class e{constructor(e,t,n){this._contentObserver=e,this._elementRef=t,this._ngZone=n,this.event=new jc,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Ch(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=xh(e),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(Nh(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription&&this._currentSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(Ao(Vh),Ao(Ga),Ao(Rl))},e.\u0275dir=yt({type:e,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),e})(),qh=(()=>{class e{}return e.\u0275mod=gt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:[jh]}),e})();try{Bh="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(CL){Bh=!1}let Gh,$h=(()=>{class e{constructor(e){this._platformId=e,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Bh)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return e.\u0275fac=function(t){return new(t||e)(ze(ml))},e.\u0275prov=le({factory:function(){return new e(ze(ml))},token:e,providedIn:"root"}),e})(),Hh=(()=>{class e{}return e.\u0275mod=gt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)}}),e})();const zh=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Wh(){if(Gh)return Gh;if("object"!=typeof document||!document)return Gh=new Set(zh),Gh;let e=document.createElement("input");return Gh=new Set(zh.filter(t=>(e.setAttribute("type",t),e.type===t))),Gh}let Yh,Xh,Qh;function Zh(e){return function(){if(null==Yh&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Yh=!0}))}finally{Yh=Yh||!1}return Yh}()?e:!!e.capture}function Jh(){if("object"!=typeof document||!document)return 0;if(null==Xh){const e=document.createElement("div"),t=e.style;e.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const n=document.createElement("div"),i=n.style;i.width="2px",i.height="1px",e.appendChild(n),document.body.appendChild(e),Xh=0,0===e.scrollLeft&&(e.scrollLeft=1,Xh=0===e.scrollLeft?1:2),e.parentNode.removeChild(e)}return Xh}function ed(e){if(function(){if(null==Qh){const e="undefined"!=typeof document?document.head:null;Qh=!(!e||!e.createShadowRoot&&!e.attachShadow)}return Qh}()){const t=e.getRootNode?e.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function td(...e){let t=e[e.length-1];return C(t)?(e.pop(),U(e,t)):G(e)}function nd(e,...t){return t.length?t.some(t=>e[t]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}function id(){}function rd(e,t,n){return function(i){return i.lift(new sd(e,t,n))}}class sd{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new od(e,this.nextOrObserver,this.error,this.complete))}}class od extends m{constructor(e,t,n,r){super(e),this._tapNext=id,this._tapError=id,this._tapComplete=id,this._tapError=n||id,this._tapComplete=r||id,i(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||id,this._tapError=t.error||id,this._tapComplete=t.complete||id)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}function ad(e,t){return function(n){return n.lift(new cd(e,t))}}class cd{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new ld(e,this.predicate,this.thisArg))}}class ld extends m{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}const ud=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})(),hd=new y(e=>e.complete());function dd(e){return e?function(e){return new y(t=>e.schedule(()=>t.complete()))}(e):hd}function pd(e){return t=>0===e?dd():t.lift(new md(e))}class md{constructor(e){if(this.total=e,this.total<0)throw new ud}call(e,t){return t.subscribe(new fd(e,this.total))}}class fd extends m{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}class gd{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new E,this._typeaheadSubscription=h.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new E,this.change=new E,e instanceof Kc&&e.changes.subscribe(e=>{if(this._activeItem){const t=e.toArray().indexOf(this._activeItem);t>-1&&t!==this._activeItemIndex&&(this._activeItemIndex=t)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){if(this._items.length&&this._items.some(e=>"function"!=typeof e.getLabel))throw Error("ListKeyManager items in typeahead mode must implement the `getLabel` method.");return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(rd(e=>this._pressedLetters.push(e)),Nh(e),ad(()=>this._pressedLetters.length>0),N(()=>this._pressedLetters.join(""))).subscribe(e=>{const t=this._getItemsArray();for(let n=1;n<t.length+1;n++){const i=(this._activeItemIndex+n)%t.length,r=t[i];if(!this._skipPredicateFn(r)&&0===r.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(i);break}}this._pressedLetters=[]}),this}withHomeAndEnd(){return this._homeAndEnd=!0,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(t=>!e[t]||this._allowedModifierKeys.indexOf(t)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&n){this.setNextItemActive();break}return;case 38:if(this._vertical&&n){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&n){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&n){this.setLastItemActive();break}return;default:return void((n||nd(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),n="number"==typeof e?e:t.indexOf(e),i=t[n];this._activeItem=null==i?null:i,this._activeItemIndex=n}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let n=1;n<=t.length;n++){const i=(this._activeItemIndex+e*n+t.length)%t.length;if(!this._skipPredicateFn(t[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const n=this._getItemsArray();if(n[e]){for(;this._skipPredicateFn(n[e]);)if(!n[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof Kc?this._items.toArray():this._items}}class _d extends gd{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}class yd extends gd{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}let vd=(()=>{class e{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function(e){return!!(e.offsetWidth||e.offsetHeight||"function"==typeof e.getClientRects&&e.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const t=function(e){try{return e.frameElement}catch(CL){return null}}((n=e).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(t){if(-1===wd(t))return!1;if(!this.isVisible(t))return!1}let i=e.nodeName.toLowerCase(),r=wd(e);return e.hasAttribute("contenteditable")?-1!==r:"iframe"!==i&&"object"!==i&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(e){let t=e.nodeName.toLowerCase(),n="input"===t&&e.type;return"text"===n||"password"===n||"select"===t||"textarea"===t}(e))&&("audio"===i?!!e.hasAttribute("controls")&&-1!==r:"video"===i?-1!==r&&(null!==r||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,t){return function(e){return!function(e){return function(e){return"input"==e.nodeName.toLowerCase()}(e)&&"hidden"==e.type}(e)&&(function(e){let t=e.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(e)||function(e){return function(e){return"a"==e.nodeName.toLowerCase()}(e)&&e.hasAttribute("href")}(e)||e.hasAttribute("contenteditable")||bd(e))}(e)&&!this.isDisabled(e)&&((null==t?void 0:t.ignoreVisibility)||this.isVisible(e))}}return e.\u0275fac=function(t){return new(t||e)(ze($h))},e.\u0275prov=le({factory:function(){return new e(ze($h))},token:e,providedIn:"root"}),e})();function bd(e){if(!e.hasAttribute("tabindex")||void 0===e.tabIndex)return!1;let t=e.getAttribute("tabindex");return"-32768"!=t&&!(!t||isNaN(parseInt(t,10)))}function wd(e){if(!bd(e))return null;const t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class Sd{constructor(e,t,n,i,r=!1){this._element=e,this._checker=t,this._ngZone=n,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,r||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),t&&(t.removeEventListener("focus",this.endAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement()))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);for(let n=0;n<t.length;n++)t[n].hasAttribute("cdk-focus-"+e)?console.warn(`Found use of deprecated attribute 'cdk-focus-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[n]):t[n].hasAttribute("cdk-focus-region-"+e)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[n]);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return e?(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),Ai()&&!this._checker.isFocusable(e)&&console.warn("Element matching '[cdkFocusInitial]' is not focusable.",e),e.focus(),!0):this.focusFirstTabbableElement()}focusFirstTabbableElement(){const e=this._getRegionBoundary("start");return e&&e.focus(),!!e}focusLastTabbableElement(){const e=this._getRegionBoundary("end");return e&&e.focus(),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let n=0;n<t.length;n++){let e=t[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[n]):null;if(e)return e}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let n=t.length-1;n>=0;n--){let e=t[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[n]):null;if(e)return e}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.asObservable().pipe(pd(1)).subscribe(e)}}let Ed=(()=>{class e{constructor(e,t,n){this._checker=e,this._ngZone=t,this._document=n}create(e,t=!1){return new Sd(e,this._checker,this._ngZone,this._document,t)}}return e.\u0275fac=function(t){return new(t||e)(ze(vd),ze(Rl),ze(ou))},e.\u0275prov=le({factory:function(){return new e(ze(vd),ze(Rl),ze(ou))},token:e,providedIn:"root"}),e})();"undefined"!=typeof Element&&Element;const kd=new Fe("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),Cd=new Fe("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let xd=(()=>{class e{constructor(e,t,n,i){this._ngZone=t,this._defaultOptions=i,this._document=n,this._liveElement=e||this._createLiveElement()}announce(e,...t){const n=this._defaultOptions;let i,r;return 1===t.length&&"number"==typeof t[0]?r=t[0]:[i,r]=t,this.clear(),clearTimeout(this._previousTimeout),i||(i=n&&n.politeness?n.politeness:"polite"),null==r&&n&&(r=n.duration),this._liveElement.setAttribute("aria-live",i),this._ngZone.runOutsideAngular(()=>new Promise(t=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,t(),"number"==typeof r&&(this._previousTimeout=setTimeout(()=>this.clear(),r))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const e=this._document.getElementsByClassName("cdk-live-announcer-element"),t=this._document.createElement("div");for(let n=0;n<e.length;n++)e[n].parentNode.removeChild(e[n]);return t.classList.add("cdk-live-announcer-element"),t.classList.add("cdk-visually-hidden"),t.setAttribute("aria-atomic","true"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),t}}return e.\u0275fac=function(t){return new(t||e)(ze(kd,8),ze(Rl),ze(ou),ze(Cd,8))},e.\u0275prov=le({factory:function(){return new e(ze(kd,8),ze(Rl),ze(ou),ze(Cd,8))},token:e,providedIn:"root"}),e})();function Td(e){return 0===e.buttons}const Id=new Fe("cdk-focus-monitor-default-options"),Rd=Zh({passive:!0,capture:!0});let Od=(()=>{class e{constructor(e,t,n,i){this._ngZone=e,this._platform=t,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=e=>{if(!this._lastTouchTarget){const t=Td(e)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(t)}},this._documentTouchstartListener=e=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=Ad(e),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650)},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=e=>{const t=Ad(e),n="focus"===e.type?this._onFocus:this._onBlur;for(let i=t;i;i=i.parentElement)n.call(this,e,i)},this._document=n,this._detectionMode=(null==i?void 0:i.detectionMode)||0}monitor(e,t=!1){if(!this._platform.isBrowser)return td(null);const n=Rh(e),i=ed(n)||this._getDocument(),r=this._elementInfo.get(n);if(r)return t&&(r.checkChildren=!0),r.subject.asObservable();const s={checkChildren:t,subject:new E,rootNode:i};return this._elementInfo.set(n,s),this._registerGlobalListeners(s),s.subject.asObservable()}stopMonitoring(e){const t=Rh(e),n=this._elementInfo.get(t);n&&(n.subject.complete(),this._setClasses(t),this._elementInfo.delete(t),this._removeGlobalListeners(n))}focusVia(e,t,n){const i=Rh(e);this._setOriginForCurrentEventQueue(t),"function"==typeof i.focus&&i.focus(n)}ngOnDestroy(){this._elementInfo.forEach((e,t)=>this.stopMonitoring(t))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(e,t,n){n?e.classList.add(t):e.classList.remove(t)}_getFocusOrigin(e){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(e)?"touch":"program"}_setClasses(e,t){this._toggleClass(e,"cdk-focused",!!t),this._toggleClass(e,"cdk-touch-focused","touch"===t),this._toggleClass(e,"cdk-keyboard-focused","keyboard"===t),this._toggleClass(e,"cdk-mouse-focused","mouse"===t),this._toggleClass(e,"cdk-program-focused","program"===t)}_setOriginForCurrentEventQueue(e){this._ngZone.runOutsideAngular(()=>{this._origin=e,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(e){const t=Ad(e);return this._lastTouchTarget instanceof Node&&t instanceof Node&&(t===this._lastTouchTarget||t.contains(this._lastTouchTarget))}_onFocus(e,t){const n=this._elementInfo.get(t);if(!n||!n.checkChildren&&t!==Ad(e))return;const i=this._getFocusOrigin(e);this._setClasses(t,i),this._emitOrigin(n.subject,i),this._lastFocusOrigin=i}_onBlur(e,t){const n=this._elementInfo.get(t);!n||n.checkChildren&&e.relatedTarget instanceof Node&&t.contains(e.relatedTarget)||(this._setClasses(t),this._emitOrigin(n.subject,null))}_emitOrigin(e,t){this._ngZone.run(()=>e.next(t))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const t=e.rootNode,n=this._rootNodeFocusListenerCount.get(t)||0;n||this._ngZone.runOutsideAngular(()=>{t.addEventListener("focus",this._rootNodeFocusAndBlurListener,Rd),t.addEventListener("blur",this._rootNodeFocusAndBlurListener,Rd)}),this._rootNodeFocusListenerCount.set(t,n+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const e=this._getDocument(),t=this._getWindow();e.addEventListener("keydown",this._documentKeydownListener,Rd),e.addEventListener("mousedown",this._documentMousedownListener,Rd),e.addEventListener("touchstart",this._documentTouchstartListener,Rd),t.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(e){const t=e.rootNode;if(this._rootNodeFocusListenerCount.has(t)){const e=this._rootNodeFocusListenerCount.get(t);e>1?this._rootNodeFocusListenerCount.set(t,e-1):(t.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Rd),t.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Rd),this._rootNodeFocusListenerCount.delete(t))}if(!--this._monitoredElementCount){const e=this._getDocument(),t=this._getWindow();e.removeEventListener("keydown",this._documentKeydownListener,Rd),e.removeEventListener("mousedown",this._documentMousedownListener,Rd),e.removeEventListener("touchstart",this._documentTouchstartListener,Rd),t.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}}return e.\u0275fac=function(t){return new(t||e)(ze(Rl),ze($h),ze(ou,8),ze(Id,8))},e.\u0275prov=le({factory:function(){return new e(ze(Rl),ze($h),ze(ou,8),ze(Id,8))},token:e,providedIn:"root"}),e})();function Ad(e){return e.composedPath?e.composedPath()[0]:e.target}let Dd=(()=>{class e{constructor(e,t){this._elementRef=e,this._focusMonitor=t,this.cdkFocusChange=new jc}ngAfterViewInit(){this._monitorSubscription=this._focusMonitor.monitor(this._elementRef,this._elementRef.nativeElement.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(e=>this.cdkFocusChange.emit(e))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(Ao(Ga),Ao(Od))},e.\u0275dir=yt({type:e,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),e})(),Pd=(()=>{class e{constructor(e,t){this._platform=e,this._document=t}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const t=this._document.defaultView||window,n=t&&t.getComputedStyle?t.getComputedStyle(e):null,i=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(e),i){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove("cdk-high-contrast-active"),e.remove("cdk-high-contrast-black-on-white"),e.remove("cdk-high-contrast-white-on-black");const t=this.getHighContrastMode();1===t?(e.add("cdk-high-contrast-active"),e.add("cdk-high-contrast-black-on-white")):2===t&&(e.add("cdk-high-contrast-active"),e.add("cdk-high-contrast-white-on-black"))}}}return e.\u0275fac=function(t){return new(t||e)(ze($h),ze(ou))},e.\u0275prov=le({factory:function(){return new e(ze($h),ze(ou))},token:e,providedIn:"root"}),e})(),Md=(()=>{class e{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return e.\u0275mod=gt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)(ze(Pd))},imports:[[Hh,qh]]}),e})();const Nd=new Fe("cdk-dir-doc",{providedIn:"root",factory:function(){return We(ou)}});let Ld=(()=>{class e{constructor(e){if(this.value="ltr",this.change=new jc,e){const t=e.documentElement?e.documentElement.dir:null,n=(e.body?e.body.dir:null)||t;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return e.\u0275fac=function(t){return new(t||e)(ze(Nd,8))},e.\u0275prov=le({factory:function(){return new e(ze(Nd,8))},token:e,providedIn:"root"}),e})(),Fd=(()=>{class e{}return e.\u0275mod=gt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)}}),e})();const Ud=new Qa("10.1.3");function Bd(){return q(1)}function jd(...e){return Bd()(td(...e))}function Vd(...e){const t=e[e.length-1];return C(t)?(e.pop(),n=>jd(e,n,t)):t=>jd(e,t)}class Kd{}function qd(e,t){return{type:7,name:e,definitions:t,options:{}}}function Gd(e,t=null){return{type:4,styles:t,timings:e}}function $d(e,t=null){return{type:2,steps:e,options:t}}function Hd(e){return{type:6,styles:e,offset:null}}function zd(e,t,n){return{type:0,name:e,styles:t,options:n}}function Wd(e,t,n=null){return{type:1,expr:e,animation:t,options:n}}function Yd(e=null){return{type:9,options:e}}function Xd(e,t,n=null){return{type:11,selector:e,animation:t,options:n}}function Qd(e){Promise.resolve(null).then(e)}class Zd{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Qd(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){}setPosition(e){}getPosition(){return 0}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class Jd{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,n=0,i=0;const r=this.players.length;0==r?Qd(()=>this._onFinish()):this.players.forEach(e=>{e.onDone(()=>{++t==r&&this._onFinish()}),e.onDestroy(()=>{++n==r&&this._onDestroy()}),e.onStart(()=>{++i==r&&this._onStart()})}),this.totalTime=this.players.reduce((e,t)=>Math.max(e,t.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(e=>{const n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)})}getPosition(){let e=0;return this.players.forEach(t=>{const n=t.getPosition();e=Math.min(n,e)}),e}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}function ep(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function tp(e){switch(e.length){case 0:return new Zd;case 1:return e[0];default:return new Jd(e)}}function np(e,t,n,i,r={},s={}){const o=[],a=[];let c=-1,l=null;if(i.forEach(e=>{const n=e.offset,i=n==c,u=i&&l||{};Object.keys(e).forEach(n=>{let i=n,a=e[n];if("offset"!==n)switch(i=t.normalizePropertyName(i,o),a){case"!":a=r[n];break;case"*":a=s[n];break;default:a=t.normalizeStyleValue(n,i,a,o)}u[i]=a}),i||a.push(u),l=u,c=n}),o.length){const e="\n - ";throw new Error(`Unable to animate due to the following errors:${e}${o.join(e)}`)}return a}function ip(e,t,n,i){switch(t){case"start":e.onStart(()=>i(n&&rp(n,"start",e)));break;case"done":e.onDone(()=>i(n&&rp(n,"done",e)));break;case"destroy":e.onDestroy(()=>i(n&&rp(n,"destroy",e)))}}function rp(e,t,n){const i=n.totalTime,r=sp(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==i?e.totalTime:i,!!n.disabled),s=e._data;return null!=s&&(r._data=s),r}function sp(e,t,n,i,r="",s=0,o){return{element:e,triggerName:t,fromState:n,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function op(e,t,n){let i;return e instanceof Map?(i=e.get(t),i||e.set(t,i=n)):(i=e[t],i||(i=e[t]=n)),i}function ap(e){const t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}let cp=(e,t)=>!1,lp=(e,t)=>!1,up=(e,t,n)=>[];const hp=ep();(hp||"undefined"!=typeof Element)&&(cp=(e,t)=>e.contains(t),lp=(()=>{if(hp||Element.prototype.matches)return(e,t)=>e.matches(t);{const e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?(e,n)=>t.apply(e,[n]):lp}})(),up=(e,t,n)=>{let i=[];if(n)i.push(...e.querySelectorAll(t));else{const n=e.querySelector(t);n&&i.push(n)}return i});let dp=null,pp=!1;function mp(e){dp||(dp=("undefined"!=typeof document?document.body:null)||{},pp=!!dp.style&&"WebkitAppearance"in dp.style);let t=!0;return dp.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in dp.style,!t&&pp)&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in dp.style),t}const fp=lp,gp=cp,_p=up;function yp(e){const t={};return Object.keys(e).forEach(n=>{const i=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=e[n]}),t}let vp=(()=>{class e{validateStyleProperty(e){return mp(e)}matchesElement(e,t){return fp(e,t)}containsElement(e,t){return gp(e,t)}query(e,t,n){return _p(e,t,n)}computeStyle(e,t,n){return n||""}animate(e,t,n,i,r,s=[],o){return new Zd(n,i)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})(),bp=(()=>{class e{}return e.NOOP=new vp,e})();function wp(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Sp(parseFloat(t[1]),t[2])}function Sp(e,t){switch(t){case"s":return 1e3*e;default:return e}}function Ep(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){let i,r=0,s="";if("string"==typeof e){const n=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return t.push(`The provided timing value "${e}" is invalid.`),{duration:0,delay:0,easing:""};i=Sp(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(r=Sp(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else i=e;if(!n){let n=!1,s=t.length;i<0&&(t.push("Duration values below 0 are not allowed for this animation step."),n=!0),r<0&&(t.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&t.splice(s,0,`The provided timing value "${e}" is invalid.`)}return{duration:i,delay:r,easing:s}}(e,t,n)}function kp(e,t={}){return Object.keys(e).forEach(n=>{t[n]=e[n]}),t}function Cp(e,t,n={}){if(t)for(let i in e)n[i]=e[i];else kp(e,n);return n}function xp(e,t,n){return n?t+":"+n+";":""}function Tp(e){let t="";for(let n=0;n<e.style.length;n++){const i=e.style.item(n);t+=xp(0,i,e.style.getPropertyValue(i))}for(const n in e.style)e.style.hasOwnProperty(n)&&!n.startsWith("_")&&(t+=xp(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[n]));e.setAttribute("style",t)}function Ip(e,t,n){e.style&&(Object.keys(t).forEach(i=>{const r=Lp(i);n&&!n.hasOwnProperty(i)&&(n[i]=e.style[r]),e.style[r]=t[i]}),ep()&&Tp(e))}function Rp(e,t){e.style&&(Object.keys(t).forEach(t=>{const n=Lp(t);e.style[n]=""}),ep()&&Tp(e))}function Op(e){return Array.isArray(e)?1==e.length?e[0]:$d(e):e}const Ap=new RegExp("{{\\s*(.+?)\\s*}}","g");function Dp(e){let t=[];if("string"==typeof e){let n;for(;n=Ap.exec(e);)t.push(n[1]);Ap.lastIndex=0}return t}function Pp(e,t,n){const i=e.toString(),r=i.replace(Ap,(e,i)=>{let r=t[i];return t.hasOwnProperty(i)||(n.push("Please provide a value for the animation param "+i),r=""),r.toString()});return r==i?e:r}function Mp(e){const t=[];let n=e.next();for(;!n.done;)t.push(n.value),n=e.next();return t}const Np=/-+([a-z0-9])/g;function Lp(e){return e.replace(Np,(...e)=>e[1].toUpperCase())}function Fp(e,t){return 0===e||0===t}function Up(e,t,n){const i=Object.keys(n);if(i.length&&t.length){let s=t[0],o=[];if(i.forEach(e=>{s.hasOwnProperty(e)||o.push(e),s[e]=n[e]}),o.length)for(var r=1;r<t.length;r++){let n=t[r];o.forEach((function(t){n[t]=jp(e,t)}))}}return t}function Bp(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error("Unable to resolve animation metadata node #"+t.type)}}function jp(e,t){return window.getComputedStyle(e)[t]}function Vp(e,t){const n=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(e=>function(e,t,n){if(":"==e[0]){const i=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return t.push(`The transition alias value "${e}" is not supported`),"* => *"}}(e,n);if("function"==typeof i)return void t.push(i);e=i}const i=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push(`The provided transition expression "${e}" is not supported`),t;const r=i[1],s=i[2],o=i[3];t.push(Gp(r,o)),"<"!=s[0]||"*"==r&&"*"==o||t.push(Gp(o,r))}(e,n,t)):n.push(e),n}const Kp=new Set(["true","1"]),qp=new Set(["false","0"]);function Gp(e,t){const n=Kp.has(e)||qp.has(e),i=Kp.has(t)||qp.has(t);return(r,s)=>{let o="*"==e||e==r,a="*"==t||t==s;return!o&&n&&"boolean"==typeof r&&(o=r?Kp.has(e):qp.has(e)),!a&&i&&"boolean"==typeof s&&(a=s?Kp.has(t):qp.has(t)),o&&a}}const $p=new RegExp("s*:selfs*,?","g");function Hp(e,t,n){return new zp(e).build(t,n)}class zp{constructor(e){this._driver=e}build(e,t){const n=new Wp(t);return this._resetContextStyleTimingState(n),Bp(this,Op(e),n)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let n=t.queryCount=0,i=t.depCount=0;const r=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(e=>{if(this._resetContextStyleTimingState(t),0==e.type){const n=e,i=n.name;i.toString().split(/\s*,\s*/).forEach(e=>{n.name=e,r.push(this.visitState(n,t))}),n.name=i}else if(1==e.type){const r=this.visitTransition(e,t);n+=r.queryCount,i+=r.depCount,s.push(r)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:r,transitions:s,queryCount:n,depCount:i,options:null}}visitState(e,t){const n=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(n.containsDynamicStyles){const r=new Set,s=i||{};if(n.styles.forEach(e=>{if(Yp(e)){const t=e;Object.keys(t).forEach(e=>{Dp(t[e]).forEach(e=>{s.hasOwnProperty(e)||r.add(e)})})}}),r.size){const n=Mp(r.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:e.name,style:n,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const n=Bp(this,Op(e.animation),t);return{type:1,matchers:Vp(e.expr,t.errors),animation:n,queryCount:t.queryCount,depCount:t.depCount,options:Xp(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(e=>Bp(this,e,t)),options:Xp(e.options)}}visitGroup(e,t){const n=t.currentTime;let i=0;const r=e.steps.map(e=>{t.currentTime=n;const r=Bp(this,e,t);return i=Math.max(i,t.currentTime),r});return t.currentTime=i,{type:3,steps:r,options:Xp(e.options)}}visitAnimate(e,t){const n=function(e,t){let n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return Qp(Ep(e,t).duration,0,"");const i=e;if(i.split(/\s+/).some(e=>"{"==e.charAt(0)&&"{"==e.charAt(1))){const e=Qp(0,0,"");return e.dynamic=!0,e.strValue=i,e}return n=n||Ep(i,t),Qp(n.duration,n.delay,n.easing)}(e.timings,t.errors);let i;t.currentAnimateTimings=n;let r=e.styles?e.styles:Hd({});if(5==r.type)i=this.visitKeyframes(r,t);else{let r=e.styles,s=!1;if(!r){s=!0;const e={};n.easing&&(e.easing=n.easing),r=Hd(e)}t.currentTime+=n.duration+n.delay;const o=this.visitStyle(r,t);o.isEmptyStep=s,i=o}return t.currentAnimateTimings=null,{type:4,timings:n,style:i,options:null}}visitStyle(e,t){const n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}_makeStyleAst(e,t){const n=[];Array.isArray(e.styles)?e.styles.forEach(e=>{"string"==typeof e?"*"==e?n.push(e):t.errors.push(`The provided style string value ${e} is not allowed.`):n.push(e)}):n.push(e.styles);let i=!1,r=null;return n.forEach(e=>{if(Yp(e)){const t=e,n=t.easing;if(n&&(r=n,delete t.easing),!i)for(let e in t)if(t[e].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:n,easing:r,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const n=t.currentAnimateTimings;let i=t.currentTime,r=t.currentTime;n&&r>0&&(r-=n.duration+n.delay),e.styles.forEach(e=>{"string"!=typeof e&&Object.keys(e).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void t.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=t.collectedStyles[t.currentQuerySelector],o=s[n];let a=!0;o&&(r!=i&&r>=o.startTime&&i<=o.endTime&&(t.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${r}ms" and "${i}ms"`),a=!1),r=o.startTime),a&&(s[n]={startTime:r,endTime:i}),t.options&&function(e,t,n){const i=t.params||{},r=Dp(e);r.length&&r.forEach(e=>{i.hasOwnProperty(e)||n.push(`Unable to resolve the local animation param ${e} in the given list of values`)})}(e[n],t.options,t.errors)})})}visitKeyframes(e,t){const n={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),n;let i=0;const r=[];let s=!1,o=!1,a=0;const c=e.steps.map(e=>{const n=this._makeStyleAst(e,t);let c=null!=n.offset?n.offset:function(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(e=>{if(Yp(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}});else if(Yp(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}return t}(n.styles),l=0;return null!=c&&(i++,l=n.offset=c),o=o||l<0||l>1,s=s||l<a,a=l,r.push(l),n});o&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&t.errors.push("Please ensure that all keyframe offsets are in order");const l=e.steps.length;let u=0;i>0&&i<l?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(u=1/(l-1));const h=l-1,d=t.currentTime,p=t.currentAnimateTimings,m=p.duration;return c.forEach((e,i)=>{const s=u>0?i==h?1:u*i:r[i],o=s*m;t.currentTime=d+p.delay+o,p.duration=o,this._validateStyleAst(e,t),e.offset=s,n.styles.push(e)}),n}visitReference(e,t){return{type:8,animation:Bp(this,Op(e.animation),t),options:Xp(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Xp(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Xp(e.options)}}visitQuery(e,t){const n=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[r,s]=function(e){const t=!!e.split(/\s*,\s*/).find(e=>":self"==e);return t&&(e=e.replace($p,"")),[e=e.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,e=>".ng-trigger-"+e.substr(1)).replace(/:animating/g,".ng-animating"),t]}(e.selector);t.currentQuerySelector=n.length?n+" "+r:r,op(t.collectedStyles,t.currentQuerySelector,{});const o=Bp(this,Op(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:r,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:o,originalSelector:e.selector,options:Xp(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const n="full"===e.timings?{duration:0,delay:0,easing:"full"}:Ep(e.timings,t.errors,!0);return{type:12,animation:Bp(this,Op(e.animation),t),timings:n,options:null}}}class Wp{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Yp(e){return!Array.isArray(e)&&"object"==typeof e}function Xp(e){var t;return e?(e=kp(e)).params&&(e.params=(t=e.params)?kp(t):null):e={},e}function Qp(e,t,n){return{duration:e,delay:t,easing:n}}function Zp(e,t,n,i,r,s,o=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class Jp{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const em=new RegExp(":enter","g"),tm=new RegExp(":leave","g");function nm(e,t,n,i,r,s={},o={},a,c,l=[]){return(new im).buildKeyframes(e,t,n,i,r,s,o,a,c,l)}class im{buildKeyframes(e,t,n,i,r,s,o,a,c,l=[]){c=c||new Jp;const u=new sm(e,t,c,i,r,l,[]);u.options=a,u.currentTimeline.setStyles([s],null,u.errors,a),Bp(this,n,u);const h=u.timelines.filter(e=>e.containsAnimation());if(h.length&&Object.keys(o).length){const e=h[h.length-1];e.allowOnlyTimelineStyles()||e.setStyles([o],null,u.errors,a)}return h.length?h.map(e=>e.buildKeyframes()):[Zp(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const n=t.subInstructions.consume(t.element);if(n){const i=t.createSubContext(e.options),r=t.currentTimeline.currentTime,s=this._visitSubInstructions(n,i,i.options);r!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,n){let i=t.currentTimeline.currentTime;const r=null!=n.duration?wp(n.duration):null,s=null!=n.delay?wp(n.delay):null;return 0!==r&&e.forEach(e=>{const n=t.appendInstructionToTimeline(e,r,s);i=Math.max(i,n.duration+n.delay)}),i}visitReference(e,t){t.updateOptions(e.options,!0),Bp(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const n=t.subContextCount;let i=t;const r=e.options;if(r&&(r.params||r.delay)&&(i=t.createSubContext(r),i.transformIntoNewTimeline(),null!=r.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=rm);const e=wp(r.delay);i.delayNextStep(e)}e.steps.length&&(e.steps.forEach(e=>Bp(this,e,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const n=[];let i=t.currentTimeline.currentTime;const r=e.options&&e.options.delay?wp(e.options.delay):0;e.steps.forEach(s=>{const o=t.createSubContext(e.options);r&&o.delayNextStep(r),Bp(this,s,o),i=Math.max(i,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(e=>t.currentTimeline.mergeTimelineCollectedStyles(e)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const n=e.strValue;return Ep(t.params?Pp(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const n=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),i.snapshotCurrentStyles());const r=e.style;5==r.type?this.visitKeyframes(r,t):(t.incrementTime(n.duration),this.visitStyle(r,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const n=t.currentTimeline,i=t.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();const r=i&&i.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(r):n.setStyles(e.styles,r,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const n=t.currentAnimateTimings,i=t.currentTimeline.duration,r=n.duration,s=t.createSubContext().currentTimeline;s.easing=n.easing,e.styles.forEach(e=>{s.forwardTime((e.offset||0)*r),s.setStyles(e.styles,e.easing,t.errors,t.options),s.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(s),t.transformIntoNewTimeline(i+r),t.previousNode=e}visitQuery(e,t){const n=t.currentTimeline.currentTime,i=e.options||{},r=i.delay?wp(i.delay):0;r&&(6===t.previousNode.type||0==n&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=rm);let s=n;const o=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=o.length;let a=null;o.forEach((n,i)=>{t.currentQueryIndex=i;const o=t.createSubContext(e.options,n);r&&o.delayNextStep(r),n===t.element&&(a=o.currentTimeline),Bp(this,e.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),a&&(t.currentTimeline.mergeTimelineCollectedStyles(a),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const n=t.parentContext,i=t.currentTimeline,r=e.timings,s=Math.abs(r.duration),o=s*(t.currentQueryTotal-1);let a=s*t.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const c=t.currentTimeline;a&&c.delayNextStep(a);const l=c.currentTime;Bp(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=i.currentTime-l+(i.startTime-n.currentTimeline.startTime)}}const rm={};class sm{constructor(e,t,n,i,r,s,o,a){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=r,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=rm,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new om(this._driver,t,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const n=e;let i=this.options;null!=n.duration&&(i.duration=wp(n.duration)),null!=n.delay&&(i.delay=wp(n.delay));const r=n.params;if(r){let e=i.params;e||(e=this.options.params={}),Object.keys(r).forEach(n=>{t&&e.hasOwnProperty(n)||(e[n]=Pp(r[n],e,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const n=e.params={};Object.keys(t).forEach(e=>{n[e]=t[e]})}}return e}createSubContext(e=null,t,n){const i=t||this.element,r=new sm(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(e),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(e){return this.previousNode=rm,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,n){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},r=new am(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(r),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,n,i,r,s){let o=[];if(i&&o.push(this.element),e.length>0){e=(e=e.replace(em,"."+this._enterClassName)).replace(tm,"."+this._leaveClassName);let t=this._driver.query(this.element,e,1!=n);0!==n&&(t=n<0?t.slice(t.length+n,t.length):t.slice(0,n)),o.push(...t)}return r||0!=o.length||s.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),o}}class om{constructor(e,t,n,i){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new om(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||"*",this._currentKeyframe[e]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,n,i){t&&(this._previousKeyframe.easing=t);const r=i&&i.params||{},s=function(e,t){const n={};let i;return e.forEach(e=>{"*"===e?(i=i||Object.keys(t),i.forEach(e=>{n[e]="*"})):Cp(e,!1,n)}),n}(e,this._globalTimelineStyles);Object.keys(s).forEach(e=>{const t=Pp(s[e],r,n);this._pendingStyles[e]=t,this._localTimelineStyles.hasOwnProperty(e)||(this._backFill[e]=this._globalTimelineStyles.hasOwnProperty(e)?this._globalTimelineStyles[e]:"*"),this._updateStyle(e,t)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(t=>{this._currentKeyframe[t]=e[t]}),Object.keys(this._localTimelineStyles).forEach(e=>{this._currentKeyframe.hasOwnProperty(e)||(this._currentKeyframe[e]=this._localTimelineStyles[e])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const n=this._styleSummary[t],i=e._styleSummary[t];(!n||i.time>n.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,n=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((r,s)=>{const o=Cp(r,!0);Object.keys(o).forEach(n=>{const i=o[n];"!"==i?e.add(n):"*"==i&&t.add(n)}),n||(o.offset=s/this.duration),i.push(o)});const r=e.size?Mp(e.values()):[],s=t.size?Mp(t.values()):[];if(n){const e=i[0],t=kp(e);e.offset=0,t.offset=1,i=[e,t]}return Zp(this.element,i,r,s,this.duration,this.startTime,this.easing,!1)}}class am extends om{constructor(e,t,n,i,r,s,o=!1){super(e,t,s.delay),this.element=t,this.keyframes=n,this.preStyleProps=i,this.postStyleProps=r,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const r=[],s=n+t,o=t/s,a=Cp(e[0],!1);a.offset=0,r.push(a);const c=Cp(e[0],!1);c.offset=cm(o),r.push(c);const l=e.length-1;for(let i=1;i<=l;i++){let o=Cp(e[i],!1);o.offset=cm((t+o.offset*n)/s),r.push(o)}n=s,t=0,i="",e=r}return Zp(this.element,e,this.preStyleProps,this.postStyleProps,n,t,i,!0)}}function cm(e,t=3){const n=Math.pow(10,t-1);return Math.round(e*n)/n}class lm{}class um extends lm{normalizePropertyName(e,t){return Lp(e)}normalizeStyleValue(e,t,n,i){let r="";const s=n.toString().trim();if(hm[t]&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{const t=n.match(/^[+-]?[\d\.]+([a-z]*)$/);t&&0==t[1].length&&i.push(`Please provide a CSS unit value for ${e}:${n}`)}return s+r}}const hm=(()=>function(e){const t={};return e.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function dm(e,t,n,i,r,s,o,a,c,l,u,h,d){return{type:0,element:e,triggerName:t,isRemovalTransition:r,fromState:n,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:h,errors:d}}const pm={};class mm{constructor(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}match(e,t,n,i){return function(e,t,n,i,r){return e.some(e=>e(t,n,i,r))}(this.ast.matchers,e,t,n,i)}buildStyles(e,t,n){const i=this._stateStyles["*"],r=this._stateStyles[e],s=i?i.buildStyles(t,n):{};return r?r.buildStyles(t,n):s}build(e,t,n,i,r,s,o,a,c,l){const u=[],h=this.ast.options&&this.ast.options.params||pm,d=this.buildStyles(n,o&&o.params||pm,u),p=a&&a.params||pm,m=this.buildStyles(i,p,u),f=new Set,g=new Map,_=new Map,y="void"===i,v={params:Object.assign(Object.assign({},h),p)},b=l?[]:nm(e,t,this.ast.animation,r,s,d,m,v,c,u);let w=0;if(b.forEach(e=>{w=Math.max(e.duration+e.delay,w)}),u.length)return dm(t,this._triggerName,n,i,y,d,m,[],[],g,_,w,u);b.forEach(e=>{const n=e.element,i=op(g,n,{});e.preStyleProps.forEach(e=>i[e]=!0);const r=op(_,n,{});e.postStyleProps.forEach(e=>r[e]=!0),n!==t&&f.add(n)});const S=Mp(f.values());return dm(t,this._triggerName,n,i,y,d,m,b,S,g,_,w)}}class fm{constructor(e,t){this.styles=e,this.defaultParams=t}buildStyles(e,t){const n={},i=kp(this.defaultParams);return Object.keys(e).forEach(t=>{const n=e[t];null!=n&&(i[t]=n)}),this.styles.styles.forEach(e=>{if("string"!=typeof e){const r=e;Object.keys(r).forEach(e=>{let s=r[e];s.length>1&&(s=Pp(s,i,t)),n[e]=s})}}),n}}class gm{constructor(e,t){this.name=e,this.ast=t,this.transitionFactories=[],this.states={},t.states.forEach(e=>{this.states[e.name]=new fm(e.style,e.options&&e.options.params||{})}),_m(this.states,"true","1"),_m(this.states,"false","0"),t.transitions.forEach(t=>{this.transitionFactories.push(new mm(e,t,this.states))}),this.fallbackTransition=new mm(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(e,t)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,n,i){return this.transitionFactories.find(r=>r.match(e,t,n,i))||null}matchStyles(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}function _m(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}const ym=new Jp;class vm{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(e,t){const n=[],i=Hp(this._driver,t,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[e]=i}_buildPlayer(e,t,n){const i=e.element,r=np(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(i,r,e.duration,e.delay,e.easing,[],!0)}create(e,t,n={}){const i=[],r=this._animations[e];let s;const o=new Map;if(r?(s=nm(this._driver,t,r,"ng-enter","ng-leave",{},{},n,ym,i),s.forEach(e=>{const t=op(o,e.element,{});e.postStyleProps.forEach(e=>t[e]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),s=[]),i.length)throw new Error("Unable to create the animation due to the following errors: "+i.join("\n"));o.forEach((e,t)=>{Object.keys(e).forEach(n=>{e[n]=this._driver.computeStyle(t,n,"*")})});const a=tp(s.map(e=>{const t=o.get(e.element);return this._buildPlayer(e,{},t)}));return this._playersById[e]=a,a.onDestroy(()=>this.destroy(e)),this.players.push(a),a}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error("Unable to find the timeline player referenced by "+e);return t}listen(e,t,n,i){const r=sp(t,"","","");return ip(this._getPlayer(e),n,r,i),()=>{}}command(e,t,n,i){if("register"==n)return void this.register(e,i[0]);if("create"==n)return void this.create(e,t,i[0]||{});const r=this._getPlayer(e);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const bm=[],wm={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Sm={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class Em{constructor(e,t=""){this.namespaceId=t;const n=e&&e.hasOwnProperty("value");if(this.value=null!=(i=n?e.value:e)?i:null,n){const t=kp(e);delete t.value,this.options=t}else this.options={};var i;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const e=this.options.params;Object.keys(t).forEach(n=>{null==e[n]&&(e[n]=t[n])})}}}const km=new Em("void");class Cm{constructor(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Dm(t,this._hostClassName)}listen(e,t,n,i){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${t}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if("start"!=(r=n)&&"done"!=r)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${t}" is not supported!`);var r;const s=op(this._elementListeners,e,[]),o={name:t,phase:n,callback:i};s.push(o);const a=op(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(Dm(e,"ng-trigger"),Dm(e,"ng-trigger-"+t),a[t]=km),()=>{this._engine.afterFlush(()=>{const e=s.indexOf(o);e>=0&&s.splice(e,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,n,i=!0){const r=this._getTrigger(t),s=new Tm(this.id,t,e);let o=this._engine.statesByElement.get(e);o||(Dm(e,"ng-trigger"),Dm(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,o={}));let a=o[t];const c=new Em(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&c.absorbOptions(a.options),o[t]=c,a||(a=km),"void"!==c.value&&a.value===c.value){if(!function(e,t){const n=Object.keys(e),i=Object.keys(t);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){const i=n[r];if(!t.hasOwnProperty(i)||e[i]!==t[i])return!1}return!0}(a.params,c.params)){const t=[],n=r.matchStyles(a.value,a.params,t),i=r.matchStyles(c.value,c.params,t);t.length?this._engine.reportError(t):this._engine.afterFlush(()=>{Rp(e,n),Ip(e,i)})}return}const l=op(this._engine.playersByElement,e,[]);l.forEach(e=>{e.namespaceId==this.id&&e.triggerName==t&&e.queued&&e.destroy()});let u=r.matchTransition(a.value,c.value,e,c.params),h=!1;if(!u){if(!i)return;u=r.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:u,fromState:a,toState:c,player:s,isFallbackTransition:h}),h||(Dm(e,"ng-animate-queued"),s.onStart(()=>{Pm(e,"ng-animate-queued")})),s.onDone(()=>{let t=this.players.indexOf(s);t>=0&&this.players.splice(t,1);const n=this._engine.playersByElement.get(e);if(n){let e=n.indexOf(s);e>=0&&n.splice(e,1)}}),this.players.push(s),l.push(s),s}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,n)=>{delete t[e]}),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(t=>t.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(e=>e.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const n=this._engine.driver.query(e,".ng-trigger",!0);n.forEach(e=>{if(e.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(e);n.size?n.forEach(n=>n.triggerLeaveAnimation(e,t,!1,!0)):this.clearElementCache(e)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(e=>this.clearElementCache(e)))}triggerLeaveAnimation(e,t,n,i){const r=this._engine.statesByElement.get(e);if(r){const s=[];if(Object.keys(r).forEach(t=>{if(this._triggers[t]){const n=this.trigger(e,t,"void",i);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&tp(s).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e);if(t){const n=new Set;t.forEach(t=>{const i=t.name;if(n.has(i))return;n.add(i);const r=this._triggers[i].fallbackTransition,s=this._engine.statesByElement.get(e)[i]||km,o=new Em("void"),a=new Tm(this.id,i,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:i,transition:r,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(e,t){const n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(n.totalAnimations){const t=n.players.length?n.playersByQueriedElement.get(e):[];if(t&&t.length)i=!0;else{let t=e;for(;t=t.parentNode;)if(n.statesByElement.get(t)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)n.markElementAsRemoved(this.id,e,!1,t);else{const i=e.__ng_removed;i&&i!==wm||(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,t))}}insertNode(e,t){Dm(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(n=>{const i=n.player;if(i.destroyed)return;const r=n.element,s=this._elementListeners.get(r);s&&s.forEach(t=>{if(t.name==n.triggerName){const i=sp(r,n.triggerName,n.fromState.value,n.toState.value);i._data=e,ip(n.player,t.phase,i,t.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(n)}),this._queue=[],t.sort((e,t)=>{const n=e.transition.ast.depCount,i=t.transition.ast.depCount;return 0==n||0==i?n-i:this._engine.driver.containsElement(e.element,t.element)?1:-1})}destroy(e){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(t=>t.element===e)||t,t}}class xm{constructor(e,t,n){this.bodyNode=e,this.driver=t,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(e,t)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(t=>{t.queued&&e.push(t)})}),e}createNamespace(e,t){const n=new Cm(e,t,this);return t.parentNode?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,t){const n=this._namespaceList.length-1;if(n>=0){let i=!1;for(let r=n;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,t)){this._namespaceList.splice(r+1,0,e),i=!0;break}i||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}registerTrigger(e,t,n){let i=this._namespaceLookup[e];i&&i.register(t,n)&&this.totalAnimations++}destroy(e,t){if(!e)return;const n=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[e];const t=this._namespaceList.indexOf(n);t>=0&&this._namespaceList.splice(t,1)}),this.afterFlushAnimationsDone(()=>n.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,n=this.statesByElement.get(e);if(n){const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=n[e[i]].namespaceId;if(r){const e=this._fetchNamespace(r);e&&t.add(e)}}}return t}trigger(e,t,n,i){if(Im(t)){const r=this._fetchNamespace(e);if(r)return r.trigger(t,n,i),!0}return!1}insertNode(e,t,n,i){if(!Im(t))return;const r=t.__ng_removed;if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const e=this.collectedLeaveElements.indexOf(t);e>=0&&this.collectedLeaveElements.splice(e,1)}if(e){const i=this._fetchNamespace(e);i&&i.insertNode(t,n)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Dm(e,"ng-animate-disabled")):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Pm(e,"ng-animate-disabled"))}removeNode(e,t,n,i){if(Im(t)){const r=e?this._fetchNamespace(e):null;if(r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),n){const n=this.namespacesByHostElement.get(t);n&&n.id!==e&&n.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,n,i){this.collectedLeaveElements.push(t),t.__ng_removed={namespaceId:e,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}listen(e,t,n,i,r){return Im(t)?this._fetchNamespace(e).listen(t,n,i,r):()=>{}}_buildInstruction(e,t,n,i,r){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,i,e.fromState.options,e.toState.options,t,r)}destroyInnerAnimations(e){let t=this.driver.query(e,".ng-trigger",!0);t.forEach(e=>this.destroyActiveAnimationsForElement(e)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,".ng-animating",!0),t.forEach(e=>this.finishActiveQueriedAnimationOnElement(e)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(e=>{e.queued?e.markedForDestroy=!0:e.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(e=>e.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return tp(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e.__ng_removed;if(t&&t.setForRemoval){if(e.__ng_removed=wm,t.namespaceId){this.destroyInnerAnimations(e);const n=this._fetchNamespace(t.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,".ng-animate-disabled")&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(e=>{this.markElementAsDisabled(e,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((e,t)=>this._balanceNamespaceList(e,t)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Dm(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{t=this._flushAnimations(n,e)}finally{for(let e=0;e<n.length;e++)n[e]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(e=>e()),this._flushFns=[],this._whenQuietFns.length){const e=this._whenQuietFns;this._whenQuietFns=[],t.length?tp(t).onDone(()=>{e.forEach(e=>e())}):e.forEach(e=>e())}}reportError(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+e.join("\n"))}_flushAnimations(e,t){const n=new Jp,i=[],r=new Map,s=[],o=new Map,a=new Map,c=new Map,l=new Set;this.disabledNodes.forEach(e=>{l.add(e);const t=this.driver.query(e,".ng-animate-queued",!0);for(let n=0;n<t.length;n++)l.add(t[n])});const u=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=Am(h,this.collectedEnterElements),p=new Map;let m=0;d.forEach((e,t)=>{const n="ng-enter"+m++;p.set(t,n),e.forEach(e=>Dm(e,n))});const f=[],g=new Set,_=new Set;for(let O=0;O<this.collectedLeaveElements.length;O++){const e=this.collectedLeaveElements[O],t=e.__ng_removed;t&&t.setForRemoval&&(f.push(e),g.add(e),t.hasAnimation?this.driver.query(e,".ng-star-inserted",!0).forEach(e=>g.add(e)):_.add(e))}const y=new Map,v=Am(h,Array.from(g));v.forEach((e,t)=>{const n="ng-leave"+m++;y.set(t,n),e.forEach(e=>Dm(e,n))}),e.push(()=>{d.forEach((e,t)=>{const n=p.get(t);e.forEach(e=>Pm(e,n))}),v.forEach((e,t)=>{const n=y.get(t);e.forEach(e=>Pm(e,n))}),f.forEach(e=>{this.processLeaveNode(e)})});const b=[],w=[];for(let O=this._namespaceList.length-1;O>=0;O--)this._namespaceList[O].drainQueuedTransitions(t).forEach(e=>{const t=e.player,r=e.element;if(b.push(t),this.collectedEnterElements.length){const e=r.__ng_removed;if(e&&e.setForMove)return void t.destroy()}const l=!u||!this.driver.containsElement(u,r),h=y.get(r),d=p.get(r),m=this._buildInstruction(e,n,d,h,l);if(m.errors&&m.errors.length)w.push(m);else{if(l)return t.onStart(()=>Rp(r,m.fromStyles)),t.onDestroy(()=>Ip(r,m.toStyles)),void i.push(t);if(e.isFallbackTransition)return t.onStart(()=>Rp(r,m.fromStyles)),t.onDestroy(()=>Ip(r,m.toStyles)),void i.push(t);m.timelines.forEach(e=>e.stretchStartingKeyframe=!0),n.append(r,m.timelines),s.push({instruction:m,player:t,element:r}),m.queriedElements.forEach(e=>op(o,e,[]).push(t)),m.preStyleProps.forEach((e,t)=>{const n=Object.keys(e);if(n.length){let e=a.get(t);e||a.set(t,e=new Set),n.forEach(t=>e.add(t))}}),m.postStyleProps.forEach((e,t)=>{const n=Object.keys(e);let i=c.get(t);i||c.set(t,i=new Set),n.forEach(e=>i.add(e))})}});if(w.length){const e=[];w.forEach(t=>{e.push(`@${t.triggerName} has failed due to:\n`),t.errors.forEach(t=>e.push(`- ${t}\n`))}),b.forEach(e=>e.destroy()),this.reportError(e)}const S=new Map,E=new Map;s.forEach(e=>{const t=e.element;n.has(t)&&(E.set(t,t),this._beforeAnimationBuild(e.player.namespaceId,e.instruction,S))}),i.forEach(e=>{const t=e.element;this._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach(e=>{op(S,t,[]).push(e),e.destroy()})});const k=f.filter(e=>Nm(e,a,c)),C=new Map;Om(C,this.driver,_,c,"*").forEach(e=>{Nm(e,a,c)&&k.push(e)});const x=new Map;d.forEach((e,t)=>{Om(x,this.driver,new Set(e),a,"!")}),k.forEach(e=>{const t=C.get(e),n=x.get(e);C.set(e,Object.assign(Object.assign({},t),n))});const T=[],I=[],R={};s.forEach(e=>{const{element:t,player:s,instruction:o}=e;if(n.has(t)){if(l.has(t))return s.onDestroy(()=>Ip(t,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void i.push(s);let e=R;if(E.size>1){let n=t;const i=[];for(;n=n.parentNode;){const t=E.get(n);if(t){e=t;break}i.push(n)}i.forEach(t=>E.set(t,e))}const n=this._buildAnimation(s.namespaceId,o,S,r,x,C);if(s.setRealPlayer(n),e===R)T.push(s);else{const t=this.playersByElement.get(e);t&&t.length&&(s.parentPlayer=tp(t)),i.push(s)}}else Rp(t,o.fromStyles),s.onDestroy(()=>Ip(t,o.toStyles)),I.push(s),l.has(t)&&i.push(s)}),I.forEach(e=>{const t=r.get(e.element);if(t&&t.length){const n=tp(t);e.setRealPlayer(n)}}),i.forEach(e=>{e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()});for(let O=0;O<f.length;O++){const e=f[O],t=e.__ng_removed;if(Pm(e,"ng-leave"),t&&t.hasAnimation)continue;let n=[];if(o.size){let t=o.get(e);t&&t.length&&n.push(...t);let i=this.driver.query(e,".ng-animating",!0);for(let e=0;e<i.length;e++){let t=o.get(i[e]);t&&t.length&&n.push(...t)}}const i=n.filter(e=>!e.destroyed);i.length?Mm(this,e,i):this.processLeaveNode(e)}return f.length=0,T.forEach(e=>{this.players.push(e),e.onDone(()=>{e.destroy();const t=this.players.indexOf(e);this.players.splice(t,1)}),e.play()}),T}elementContainsData(e,t){let n=!1;const i=t.__ng_removed;return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,n,i,r){let s=[];if(t){const t=this.playersByQueriedElement.get(e);t&&(s=t)}else{const t=this.playersByElement.get(e);if(t){const e=!r||"void"==r;t.forEach(t=>{t.queued||(e||t.triggerName==i)&&s.push(t)})}}return(n||i)&&(s=s.filter(e=>!(n&&n!=e.namespaceId||i&&i!=e.triggerName))),s}_beforeAnimationBuild(e,t,n){const i=t.element,r=t.isRemovalTransition?void 0:e,s=t.isRemovalTransition?void 0:t.triggerName;for(const o of t.timelines){const e=o.element,a=e!==i,c=op(n,e,[]);this._getPreviousPlayers(e,a,r,s,t.toState).forEach(e=>{const t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),c.push(e)})}Rp(i,t.fromStyles)}_buildAnimation(e,t,n,i,r,s){const o=t.triggerName,a=t.element,c=[],l=new Set,u=new Set,h=t.timelines.map(t=>{const h=t.element;l.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new Zd(t.duration,t.delay);const p=h!==a,m=function(e){const t=[];return function e(t,n){for(let i=0;i<t.length;i++){const r=t[i];r instanceof Jd?e(r.players,n):n.push(r)}}(e,t),t}((n.get(h)||bm).map(e=>e.getRealPlayer())).filter(e=>!!e.element&&e.element===h),f=r.get(h),g=s.get(h),_=np(0,this._normalizer,0,t.keyframes,f,g),y=this._buildPlayer(t,_,m);if(t.subTimeline&&i&&u.add(h),p){const t=new Tm(e,o,h);t.setRealPlayer(y),c.push(t)}return y});c.forEach(e=>{op(this.playersByQueriedElement,e.element,[]).push(e),e.onDone(()=>function(e,t,n){let i;if(e instanceof Map){if(i=e.get(t),i){if(i.length){const e=i.indexOf(n);i.splice(e,1)}0==i.length&&e.delete(t)}}else if(i=e[t],i){if(i.length){const e=i.indexOf(n);i.splice(e,1)}0==i.length&&delete e[t]}return i}(this.playersByQueriedElement,e.element,e))}),l.forEach(e=>Dm(e,"ng-animating"));const d=tp(h);return d.onDestroy(()=>{l.forEach(e=>Pm(e,"ng-animating")),Ip(a,t.toStyles)}),u.forEach(e=>{op(i,e,[]).push(d)}),d}_buildPlayer(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new Zd(e.duration,e.delay)}}class Tm{constructor(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n,this._player=new Zd,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(n=>ip(e,t,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){op(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Im(e){return e&&1===e.nodeType}function Rm(e,t){const n=e.style.display;return e.style.display=null!=t?t:"none",n}function Om(e,t,n,i,r){const s=[];n.forEach(e=>s.push(Rm(e)));const o=[];i.forEach((n,i)=>{const s={};n.forEach(e=>{const n=s[e]=t.computeStyle(i,e,r);n&&0!=n.length||(i.__ng_removed=Sm,o.push(i))}),e.set(i,s)});let a=0;return n.forEach(e=>Rm(e,s[a++])),o}function Am(e,t){const n=new Map;if(e.forEach(e=>n.set(e,[])),0==t.length)return n;const i=new Set(t),r=new Map;return t.forEach(e=>{const t=function e(t){if(!t)return 1;let s=r.get(t);if(s)return s;const o=t.parentNode;return s=n.has(o)?o:i.has(o)?1:e(o),r.set(t,s),s}(e);1!==t&&n.get(t).push(e)}),n}function Dm(e,t){if(e.classList)e.classList.add(t);else{let n=e.$$classes;n||(n=e.$$classes={}),n[t]=!0}}function Pm(e,t){if(e.classList)e.classList.remove(t);else{let n=e.$$classes;n&&delete n[t]}}function Mm(e,t,n){tp(n).onDone(()=>e.processLeaveNode(t))}function Nm(e,t,n){const i=n.get(e);if(!i)return!1;let r=t.get(e);return r?i.forEach(e=>r.add(e)):t.set(e,i),n.delete(e),!0}class Lm{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._triggerCache={},this.onRemovalComplete=(e,t)=>{},this._transitionEngine=new xm(e,t,n),this._timelineEngine=new vm(e,t,n),this._transitionEngine.onRemovalComplete=(e,t)=>this.onRemovalComplete(e,t)}registerTrigger(e,t,n,i,r){const s=e+"-"+i;let o=this._triggerCache[s];if(!o){const e=[],t=Hp(this._driver,r,e);if(e.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${e.join("\n - ")}`);o=function(e,t){return new gm(e,t)}(i,t),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(t,i,o)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,n,i){this._transitionEngine.insertNode(e,t,n,i)}onRemove(e,t,n,i){this._transitionEngine.removeNode(e,t,i||!1,n)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,n,i){if("@"==n.charAt(0)){const[e,r]=ap(n);this._timelineEngine.command(e,t,r,i)}else this._transitionEngine.trigger(e,t,n,i)}listen(e,t,n,i,r){if("@"==n.charAt(0)){const[e,i]=ap(n);return this._timelineEngine.listen(e,t,i,r)}return this._transitionEngine.listen(e,t,n,i,r)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Fm(e,t){let n=null,i=null;return Array.isArray(t)&&t.length?(n=Bm(t[0]),t.length>1&&(i=Bm(t[t.length-1]))):t&&(n=Bm(t)),n||i?new Um(e,n,i):null}let Um=(()=>{class e{constructor(t,n,i){this._element=t,this._startStyles=n,this._endStyles=i,this._state=0;let r=e.initialStylesByElement.get(t);r||e.initialStylesByElement.set(t,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Ip(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ip(this._element,this._initialStyles),this._endStyles&&(Ip(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(Rp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Rp(this._element,this._endStyles),this._endStyles=null),Ip(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function Bm(e){let t=null;const n=Object.keys(e);for(let i=0;i<n.length;i++){const r=n[i];jm(r)&&(t=t||{},t[r]=e[r])}return t}function jm(e){return"display"===e||"position"===e}class Vm{constructor(e,t,n,i,r,s,o){this._element=e,this._name=t,this._duration=n,this._delay=i,this._easing=r,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=e=>this._handleCallback(e)}apply(){!function(e,t){const n=zm(e,"").trim();n.length&&(function(e,t){let n=0;for(let i=0;i<e.length;i++)","===e.charAt(i)&&n++}(n),t=`${n}, ${t}`),Hm(e,"",t)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),$m(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Km(this._element,this._name,"paused")}resume(){Km(this._element,this._name,"running")}setPosition(e){const t=qm(this._element,this._name);this._position=e*this._duration,Hm(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),$m(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(e,t){const n=zm(e,"").split(","),i=Gm(n,t);i>=0&&(n.splice(i,1),Hm(e,"",n.join(",")))}(this._element,this._name))}}function Km(e,t,n){Hm(e,"PlayState",n,qm(e,t))}function qm(e,t){const n=zm(e,"");return n.indexOf(",")>0?Gm(n.split(","),t):Gm([n],t)}function Gm(e,t){for(let n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function $m(e,t,n){n?e.removeEventListener("animationend",t):e.addEventListener("animationend",t)}function Hm(e,t,n,i){const r="animation"+t;if(null!=i){const t=e.style[r];if(t.length){const e=t.split(",");e[i]=n,n=e.join(",")}}e.style[r]=n}function zm(e,t){return e.style["animation"+t]}class Wm{constructor(e,t,n,i,r,s,o,a){this.element=e,this.keyframes=t,this.animationName=n,this._duration=i,this._delay=r,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=i+r,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Vm(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(e[n]=t?this._finalStyles[n]:jp(this.element,n))})}this.currentSnapshot=e}}class Ym extends Zd{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=yp(t)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class Xm{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(e){return mp(e)}matchesElement(e,t){return fp(e,t)}containsElement(e,t){return gp(e,t)}query(e,t,n){return _p(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,n){n=n.map(e=>yp(e));let i=`@keyframes ${t} {\n`,r="";n.forEach(e=>{r=" ";const t=parseFloat(e.offset);i+=`${r}${100*t}% {\n`,r+=" ",Object.keys(e).forEach(t=>{const n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(i+=`${r}animation-timing-function: ${n};\n`));default:return void(i+=`${r}${t}: ${n};\n`)}}),i+=r+"}\n"}),i+="}\n";const s=document.createElement("style");return s.innerHTML=i,s}animate(e,t,n,i,r,s=[],o){o&&this._notifyFaultyScrubber();const a=s.filter(e=>e instanceof Wm),c={};Fp(n,i)&&a.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>c[e]=t[e])});const l=function(e){let t={};return e&&(Array.isArray(e)?e:[e]).forEach(e=>{Object.keys(e).forEach(n=>{"offset"!=n&&"easing"!=n&&(t[n]=e[n])})}),t}(t=Up(e,t,c));if(0==n)return new Ym(e,l);const u="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(e,u,t);document.querySelector("head").appendChild(h);const d=Fm(e,t),p=new Wm(e,t,u,n,i,r,l,d);return p.onDestroy(()=>{var e;(e=h).parentNode.removeChild(e)}),p}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class Qm{constructor(e,t,n,i){this.element=e,this.keyframes=t,this.options=n,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,n){return e.animate(t,n)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:jp(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class Zm{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Jm().toString()),this._cssKeyframesDriver=new Xm}validateStyleProperty(e){return mp(e)}matchesElement(e,t){return fp(e,t)}containsElement(e,t){return gp(e,t)}query(e,t,n){return _p(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,n,i,r,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,i,r,s);const a={duration:n,delay:i,fill:0==i?"both":"forwards"};r&&(a.easing=r);const c={},l=s.filter(e=>e instanceof Qm);Fp(n,i)&&l.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>c[e]=t[e])});const u=Fm(e,t=Up(e,t=t.map(e=>Cp(e,!1)),c));return new Qm(e,t,a,u)}}function Jm(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let ef=(()=>{class e extends Kd{constructor(e,t){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(t.body,{id:"0",encapsulation:ct.None,styles:[],data:{animation:[]}})}build(e){const t=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(e)?$d(e):e;return rf(this._renderer,null,t,"register",[n]),new tf(t,this._renderer)}}return e.\u0275fac=function(t){return new(t||e)(ze(Ha),ze(ou))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})();class tf extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new nf(this._id,e,t||{},this._renderer)}}class nf{constructor(e,t,n,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return rf(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(e){this._command("setPosition",e)}getPosition(){return 0}}function rf(e,t,n,i,r){return e.setProperty(t,`@@${n}:${i}`,r)}let sf=(()=>{class e{constructor(e,t,n){this.delegate=e,this.engine=t,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),t.onRemovalComplete=(e,t)=>{t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}createRenderer(e,t){const n=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){let e=this._rendererCache.get(n);return e||(e=new of("",n,this.engine),this._rendererCache.set(n,e)),e}const i=t.id,r=t.id+"-"+this._currentId;this._currentId++,this.engine.register(r,e);const s=t=>{Array.isArray(t)?t.forEach(s):this.engine.registerTrigger(i,r,e,t.name,t)};return t.data.animation.forEach(s),new af(this,r,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,n){e>=0&&e<this._microtaskId?this._zone.run(()=>t(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(e=>{const[t,n]=e;t(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([t,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return e.\u0275fac=function(t){return new(t||e)(ze(Ha),ze(Lm),ze(Rl))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})();class of{constructor(e,t,n){this.namespaceId=e,this.delegate=t,this.engine=n,this.destroyNode=this.delegate.destroyNode?e=>t.destroyNode(e):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,n){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,!0)}removeChild(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,i){this.delegate.setAttribute(e,t,n,i)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,i){this.delegate.setStyle(e,t,n,i)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){"@"==t.charAt(0)&&"@.disabled"==t?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n){return this.delegate.listen(e,t,n)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class af extends of{constructor(e,t,n,i){super(t,n,i),this.factory=e,this.namespaceId=t}setProperty(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&"@.disabled"==t?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}listen(e,t,n){if("@"==t.charAt(0)){const i=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e);let r=t.substr(1),s="";return"@"!=r.charAt(0)&&([r,s]=function(e){const t=e.indexOf(".");return[e.substring(0,t),e.substr(t+1)]}(r)),this.engine.listen(this.namespaceId,i,r,s,e=>{this.factory.scheduleListenerCallback(e._data||-1,n,e)})}return this.delegate.listen(e,t,n)}}let cf=(()=>{class e extends Lm{constructor(e,t,n){super(e.body,t,n)}}return e.\u0275fac=function(t){return new(t||e)(ze(ou),ze(bp),ze(lm))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})();const lf=new Fe("AnimationModuleType"),uf=[{provide:bp,useFactory:function(){return"function"==typeof Jm()?new Zm:new Xm}},{provide:lf,useValue:"BrowserAnimations"},{provide:Kd,useClass:ef},{provide:lm,useFactory:function(){return new um}},{provide:Lm,useClass:cf},{provide:Ha,useFactory:function(e,t,n){return new sf(e,t,n)},deps:[uh,Lm,Rl]}];let hf=(()=>{class e{}return e.\u0275mod=gt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:uf,imports:[kh]}),e})();function df(e,t){if(1&e&&Fo(0,"mat-pseudo-checkbox",3),2&e){const e=Wo();Po("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}const pf=["*"],mf=new Qa("10.1.3"),ff=new Fe("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let gf,_f=(()=>{class e{constructor(e,t,n){this._hasDoneGlobalChecks=!1,this._document=n,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=t,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getDocument(){const e=this._document||document;return"object"==typeof e&&e?e:null}_getWindow(){const e=this._getDocument(),t=(null==e?void 0:e.defaultView)||window;return"object"==typeof t&&t?t:null}_checksAreEnabled(){return Ai()&&!this._isTestEnv()}_isTestEnv(){const e=this._getWindow();return e&&(e.__karma__||e.jasmine)}_checkDoctypeIsDefined(){const e=this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype),t=this._getDocument();e&&t&&!t.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){const e=!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme,t=this._getDocument();if(e||!t||!t.body||"function"!=typeof getComputedStyle)return;const n=t.createElement("div");n.classList.add("mat-theme-loaded-marker"),t.body.appendChild(n);const i=getComputedStyle(n);i&&"none"!==i.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),t.body.removeChild(n)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&mf.full!==Ud.full&&console.warn("The Angular Material version ("+mf.full+") does not match the Angular CDK version ("+Ud.full+").\nPlease ensure the versions of these two packages exactly match.")}}return e.\u0275mod=gt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)(ze(Pd),ze(ff,8),ze(ou,8))},imports:[[Fd],Fd]}),e})();function yf(e){return class extends e{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=Ch(e)}}}function vf(e,t){return class extends e{constructor(...e){super(...e),this.color=t}get color(){return this._color}set color(e){const n=e||t;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-"+this._color),n&&this._elementRef.nativeElement.classList.add("mat-"+n),this._color=n)}}}function bf(e){return class extends e{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Ch(e)}}}function wf(e,t=0){return class extends e{constructor(...e){super(...e),this._tabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?xh(e):t}}}function Sf(e){return class extends e{constructor(...e){super(...e),this.errorState=!1,this.stateChanges=new E}updateErrorState(){const e=this.errorState,t=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);t!==e&&(this.errorState=t,this.stateChanges.next())}}}try{gf="undefined"!=typeof Intl}catch(CL){gf=!1}let Ef=(()=>{class e{isErrorState(e,t){return!!(e&&e.invalid&&(e.touched||t&&t.submitted))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=le({factory:function(){return new e},token:e,providedIn:"root"}),e})(),kf=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=yt({type:e,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),e})();function Cf(e,t,n){const i=e.nativeElement.classList;n?i.add(t):i.remove(t)}let xf=(()=>{class e{}return e.\u0275mod=gt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[_f],_f]}),e})();class Tf{constructor(e,t,n){this._renderer=e,this.element=t,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const If={enterDuration:450,exitDuration:400},Rf=Zh({passive:!0}),Of=["mousedown","touchstart"],Af=["mouseup","mouseleave","touchend","touchcancel"];class Df{constructor(e,t,n,i){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Rh(n))}fadeInRipple(e,t,n={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),r=Object.assign(Object.assign({},If),n.animation);n.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const s=n.radius||function(e,t,n){const i=Math.max(Math.abs(e-n.left),Math.abs(e-n.right)),r=Math.max(Math.abs(t-n.top),Math.abs(t-n.bottom));return Math.sqrt(i*i+r*r)}(e,t,i),o=e-i.left,a=t-i.top,c=r.enterDuration,l=document.createElement("div");l.classList.add("mat-ripple-element"),l.style.left=o-s+"px",l.style.top=a-s+"px",l.style.height=2*s+"px",l.style.width=2*s+"px",null!=n.color&&(l.style.backgroundColor=n.color),l.style.transitionDuration=c+"ms",this._containerElement.appendChild(l),window.getComputedStyle(l).getPropertyValue("opacity"),l.style.transform="scale(1)";const u=new Tf(this,l,n);return u.state=0,this._activeRipples.add(u),n.persistent||(this._mostRecentTransientRipple=u),this._runTimeoutOutsideZone(()=>{const e=u===this._mostRecentTransientRipple;u.state=1,n.persistent||e&&this._isPointerDown||u.fadeOut()},c),u}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const n=e.element,i=Object.assign(Object.assign({},If),e.config.animation);n.style.transitionDuration=i.exitDuration+"ms",n.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,n.parentNode.removeChild(n)},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}setupTriggerEvents(e){const t=Rh(e);t&&t!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(Of))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Af),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=Td(e),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||t||n||(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let e=0;e<t.length;e++)this.fadeInRipple(t[e].clientX,t[e].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(e=>{this._triggerElement.addEventListener(e,this,Rf)})})}_removeTriggerEvents(){this._triggerElement&&(Of.forEach(e=>{this._triggerElement.removeEventListener(e,this,Rf)}),this._pointerUpEventsRegistered&&Af.forEach(e=>{this._triggerElement.removeEventListener(e,this,Rf)}))}}const Pf=new Fe("mat-ripple-global-options");let Mf=(()=>{class e{constructor(e,t,n,i,r){this._elementRef=e,this._animationMode=r,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=i||{},this._rippleRenderer=new Df(this,t,e,n)}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,t=0,n){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,t,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return e.\u0275fac=function(t){return new(t||e)(Ao(Ga),Ao(Rl),Ao($h),Ao(Pf,8),Ao(lf,8))},e.\u0275dir=yt({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,t){2&e&&oa("mat-ripple-unbounded",t.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),e})(),Nf=(()=>{class e{}return e.\u0275mod=gt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[_f,Hh],_f]}),e})(),Lf=(()=>{class e{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return e.\u0275fac=function(t){return new(t||e)(Ao(lf,8))},e.\u0275cmp=dt({type:e,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,t){2&e&&oa("mat-pseudo-checkbox-indeterminate","indeterminate"===t.state)("mat-pseudo-checkbox-checked","checked"===t.state)("mat-pseudo-checkbox-disabled",t.disabled)("_mat-animation-noopable","NoopAnimations"===t._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,t){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),e})(),Ff=(()=>{class e{}return e.\u0275mod=gt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)}}),e})();class Uf{}const Bf=yf(Uf);let jf=0,Vf=(()=>{class e extends Bf{constructor(){super(...arguments),this._labelId="mat-optgroup-label-"+jf++}}return e.\u0275fac=function(t){return Kf(t||e)},e.\u0275dir=yt({type:e,inputs:{label:"label"},features:[Ia]}),e})();const Kf=fi(Vf),qf=new Fe("MatOptgroup");let Gf=0;class $f{constructor(e,t=!1){this.source=e,this.isUserInput=t}}const Hf=new Fe("MAT_OPTION_PARENT_COMPONENT");let zf=(()=>{class e{constructor(e,t,n,i){this._element=e,this._changeDetectorRef=t,this._parent=n,this.group=i,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Gf++,this.onSelectionChange=new jc,this._stateChanges=new E}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=Ch(e)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,t){const n=this._getHostElement();"function"==typeof n.focus&&n.focus(t)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){13!==e.keyCode&&32!==e.keyCode||nd(e)||(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new $f(this,e))}}return e.\u0275fac=function(t){return new(t||e)(Ao(Ga),Ao(Zs),Ao(void 0),Ao(Vf))},e.\u0275dir=yt({type:e,inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"}}),e})(),Wf=(()=>{class e extends zf{constructor(e,t,n,i){super(e,t,n,i)}}return e.\u0275fac=function(t){return new(t||e)(Ao(Ga),Ao(Zs),Ao(Hf,8),Ao(qf,8))},e.\u0275cmp=dt({type:e,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,t){1&e&&qo("click",(function(){return t._selectViaInteraction()}))("keydown",(function(e){return t._handleKeydown(e)})),2&e&&(Ca("id",t.id),To("tabindex",t._getTabIndex())("aria-selected",t._getAriaSelected())("aria-disabled",t.disabled.toString()),oa("mat-selected",t.selected)("mat-option-multiple",t.multiple)("mat-active",t.active)("mat-option-disabled",t.disabled))},exportAs:["matOption"],features:[Ia],ngContentSelectors:pf,decls:4,vars:3,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"]],template:function(e,t){1&e&&(Xo(),Ro(0,df,1,2,"mat-pseudo-checkbox",0),No(1,"span",1),Qo(2),Lo(),Fo(3,"div",2)),2&e&&(Po("ngIf",t.multiple),kr(3),Po("matRippleTrigger",t._getHostElement())("matRippleDisabled",t.disabled||t.disableRipple))},directives:[Au,Mf,Lf],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.cdk-high-contrast-active .mat-option .mat-option-ripple{opacity:.5}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),e})();function Yf(e,t,n){if(n.length){let i=t.toArray(),r=n.toArray(),s=0;for(let t=0;t<e+1;t++)i[t].group&&i[t].group===r[s]&&s++;return s}return 0}let Xf=(()=>{class e{}return e.\u0275mod=gt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[Nf,$u,Ff]]}),e})();const Qf=new Fe("mat-label-global-options");function Zf(e,t,n,r){return i(n)&&(r=n,n=void 0),r?Zf(e,t,n).pipe(N(e=>c(e)?r(...e):r(e))):new y(i=>{!function e(t,n,i,r,s){let o;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){const e=t;t.addEventListener(n,i,s),o=()=>e.removeEventListener(n,i,s)}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){const e=t;t.on(n,i),o=()=>e.off(n,i)}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){const e=t;t.addListener(n,i),o=()=>e.removeListener(n,i)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let o=0,a=t.length;o<a;o++)e(t[o],n,i,r,s)}r.add(o)}(e,t,(function(e){i.next(arguments.length>1?Array.prototype.slice.call(arguments):e)}),i,n)})}function Jf(e){return t=>t.lift(new eg(e))}class eg{constructor(e){this.notifier=e}call(e,t){const n=new tg(e),i=P(n,this.notifier);return i&&!n.seenValue?(n.add(i),t.subscribe(n)):n}}class tg extends M{constructor(e){super(e),this.seenValue=!1}notifyNext(e,t,n,i,r){this.seenValue=!0,this.complete()}notifyComplete(){}}const ng=["underline"],ig=["connectionContainer"],rg=["inputContainer"],sg=["label"];function og(e,t){1&e&&(Uo(0),No(1,"div",14),Fo(2,"div",15),Fo(3,"div",16),Fo(4,"div",17),Lo(),No(5,"div",18),Fo(6,"div",15),Fo(7,"div",16),Fo(8,"div",17),Lo(),Bo())}function ag(e,t){1&e&&(No(0,"div",19),Qo(1,1),Lo())}function cg(e,t){if(1&e&&(Uo(0),Qo(1,2),No(2,"span"),ya(3),Lo(),Bo()),2&e){const e=Wo(2);kr(3),va(e._control.placeholder)}}function lg(e,t){1&e&&Qo(0,3,["*ngSwitchCase","true"])}function ug(e,t){1&e&&(No(0,"span",23),ya(1," *"),Lo())}function hg(e,t){if(1&e){const e=jo();No(0,"label",20,21),qo("cdkObserveContent",(function(){return nn(e),Wo().updateOutlineGap()})),Ro(2,cg,4,1,"ng-container",12),Ro(3,lg,1,0,"ng-content",12),Ro(4,ug,2,0,"span",22),Lo()}if(2&e){const e=Wo();oa("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),Po("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),To("for",e._control.id)("aria-owns",e._control.id),kr(2),Po("ngSwitchCase",!1),kr(1),Po("ngSwitchCase",!0),kr(1),Po("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function dg(e,t){1&e&&(No(0,"div",24),Qo(1,4),Lo())}function pg(e,t){if(1&e&&(No(0,"div",25,26),Fo(2,"span",27),Lo()),2&e){const e=Wo();kr(2),oa("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function mg(e,t){1&e&&(No(0,"div"),Qo(1,5),Lo()),2&e&&Po("@transitionMessages",Wo()._subscriptAnimationState)}function fg(e,t){if(1&e&&(No(0,"div",31),ya(1),Lo()),2&e){const e=Wo(2);Po("id",e._hintLabelId),kr(1),va(e.hintLabel)}}function gg(e,t){if(1&e&&(No(0,"div",28),Ro(1,fg,2,2,"div",29),Qo(2,6),Fo(3,"div",30),Qo(4,7),Lo()),2&e){const e=Wo();Po("@transitionMessages",e._subscriptAnimationState),kr(1),Po("ngIf",e.hintLabel)}}const _g=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],yg=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let vg=0;const bg=new Fe("MatError");let wg=(()=>{class e{constructor(){this.id="mat-error-"+vg++}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=yt({type:e,selectors:[["mat-error"]],hostAttrs:["role","alert",1,"mat-error"],hostVars:1,hostBindings:function(e,t){2&e&&To("id",t.id)},inputs:{id:"id"},features:[ja([{provide:bg,useExisting:e}])]}),e})();const Sg={transitionMessages:qd("transitionMessages",[zd("enter",Hd({opacity:1,transform:"translateY(0%)"})),Wd("void => enter",[Hd({opacity:0,transform:"translateY(-100%)"}),Gd("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Eg=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=yt({type:e}),e})();function kg(e){return Error(`A hint was already declared for 'align="${e}"'.`)}const Cg=new Fe("MatHint");let xg=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=yt({type:e,selectors:[["mat-label"]]}),e})(),Tg=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=yt({type:e,selectors:[["mat-placeholder"]]}),e})();const Ig=new Fe("MatPrefix"),Rg=new Fe("MatSuffix");let Og=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=yt({type:e,selectors:[["","matSuffix",""]],features:[ja([{provide:Rg,useExisting:e}])]}),e})(),Ag=0;class Dg{constructor(e){this._elementRef=e}}const Pg=vf(Dg,"primary"),Mg=new Fe("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Ng=new Fe("MatFormField");let Lg=(()=>{class e extends Pg{constructor(e,t,n,i,r,s,o,a){super(e),this._elementRef=e,this._changeDetectorRef=t,this._dir=i,this._defaults=r,this._platform=s,this._ngZone=o,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new E,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+Ag++,this._labelId="mat-form-field-label-"+Ag++,this._labelOptions=n||{},this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==a,this.appearance=r&&r.appearance?r.appearance:"legacy",this._hideRequiredMarker=!(!r||null==r.hideRequiredMarker)&&r.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const t=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&t!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Ch(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add("mat-form-field-type-"+e.controlType),e.stateChanges.pipe(Vd(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Jf(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.asObservable().pipe(Jf(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),$(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Vd(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Vd(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Jf(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const t=this._control?this._control.ngControl:null;return t&&t[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Zf(this._label.nativeElement,"transitionend").pipe(pd(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){if(this._control.placeholder&&this._placeholderChild)throw Error("Placeholder attribute and child element were both specified.")}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){if(this._hintChildren){let e,t;this._hintChildren.forEach(n=>{if("start"===n.align){if(e||this.hintLabel)throw kg("start");e=n}else if("end"===n.align){if(t)throw kg("end");t=n}})}}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||this._labelOptions.float||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if("hint"===this._getDisplayedMessages()){const t=this._hintChildren?this._hintChildren.find(e=>"start"===e.align):null,n=this._hintChildren?this._hintChildren.find(e=>"end"===e.align):null;t?e.push(t.id):this._hintLabel&&e.push(this._hintLabelId),n&&e.push(n.id)}else this._errorChildren&&(e=this._errorChildren.map(e=>e.id));this._control.setDescribedByIds(e)}}_validateControlChild(){if(!this._control)throw Error("mat-form-field must contain a MatFormFieldControl.")}updateOutlineGap(){const e=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!e||!e.children.length||!e.textContent.trim())return;if(!this._platform.isBrowser)return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let t=0,n=0;const i=this._connectionContainerRef.nativeElement,r=i.querySelectorAll(".mat-form-field-outline-start"),s=i.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const r=i.getBoundingClientRect();if(0===r.width&&0===r.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const s=this._getStartEnd(r),o=e.children,a=this._getStartEnd(o[0].getBoundingClientRect());let c=0;for(let e=0;e<o.length;e++)c+=o[e].offsetWidth;t=Math.abs(a-s)-5,n=c>0?.75*c+10:0}for(let o=0;o<r.length;o++)r[o].style.width=t+"px";for(let o=0;o<s.length;o++)s[o].style.width=n+"px";this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const t=e.getRootNode();return t&&t!==e}return document.documentElement.contains(e)}}return e.\u0275fac=function(t){return new(t||e)(Ao(Ga),Ao(Zs),Ao(Qf,8),Ao(Ld,8),Ao(Mg,8),Ao($h),Ao(Rl),Ao(lf,8))},e.\u0275cmp=dt({type:e,selectors:[["mat-form-field"]],contentQueries:function(e,t,n){var i;1&e&&(tl(n,Eg,!0),nl(n,Eg,!0),tl(n,xg,!0),nl(n,xg,!0),tl(n,Tg,!0),tl(n,bg,!0),tl(n,Cg,!0),tl(n,Ig,!0),tl(n,Rg,!0)),2&e&&(Qc(i=rl())&&(t._controlNonStatic=i.first),Qc(i=rl())&&(t._controlStatic=i.first),Qc(i=rl())&&(t._labelChildNonStatic=i.first),Qc(i=rl())&&(t._labelChildStatic=i.first),Qc(i=rl())&&(t._placeholderChild=i.first),Qc(i=rl())&&(t._errorChildren=i),Qc(i=rl())&&(t._hintChildren=i),Qc(i=rl())&&(t._prefixChildren=i),Qc(i=rl())&&(t._suffixChildren=i))},viewQuery:function(e,t){var n;1&e&&(Jc(ng,!0),Zc(ig,!0),Jc(rg,!0),Jc(sg,!0)),2&e&&(Qc(n=rl())&&(t.underlineRef=n.first),Qc(n=rl())&&(t._connectionContainerRef=n.first),Qc(n=rl())&&(t._inputContainerRef=n.first),Qc(n=rl())&&(t._label=n.first))},hostAttrs:[1,"mat-form-field"],hostVars:44,hostBindings:function(e,t){2&e&&oa("mat-form-field-appearance-standard","standard"==t.appearance)("mat-form-field-appearance-fill","fill"==t.appearance)("mat-form-field-appearance-outline","outline"==t.appearance)("mat-form-field-appearance-legacy","legacy"==t.appearance)("mat-form-field-invalid",t._control.errorState)("mat-form-field-can-float",t._canLabelFloat())("mat-form-field-should-float",t._shouldLabelFloat())("mat-form-field-has-label",t._hasFloatingLabel())("mat-form-field-hide-placeholder",t._hideControlPlaceholder())("mat-form-field-disabled",t._control.disabled)("mat-form-field-autofilled",t._control.autofilled)("mat-focused",t._control.focused)("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)("ng-untouched",t._shouldForward("untouched"))("ng-touched",t._shouldForward("touched"))("ng-pristine",t._shouldForward("pristine"))("ng-dirty",t._shouldForward("dirty"))("ng-valid",t._shouldForward("valid"))("ng-invalid",t._shouldForward("invalid"))("ng-pending",t._shouldForward("pending"))("_mat-animation-noopable",!t._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[ja([{provide:Ng,useExisting:e}]),Ia],ngContentSelectors:yg,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,t){1&e&&(Xo(_g),No(0,"div",0),No(1,"div",1,2),qo("click",(function(e){return t._control.onContainerClick&&t._control.onContainerClick(e)})),Ro(3,og,9,0,"ng-container",3),Ro(4,ag,2,0,"div",4),No(5,"div",5,6),Qo(7),No(8,"span",7),Ro(9,hg,5,16,"label",8),Lo(),Lo(),Ro(10,dg,2,0,"div",9),Lo(),Ro(11,pg,3,4,"div",10),No(12,"div",11),Ro(13,mg,2,1,"div",12),Ro(14,gg,5,2,"div",13),Lo(),Lo()),2&e&&(kr(3),Po("ngIf","outline"==t.appearance),kr(1),Po("ngIf",t._prefixChildren.length),kr(5),Po("ngIf",t._hasFloatingLabel()),kr(1),Po("ngIf",t._suffixChildren.length),kr(1),Po("ngIf","outline"!=t.appearance),kr(1),Po("ngSwitch",t._getDisplayedMessages()),kr(1),Po("ngSwitchCase","error"),kr(1),Po("ngSwitchCase","hint"))},directives:[Au,Nu,Lu,Kh],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[Sg.transitionMessages]},changeDetection:0}),e})(),Fg=(()=>{class e{}return e.\u0275mod=gt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[$u,_f,qh],_f]}),e})();class Ug{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new Bg(e,this.durationSelector))}}class Bg extends M{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){if(this.value=e,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:t}=this;n=t(e)}catch(t){return this.destination.error(t)}const i=P(this,n);!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:e,hasValue:t,throttled:n}=this;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),t&&(this.value=null,this.hasValue=!1,this.destination.next(e))}notifyNext(e,t,n,i){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function jg(e){return!c(e)&&e-parseFloat(e)+1>=0}function Vg(e=0,t,n){let i=-1;return jg(t)?i=Number(t)<1?1:Number(t):C(t)&&(n=t),C(n)||(n=Mh),new y(t=>{const r=jg(e)?e:+e-n.now();return n.schedule(Kg,r,{index:0,period:i,subscriber:t})})}function Kg(e){const{index:t,period:n,subscriber:i}=e;if(i.next(t),!i.closed){if(-1===n)return i.complete();e.index=t+1,this.schedule(e,n)}}function qg(e,t=Mh){return n=()=>Vg(e,t),function(e){return e.lift(new Ug(n))};var n}const Gg=Zh({passive:!0});let $g=(()=>{class e{constructor(e,t){this._platform=e,this._ngZone=t,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return hd;const t=Rh(e),n=this._monitoredElements.get(t);if(n)return n.subject.asObservable();const i=new E,r="cdk-text-field-autofilled",s=e=>{"cdk-text-field-autofill-start"!==e.animationName||t.classList.contains(r)?"cdk-text-field-autofill-end"===e.animationName&&t.classList.contains(r)&&(t.classList.remove(r),this._ngZone.run(()=>i.next({target:e.target,isAutofilled:!1}))):(t.classList.add(r),this._ngZone.run(()=>i.next({target:e.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{t.addEventListener("animationstart",s,Gg),t.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(t,{subject:i,unlisten:()=>{t.removeEventListener("animationstart",s,Gg)}}),i.asObservable()}stopMonitoring(e){const t=Rh(e),n=this._monitoredElements.get(t);n&&(n.unlisten(),n.subject.complete(),t.classList.remove("cdk-text-field-autofill-monitored"),t.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(t))}ngOnDestroy(){this._monitoredElements.forEach((e,t)=>this.stopMonitoring(t))}}return e.\u0275fac=function(t){return new(t||e)(ze($h),ze(Rl))},e.\u0275prov=le({factory:function(){return new e(ze($h),ze(Rl))},token:e,providedIn:"root"}),e})(),Hg=(()=>{class e{}return e.\u0275mod=gt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[Hh]]}),e})();function zg(...e){if(1===e.length){const t=e[0];if(c(t))return Wg(t,null);if(l(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return Wg(e.map(e=>t[e]),e)}}if("function"==typeof e[e.length-1]){const t=e.pop();return Wg(e=1===e.length&&c(e[0])?e[0]:e,null).pipe(N(e=>t(...e)))}return Wg(e,null)}function Wg(e,t){return new y(n=>{const i=e.length;if(0===i)return void n.complete();const r=new Array(i);let s=0,o=0;for(let a=0;a<i;a++){const c=B(e[a]);let l=!1;n.add(c.subscribe({next:e=>{l||(l=!0,o++),r[a]=e},error:e=>n.error(e),complete:()=>{s++,s!==i&&l||(o===i&&n.next(t?t.reduce((e,t,n)=>(e[t]=r[n],e),{}):r),n.complete())}}))}})}const Yg=new Fe("NgValueAccessor"),Xg={provide:Yg,useExisting:Se(()=>Qg),multi:!0};let Qg=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(Ao(Wa),Ao(Ga))},e.\u0275dir=yt({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,t){1&e&&qo("change",(function(e){return t.onChange(e.target.checked)}))("blur",(function(){return t.onTouched()}))},features:[ja([Xg])]}),e})();const Zg={provide:Yg,useExisting:Se(()=>e_),multi:!0},Jg=new Fe("CompositionEventMode");let e_=(()=>{class e{constructor(e,t,n){this._renderer=e,this._elementRef=t,this._compositionMode=n,this.onChange=e=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=su()?su().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return e.\u0275fac=function(t){return new(t||e)(Ao(Wa),Ao(Ga),Ao(Jg,8))},e.\u0275dir=yt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&qo("input",(function(e){return t._handleInput(e.target.value)}))("blur",(function(){return t.onTouched()}))("compositionstart",(function(){return t._compositionStart()}))("compositionend",(function(e){return t._compositionEnd(e.target.value)}))},features:[ja([Zg])]}),e})(),t_=(()=>{class e{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=yt({type:e}),e})(),n_=(()=>{class e extends t_{get formDirective(){return null}get path(){return null}}return e.\u0275fac=function(t){return i_(t||e)},e.\u0275dir=yt({type:e,features:[Ia]}),e})();const i_=fi(n_);function r_(){throw new Error("unimplemented")}class s_ extends t_{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return r_()}get asyncValidator(){return r_()}}let o_=(()=>{class e extends class{constructor(e){this._cd=e}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(Ao(s_,2))},e.\u0275dir=yt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&oa("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[Ia]}),e})();function a_(e){return null==e||0===e.length}function c_(e){return null!=e&&"number"==typeof e.length}const l_=new Fe("NgValidators"),u_=new Fe("NgAsyncValidators"),h_=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class d_{static min(e){return t=>{if(a_(t.value)||a_(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}static max(e){return t=>{if(a_(t.value)||a_(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}static required(e){return a_(e.value)?{required:!0}:null}static requiredTrue(e){return!0===e.value?null:{required:!0}}static email(e){return a_(e.value)||h_.test(e.value)?null:{email:!0}}static minLength(e){return t=>a_(t.value)||!c_(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}static maxLength(e){return t=>c_(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}static pattern(e){if(!e)return d_.nullValidator;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),e=>{if(a_(e.value))return null;const i=e.value;return t.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}static nullValidator(e){return null}static compose(e){if(!e)return null;const t=e.filter(p_);return 0==t.length?null:function(e){return f_(g_(e,t))}}static composeAsync(e){if(!e)return null;const t=e.filter(p_);return 0==t.length?null:function(e){return zg(g_(e,t).map(m_)).pipe(N(f_))}}}function p_(e){return null!=e}function m_(e){const t=Vo(e)?B(e):e;if(!Ko(t))throw new Error("Expected validator to return Promise or Observable.");return t}function f_(e){let t={};return e.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function g_(e,t){return t.map(t=>t(e))}function __(e){return e.map(e=>function(e){return!e.validate}(e)?e:t=>e.validate(t))}const y_={provide:Yg,useExisting:Se(()=>v_),multi:!0};let v_=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(Ao(Wa),Ao(Ga))},e.\u0275dir=yt({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&qo("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[ja([y_])]}),e})();const b_={provide:Yg,useExisting:Se(()=>S_),multi:!0};let w_=(()=>{class e{constructor(){this._accessors=[]}add(e,t){this._accessors.push([e,t])}remove(e){for(let t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}select(e){this._accessors.forEach(t=>{this._isSameGroup(t,e)&&t[1]!==e&&t[1].fireUncheck(e.value)})}_isSameGroup(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})(),S_=(()=>{class e{constructor(e,t,n,i){this._renderer=e,this._elementRef=t,this._registry=n,this._injector=i,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(s_),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}fireUncheck(e){this.writeValue(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}return e.\u0275fac=function(t){return new(t||e)(Ao(Wa),Ao(Ga),Ao(w_),Ao(go))},e.\u0275dir=yt({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,t){1&e&&qo("change",(function(){return t.onChange()}))("blur",(function(){return t.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[ja([b_])]}),e})();const E_={provide:Yg,useExisting:Se(()=>k_),multi:!0};let k_=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(Ao(Wa),Ao(Ga))},e.\u0275dir=yt({type:e,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(e,t){1&e&&qo("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[ja([E_])]}),e})();const C_='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',x_='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',T_='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>';class I_{static controlParentException(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+C_)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${x_}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${T_}`)}static missingFormException(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+C_)}static groupParentException(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+x_)}static arrayParentException(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n\n      Example:\n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(e){console.warn(`\n    It looks like you're using ngModel on the same form field as ${e}.\n    Support for using the ngModel input property and ngModelChange event with\n    reactive form directives has been deprecated in Angular v6 and will be removed\n    in a future version of Angular.\n\n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===e?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}const R_={provide:Yg,useExisting:Se(()=>O_),multi:!0};let O_=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e}writeValue(e){this.value=e;const t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(e,t){return null==e?""+t:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(e){this.onChange=t=>{this.value=this._getOptionValue(t),e(this.value)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t),e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}}return e.\u0275fac=function(t){return new(t||e)(Ao(Wa),Ao(Ga))},e.\u0275dir=yt({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,t){1&e&&qo("change",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[ja([R_])]}),e})();const A_={provide:Yg,useExisting:Se(()=>D_),multi:!0};let D_=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e}writeValue(e){let t;if(this.value=e,Array.isArray(e)){const n=e.map(e=>this._getOptionId(e));t=(e,t)=>{e._setSelected(n.indexOf(t.toString())>-1)}}else t=(e,t)=>{e._setSelected(!1)};this._optionMap.forEach(t)}registerOnChange(e){this.onChange=t=>{const n=[];if(void 0!==t.selectedOptions){const e=t.selectedOptions;for(let t=0;t<e.length;t++){const i=e.item(t),r=this._getOptionValue(i.value);n.push(r)}}else{const e=t.options;for(let t=0;t<e.length;t++){const i=e.item(t);if(i.selected){const e=this._getOptionValue(i.value);n.push(e)}}}this.value=n,e(n)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(e){const t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t)._value,e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}}return e.\u0275fac=function(t){return new(t||e)(Ao(Wa),Ao(Ga))},e.\u0275dir=yt({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,t){1&e&&qo("change",(function(e){return t.onChange(e.target)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[ja([A_])]}),e})();function P_(e,t){return[...t.path,e]}function M_(e,t){e||U_(t,"Cannot find control with"),t.valueAccessor||U_(t,"No value accessor for form control with"),e.validator=d_.compose([e.validator,t.validator]),e.asyncValidator=d_.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&N_(e,t)})}(e,t),function(e,t){e.registerOnChange((e,n)=>{t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&N_(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange(e=>{t.valueAccessor.setDisabledState(e)}),t._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())}),t._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())})}function N_(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function L_(e,t){null==e&&U_(t,"Cannot find control with"),e.validator=d_.compose([e.validator,t.validator]),e.asyncValidator=d_.composeAsync([e.asyncValidator,t.asyncValidator])}function F_(e){return U_(e,"There is no FormControl instance attached to form control element with")}function U_(e,t){let n;throw n=e.path.length>1?`path: '${e.path.join(" -> ")}'`:e.path[0]?`name: '${e.path}'`:"unspecified name attribute",new Error(`${t} ${n}`)}function B_(e){return null!=e?d_.compose(__(e)):null}function j_(e){return null!=e?d_.composeAsync(__(e)):null}function V_(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}const K_=[Qg,k_,v_,O_,D_,S_];function q_(e,t){e._syncPendingControls(),t.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function G_(e,t){if(!t)return null;Array.isArray(t)||U_(e,"Value accessor was not provided as an array for form control with");let n=void 0,i=void 0,r=void 0;return t.forEach(t=>{var s;t.constructor===e_?n=t:(s=t,K_.some(e=>s.constructor===e)?(i&&U_(e,"More than one built-in value accessor matches form control with"),i=t):(r&&U_(e,"More than one custom value accessor matches form control with"),r=t))}),r||i||n||(U_(e,"No valid value accessor for form control with"),null)}function $_(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function H_(e){const t=W_(e)?e.validators:e;return Array.isArray(t)?B_(t):t||null}function z_(e,t){const n=W_(t)?t.asyncValidators:e;return Array.isArray(n)?j_(n):n||null}function W_(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class Y_{constructor(e,t){this.validator=e,this.asyncValidator=t,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this.validator=H_(e)}setAsyncValidators(e){this.asyncValidator=z_(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(t=>{t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild(t=>{t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status="PENDING";const t=m_(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>this.setErrors(t,{emitEvent:e}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;let i=e;return t.forEach(e=>{i=i instanceof Q_?i.controls.hasOwnProperty(e)?i.controls[e]:null:i instanceof Z_&&i.at(e)||null}),i}(this,e)}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new jc,this.statusChanges=new jc}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){W_(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class X_ extends Y_{constructor(e=null,t,n){super(H_(t),z_(n,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Q_ extends Y_{constructor(e,t,n){super(H_(t),z_(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e={},t={}){this._forEachChild((n,i)=>{n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t instanceof X_?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>e(this.controls[t],t))}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const n=this.controls[t];if(this.contains(t)&&e(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(e,t){let n=e;return this._forEachChild((e,i)=>{n=t(n,e,i)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Z_ extends Y_{constructor(e,t,n){super(H_(t),z_(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(e){return this.controls[e]}push(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}insert(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}removeAt(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e.forEach((e,n)=>{this.at(n)&&this.at(n).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e=[],t={}){this._forEachChild((n,i)=>{n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof X_?e.value:e.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index "+e)}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const J_={provide:n_,useExisting:Se(()=>ty)},ey=(()=>Promise.resolve(null))();let ty=(()=>{class e extends n_{constructor(e,t){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new jc,this.form=new Q_({},B_(e),j_(t))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){ey.then(()=>{const t=this._findContainer(e.path);e.control=t.registerControl(e.name,e.control),M_(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){ey.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name),$_(this._directives,e)})}addFormGroup(e){ey.then(()=>{const t=this._findContainer(e.path),n=new Q_({});L_(n,e),t.registerControl(e.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){ey.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,t){ey.then(()=>{this.form.get(e.path).setValue(t)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,q_(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return e.\u0275fac=function(t){return new(t||e)(Ao(l_,10),Ao(u_,10))},e.\u0275dir=yt({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,t){1&e&&qo("submit",(function(e){return t.onSubmit(e)}))("reset",(function(){return t.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ja([J_]),Ia]}),e})(),ny=(()=>{class e extends n_{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return P_(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return B_(this._validators)}get asyncValidator(){return j_(this._asyncValidators)}_checkParentType(){}}return e.\u0275fac=function(t){return iy(t||e)},e.\u0275dir=yt({type:e,features:[Ia]}),e})();const iy=fi(ny);class ry{static modelParentException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive "formControlName" instead.  Example:\n\n      ${C_}\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  `)}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${x_}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${T_}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${x_}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${T_}`)}}const sy={provide:n_,useExisting:Se(()=>oy)};let oy=(()=>{class e extends ny{constructor(e,t,n){super(),this._parent=e,this._validators=t,this._asyncValidators=n}_checkParentType(){this._parent instanceof e||this._parent instanceof ty||ry.modelGroupParentException()}}return e.\u0275fac=function(t){return new(t||e)(Ao(n_,5),Ao(l_,10),Ao(u_,10))},e.\u0275dir=yt({type:e,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[ja([sy]),Ia]}),e})();const ay={provide:s_,useExisting:Se(()=>ly)},cy=(()=>Promise.resolve(null))();let ly=(()=>{class e extends s_{constructor(e,t,n,i){super(),this.control=new X_,this._registered=!1,this.update=new jc,this._parent=e,this._rawValidators=t||[],this._rawAsyncValidators=n||[],this.valueAccessor=G_(this,i)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),V_(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?P_(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return B_(this._rawValidators)}get asyncValidator(){return j_(this._rawAsyncValidators)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){M_(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof oy)&&this._parent instanceof ny?ry.formGroupNameException():this._parent instanceof oy||this._parent instanceof ty||ry.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||ry.missingNameException()}_updateValue(e){cy.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const t=e.isDisabled.currentValue,n=""===t||t&&"false"!==t;cy.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return e.\u0275fac=function(t){return new(t||e)(Ao(n_,9),Ao(l_,10),Ao(u_,10),Ao(Yg,10))},e.\u0275dir=yt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ja([ay]),Ia,At]}),e})();const uy=new Fe("NgModelWithFormControlWarning"),hy={provide:s_,useExisting:Se(()=>dy)};let dy=(()=>{class e extends s_{constructor(e,t,n,i){super(),this._ngModelWarningConfig=i,this.update=new jc,this._ngModelWarningSent=!1,this._rawValidators=e||[],this._rawAsyncValidators=t||[],this.valueAccessor=G_(this,n)}set isDisabled(e){I_.disabledAttrWarning()}ngOnChanges(t){var n,i;this._isControlChanged(t)&&(M_(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),V_(t,this.viewModel)&&("formControl",n=e,this,i=this._ngModelWarningConfig,Ai()&&"never"!==i&&((null!==i&&"once"!==i||n._ngModelWarningSentOnce)&&("always"!==i||this._ngModelWarningSent)||(I_.ngModelWarning("formControl"),n._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.form.setValue(this.model),this.viewModel=this.model)}get path(){return[]}get validator(){return B_(this._rawValidators)}get asyncValidator(){return j_(this._rawAsyncValidators)}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return e.\u0275fac=function(t){return new(t||e)(Ao(l_,10),Ao(u_,10),Ao(Yg,10),Ao(uy,8))},e.\u0275dir=yt({type:e,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[ja([hy]),Ia,At]}),e._ngModelWarningSentOnce=!1,e})();const py={provide:n_,useExisting:Se(()=>my)};let my=(()=>{class e extends n_{constructor(e,t){super(),this._validators=e,this._asyncValidators=t,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new jc}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const t=this.form.get(e.path);return M_(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}getControl(e){return this.form.get(e.path)}removeControl(e){$_(this.directives,e)}addFormGroup(e){const t=this.form.get(e.path);L_(t,e),t.updateValueAndValidity({emitEvent:!1})}removeFormGroup(e){}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){const t=this.form.get(e.path);L_(t,e),t.updateValueAndValidity({emitEvent:!1})}removeFormArray(e){}getFormArray(e){return this.form.get(e.path)}updateModel(e,t){this.form.get(e.path).setValue(t)}onSubmit(e){return this.submitted=!0,q_(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const t=this.form.get(e.path);e.control!==t&&(function(e,t){t.valueAccessor.registerOnChange(()=>F_(t)),t.valueAccessor.registerOnTouched(()=>F_(t)),t._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(null)}),t._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(null)}),e&&e._clearChangeFns()}(e.control,e),t&&M_(t,e),e.control=t)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const e=B_(this._validators);this.form.validator=d_.compose([this.form.validator,e]);const t=j_(this._asyncValidators);this.form.asyncValidator=d_.composeAsync([this.form.asyncValidator,t])}_checkFormPresent(){this.form||I_.missingFormException()}}return e.\u0275fac=function(t){return new(t||e)(Ao(l_,10),Ao(u_,10))},e.\u0275dir=yt({type:e,selectors:[["","formGroup",""]],hostBindings:function(e,t){1&e&&qo("submit",(function(e){return t.onSubmit(e)}))("reset",(function(){return t.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ja([py]),Ia,At]}),e})(),fy=(()=>{class e{}return e.\u0275mod=gt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)}}),e})(),gy=(()=>{class e{group(e,t=null){const n=this._reduceControls(e);let i=null,r=null,s=void 0;return null!=t&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(i=null!=t.validators?t.validators:null,r=null!=t.asyncValidators?t.asyncValidators:null,s=null!=t.updateOn?t.updateOn:void 0):(i=null!=t.validator?t.validator:null,r=null!=t.asyncValidator?t.asyncValidator:null)),new Q_(n,{asyncValidators:r,updateOn:s,validators:i})}control(e,t,n){return new X_(e,t,n)}array(e,t,n){const i=e.map(e=>this._createControl(e));return new Z_(i,t,n)}_reduceControls(e){const t={};return Object.keys(e).forEach(n=>{t[n]=this._createControl(e[n])}),t}_createControl(e){return e instanceof X_||e instanceof Q_||e instanceof Z_?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})(),_y=(()=>{class e{}return e.\u0275mod=gt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:[w_],imports:[fy]}),e})(),yy=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:uy,useValue:t.warnOnNgModelWithFormControl}]}}}return e.\u0275mod=gt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:[gy,w_],imports:[fy]}),e})();const vy=new Fe("MAT_INPUT_VALUE_ACCESSOR"),by=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let wy=0;class Sy{constructor(e,t,n,i){this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=n,this.ngControl=i}}const Ey=Sf(Sy);let ky=(()=>{class e extends Ey{constructor(e,t,n,i,r,s,o,a,c,l){super(s,i,r,n),this._elementRef=e,this._platform=t,this.ngControl=n,this._autofillMonitor=a,this._formField=l,this._uid="mat-input-"+wy++,this.focused=!1,this.stateChanges=new E,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(e=>Wh().has(e));const u=this._elementRef.nativeElement,h=u.nodeName.toLowerCase();this._inputValueAccessor=o||u,this._previousNativeValue=this.value,this.id=this.id,t.IOS&&c.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",e=>{let t=e.target;t.value||t.selectionStart||t.selectionEnd||(t.setSelectionRange(1,1),t.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===h,this._isTextarea="textarea"===h,this._isNativeSelect&&(this.controlType=u.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=Ch(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required}set required(e){this._required=Ch(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&Wh().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Ch(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e===this.focused||this.readonly&&e||(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const e=this._formField,t=e&&e._hideControlPlaceholder()?null:this.placeholder;if(t!==this._previousPlaceholder){const e=this._elementRef.nativeElement;this._previousPlaceholder=t,t?e.setAttribute("placeholder",t):e.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){if(by.indexOf(this._type)>-1)throw Error(`Input type "${this._type}" isn't supported by matInput.`)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,t=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&t&&t.label)}return this.focused||!this.empty}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onContainerClick(){this.focused||this.focus()}}return e.\u0275fac=function(t){return new(t||e)(Ao(Ga),Ao($h),Ao(s_,10),Ao(ty,8),Ao(my,8),Ao(Ef),Ao(vy,10),Ao($g),Ao(Rl),Ao(Lg,8))},e.\u0275dir=yt({type:e,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:10,hostBindings:function(e,t){1&e&&qo("focus",(function(){return t._focusChanged(!0)}))("blur",(function(){return t._focusChanged(!1)}))("input",(function(){return t._onInput()})),2&e&&(Ca("disabled",t.disabled)("required",t.required),To("id",t.id)("data-placeholder",t.placeholder)("readonly",t.readonly&&!t._isNativeSelect||null)("aria-describedby",t._ariaDescribedby||null)("aria-invalid",t.errorState)("aria-required",t.required.toString()),oa("mat-input-server",t._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher"},exportAs:["matInput"],features:[ja([{provide:Eg,useExisting:e}]),Ia,At]}),e})(),Cy=(()=>{class e{}return e.\u0275mod=gt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:[Ef],imports:[[Hg,Fg],Hg,Fg]}),e})();function xy(e,t){return new y(t?n=>t.schedule(Ty,0,{error:e,subscriber:n}):t=>t.error(e))}function Ty({error:e,subscriber:t}){t.error(e)}function Iy(e){return function(t){const n=new Ry(e),i=t.lift(n);return n.caught=i}}class Ry{constructor(e){this.selector=e}call(e,t){return t.subscribe(new Oy(e,this.selector,this.caught))}}class Oy extends M{constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const i=new x(this,void 0,void 0);this.add(i);const r=P(this,n,void 0,void 0,i);r!==i&&this.add(r)}}}function Ay(e){return t=>t.lift(new Dy(e))}class Dy{constructor(e){this.callback=e}call(e,t){return t.subscribe(new Py(e,this.callback))}}class Py extends m{constructor(e,t){super(e),this.add(new h(t))}}function My(e,t){return j(e,t,1)}class Ny{}class Ly{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(e=>{const t=e.indexOf(":");if(t>0){const n=e.slice(0,t),i=n.toLowerCase(),r=e.slice(t+1).trim();this.maybeSetNormalizedName(n,i),this.headers.has(i)?this.headers.get(i).push(r):this.headers.set(i,[r])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let n=e[t];const i=t.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(i,n),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ly?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Ly;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Ly?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...n),this.headers.set(t,i);break;case"d":const r=e.value;if(r){let e=this.headers.get(t);if(!e)return;e=e.filter(e=>-1===r.indexOf(e)),0===e.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Fy{encodeKey(e){return Uy(e)}encodeValue(e){return Uy(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}function Uy(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class By{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Fy,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){const n=new Map;return e.length>0&&e.split("&").forEach(e=>{const i=e.indexOf("="),[r,s]=-1==i?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,i)),t.decodeValue(e.slice(i+1))],o=n.get(r)||[];o.push(s),n.set(r,o)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const n=e.fromObject[t];this.map.set(t,Array.isArray(n)?n:[n])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(e=>t+"="+this.encoder.encodeValue(e)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new By({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat([e]),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(e.value),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[];const n=t.indexOf(e.value);-1!==n&&t.splice(n,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}function jy(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function Vy(e){return"undefined"!=typeof Blob&&e instanceof Blob}function Ky(e){return"undefined"!=typeof FormData&&e instanceof FormData}class qy{constructor(e,t,n,i){let r;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,r=i):r=n,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.params&&(this.params=r.params)),this.headers||(this.headers=new Ly),this.params){const e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{const n=t.indexOf("?");this.urlWithParams=t+(-1===n?"?":n<t.length-1?"&":"")+e}}else this.params=new By,this.urlWithParams=t}serializeBody(){return null===this.body?null:jy(this.body)||Vy(this.body)||Ky(this.body)||"string"==typeof this.body?this.body:this.body instanceof By?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ky(this.body)?null:Vy(this.body)?this.body.type||null:jy(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof By?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(e={}){const t=e.method||this.method,n=e.url||this.url,i=e.responseType||this.responseType,r=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,o=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let a=e.headers||this.headers,c=e.params||this.params;return void 0!==e.setHeaders&&(a=Object.keys(e.setHeaders).reduce((t,n)=>t.set(n,e.setHeaders[n]),a)),e.setParams&&(c=Object.keys(e.setParams).reduce((t,n)=>t.set(n,e.setParams[n]),c)),new qy(t,n,r,{params:c,headers:a,reportProgress:o,responseType:i,withCredentials:s})}}var Gy=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}({});class $y extends class{constructor(e,t=200,n="OK"){this.headers=e.headers||new Ly,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=Gy.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new $y({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function Hy(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let zy=(()=>{class e{constructor(e){this.handler=e}request(e,t,n={}){let i;if(e instanceof qy)i=e;else{let r=void 0;r=n.headers instanceof Ly?n.headers:new Ly(n.headers);let s=void 0;n.params&&(s=n.params instanceof By?n.params:new By({fromObject:n.params})),i=new qy(e,t,void 0!==n.body?n.body:null,{headers:r,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const r=td(i).pipe(My(e=>this.handler.handle(e)));if(e instanceof qy||"events"===n.observe)return r;const s=r.pipe(ad(e=>e instanceof $y));switch(n.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return s.pipe(N(e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return s.pipe(N(e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return s.pipe(N(e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return s.pipe(N(e=>e.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new By).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,n={}){return this.request("PATCH",e,Hy(n,t))}post(e,t,n={}){return this.request("POST",e,Hy(n,t))}put(e,t,n={}){return this.request("PUT",e,Hy(n,t))}}return e.\u0275fac=function(t){return new(t||e)(ze(Ny))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})();const Wy=["*"];function Yy(e){return Error(`Unable to find icon with the name "${e}"`)}function Xy(e){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${e}".`)}function Qy(e){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${e}".`)}class Zy{constructor(e,t){this.options=t,e.nodeName?this.svgElement=e:this.url=e}}let Jy=(()=>{class e{constructor(e,t,n,i){this._httpClient=e,this._sanitizer=t,this._errorHandler=i,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(e,t,n){return this.addSvgIconInNamespace("",e,t,n)}addSvgIconLiteral(e,t,n){return this.addSvgIconLiteralInNamespace("",e,t,n)}addSvgIconInNamespace(e,t,n,i){return this._addSvgIconConfig(e,t,new Zy(n,i))}addSvgIconLiteralInNamespace(e,t,n,i){const r=this._sanitizer.sanitize(tr.HTML,n);if(!r)throw Qy(n);const s=this._createSvgElementForSingleIcon(r,i);return this._addSvgIconConfig(e,t,new Zy(s,i))}addSvgIconSet(e,t){return this.addSvgIconSetInNamespace("",e,t)}addSvgIconSetLiteral(e,t){return this.addSvgIconSetLiteralInNamespace("",e,t)}addSvgIconSetInNamespace(e,t,n){return this._addSvgIconSetConfig(e,new Zy(t,n))}addSvgIconSetLiteralInNamespace(e,t,n){const i=this._sanitizer.sanitize(tr.HTML,t);if(!i)throw Qy(t);const r=this._svgElementFromString(i);return this._addSvgIconSetConfig(e,new Zy(r,n))}registerFontClassAlias(e,t=e){return this._fontCssClassesByAlias.set(e,t),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const t=this._sanitizer.sanitize(tr.RESOURCE_URL,e);if(!t)throw Xy(e);const n=this._cachedIconsByUrl.get(t);return n?td(ev(n)):this._loadSvgIconFromConfig(new Zy(e)).pipe(rd(e=>this._cachedIconsByUrl.set(t,e)),N(e=>ev(e)))}getNamedSvgIcon(e,t=""){const n=tv(t,e),i=this._svgIconConfigs.get(n);if(i)return this._getSvgFromConfig(i);const r=this._iconSetConfigs.get(t);return r?this._getSvgFromIconSetConfigs(e,r):xy(Yy(n))}ngOnDestroy(){this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgElement?td(ev(e.svgElement)):this._loadSvgIconFromConfig(e).pipe(rd(t=>e.svgElement=t),N(e=>ev(e)))}_getSvgFromIconSetConfigs(e,t){const n=this._extractIconWithNameFromAnySet(e,t);return n?td(n):zg(t.filter(e=>!e.svgElement).map(e=>this._loadSvgIconSetFromConfig(e).pipe(Iy(t=>{const n=this._sanitizer.sanitize(tr.RESOURCE_URL,e.url);return this._errorHandler.handleError(new Error(`Loading icon set URL: ${n} failed: ${t.message}`)),td(null)})))).pipe(N(()=>{const n=this._extractIconWithNameFromAnySet(e,t);if(!n)throw Yy(e);return n}))}_extractIconWithNameFromAnySet(e,t){for(let n=t.length-1;n>=0;n--){const i=t[n];if(i.svgElement){const t=this._extractSvgIconFromSet(i.svgElement,e,i.options);if(t)return t}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(N(t=>this._createSvgElementForSingleIcon(t,e.options)))}_loadSvgIconSetFromConfig(e){return e.svgElement?td(e.svgElement):this._fetchIcon(e).pipe(N(t=>(e.svgElement||(e.svgElement=this._svgElementFromString(t)),e.svgElement)))}_createSvgElementForSingleIcon(e,t){const n=this._svgElementFromString(e);return this._setSvgAttributes(n,t),n}_extractSvgIconFromSet(e,t,n){const i=e.querySelector(`[id="${t}"]`);if(!i)return null;const r=i.cloneNode(!0);if(r.removeAttribute("id"),"svg"===r.nodeName.toLowerCase())return this._setSvgAttributes(r,n);if("symbol"===r.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(r),n);const s=this._svgElementFromString("<svg></svg>");return s.appendChild(r),this._setSvgAttributes(s,n)}_svgElementFromString(e){const t=this._document.createElement("DIV");t.innerHTML=e;const n=t.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(e){const t=this._svgElementFromString("<svg></svg>"),n=e.attributes;for(let i=0;i<n.length;i++){const{name:e,value:r}=n[i];"id"!==e&&t.setAttribute(e,r)}for(let i=0;i<e.childNodes.length;i++)e.childNodes[i].nodeType===this._document.ELEMENT_NODE&&t.appendChild(e.childNodes[i].cloneNode(!0));return t}_setSvgAttributes(e,t){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),t&&t.viewBox&&e.setAttribute("viewBox",t.viewBox),e}_fetchIcon(e){var t;const{url:n,options:i}=e,r=null!==(t=null==i?void 0:i.withCredentials)&&void 0!==t&&t;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const s=this._sanitizer.sanitize(tr.RESOURCE_URL,n);if(!s)throw Xy(n);const o=this._inProgressUrlFetches.get(s);if(o)return o;const a=this._httpClient.get(s,{responseType:"text",withCredentials:r}).pipe(Ay(()=>this._inProgressUrlFetches.delete(s)),J());return this._inProgressUrlFetches.set(s,a),a}_addSvgIconConfig(e,t,n){return this._svgIconConfigs.set(tv(e,t),n),this}_addSvgIconSetConfig(e,t){const n=this._iconSetConfigs.get(e);return n?n.push(t):this._iconSetConfigs.set(e,[t]),this}}return e.\u0275fac=function(t){return new(t||e)(ze(zy,8),ze(bh),ze(ou,8),ze(vi))},e.\u0275prov=le({factory:function(){return new e(ze(zy,8),ze(bh),ze(ou,8),ze(vi))},token:e,providedIn:"root"}),e})();function ev(e){return e.cloneNode(!0)}function tv(e,t){return e+":"+t}class nv{constructor(e){this._elementRef=e}}const iv=vf(nv),rv=new Fe("mat-icon-location",{providedIn:"root",factory:function(){const e=We(ou),t=e?e.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),sv=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],ov=sv.map(e=>`[${e}]`).join(", "),av=/^url\(['"]?#(.*?)['"]?\)$/;let cv=(()=>{class e extends iv{constructor(e,t,n,i,r){super(e),this._iconRegistry=t,this._location=i,this._errorHandler=r,this._inline=!1,this._currentIconFetch=h.EMPTY,n||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=Ch(e)}get fontSet(){return this._fontSet}set fontSet(e){this._fontSet=this._cleanupFontValue(e)}get fontIcon(){return this._fontIcon}set fontIcon(e){this._fontIcon=this._cleanupFontValue(e)}_splitIconName(e){if(!e)return["",""];const t=e.split(":");switch(t.length){case 1:return["",t[0]];case 2:return t;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnChanges(e){const t=e.svgIcon;if(t)if(this._currentIconFetch.unsubscribe(),this.svgIcon){const[e,t]=this._splitIconName(this.svgIcon);this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(t,e).pipe(pd(1)).subscribe(e=>this._setSvgElement(e),n=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${e}:${t}! ${n.message}`))})}else t.previousValue&&this._clearSvgElement();this._usingFontIcon()&&this._updateFontIconClasses()}ngOnInit(){this._usingFontIcon()&&this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const e=this._location.getPathname();e!==this._previousPath&&(this._previousPath=e,this._prependPathToReferences(e))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const t=e.querySelectorAll("style");for(let i=0;i<t.length;i++)t[i].textContent+=" ";const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let t=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();t--;){const n=e.childNodes[t];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||e.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,t=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();t!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),t&&e.classList.add(t),this._previousFontSetClass=t),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const t=this._elementsWithExternalReferences;t&&t.forEach((t,n)=>{t.forEach(t=>{n.setAttribute(t.name,`url('${e}#${t.value}')`)})})}_cacheChildrenWithExternalReferences(e){const t=e.querySelectorAll(ov),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let i=0;i<t.length;i++)sv.forEach(e=>{const r=t[i],s=r.getAttribute(e),o=s?s.match(av):null;if(o){let t=n.get(r);t||(t=[],n.set(r,t)),t.push({name:e,value:o[1]})}})}}return e.\u0275fac=function(t){return new(t||e)(Ao(Ga),Ao(Jy),Do("aria-hidden"),Ao(rv),Ao(vi))},e.\u0275cmp=dt({type:e,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:4,hostBindings:function(e,t){2&e&&oa("mat-icon-inline",t.inline)("mat-icon-no-color","primary"!==t.color&&"accent"!==t.color&&"warn"!==t.color)},inputs:{color:"color",inline:"inline",fontSet:"fontSet",fontIcon:"fontIcon",svgIcon:"svgIcon"},exportAs:["matIcon"],features:[Ia,At],ngContentSelectors:Wy,decls:1,vars:0,template:function(e,t){1&e&&(Xo(),Qo(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),e})(),lv=(()=>{class e{}return e.\u0275mod=gt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[_f],_f]}),e})();const uv=["*",[["mat-card-footer"]]],hv=["*","mat-card-footer"];let dv=(()=>{class e{constructor(e){this._animationMode=e}}return e.\u0275fac=function(t){return new(t||e)(Ao(lf,8))},e.\u0275cmp=dt({type:e,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,t){2&e&&oa("_mat-animation-noopable","NoopAnimations"===t._animationMode)},exportAs:["matCard"],ngContentSelectors:hv,decls:2,vars:0,template:function(e,t){1&e&&(Xo(uv),Qo(0),Qo(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions .mat-button:first-child,.mat-card-actions .mat-raised-button:first-child,.mat-card-actions .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),e})(),pv=(()=>{class e{}return e.\u0275mod=gt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[_f],_f]}),e})();const mv=["mat-button",""],fv=["*"],gv=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class _v{constructor(e){this._elementRef=e}}const yv=vf(yf(bf(_v)));let vv=(()=>{class e extends yv{constructor(e,t,n){super(e),this._focusMonitor=t,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const i of gv)this._hasHostAttributes(i)&&this._getHostElement().classList.add(i);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",t){this._focusMonitor.focusVia(this._getHostElement(),e,t)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(e=>this._getHostElement().hasAttribute(e))}}return e.\u0275fac=function(t){return new(t||e)(Ao(Ga),Ao(Od),Ao(lf,8))},e.\u0275cmp=dt({type:e,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,t){var n;1&e&&Jc(Mf,!0),2&e&&Qc(n=rl())&&(t.ripple=n.first)},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,t){2&e&&(To("disabled",t.disabled||null),oa("_mat-animation-noopable","NoopAnimations"===t._animationMode)("mat-button-disabled",t.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Ia],attrs:mv,ngContentSelectors:fv,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,t){1&e&&(Xo(),No(0,"span",0),Qo(1),Lo(),Fo(2,"div",1),Fo(3,"div",2)),2&e&&(kr(2),oa("mat-button-ripple-round",t.isRoundButton||t.isIconButton),Po("matRippleDisabled",t._isRippleDisabled())("matRippleCentered",t.isIconButton)("matRippleTrigger",t._getHostElement()))},directives:[Mf],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.cdk-high-contrast-active .mat-button-focus-overlay{background-color:#fff}.cdk-high-contrast-black-on-white .mat-button-focus-overlay{background-color:#000}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}\n"],encapsulation:2,changeDetection:0}),e})(),bv=(()=>{class e{}return e.\u0275mod=gt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[Nf,_f],_f]}),e})();function wv(e,t){return n=>n.lift(new Sv(e,t))}class Sv{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new Ev(e,this.compare,this.keySelector))}}class Ev extends m{constructor(e,t,n){super(e),this.keySelector=n,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:n}=this;t=n?n(e):e}catch(i){return this.destination.error(i)}let n=!1;if(this.hasKey)try{const{compare:e}=this;n=e(this.key,t)}catch(i){return this.destination.error(i)}else this.hasKey=!0;n||(this.key=t,this.destination.next(e))}}function kv(e,t){return"function"==typeof t?n=>n.pipe(kv((n,i)=>B(e(n,i)).pipe(N((e,r)=>t(n,e,i,r))))):t=>t.lift(new Cv(e))}class Cv{constructor(e){this.project=e}call(e,t){return t.subscribe(new xv(e,this.project))}}class xv extends M{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(i){return void this.destination.error(i)}this._innerSub(t,e,n)}_innerSub(e,t,n){const i=this.innerSubscription;i&&i.unsubscribe();const r=new x(this,t,n),s=this.destination;s.add(r),this.innerSubscription=P(this,e,void 0,void 0,r),this.innerSubscription!==r&&s.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(e,t,n,i,r){this.destination.next(t)}}class Tv extends Ah{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(e,t,n):e.flush(this)}}class Iv extends Ph{}const Rv=new Iv(Tv);let Ov=(()=>{class e{constructor(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}accept(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}toObservable(){switch(this.kind){case"N":return td(this.value);case"E":return xy(this.error);case"C":return dd()}throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}static createError(t){return new e("E",void 0,t)}static createComplete(){return e.completeNotification}}return e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e})();class Av extends m{constructor(e,t,n=0){super(e),this.scheduler=t,this.delay=n}static dispatch(e){const{notification:t,destination:n}=e;t.observe(n),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(Av.dispatch,this.delay,new Dv(e,this.destination)))}_next(e){this.scheduleMessage(Ov.createNext(e))}_error(e){this.scheduleMessage(Ov.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(Ov.createComplete()),this.unsubscribe()}}class Dv{constructor(e,t){this.notification=e,this.destination=t}}class Pv extends E{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift(),super.next(e)}nextTimeWindow(e){this._events.push(new Mv(this._getNow(),e)),this._trimBufferThenGetEvents(),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,n=t?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,r=n.length;let s;if(this.closed)throw new b;if(this.isStopped||this.hasError?s=h.EMPTY:(this.observers.push(e),s=new w(this,e)),i&&e.add(e=new Av(e,i)),t)for(let o=0;o<r&&!e.closed;o++)e.next(n[o]);else for(let o=0;o<r&&!e.closed;o++)e.next(n[o].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),s}_getNow(){return(this.scheduler||Rv).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,n=this._windowTime,i=this._events,r=i.length;let s=0;for(;s<r&&!(e-i[s].time<n);)s++;return r>t&&(s=Math.max(s,r-t)),s>0&&i.splice(0,s),i}}class Mv{constructor(e,t){this.time=e,this.value=t}}function Nv(e,t,n){let i;return i=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n},e=>e.lift(function({bufferSize:e=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:n,scheduler:i}){let r,s,o=0,a=!1,c=!1;return function(l){o++,r&&!a||(a=!1,r=new Pv(e,t,i),s=l.subscribe({next(e){r.next(e)},error(e){a=!0,r.error(e)},complete(){c=!0,s=void 0,r.complete()}}));const u=r.subscribe(this);this.add(()=>{o--,u.unsubscribe(),s&&!c&&n&&0===o&&(s.unsubscribe(),s=void 0,r=void 0)})}}(i))}class Lv{constructor(e=!1,t,n=!0){this._multiple=e,this._emitChanges=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new E,t&&t.length&&(e?t.forEach(e=>this._markSelected(e)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...e){this._verifyValueAssignment(e),e.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(e){this.isSelected(e)?this.deselect(e):this.select(e)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(e){return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){if(e.length>1&&!this._multiple)throw Error("Cannot pass multiple values into SelectionModel with single-value mode.")}}let Fv=(()=>{class e{constructor(e,t,n){this._ngZone=e,this._platform=t,this._scrolled=new E,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const t=this.scrollContainers.get(e);t&&(t.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new y(t=>{this._globalSubscription||this._addGlobalListener();const n=e>0?this._scrolled.pipe(qg(e)).subscribe(t):this._scrolled.subscribe(t);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):td()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,t)=>this.deregister(t)),this._scrolled.complete()}ancestorScrolled(e,t){const n=this.getAncestorScrollContainers(e);return this.scrolled(t).pipe(ad(e=>!e||n.indexOf(e)>-1))}getAncestorScrollContainers(e){const t=[];return this.scrollContainers.forEach((n,i)=>{this._scrollableContainsElement(i,e)&&t.push(i)}),t}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollableContainsElement(e,t){let n=t.nativeElement,i=e.getElementRef().nativeElement;do{if(n==i)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Zf(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return e.\u0275fac=function(t){return new(t||e)(ze(Rl),ze($h),ze(ou,8))},e.\u0275prov=le({factory:function(){return new e(ze(Rl),ze($h),ze(ou,8))},token:e,providedIn:"root"}),e})(),Uv=(()=>{class e{constructor(e,t,n,i){this.elementRef=e,this.scrollDispatcher=t,this.ngZone=n,this.dir=i,this._destroyed=new E,this._elementScrolled=new y(e=>this.ngZone.runOutsideAngular(()=>Zf(this.elementRef.nativeElement,"scroll").pipe(Jf(this._destroyed)).subscribe(e)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const t=this.elementRef.nativeElement,n=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=n?e.end:e.start),null==e.right&&(e.right=n?e.start:e.end),null!=e.bottom&&(e.top=t.scrollHeight-t.clientHeight-e.bottom),n&&0!=Jh()?(null!=e.left&&(e.right=t.scrollWidth-t.clientWidth-e.left),2==Jh()?e.left=e.right:1==Jh()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=t.scrollWidth-t.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const t=this.elementRef.nativeElement;"object"==typeof document&&"scrollBehavior"in document.documentElement.style?t.scrollTo(e):(null!=e.top&&(t.scrollTop=e.top),null!=e.left&&(t.scrollLeft=e.left))}measureScrollOffset(e){const t=this.elementRef.nativeElement;if("top"==e)return t.scrollTop;if("bottom"==e)return t.scrollHeight-t.clientHeight-t.scrollTop;const n=this.dir&&"rtl"==this.dir.value;return"start"==e?e=n?"right":"left":"end"==e&&(e=n?"left":"right"),n&&2==Jh()?"left"==e?t.scrollWidth-t.clientWidth-t.scrollLeft:t.scrollLeft:n&&1==Jh()?"left"==e?t.scrollLeft+t.scrollWidth-t.clientWidth:-t.scrollLeft:"left"==e?t.scrollLeft:t.scrollWidth-t.clientWidth-t.scrollLeft}}return e.\u0275fac=function(t){return new(t||e)(Ao(Ga),Ao(Fv),Ao(Rl),Ao(Ld,8))},e.\u0275dir=yt({type:e,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),e})(),Bv=(()=>{class e{constructor(e,t,n){this._platform=e,this._change=new E,this._changeListener=e=>{this._change.next(e)},this._document=n,t.runOutsideAngular(()=>{if(e.isBrowser){const e=this._getWindow();e.addEventListener("resize",this._changeListener),e.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:t,height:n}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+n,right:e.left+t,height:n,width:t}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._getDocument(),t=this._getWindow(),n=e.documentElement,i=n.getBoundingClientRect();return{top:-i.top||e.body.scrollTop||t.scrollY||n.scrollTop||0,left:-i.left||e.body.scrollLeft||t.scrollX||n.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(qg(e)):this._change}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return e.\u0275fac=function(t){return new(t||e)(ze($h),ze(Rl),ze(ou,8))},e.\u0275prov=le({factory:function(){return new e(ze($h),ze(Rl),ze(ou,8))},token:e,providedIn:"root"}),e})(),jv=(()=>{class e{}return e.\u0275mod=gt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)}}),e})(),Vv=(()=>{class e{}return e.\u0275mod=gt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[Fd,Hh,jv],Fd,jv]}),e})();function Kv(){throw Error("Host already has a portal attached")}class qv{attach(e){return null==e&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),e.hasAttached()&&Kv(),this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null==e?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Gv extends qv{constructor(e,t,n,i){super(),this.component=e,this.viewContainerRef=t,this.injector=n,this.componentFactoryResolver=i}}class $v extends qv{constructor(e,t,n){super(),this.templateRef=e,this.viewContainerRef=t,this.context=n}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Hv extends qv{constructor(e){super(),this.element=e instanceof Ga?e.nativeElement:e}}class zv{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&Kv(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),e instanceof Gv?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof $v?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Hv?(this._attachedPortal=e,this.attachDomPortal(e)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Wv extends zv{constructor(e,t,n,i,r){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=n,this._defaultInjector=i,this.attachDomPortal=e=>{if(!this._document)throw Error("Cannot attach DOM portal without _document constructor parameter");const t=e.element;if(!t.parentNode)throw Error("DOM portal content must be attached to a parent node.");const n=this._document.createComment("dom-portal");t.parentNode.insertBefore(n,t),this.outletElement.appendChild(t),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(t,n)})},this._document=r}attachComponentPortal(e){const t=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let n;return e.viewContainerRef?(n=e.viewContainerRef.createComponent(t,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=t.create(e.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),n}attachTemplatePortal(e){let t=e.viewContainerRef,n=t.createEmbeddedView(e.templateRef,e.context);return n.rootNodes.forEach(e=>this.outletElement.appendChild(e)),n.detectChanges(),this.setDisposeFn(()=>{let e=t.indexOf(n);-1!==e&&t.remove(e)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class Yv extends Wv{}let Xv=(()=>{class e extends zv{constructor(e,t,n){super(),this._componentFactoryResolver=e,this._viewContainerRef=t,this._isInitialized=!1,this.attached=new jc,this.attachDomPortal=e=>{if(!this._document)throw Error("Cannot attach DOM portal without _document constructor parameter");const t=e.element;if(!t.parentNode)throw Error("DOM portal content must be attached to a parent node.");const n=this._document.createComment("dom-portal");e.setAttachedHost(this),t.parentNode.insertBefore(n,t),this._getRootNode().appendChild(t),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(t,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(e){(!this.hasAttached()||e||this._isInitialized)&&(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const t=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,n=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),i=t.createComponent(n,t.length,e.injector||t.injector);return t!==this._viewContainerRef&&this._getRootNode().appendChild(i.hostView.rootNodes[0]),super.setDisposeFn(()=>i.destroy()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}attachTemplatePortal(e){e.setAttachedHost(this);const t=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=t,this.attached.emit(t),t}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return e.\u0275fac=function(t){return new(t||e)(Ao(qa),Ao(gc),Ao(ou))},e.\u0275dir=yt({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Ia]}),e})(),Qv=(()=>{class e extends Xv{}return e.\u0275fac=function(t){return Zv(t||e)},e.\u0275dir=yt({type:e,selectors:[["","cdkPortalHost",""],["","portalHost",""]],inputs:{portal:["cdkPortalHost","portal"]},exportAs:["cdkPortalHost"],features:[ja([{provide:Xv,useExisting:e}]),Ia]}),e})();const Zv=fi(Qv);let Jv=(()=>{class e{}return e.\u0275mod=gt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)}}),e})();class eb{constructor(e,t){this.predicate=e,this.inclusive=t}call(e,t){return t.subscribe(new tb(e,this.predicate,this.inclusive))}}class tb extends m{constructor(e,t,n){super(e),this.predicate=t,this.inclusive=n,this.index=0}_next(e){const t=this.destination;let n;try{n=this.predicate(e,this.index++)}catch(i){return void t.error(i)}this.nextOrComplete(e,n)}nextOrComplete(e,t){const n=this.destination;Boolean(t)?n.next(e):(this.inclusive&&n.next(e),n.complete())}}class nb{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Ih(-this._previousScrollPosition.left),e.style.top=Ih(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,t=e.style,n=this._document.body.style,i=t.scrollBehavior||"",r=n.scrollBehavior||"";this._isEnabled=!1,t.left=this._previousHTMLStyles.left,t.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),t.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),t.scrollBehavior=i,n.scrollBehavior=r}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,t=this._viewportRuler.getViewportSize();return e.scrollHeight>t.height||e.scrollWidth>t.width}}function ib(){return Error("Scroll strategy has already been attached.")}class rb{constructor(e,t,n,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=n,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){if(this._overlayRef)throw ib();this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class sb{enable(){}disable(){}attach(){}}function ob(e,t){return t.some(t=>e.bottom<t.top||e.top>t.bottom||e.right<t.left||e.left>t.right)}function ab(e,t){return t.some(t=>e.top<t.top||e.bottom>t.bottom||e.left<t.left||e.right>t.right)}class cb{constructor(e,t,n,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=n,this._config=i,this._scrollSubscription=null}attach(e){if(this._overlayRef)throw ib();this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:t,height:n}=this._viewportRuler.getViewportSize();ob(e,[{width:t,height:n,bottom:n,right:t,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let lb=(()=>{class e{constructor(e,t,n,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=n,this.noop=()=>new sb,this.close=e=>new rb(this._scrollDispatcher,this._ngZone,this._viewportRuler,e),this.block=()=>new nb(this._viewportRuler,this._document),this.reposition=e=>new cb(this._scrollDispatcher,this._viewportRuler,this._ngZone,e),this._document=i}}return e.\u0275fac=function(t){return new(t||e)(ze(Fv),ze(Bv),ze(Rl),ze(ou))},e.\u0275prov=le({factory:function(){return new e(ze(Fv),ze(Bv),ze(Rl),ze(ou))},token:e,providedIn:"root"}),e})();class ub{constructor(e){if(this.scrollStrategy=new sb,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,this.excludeFromOutsideClick=[],e){const t=Object.keys(e);for(const n of t)void 0!==e[n]&&(this[n]=e[n])}}}class hb{constructor(e,t,n,i,r){this.offsetX=n,this.offsetY=i,this.panelClass=r,this.originX=e.originX,this.originY=e.originY,this.overlayX=t.overlayX,this.overlayY=t.overlayY}}class db{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}function pb(e,t){if("top"!==t&&"bottom"!==t&&"center"!==t)throw Error(`ConnectedPosition: Invalid ${e} "${t}". Expected "top", "bottom" or "center".`)}function mb(e,t){if("start"!==t&&"end"!==t&&"center"!==t)throw Error(`ConnectedPosition: Invalid ${e} "${t}". Expected "start", "end" or "center".`)}let fb=(()=>{class e{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const t=this._attachedOverlays.indexOf(e);t>-1&&this._attachedOverlays.splice(t,1),0===this._attachedOverlays.length&&this.detach()}}return e.\u0275fac=function(t){return new(t||e)(ze(ou))},e.\u0275prov=le({factory:function(){return new e(ze(ou))},token:e,providedIn:"root"}),e})(),gb=(()=>{class e extends fb{constructor(e){super(e),this._keydownListener=e=>{const t=this._attachedOverlays;for(let n=t.length-1;n>-1;n--)if(t[n]._keydownEvents.observers.length>0){t[n]._keydownEvents.next(e);break}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return e.\u0275fac=function(t){return new(t||e)(ze(ou))},e.\u0275prov=le({factory:function(){return new e(ze(ou))},token:e,providedIn:"root"}),e})(),_b=(()=>{class e extends fb{constructor(e,t){super(e),this._platform=t,this._cursorStyleIsSet=!1,this._clickListener=e=>{const t=e.composedPath?e.composedPath()[0]:e.target,n=this._attachedOverlays;for(let i=n.length-1;i>-1;i--){const r=n[i];if(!(r._outsidePointerEvents.observers.length<1)){if([...r.getConfig().excludeFromOutsideClick,r.overlayElement].some(e=>e.contains(t)))break;r._outsidePointerEvents.next(e)}}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("click",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=this._document.body.style.cursor,this._document.body.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("click",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}}return e.\u0275fac=function(t){return new(t||e)(ze(ou),ze($h))},e.\u0275prov=le({factory:function(){return new e(ze(ou),ze($h))},token:e,providedIn:"root"}),e})();const yb=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let vb=(()=>{class e{constructor(e,t){this._platform=t,this._document=e}ngOnDestroy(){const e=this._containerElement;e&&e.parentNode&&e.parentNode.removeChild(e)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e=this._platform?this._platform.isBrowser:"undefined"!=typeof window;if(e||yb){const e=this._document.querySelectorAll('.cdk-overlay-container[platform="server"], .cdk-overlay-container[platform="test"]');for(let t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t])}const t=this._document.createElement("div");t.classList.add("cdk-overlay-container"),yb?t.setAttribute("platform","test"):e||t.setAttribute("platform","server"),this._document.body.appendChild(t),this._containerElement=t}}return e.\u0275fac=function(t){return new(t||e)(ze(ou),ze($h))},e.\u0275prov=le({factory:function(){return new e(ze(ou),ze($h))},token:e,providedIn:"root"}),e})();class bb{constructor(e,t,n,i,r,s,o,a,c){this._portalOutlet=e,this._host=t,this._pane=n,this._config=i,this._ngZone=r,this._keyboardDispatcher=s,this._document=o,this._location=a,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new E,this._attachments=new E,this._detachments=new E,this._locationChanges=h.EMPTY,this._backdropClickHandler=e=>this._backdropClick.next(e),this._keydownEvents=new E,this._outsidePointerEvents=new E,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(pd(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher&&this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher&&this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher&&this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick.asObservable()}attachments(){return this._attachments.asObservable()}detachments(){return this._detachments.asObservable()}keydownEvents(){return this._keydownEvents.asObservable()}outsidePointerEvents(){return this._outsidePointerEvents.asObservable()}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Ih(this._config.width),e.height=Ih(this._config.height),e.minWidth=Ih(this._config.minWidth),e.minHeight=Ih(this._config.minHeight),e.maxWidth=Ih(this._config.maxWidth),e.maxHeight=Ih(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"auto":"none"}_attachBackdrop(){this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e,t=this._backdropElement;if(!t)return;let n=()=>{t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",n),t.parentNode&&t.parentNode.removeChild(t)),this._backdropElement==t&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(t,this._config.backdropClass,!1),clearTimeout(e)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",n)}),t.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(e,t,n){const i=e.classList;Th(t).forEach(e=>{e&&(n?i.add(e):i.remove(e))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.asObservable().pipe(Jf($(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}}const wb=/([A-Za-z%]+)$/;class Sb{constructor(e,t,n,i,r){this._viewportRuler=t,this._document=n,this._platform=i,this._overlayContainer=r,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new E,this._resizeSubscription=h.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges.asObservable(),this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){if(this._overlayRef&&e!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),e.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const e=this._originRect,t=this._overlayRect,n=this._viewportRect,i=[];let r;for(let s of this._preferredPositions){let o=this._getOriginPoint(e,s),a=this._getOverlayPoint(o,t,s),c=this._getOverlayFit(a,t,n,s);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(c,a,n)?i.push({position:s,origin:o,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!r||r.overlayFit.visibleArea<c.visibleArea)&&(r={overlayFit:c,overlayPoint:a,originPoint:o,position:s,overlayRect:t})}if(i.length){let e=null,t=-1;for(const n of i){const i=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);i>t&&(t=i,e=n)}return this._isPushed=!1,void this._applyPosition(e.position,e.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(r.position,r.originPoint);this._applyPosition(r.position,r.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Eb(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t){let n,i;if("center"==t.originX)n=e.left+e.width/2;else{const i=this._isRtl()?e.right:e.left,r=this._isRtl()?e.left:e.right;n="start"==t.originX?i:r}return i="center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom,{x:n,y:i}}_getOverlayPoint(e,t,n){let i,r;return i="center"==n.overlayX?-t.width/2:"start"===n.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,r="center"==n.overlayY?-t.height/2:"top"==n.overlayY?0:-t.height,{x:e.x+i,y:e.y+r}}_getOverlayFit(e,t,n,i){let{x:r,y:s}=e,o=this._getOffset(i,"x"),a=this._getOffset(i,"y");o&&(r+=o),a&&(s+=a);let c=0-s,l=s+t.height-n.height,u=this._subtractOverflows(t.width,0-r,r+t.width-n.width),h=this._subtractOverflows(t.height,c,l),d=u*h;return{visibleArea:d,isCompletelyWithinViewport:t.width*t.height===d,fitsInViewportVertically:h===t.height,fitsInViewportHorizontally:u==t.width}}_canFitWithFlexibleDimensions(e,t,n){if(this._hasFlexibleDimensions){const i=n.bottom-t.y,r=n.right-t.x,s=kb(this._overlayRef.getConfig().minHeight),o=kb(this._overlayRef.getConfig().minWidth),a=e.fitsInViewportHorizontally||null!=o&&o<=r;return(e.fitsInViewportVertically||null!=s&&s<=i)&&a}return!1}_pushOverlayOnScreen(e,t,n){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=this._viewportRect,r=Math.max(e.x+t.width-i.width,0),s=Math.max(e.y+t.height-i.height,0),o=Math.max(i.top-n.top-e.y,0),a=Math.max(i.left-n.left-e.x,0);let c=0,l=0;return c=t.width<=i.width?a||-r:e.x<this._viewportMargin?i.left-n.left-e.x:0,l=t.height<=i.height?o||-s:e.y<this._viewportMargin?i.top-n.top-e.y:0,this._previousPushAmount={x:c,y:l},{x:e.x+c,y:e.y+l}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const t=this._getScrollVisibility(),n=new db(e,t);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,i=e.overlayY;n="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let r=0;r<t.length;r++)t[r].style.transformOrigin=`${n} ${i}`}_calculateBoundingBoxRect(e,t){const n=this._viewportRect,i=this._isRtl();let r,s,o,a,c,l;if("top"===t.overlayY)s=e.y,r=n.height-s+this._viewportMargin;else if("bottom"===t.overlayY)o=n.height-e.y+2*this._viewportMargin,r=n.height-o+this._viewportMargin;else{const t=Math.min(n.bottom-e.y+n.top,e.y),i=this._lastBoundingBoxSize.height;r=2*t,s=e.y-t,r>i&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-i/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)l=n.width-e.x+this._viewportMargin,a=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)c=e.x,a=n.right-e.x;else{const t=Math.min(n.right-e.x+n.left,e.x),i=this._lastBoundingBoxSize.width;a=2*t,c=e.x-t,a>i&&!this._isInitialRender&&!this._growAfterOpen&&(c=e.x-i/2)}return{top:s,left:c,bottom:o,right:l,width:a,height:r}}_setBoundingBoxStyles(e,t){const n=this._calculateBoundingBoxRect(e,t);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const e=this._overlayRef.getConfig().maxHeight,r=this._overlayRef.getConfig().maxWidth;i.height=Ih(n.height),i.top=Ih(n.top),i.bottom=Ih(n.bottom),i.width=Ih(n.width),i.left=Ih(n.left),i.right=Ih(n.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",e&&(i.maxHeight=Ih(e)),r&&(i.maxWidth=Ih(r))}this._lastBoundingBoxSize=n,Eb(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Eb(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Eb(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const n={},i=this._hasExactPosition(),r=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(i){const i=this._viewportRuler.getViewportScrollPosition();Eb(n,this._getExactOverlayY(t,e,i)),Eb(n,this._getExactOverlayX(t,e,i))}else n.position="static";let o="",a=this._getOffset(t,"x"),c=this._getOffset(t,"y");a&&(o+=`translateX(${a}px) `),c&&(o+=`translateY(${c}px)`),n.transform=o.trim(),s.maxHeight&&(i?n.maxHeight=Ih(s.maxHeight):r&&(n.maxHeight="")),s.maxWidth&&(i?n.maxWidth=Ih(s.maxWidth):r&&(n.maxWidth="")),Eb(this._pane.style,n)}_getExactOverlayY(e,t,n){let i={top:"",bottom:""},r=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return r.y-=s,"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(r.y+this._overlayRect.height)+"px":i.top=Ih(r.y),i}_getExactOverlayX(e,t,n){let i,r={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),i=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===i?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=Ih(s.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),n=this._scrollables.map(e=>e.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:ab(e,n),isOriginOutsideView:ob(e,n),isOverlayClipped:ab(t,n),isOverlayOutsideView:ob(t,n)}}_subtractOverflows(e,...t){return t.reduce((e,t)=>e-Math.max(t,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+e-this._viewportMargin,bottom:n.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach(e=>{mb("originX",e.originX),pb("originY",e.originY),mb("overlayX",e.overlayX),pb("overlayY",e.overlayY)})}_addPanelClasses(e){this._pane&&Th(e).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof Ga)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,n=e.height||0;return{top:e.y,bottom:e.y+n,left:e.x,right:e.x+t,height:n,width:t}}}function Eb(e,t){for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function kb(e){if("number"!=typeof e&&null!=e){const[t,n]=e.split(wb);return n&&"px"!==n?null:parseFloat(t)}return e||null}class Cb{constructor(e,t,n,i,r,s,o){this._preferredPositions=[],this._positionStrategy=new Sb(n,i,r,s,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(e,t)}get onPositionChange(){return this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(e){this._overlayRef=e,this._positionStrategy.attach(e),this._direction&&(e.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(e){this._positionStrategy.withScrollableContainers(e)}withFallbackPosition(e,t,n,i){const r=new hb(e,t,n,i);return this._preferredPositions.push(r),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(e){return this._overlayRef?this._overlayRef.setDirection(e):this._direction=e,this}withOffsetX(e){return this._positionStrategy.withDefaultOffsetX(e),this}withOffsetY(e){return this._positionStrategy.withDefaultOffsetY(e),this}withLockedPosition(e){return this._positionStrategy.withLockedPosition(e),this}withPositions(e){return this._preferredPositions=e.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(e){return this._positionStrategy.setOrigin(e),this}}class xb{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:i,height:r,maxWidth:s,maxHeight:o}=n,a=!("100%"!==i&&"100vw"!==i||s&&"100%"!==s&&"100vw"!==s),c=!("100%"!==r&&"100vh"!==r||o&&"100%"!==o&&"100vh"!==o);e.position=this._cssPosition,e.marginLeft=a?"0":this._leftOffset,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,a?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,n=t.style;t.classList.remove("cdk-global-overlay-wrapper"),n.justifyContent=n.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let Tb=(()=>{class e{constructor(e,t,n,i){this._viewportRuler=e,this._document=t,this._platform=n,this._overlayContainer=i}global(){return new xb}connectedTo(e,t,n){return new Cb(t,n,e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(e){return new Sb(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return e.\u0275fac=function(t){return new(t||e)(ze(Bv),ze(ou),ze($h),ze(vb))},e.\u0275prov=le({factory:function(){return new e(ze(Bv),ze(ou),ze($h),ze(vb))},token:e,providedIn:"root"}),e})(),Ib=0,Rb=(()=>{class e{constructor(e,t,n,i,r,s,o,a,c,l,u){this.scrollStrategies=e,this._overlayContainer=t,this._componentFactoryResolver=n,this._positionBuilder=i,this._keyboardDispatcher=r,this._injector=s,this._ngZone=o,this._document=a,this._directionality=c,this._location=l,this._outsideClickDispatcher=u}create(e){const t=this._createHostElement(),n=this._createPaneElement(t),i=this._createPortalOutlet(n),r=new ub(e);return r.direction=r.direction||this._directionality.value,new bb(i,t,n,r,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const t=this._document.createElement("div");return t.id="cdk-overlay-"+Ib++,t.classList.add("cdk-overlay-pane"),e.appendChild(t),t}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Wl)),new Wv(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return e.\u0275fac=function(t){return new(t||e)(ze(lb),ze(vb),ze(qa),ze(Tb),ze(gb),ze(go),ze(Rl),ze(ou),ze(Ld),ze(wu,8),ze(_b,8))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})();const Ob=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Ab=new Fe("cdk-connected-overlay-scroll-strategy");let Db=(()=>{class e{constructor(e){this.elementRef=e}}return e.\u0275fac=function(t){return new(t||e)(Ao(Ga))},e.\u0275dir=yt({type:e,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),e})(),Pb=(()=>{class e{constructor(e,t,n,i,r){this._overlay=e,this._dir=r,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=h.EMPTY,this._attachSubscription=h.EMPTY,this._detachSubscription=h.EMPTY,this._positionSubscription=h.EMPTY,this.viewportMargin=0,this.open=!1,this.backdropClick=new jc,this.positionChange=new jc,this.attach=new jc,this.detach=new jc,this.overlayKeydown=new jc,this.overlayOutsideClick=new jc,this._templatePortal=new $v(t,n),this._scrollStrategyFactory=i,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Ch(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=Ch(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=Ch(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=Ch(e)}get push(){return this._push}set push(e){this._push=Ch(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){this.positions&&this.positions.length||(this.positions=Ob);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(e=>{this.overlayKeydown.next(e),27!==e.keyCode||nd(e)||(e.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(e=>{this.overlayOutsideClick.next(e)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),t=new ub({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(t.width=this.width),(this.height||0===this.height)&&(t.height=this.height),(this.minWidth||0===this.minWidth)&&(t.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(t.minHeight=this.minHeight),this.backdropClass&&(t.backdropClass=this.backdropClass),this.panelClass&&(t.panelClass=this.panelClass),t}_updatePositionStrategy(e){const t=this.positions.map(e=>({originX:e.originX,originY:e.originY,overlayX:e.overlayX,overlayY:e.overlayY,offsetX:e.offsetX||this.offsetX,offsetY:e.offsetY||this.offsetY,panelClass:e.panelClass||void 0}));return e.setOrigin(this.origin.elementRef).withPositions(t).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(e),e}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(e,t=!1){return n=>n.lift(new eb(e,t))}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(Ao(Rb),Ao(mc),Ao(gc),Ao(Ab),Ao(Ld,8))},e.\u0275dir=yt({type:e,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[At]}),e})();const Mb={provide:Ab,deps:[Rb],useFactory:function(e){return()=>e.scrollStrategies.reposition()}};let Nb=(()=>{class e{}return e.\u0275mod=gt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:[Rb,Mb],imports:[[Fd,Jv,Vv],Vv]}),e})();function Lb(e){return new y(t=>{let n;try{n=e()}catch(i){return void t.error(i)}return(n?B(n):dd()).subscribe(t)})}const Fb=["trigger"],Ub=["panel"];function Bb(e,t){if(1&e&&(No(0,"span",8),ya(1),Lo()),2&e){const e=Wo();kr(1),va(e.placeholder||"\xa0")}}function jb(e,t){if(1&e&&(No(0,"span"),ya(1),Lo()),2&e){const e=Wo(2);kr(1),va(e.triggerValue||"\xa0")}}function Vb(e,t){1&e&&Qo(0,0,["*ngSwitchCase","true"])}function Kb(e,t){1&e&&(No(0,"span",9),Ro(1,jb,2,1,"span",10),Ro(2,Vb,1,0,"ng-content",11),Lo()),2&e&&(Po("ngSwitch",!!Wo().customTrigger),kr(2),Po("ngSwitchCase",!0))}function qb(e,t){if(1&e){const e=jo();No(0,"div",12),No(1,"div",13,14),qo("@transformPanel.done",(function(t){return nn(e),Wo()._panelDoneAnimatingStream.next(t.toState)}))("keydown",(function(t){return nn(e),Wo()._handleKeydown(t)})),Qo(3,1),Lo(),Lo()}if(2&e){const e=Wo();Po("@transformPanelWrap",void 0),kr(1),ka("mat-select-panel ",e._getPanelTheme(),""),sa("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),Po("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),To("id",e.id+"-panel")}}const Gb=[[["mat-select-trigger"]],"*"],$b=["mat-select-trigger","*"],Hb={transformPanelWrap:qd("transformPanelWrap",[Wd("* => void",Xd("@transformPanel",[Yd()],{optional:!0}))]),transformPanel:qd("transformPanel",[zd("void",Hd({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),zd("showing",Hd({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),zd("showing-multiple",Hd({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Wd("void => *",Gd("120ms cubic-bezier(0, 0, 0.2, 1)")),Wd("* => void",Gd("100ms 25ms linear",Hd({opacity:0})))])};let zb=0;const Wb=new Fe("mat-select-scroll-strategy"),Yb=new Fe("MAT_SELECT_CONFIG"),Xb={provide:Wb,deps:[Rb],useFactory:function(e){return()=>e.scrollStrategies.reposition()}};class Qb{constructor(e,t){this.source=e,this.value=t}}class Zb{constructor(e,t,n,i,r){this._elementRef=e,this._defaultErrorStateMatcher=t,this._parentForm=n,this._parentFormGroup=i,this.ngControl=r}}const Jb=bf(wf(yf(Sf(Zb)))),ew=new Fe("MatSelectTrigger");let tw=(()=>{class e extends Jb{constructor(e,t,n,i,r,s,o,a,c,l,u,h,d,p){super(r,i,o,a,l),this._viewportRuler=e,this._changeDetectorRef=t,this._ngZone=n,this._dir=s,this._parentFormField=c,this.ngControl=l,this._liveAnnouncer=d,this._panelOpen=!1,this._required=!1,this._scrollTop=0,this._multiple=!1,this._compareWith=(e,t)=>e===t,this._uid="mat-select-"+zb++,this._destroy=new E,this._triggerFontSize=0,this._onChange=()=>{},this._onTouched=()=>{},this._optionIds="",this._transformOrigin="top",this._panelDoneAnimatingStream=new E,this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}],this._disableOptionCentering=!1,this._focused=!1,this.controlType="mat-select",this.ariaLabel="",this.optionSelectionChanges=Lb(()=>{const e=this.options;return e?e.changes.pipe(Vd(e),kv(()=>$(...e.map(e=>e.onSelectionChange)))):this._ngZone.onStable.asObservable().pipe(pd(1),kv(()=>this.optionSelectionChanges))}),this.openedChange=new jc,this._openedStream=this.openedChange.pipe(ad(e=>e),N(()=>{})),this._closedStream=this.openedChange.pipe(ad(e=>!e),N(()=>{})),this.selectionChange=new jc,this.valueChange=new jc,this.ngControl&&(this.ngControl.valueAccessor=this),this._scrollStrategyFactory=h,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(u)||0,this.id=this.id,p&&(null!=p.disableOptionCentering&&(this.disableOptionCentering=p.disableOptionCentering),null!=p.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=p.typeaheadDebounceInterval))}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required}set required(e){this._required=Ch(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){if(this._selectionModel)throw Error("Cannot change `multiple` mode of select after initialization.");this._multiple=Ch(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=Ch(e)}get compareWith(){return this._compareWith}set compareWith(e){if("function"!=typeof e)throw Error("`compareWith` must be a function.");this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){e!==this._value&&(this.options&&this._setSelectionByValue(e),this._value=e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=xh(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new Lv(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(wv(),Jf(this._destroy)).subscribe(()=>{this.panelOpen?(this._scrollTop=0,this.openedChange.emit(!0)):(this.openedChange.emit(!1),this.overlayDir.offsetX=0,this._changeDetectorRef.markForCheck())}),this._viewportRuler.change().pipe(Jf(this._destroy)).subscribe(()=>{this._panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Jf(this._destroy)).subscribe(e=>{e.added.forEach(e=>e.select()),e.removed.forEach(e=>e.deselect())}),this.options.changes.pipe(Vd(null),Jf(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){this.ngControl&&this.updateErrorState()}ngOnChanges(e){e.disabled&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){!this.disabled&&this.options&&this.options.length&&!this._panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._calculateOverlayPosition(),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this._ngZone.onStable.asObservable().pipe(pd(1)).subscribe(()=>{this._triggerFontSize&&this.overlayDir.overlayRef&&this.overlayDir.overlayRef.overlayElement&&(this.overlayDir.overlayRef.overlayElement.style.fontSize=this._triggerFontSize+"px")}))}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this.value=e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(e=>e.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const t=e.keyCode,n=40===t||38===t||37===t||39===t,i=13===t||32===t,r=this._keyManager;if(!r.isTyping()&&i&&!nd(e)||(this.multiple||e.altKey)&&n)e.preventDefault(),this.open();else if(!this.multiple){const n=this.selected;36===t||35===t?(36===t?r.setFirstItemActive():r.setLastItemActive(),e.preventDefault()):r.onKeydown(e);const i=this.selected;i&&n!==i&&this._liveAnnouncer.announce(i.viewValue,1e4)}}_handleOpenKeydown(e){const t=this._keyManager,n=e.keyCode,i=40===n||38===n,r=t.isTyping();if(36===n||35===n)e.preventDefault(),36===n?t.setFirstItemActive():t.setLastItemActive();else if(i&&e.altKey)e.preventDefault(),this.close();else if(r||13!==n&&32!==n||!t.activeItem||nd(e))if(!r&&this._multiple&&65===n&&e.ctrlKey){e.preventDefault();const t=this.options.some(e=>!e.disabled&&!e.selected);this.options.forEach(e=>{e.disabled||(t?e.select():e.deselect())})}else{const n=t.activeItemIndex;t.onKeydown(e),this._multiple&&i&&e.shiftKey&&t.activeItem&&t.activeItemIndex!==n&&t.activeItem._selectViaInteraction()}else e.preventDefault(),t.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this.overlayDir.positionChange.pipe(pd(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop})}_getPanelTheme(){return this._parentFormField?"mat-"+this._parentFormField.color:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.multiple&&e){if(!Array.isArray(e))throw Error("Value must be an array in multiple-selection mode.");this._selectionModel.clear(),e.forEach(e=>this._selectValue(e)),this._sortValues()}else{this._selectionModel.clear();const t=this._selectValue(e);t?this._keyManager.updateActiveItem(t):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(e){const t=this.options.find(t=>{try{return null!=t.value&&this._compareWith(t.value,e)}catch(n){return Ai()&&console.warn(n),!1}});return t&&this._selectionModel.select(t),t}_initKeyManager(){this._keyManager=new _d(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Jf(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Jf(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollActiveOptionIntoView():this._panelOpen||this.multiple||!this._keyManager.activeItem||this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=$(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Jf(e)).subscribe(e=>{this._onSelect(e.source,e.isUserInput),e.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),$(...this.options.map(e=>e._stateChanges)).pipe(Jf(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()}),this._setOptionIds()}_onSelect(e,t){const n=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(n!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),t&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),t&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),n!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((t,n)=>this.sortComparator?this.sortComparator(t,n,e):e.indexOf(t)-e.indexOf(n)),this.stateChanges.next()}}_propagateChanges(e){let t=null;t=this.multiple?this.selected.map(e=>e.value):this.selected?this.selected.value:e,this._value=t,this.valueChange.emit(t),this._onChange(t),this.selectionChange.emit(new Qb(this,t)),this._changeDetectorRef.markForCheck()}_setOptionIds(){this._optionIds=this.options.map(e=>e.id).join(" ")}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_scrollActiveOptionIntoView(){const e=this._keyManager.activeItemIndex||0,t=Yf(e,this.options,this.optionGroups);this.panel.nativeElement.scrollTop=function(e,t,n,i){const r=e*t;return r<n?r:r+t>n+256?Math.max(0,r-256+t):n}(e+t,this._getItemHeight(),this.panel.nativeElement.scrollTop)}focus(e){this._elementRef.nativeElement.focus(e)}_getOptionIndex(e){return this.options.reduce((t,n,i)=>void 0!==t?t:e===n?i:void 0,void 0)}_calculateOverlayPosition(){const e=this._getItemHeight(),t=this._getItemCount(),n=Math.min(t*e,256),i=t*e-n;let r=this.empty?0:this._getOptionIndex(this._selectionModel.selected[0]);r+=Yf(r,this.options,this.optionGroups);const s=n/2;this._scrollTop=this._calculateOverlayScroll(r,s,i),this._offsetY=this._calculateOverlayOffsetY(r,s,i),this._checkOverlayWithinViewport(i)}_calculateOverlayScroll(e,t,n){const i=this._getItemHeight();return Math.min(Math.max(0,i*e-t+i/2),n)}_getAriaLabel(){return this.ariaLabelledby?null:this.ariaLabel||this.placeholder}_getAriaLabelledby(){return this.ariaLabelledby?this.ariaLabelledby:this._parentFormField&&this._parentFormField._hasFloatingLabel()&&!this._getAriaLabel()&&this._parentFormField._labelId||null}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_calculateOverlayOffsetX(){const e=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),t=this._viewportRuler.getViewportSize(),n=this._isRtl(),i=this.multiple?56:32;let r;if(this.multiple)r=40;else{let e=this._selectionModel.selected[0]||this.options.first;r=e&&e.group?32:16}n||(r*=-1);const s=0-(e.left+r-(n?i:0)),o=e.right+r-t.width+(n?0:i);s>0?r+=s+8:o>0&&(r-=o+8),this.overlayDir.offsetX=Math.round(r),this.overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,t,n){const i=this._getItemHeight(),r=(i-this._triggerRect.height)/2,s=Math.floor(256/i);let o;return this._disableOptionCentering?0:(o=0===this._scrollTop?e*i:this._scrollTop===n?(e-(this._getItemCount()-s))*i+(i-(this._getItemCount()*i-256)%i):t-i/2,Math.round(-1*o-r))}_checkOverlayWithinViewport(e){const t=this._getItemHeight(),n=this._viewportRuler.getViewportSize(),i=this._triggerRect.top-8,r=n.height-this._triggerRect.bottom-8,s=Math.abs(this._offsetY),o=Math.min(this._getItemCount()*t,256)-s-this._triggerRect.height;o>r?this._adjustPanelUp(o,r):s>i?this._adjustPanelDown(s,i,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,t){const n=Math.round(e-t);this._scrollTop-=n,this._offsetY-=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,t,n){const i=Math.round(e-t);if(this._scrollTop+=i,this._offsetY+=i,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=n)return this._scrollTop=n,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_getOriginBasedOnOption(){const e=this._getItemHeight(),t=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-t+e/2}px 0px`}_getItemCount(){return this.options.length+this.optionGroups.length}_getItemHeight(){return 3*this._triggerFontSize}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty}}return e.\u0275fac=function(t){return new(t||e)(Ao(Bv),Ao(Zs),Ao(Rl),Ao(Ef),Ao(Ga),Ao(Ld,8),Ao(ty,8),Ao(my,8),Ao(Ng,8),Ao(s_,10),Do("tabindex"),Ao(Wb),Ao(xd),Ao(Yb,8))},e.\u0275cmp=dt({type:e,selectors:[["mat-select"]],contentQueries:function(e,t,n){var i;1&e&&(tl(n,ew,!0),tl(n,Wf,!0),tl(n,qf,!0)),2&e&&(Qc(i=rl())&&(t.customTrigger=i.first),Qc(i=rl())&&(t.options=i),Qc(i=rl())&&(t.optionGroups=i))},viewQuery:function(e,t){var n;1&e&&(Jc(Fb,!0),Jc(Ub,!0),Jc(Pb,!0)),2&e&&(Qc(n=rl())&&(t.trigger=n.first),Qc(n=rl())&&(t.panel=n.first),Qc(n=rl())&&(t.overlayDir=n.first))},hostAttrs:["role","listbox",1,"mat-select"],hostVars:19,hostBindings:function(e,t){1&e&&qo("keydown",(function(e){return t._handleKeydown(e)}))("focus",(function(){return t._onFocus()}))("blur",(function(){return t._onBlur()})),2&e&&(To("id",t.id)("tabindex",t.tabIndex)("aria-label",t._getAriaLabel())("aria-labelledby",t._getAriaLabelledby())("aria-required",t.required.toString())("aria-disabled",t.disabled.toString())("aria-invalid",t.errorState)("aria-owns",t.panelOpen?t._optionIds:null)("aria-multiselectable",t.multiple)("aria-describedby",t._ariaDescribedby||null)("aria-activedescendant",t._getAriaActiveDescendant()),oa("mat-select-disabled",t.disabled)("mat-select-invalid",t.errorState)("mat-select-required",t.required)("mat-select-empty",t.empty))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],id:"id",disableOptionCentering:"disableOptionCentering",typeaheadDebounceInterval:"typeaheadDebounceInterval",placeholder:"placeholder",required:"required",multiple:"multiple",compareWith:"compareWith",value:"value",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[ja([{provide:Eg,useExisting:e},{provide:Hf,useExisting:e}]),Ia,At],ngContentSelectors:$b,decls:9,vars:9,consts:[["cdk-overlay-origin","","aria-hidden","true",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder"],[1,"mat-select-value-text",3,"ngSwitch"],[4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-panel-wrap"],[3,"ngClass","keydown"],["panel",""]],template:function(e,t){if(1&e&&(Xo(Gb),No(0,"div",0,1),qo("click",(function(){return t.toggle()})),No(3,"div",2),Ro(4,Bb,2,1,"span",3),Ro(5,Kb,3,2,"span",4),Lo(),No(6,"div",5),Fo(7,"div",6),Lo(),Lo(),Ro(8,qb,4,11,"ng-template",7),qo("backdropClick",(function(){return t.close()}))("attach",(function(){return t._onAttached()}))("detach",(function(){return t.close()}))),2&e){const e=Oo(1);kr(3),Po("ngSwitch",t.empty),kr(1),Po("ngSwitchCase",!0),kr(1),Po("ngSwitchCase",!1),kr(3),Po("cdkConnectedOverlayScrollStrategy",t._scrollStrategy)("cdkConnectedOverlayOrigin",e)("cdkConnectedOverlayOpen",t.panelOpen)("cdkConnectedOverlayPositions",t._positions)("cdkConnectedOverlayMinWidth",null==t._triggerRect?null:t._triggerRect.width)("cdkConnectedOverlayOffsetY",t._offsetY)}},directives:[Db,Nu,Lu,Pb,Fu,Tu],styles:[".mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}\n"],encapsulation:2,data:{animation:[Hb.transformPanelWrap,Hb.transformPanel]},changeDetection:0}),e})(),nw=(()=>{class e{}return e.\u0275mod=gt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:[Xb],imports:[[$u,Nb,Xf,_f],jv,Fg,Xf,_f]}),e})();function iw(e,t){1&e&&Qo(0)}const rw=["*"];function sw(e,t){}const ow=function(e){return{animationDuration:e}},aw=function(e,t){return{value:e,params:t}},cw=["tabBodyWrapper"],lw=["tabHeader"];function uw(e,t){}function hw(e,t){1&e&&Ro(0,uw,0,0,"ng-template",9),2&e&&Po("cdkPortalOutlet",Wo().$implicit.templateLabel)}function dw(e,t){1&e&&ya(0),2&e&&va(Wo().$implicit.textLabel)}function pw(e,t){if(1&e){const e=jo();No(0,"div",6),qo("click",(function(){nn(e);const n=t.$implicit,i=t.index,r=Wo(),s=Oo(1);return r._handleClick(n,s,i)})),No(1,"div",7),Ro(2,hw,1,1,"ng-template",8),Ro(3,dw,1,1,"ng-template",8),Lo(),Lo()}if(2&e){const e=t.$implicit,n=t.index,i=Wo();oa("mat-tab-label-active",i.selectedIndex==n),Po("id",i._getTabLabelId(n))("disabled",e.disabled)("matRippleDisabled",e.disabled||i.disableRipple),To("tabIndex",i._getTabIndex(e,n))("aria-posinset",n+1)("aria-setsize",i._tabs.length)("aria-controls",i._getTabContentId(n))("aria-selected",i.selectedIndex==n)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),kr(2),Po("ngIf",e.templateLabel),kr(1),Po("ngIf",!e.templateLabel)}}function mw(e,t){if(1&e){const e=jo();No(0,"mat-tab-body",10),qo("_onCentered",(function(){return nn(e),Wo()._removeTabBodyWrapperHeight()}))("_onCentering",(function(t){return nn(e),Wo()._setTabBodyWrapperHeight(t)})),Lo()}if(2&e){const e=t.$implicit,n=t.index,i=Wo();oa("mat-tab-body-active",i.selectedIndex==n),Po("id",i._getTabContentId(n))("content",e.content)("position",e.position)("origin",e.origin)("animationDuration",i.animationDuration),To("aria-labelledby",i._getTabLabelId(n))}}const fw=["tabListContainer"],gw=["tabList"],_w=["nextPaginator"],yw=["previousPaginator"],vw=new Fe("MatInkBarPositioner",{providedIn:"root",factory:function(){return e=>({left:e?(e.offsetLeft||0)+"px":"0",width:e?(e.offsetWidth||0)+"px":"0"})}});let bw=(()=>{class e{constructor(e,t,n,i){this._elementRef=e,this._ngZone=t,this._inkBarPositioner=n,this._animationMode=i}alignToElement(e){this.show(),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._setStyles(e))}):this._setStyles(e)}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}_setStyles(e){const t=this._inkBarPositioner(e),n=this._elementRef.nativeElement;n.style.left=t.left,n.style.width=t.width}}return e.\u0275fac=function(t){return new(t||e)(Ao(Ga),Ao(Rl),Ao(vw),Ao(lf,8))},e.\u0275dir=yt({type:e,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(e,t){2&e&&oa("_mat-animation-noopable","NoopAnimations"===t._animationMode)}}),e})();const ww=new Fe("MatTabContent"),Sw=new Fe("MatTabLabel");class Ew{}const kw=yf(Ew),Cw=new Fe("MAT_TAB_GROUP");let xw=(()=>{class e extends kw{constructor(e,t){super(),this._viewContainerRef=e,this._closestTabGroup=t,this.textLabel="",this._contentPortal=null,this._stateChanges=new E,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(e){e&&(this._templateLabel=e)}get content(){return this._contentPortal}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new $v(this._explicitContent||this._implicitContent,this._viewContainerRef)}}return e.\u0275fac=function(t){return new(t||e)(Ao(gc),Ao(Cw,8))},e.\u0275cmp=dt({type:e,selectors:[["mat-tab"]],contentQueries:function(e,t,n){var i;1&e&&(tl(n,Sw,!0),nl(n,ww,!0,mc)),2&e&&(Qc(i=rl())&&(t.templateLabel=i.first),Qc(i=rl())&&(t._explicitContent=i.first))},viewQuery:function(e,t){var n;1&e&&Zc(mc,!0),2&e&&Qc(n=rl())&&(t._implicitContent=n.first)},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"]},exportAs:["matTab"],features:[Ia,At],ngContentSelectors:rw,decls:1,vars:0,template:function(e,t){1&e&&(Xo(),Ro(0,iw,1,0,"ng-template"))},encapsulation:2}),e})();const Tw={translateTab:qd("translateTab",[zd("center, void, left-origin-center, right-origin-center",Hd({transform:"none"})),zd("left",Hd({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),zd("right",Hd({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),Wd("* => left, * => right, left => center, right => center",Gd("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),Wd("void => left-origin-center",[Hd({transform:"translate3d(-100%, 0, 0)"}),Gd("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),Wd("void => right-origin-center",[Hd({transform:"translate3d(100%, 0, 0)"}),Gd("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let Iw=(()=>{class e extends Xv{constructor(e,t,n,i){super(e,t,i),this._host=n,this._centeringSub=h.EMPTY,this._leavingSub=h.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Vd(this._host._isCenterPosition(this._host._position))).subscribe(e=>{e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(Ao(qa),Ao(gc),Ao(Se(()=>Ow)),Ao(ou))},e.\u0275dir=yt({type:e,selectors:[["","matTabBodyHost",""]],features:[Ia]}),e})(),Rw=(()=>{class e{constructor(e,t,n){this._elementRef=e,this._dir=t,this._dirChangeSubscription=h.EMPTY,this._translateTabComplete=new E,this._onCentering=new jc,this._beforeCentering=new jc,this._afterLeavingCenter=new jc,this._onCentered=new jc(!0),this.animationDuration="500ms",t&&(this._dirChangeSubscription=t.change.subscribe(e=>{this._computePositionAnimationState(e),n.markForCheck()})),this._translateTabComplete.pipe(wv((e,t)=>e.fromState===t.fromState&&e.toState===t.toState)).subscribe(e=>{this._isCenterPosition(e.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(e.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(e){this._positionIndex=e,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(e){const t=this._isCenterPosition(e.toState);this._beforeCentering.emit(t),t&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(e){return"center"==e||"left-origin-center"==e||"right-origin-center"==e}_computePositionAnimationState(e=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==e?"left":"right":this._positionIndex>0?"ltr"==e?"right":"left":"center"}_computePositionFromOrigin(e){const t=this._getLayoutDirection();return"ltr"==t&&e<=0||"rtl"==t&&e>0?"left-origin-center":"right-origin-center"}}return e.\u0275fac=function(t){return new(t||e)(Ao(Ga),Ao(Ld,8),Ao(Zs))},e.\u0275dir=yt({type:e,inputs:{animationDuration:"animationDuration",position:"position",_content:["content","_content"],origin:"origin"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),e})(),Ow=(()=>{class e extends Rw{constructor(e,t,n){super(e,t,n)}}return e.\u0275fac=function(t){return new(t||e)(Ao(Ga),Ao(Ld,8),Ao(Zs))},e.\u0275cmp=dt({type:e,selectors:[["mat-tab-body"]],viewQuery:function(e,t){var n;1&e&&Jc(Qv,!0),2&e&&Qc(n=rl())&&(t._portalHost=n.first)},hostAttrs:[1,"mat-tab-body"],features:[Ia],decls:3,vars:6,consts:[[1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(e,t){1&e&&(No(0,"div",0,1),qo("@translateTab.start",(function(e){return t._onTranslateTabStarted(e)}))("@translateTab.done",(function(e){return t._translateTabComplete.next(e)})),Ro(2,sw,0,0,"ng-template",2),Lo()),2&e&&Po("@translateTab",Nc(3,aw,t._position,Mc(1,ow,t.animationDuration)))},directives:[Iw],styles:[".mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}\n"],encapsulation:2,data:{animation:[Tw.translateTab]}}),e})();const Aw=new Fe("MAT_TABS_CONFIG");let Dw=0;class Pw{}class Mw{constructor(e){this._elementRef=e}}const Nw=vf(bf(Mw),"primary");let Lw=(()=>{class e extends Nw{constructor(e,t,n,i){super(e),this._changeDetectorRef=t,this._animationMode=i,this._tabs=new Kc,this._indexToSelect=0,this._tabBodyWrapperHeight=0,this._tabsSubscription=h.EMPTY,this._tabLabelSubscription=h.EMPTY,this._dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new jc,this.focusChange=new jc,this.animationDone=new jc,this.selectedTabChange=new jc(!0),this._groupId=Dw++,this.animationDuration=n&&n.animationDuration?n.animationDuration:"500ms",this.disablePagination=!(!n||null==n.disablePagination)&&n.disablePagination}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(e){this._dynamicHeight=Ch(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=xh(e,null)}get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e)?e+"ms":e}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){const t=this._elementRef.nativeElement;t.classList.remove("mat-background-"+this.backgroundColor),e&&t.classList.add("mat-background-"+e),this._backgroundColor=e}ngAfterContentChecked(){const e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){const t=null==this._selectedIndex;t||this.selectedTabChange.emit(this._createChangeEvent(e)),Promise.resolve().then(()=>{this._tabs.forEach((t,n)=>t.isActive=n===e),t||this.selectedIndexChange.emit(e)})}this._tabs.forEach((t,n)=>{t.position=n-e,null==this._selectedIndex||0!=t.position||t.origin||(t.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{if(this._clampTabIndex(this._indexToSelect)===this._selectedIndex){const e=this._tabs.toArray();for(let t=0;t<e.length;t++)if(e[t].isActive){this._indexToSelect=this._selectedIndex=t;break}}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Vd(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(e=>!e._closestTabGroup||e._closestTabGroup===this)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}_focusChanged(e){this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){const t=new Pw;return t.index=e,this._tabs&&this._tabs.length&&(t.tab=this._tabs.toArray()[e]),t}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=$(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e){return`mat-tab-label-${this._groupId}-${e}`}_getTabContentId(e){return`mat-tab-content-${this._groupId}-${e}`}_setTabBodyWrapperHeight(e){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const t=this._tabBodyWrapper.nativeElement;t.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(t.style.height=e+"px")}_removeTabBodyWrapperHeight(){const e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this.animationDone.emit()}_handleClick(e,t,n){e.disabled||(this.selectedIndex=t.focusIndex=n)}_getTabIndex(e,t){return e.disabled?null:this.selectedIndex===t?0:-1}}return e.\u0275fac=function(t){return new(t||e)(Ao(Ga),Ao(Zs),Ao(Aw,8),Ao(lf,8))},e.\u0275dir=yt({type:e,inputs:{headerPosition:"headerPosition",animationDuration:"animationDuration",disablePagination:"disablePagination",dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[Ia]}),e})(),Fw=(()=>{class e extends Lw{constructor(e,t,n,i){super(e,t,n,i)}}return e.\u0275fac=function(t){return new(t||e)(Ao(Ga),Ao(Zs),Ao(Aw,8),Ao(lf,8))},e.\u0275cmp=dt({type:e,selectors:[["mat-tab-group"]],contentQueries:function(e,t,n){var i;1&e&&tl(n,xw,!0),2&e&&Qc(i=rl())&&(t._allTabs=i)},viewQuery:function(e,t){var n;1&e&&(Jc(cw,!0),Jc(lw,!0)),2&e&&(Qc(n=rl())&&(t._tabBodyWrapper=n.first),Qc(n=rl())&&(t._tabHeader=n.first))},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(e,t){2&e&&oa("mat-tab-group-dynamic-height",t.dynamicHeight)("mat-tab-group-inverted-header","below"===t.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[ja([{provide:Cw,useExisting:e}]),Ia],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","disabled","matRippleDisabled","click",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","disabled","matRippleDisabled","click"],[1,"mat-tab-label-content"],[3,"ngIf"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(e,t){1&e&&(No(0,"mat-tab-header",0,1),qo("indexFocused",(function(e){return t._focusChanged(e)}))("selectFocusedIndex",(function(e){return t.selectedIndex=e})),Ro(2,pw,4,14,"div",2),Lo(),No(3,"div",3,4),Ro(5,mw,1,8,"mat-tab-body",5),Lo()),2&e&&(Po("selectedIndex",t.selectedIndex||0)("disableRipple",t.disableRipple)("disablePagination",t.disablePagination),kr(2),Po("ngForOf",t._tabs),kr(1),oa("_mat-animation-noopable","NoopAnimations"===t._animationMode),kr(2),Po("ngForOf",t._tabs))},directives:function(){return[Gw,Ru,jw,Mf,Dd,Au,Xv,Ow]},styles:[".mat-tab-group{display:flex;flex-direction:column}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),e})();class Uw{}const Bw=yf(Uw);let jw=(()=>{class e extends Bw{constructor(e){super(),this.elementRef=e}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return e.\u0275fac=function(t){return new(t||e)(Ao(Ga))},e.\u0275dir=yt({type:e,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(e,t){2&e&&(To("aria-disabled",!!t.disabled),oa("mat-tab-disabled",t.disabled))},inputs:{disabled:"disabled"},features:[Ia]}),e})();const Vw=Zh({passive:!0});let Kw=(()=>{class e{constructor(e,t,n,i,r,s,o){this._elementRef=e,this._changeDetectorRef=t,this._viewportRuler=n,this._dir=i,this._ngZone=r,this._platform=s,this._animationMode=o,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new E,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new E,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new jc,this.indexFocused=new jc,r.runOutsideAngular(()=>{Zf(e.nativeElement,"mouseleave").pipe(Jf(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){e=xh(e),this._selectedIndex!=e&&(this._selectedIndexChanged=!0,this._selectedIndex=e,this._keyManager&&this._keyManager.updateActiveItem(e))}ngAfterViewInit(){Zf(this._previousPaginator.nativeElement,"touchstart",Vw).pipe(Jf(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),Zf(this._nextPaginator.nativeElement,"touchstart",Vw).pipe(Jf(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const e=this._dir?this._dir.change:td(null),t=this._viewportRuler.change(150),n=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new yd(this._items).withHorizontalOrientation(this._getLayoutDirection()).withWrap(),this._keyManager.updateActiveItem(0),"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(n):n(),$(e,t,this._items.changes).pipe(Jf(this._destroyed)).subscribe(()=>{Promise.resolve().then(n),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(Jf(this._destroyed)).subscribe(e=>{this.indexFocused.emit(e),this._setTabFocus(e)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!nd(e))switch(e.keyCode){case 36:this._keyManager.setFirstItemActive(),e.preventDefault();break;case 35:this._keyManager.setLastItemActive(),e.preventDefault();break;case 13:case 32:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e));break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){const e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){this._isValidIndex(e)&&this.focusIndex!==e&&this._keyManager&&this._keyManager.setActiveItem(e)}_isValidIndex(e){if(!this._items)return!0;const t=this._items?this._items.toArray()[e]:null;return!!t&&!t.disabled}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();const t=this._tabListContainer.nativeElement,n=this._getLayoutDirection();t.scrollLeft="ltr"==n?0:t.scrollWidth-t.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const e=this.scrollDistance,t=this._platform,n="ltr"===this._getLayoutDirection()?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(n)}px)`,t&&(t.TRIDENT||t.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){return this._scrollTo(this._scrollDistance+("before"==e?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;const t=this._items?this._items.toArray()[e]:null;if(!t)return;const n=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:i,offsetWidth:r}=t.elementRef.nativeElement;let s,o;"ltr"==this._getLayoutDirection()?(s=i,o=s+r):(o=this._tabList.nativeElement.offsetWidth-i,s=o-r);const a=this.scrollDistance,c=this.scrollDistance+n;s<a?this.scrollDistance-=a-s+60:o>c&&(this.scrollDistance+=o-c+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const e=this._tabList.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;e||(this.scrollDistance=0),e!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=e}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabList.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,t=e?e.elementRef.nativeElement:null;t?this._inkBar.alignToElement(t):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,t){t&&null!=t.button&&0!==t.button||(this._stopInterval(),Vg(650,100).pipe(Jf($(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:t,distance:n}=this._scrollHeader(e);(0===n||n>=t)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const t=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(t,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:t,distance:this._scrollDistance}}}return e.\u0275fac=function(t){return new(t||e)(Ao(Ga),Ao(Zs),Ao(Bv),Ao(Ld,8),Ao(Rl),Ao($h),Ao(lf,8))},e.\u0275dir=yt({type:e,inputs:{disablePagination:"disablePagination"}}),e})(),qw=(()=>{class e extends Kw{constructor(e,t,n,i,r,s,o){super(e,t,n,i,r,s,o),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Ch(e)}_itemSelected(e){e.preventDefault()}}return e.\u0275fac=function(t){return new(t||e)(Ao(Ga),Ao(Zs),Ao(Bv),Ao(Ld,8),Ao(Rl),Ao($h),Ao(lf,8))},e.\u0275dir=yt({type:e,inputs:{disableRipple:"disableRipple"},features:[Ia]}),e})(),Gw=(()=>{class e extends qw{constructor(e,t,n,i,r,s,o){super(e,t,n,i,r,s,o)}}return e.\u0275fac=function(t){return new(t||e)(Ao(Ga),Ao(Zs),Ao(Bv),Ao(Ld,8),Ao(Rl),Ao($h),Ao(lf,8))},e.\u0275cmp=dt({type:e,selectors:[["mat-tab-header"]],contentQueries:function(e,t,n){var i;1&e&&tl(n,jw,!1),2&e&&Qc(i=rl())&&(t._items=i)},viewQuery:function(e,t){var n;1&e&&(Zc(bw,!0),Zc(fw,!0),Zc(gw,!0),Jc(_w,!0),Jc(yw,!0)),2&e&&(Qc(n=rl())&&(t._inkBar=n.first),Qc(n=rl())&&(t._tabListContainer=n.first),Qc(n=rl())&&(t._tabList=n.first),Qc(n=rl())&&(t._nextPaginator=n.first),Qc(n=rl())&&(t._previousPaginator=n.first))},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(e,t){2&e&&oa("mat-tab-header-pagination-controls-enabled",t._showPaginationControls)("mat-tab-header-rtl","rtl"==t._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[Ia],ngContentSelectors:rw,decls:13,vars:8,consts:[["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(e,t){1&e&&(Xo(),No(0,"div",0,1),qo("click",(function(){return t._handlePaginatorClick("before")}))("mousedown",(function(e){return t._handlePaginatorPress("before",e)}))("touchend",(function(){return t._stopInterval()})),Fo(2,"div",2),Lo(),No(3,"div",3,4),qo("keydown",(function(e){return t._handleKeydown(e)})),No(5,"div",5,6),qo("cdkObserveContent",(function(){return t._onContentChanges()})),No(7,"div",7),Qo(8),Lo(),Fo(9,"mat-ink-bar"),Lo(),Lo(),No(10,"div",8,9),qo("mousedown",(function(e){return t._handlePaginatorPress("after",e)}))("click",(function(){return t._handlePaginatorClick("after")}))("touchend",(function(){return t._stopInterval()})),Fo(12,"div",2),Lo()),2&e&&(oa("mat-tab-header-pagination-disabled",t._disableScrollBefore),Po("matRippleDisabled",t._disableScrollBefore||t.disableRipple),kr(5),oa("_mat-animation-noopable","NoopAnimations"===t._animationMode),kr(5),oa("mat-tab-header-pagination-disabled",t._disableScrollAfter),Po("matRippleDisabled",t._disableScrollAfter||t.disableRipple))},directives:[Mf,Kh,bw],styles:['.mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:"";height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n'],encapsulation:2}),e})(),$w=(()=>{class e{}return e.\u0275mod=gt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[$u,_f,Jv,Nf,qh,Md],_f]}),e})();function Hw(e,t){}class zw{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const Ww={dialogContainer:qd("dialogContainer",[zd("void, exit",Hd({opacity:0,transform:"scale(0.7)"})),zd("enter",Hd({transform:"none"})),Wd("* => enter",Gd("150ms cubic-bezier(0, 0, 0.2, 1)",Hd({transform:"none",opacity:1}))),Wd("* => void, * => exit",Gd("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Hd({opacity:0})))])};function Yw(){throw Error("Attempting to attach dialog content after content is already attached")}let Xw=(()=>{class e extends zv{constructor(e,t,n,i,r,s){super(),this._elementRef=e,this._focusTrapFactory=t,this._changeDetectorRef=n,this._config=r,this._focusMonitor=s,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._state="enter",this._animationStateChanged=new jc,this.attachDomPortal=e=>(this._portalOutlet.hasAttached()&&Yw(),this._setupFocusTrap(),this._portalOutlet.attachDomPortal(e)),this._ariaLabelledBy=r.ariaLabelledBy||null,this._document=i}attachComponentPortal(e){return this._portalOutlet.hasAttached()&&Yw(),this._setupFocusTrap(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached()&&Yw(),this._setupFocusTrap(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const t=this._document.activeElement,n=this._elementRef.nativeElement;t&&t!==this._document.body&&t!==n&&!n.contains(t)||(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)),this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement,this._elementRef.nativeElement.focus&&Promise.resolve().then(()=>this._elementRef.nativeElement.focus()))}_containsFocus(){const e=this._elementRef.nativeElement,t=this._document.activeElement;return e===t||e.contains(t)}_onAnimationDone(e){"enter"===e.toState?this._trapFocus():"exit"===e.toState&&this._restoreFocus(),this._animationStateChanged.emit(e)}_onAnimationStart(e){this._animationStateChanged.emit(e)}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return e.\u0275fac=function(t){return new(t||e)(Ao(Ga),Ao(Ed),Ao(Zs),Ao(ou,8),Ao(zw),Ao(Od))},e.\u0275cmp=dt({type:e,selectors:[["mat-dialog-container"]],viewQuery:function(e,t){var n;1&e&&Zc(Xv,!0),2&e&&Qc(n=rl())&&(t._portalOutlet=n.first)},hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,t){1&e&&Go("@dialogContainer.start",(function(e){return t._onAnimationStart(e)}))("@dialogContainer.done",(function(e){return t._onAnimationDone(e)})),2&e&&(To("id",t._id)("role",t._config.role)("aria-labelledby",t._config.ariaLabel?null:t._ariaLabelledBy)("aria-label",t._config.ariaLabel)("aria-describedby",t._config.ariaDescribedBy||null),xa("@dialogContainer",t._state))},features:[Ia],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,t){1&e&&Ro(0,Hw,0,0,"ng-template",0)},directives:[Xv],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Ww.dialogContainer]}}),e})(),Qw=0;class Zw{constructor(e,t,n="mat-dialog-"+Qw++){this._overlayRef=e,this._containerInstance=t,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new E,this._afterClosed=new E,this._beforeClosed=new E,this._state=0,t._id=n,t._animationStateChanged.pipe(ad(e=>"done"===e.phaseName&&"enter"===e.toState),pd(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(ad(e=>"done"===e.phaseName&&"exit"===e.toState),pd(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),e.keydownEvents().pipe(ad(e=>27===e.keyCode&&!this.disableClose&&!nd(e))).subscribe(e=>{e.preventDefault(),Jw(this,"keyboard")}),e.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():Jw(this,"mouse")})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(ad(e=>"start"===e.phaseName),pd(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._containerInstance._startExitAnimation(),this._state=1}afterOpened(){return this._afterOpened.asObservable()}afterClosed(){return this._afterClosed.asObservable()}beforeClosed(){return this._beforeClosed.asObservable()}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(e){let t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(e="",t=""){return this._getPositionStrategy().width(e).height(t),this._overlayRef.updatePosition(),this}addPanelClass(e){return this._overlayRef.addPanelClass(e),this}removePanelClass(e){return this._overlayRef.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function Jw(e,t,n){return void 0!==e._containerInstance&&(e._containerInstance._closeInteractionType=t),e.close(n)}const eS=new Fe("MatDialogData"),tS=new Fe("mat-dialog-default-options"),nS=new Fe("mat-dialog-scroll-strategy"),iS={provide:nS,deps:[Rb],useFactory:function(e){return()=>e.scrollStrategies.block()}};let rS=(()=>{class e{constructor(e,t,n,i,r,s,o){this._overlay=e,this._injector=t,this._defaultOptions=i,this._parentDialog=s,this._overlayContainer=o,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new E,this._afterOpenedAtThisLevel=new E,this._ariaHiddenElements=new Map,this.afterAllClosed=Lb(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Vd(void 0))),this._scrollStrategy=r}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,t){if((t=function(e,t){return Object.assign(Object.assign({},t),e)}(t,this._defaultOptions||new zw)).id&&this.getDialogById(t.id))throw Error(`Dialog with id "${t.id}" exists already. The dialog id must be unique.`);const n=this._createOverlay(t),i=this._attachDialogContainer(n,t),r=this._attachDialogContent(e,i,n,t);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(r),r.afterClosed().subscribe(()=>this._removeOpenDialog(r)),this.afterOpened.next(r),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const t=this._getOverlayConfig(e);return this._overlay.create(t)}_getOverlayConfig(e){const t=new ub({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(t.backdropClass=e.backdropClass),t}_attachDialogContainer(e,t){const n=go.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:zw,useValue:t}]}),i=new Gv(Xw,t.viewContainerRef,n,t.componentFactoryResolver);return e.attach(i).instance}_attachDialogContent(e,t,n,i){const r=new Zw(n,t,i.id);if(e instanceof mc)t.attachTemplatePortal(new $v(e,null,{$implicit:i.data,dialogRef:r}));else{const n=this._createInjector(i,r,t),s=t.attachComponentPortal(new Gv(e,i.viewContainerRef,n));r.componentInstance=s.instance}return r.updateSize(i.width,i.height).updatePosition(i.position),r}_createInjector(e,t,n){const i=e&&e.viewContainerRef&&e.viewContainerRef.injector,r=[{provide:Xw,useValue:n},{provide:eS,useValue:e.data},{provide:Zw,useValue:t}];return!e.direction||i&&i.get(Ld,null)||r.push({provide:Ld,useValue:{value:e.direction,change:td()}}),go.create({parent:i||this._injector,providers:r})}_removeOpenDialog(e){const t=this.openDialogs.indexOf(e);t>-1&&(this.openDialogs.splice(t,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((e,t)=>{e?t.setAttribute("aria-hidden",e):t.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const t=e.parentElement.children;for(let n=t.length-1;n>-1;n--){let i=t[n];i===e||"SCRIPT"===i.nodeName||"STYLE"===i.nodeName||i.hasAttribute("aria-live")||(this._ariaHiddenElements.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let t=e.length;for(;t--;)e[t].close()}}return e.\u0275fac=function(t){return new(t||e)(ze(Rb),ze(go),ze(wu,8),ze(tS,8),ze(nS),ze(e,12),ze(vb))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})(),sS=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=yt({type:e,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),e})(),oS=(()=>{class e{}return e.\u0275mod=gt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:[rS,iS],imports:[[Nb,Jv,_f],_f]}),e})(),aS=(()=>{class e{}return e.\u0275mod=gt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[Nf,_f],_f]}),e})();const cS=["*",[["mat-toolbar-row"]]],lS=["*","mat-toolbar-row"];class uS{constructor(e){this._elementRef=e}}const hS=vf(uS);let dS=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=yt({type:e,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),e})(),pS=(()=>{class e extends hS{constructor(e,t,n){super(e),this._platform=t,this._document=n}ngAfterViewInit(){Ai()&&this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length&&Array.from(this._elementRef.nativeElement.childNodes).filter(e=>!(e.classList&&e.classList.contains("mat-toolbar-row"))).filter(e=>e.nodeType!==(this._document?this._document.COMMENT_NODE:8)).some(e=>!(!e.textContent||!e.textContent.trim()))&&function(){throw Error("MatToolbar: Attempting to combine different toolbar modes. Either specify multiple `<mat-toolbar-row>` elements explicitly or just place content inside of a `<mat-toolbar>` for a single row.")}()}}return e.\u0275fac=function(t){return new(t||e)(Ao(Ga),Ao($h),Ao(ou))},e.\u0275cmp=dt({type:e,selectors:[["mat-toolbar"]],contentQueries:function(e,t,n){var i;1&e&&tl(n,dS,!0),2&e&&Qc(i=rl())&&(t._toolbarRows=i)},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,t){2&e&&oa("mat-toolbar-multiple-rows",t._toolbarRows.length>0)("mat-toolbar-single-row",0===t._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[Ia],ngContentSelectors:lS,decls:2,vars:0,template:function(e,t){1&e&&(Xo(cS),Qo(0),Qo(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),e})(),mS=(()=>{class e{}return e.\u0275mod=gt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[_f],_f]}),e})();const fS=["*"];function gS(e,t){if(1&e){const e=jo();No(0,"div",2),qo("click",(function(){return nn(e),Wo()._onBackdropClicked()})),Lo()}2&e&&oa("mat-drawer-shown",Wo()._isShowingBackdrop())}function _S(e,t){1&e&&(No(0,"mat-drawer-content"),Qo(1,2),Lo())}const yS=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],vS=["mat-drawer","mat-drawer-content","*"];function bS(e,t){if(1&e){const e=jo();No(0,"div",2),qo("click",(function(){return nn(e),Wo()._onBackdropClicked()})),Lo()}2&e&&oa("mat-drawer-shown",Wo()._isShowingBackdrop())}function wS(e,t){1&e&&(No(0,"mat-sidenav-content",3),Qo(1,2),Lo())}const SS=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],ES=["mat-sidenav","mat-sidenav-content","*"],kS=".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n",CS={transformDrawer:qd("transform",[zd("open, open-instant",Hd({transform:"none",visibility:"visible"})),zd("void",Hd({"box-shadow":"none",visibility:"hidden"})),Wd("void => open-instant",Gd("0ms")),Wd("void <=> open, open-instant => void",Gd("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])};function xS(e){throw Error(`A drawer was already declared for 'position="${e}"'`)}const TS=new Fe("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}}),IS=new Fe("MAT_DRAWER_CONTAINER");let RS=(()=>{class e extends Uv{constructor(e,t,n,i,r){super(n,i,r),this._changeDetectorRef=e,this._container=t}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return e.\u0275fac=function(t){return new(t||e)(Ao(Zs),Ao(Se(()=>AS)),Ao(Ga),Ao(Fv),Ao(Rl))},e.\u0275cmp=dt({type:e,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,t){2&e&&sa("margin-left",t._container._contentMargins.left,"px")("margin-right",t._container._contentMargins.right,"px")},features:[Ia],ngContentSelectors:fS,decls:1,vars:0,template:function(e,t){1&e&&(Xo(),Qo(0))},encapsulation:2,changeDetection:0}),e})(),OS=(()=>{class e{constructor(e,t,n,i,r,s,o){this._elementRef=e,this._focusTrapFactory=t,this._focusMonitor=n,this._platform=i,this._ngZone=r,this._doc=s,this._container=o,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new E,this._animationEnd=new E,this._animationState="void",this.openedChange=new jc(!0),this._openedStream=this.openedChange.pipe(ad(e=>e),N(()=>{})),this._closedStream=this.openedChange.pipe(ad(e=>!e),N(()=>{})),this._destroyed=new E,this.onPositionChanged=new jc,this._modeChanged=new E,this.openedChange.subscribe(e=>{e?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus()}),this._ngZone.runOutsideAngular(()=>{Zf(this._elementRef.nativeElement,"keydown").pipe(ad(e=>27===e.keyCode&&!this.disableClose&&!nd(e)),Jf(this._destroyed)).subscribe(e=>this._ngZone.run(()=>{this.close(),e.stopPropagation(),e.preventDefault()}))}),this._animationEnd.pipe(wv((e,t)=>e.fromState===t.fromState&&e.toState===t.toState)).subscribe(e=>{const{fromState:t,toState:n}=e;(0===n.indexOf("open")&&"void"===t||"void"===n&&0===t.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!=this._position&&(this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=Ch(e)}get autoFocus(){const e=this._autoFocus;return null==e?"side"!==this.mode:e}set autoFocus(e){this._autoFocus=Ch(e)}get opened(){return this._opened}set opened(e){this.toggle(Ch(e))}get openedStart(){return this._animationStarted.pipe(ad(e=>e.fromState!==e.toState&&0===e.toState.indexOf("open")),N(()=>{}))}get closedStart(){return this._animationStarted.pipe(ad(e=>e.fromState!==e.toState&&"void"===e.toState),N(()=>{}))}_takeFocus(){this.autoFocus&&this._focusTrap&&this._focusTrap.focusInitialElementWhenReady().then(e=>{e||"function"!=typeof this._elementRef.nativeElement.focus||this._elementRef.nativeElement.focus()})}_restoreFocus(){this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,this._openedVia):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null,this._openedVia=null)}_isFocusWithinDrawer(){var e;const t=null===(e=this._doc)||void 0===e?void 0:e.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0)}toggle(e=!this.opened,t){return this._setOpen(e,!e&&this._isFocusWithinDrawer(),t)}_setOpen(e,t,n="program"){return this._opened=e,e?(this._animationState=this._enableAnimations?"open":"open-instant",this._openedVia=n):(this._animationState="void",t&&this._restoreFocus()),this._updateFocusTrapState(),new Promise(e=>{this.openedChange.pipe(pd(1)).subscribe(t=>e(t?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_animationStartListener(e){this._animationStarted.next(e)}_animationDoneListener(e){this._animationEnd.next(e)}}return e.\u0275fac=function(t){return new(t||e)(Ao(Ga),Ao(Ed),Ao(Od),Ao($h),Ao(Rl),Ao(ou,8),Ao(IS,8))},e.\u0275cmp=dt({type:e,selectors:[["mat-drawer"]],hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,t){1&e&&Go("@transform.start",(function(e){return t._animationStartListener(e)}))("@transform.done",(function(e){return t._animationDoneListener(e)})),2&e&&(To("align",null),xa("@transform",t._animationState),oa("mat-drawer-end","end"===t.position)("mat-drawer-over","over"===t.mode)("mat-drawer-push","push"===t.mode)("mat-drawer-side","side"===t.mode)("mat-drawer-opened",t.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",onPositionChanged:"positionChanged",openedStart:"openedStart",closedStart:"closedStart"},exportAs:["matDrawer"],ngContentSelectors:fS,decls:2,vars:0,consts:[[1,"mat-drawer-inner-container"]],template:function(e,t){1&e&&(Xo(),No(0,"div",0),Qo(1),Lo())},encapsulation:2,data:{animation:[CS.transformDrawer]},changeDetection:0}),e})(),AS=(()=>{class e{constructor(e,t,n,i,r,s=!1,o){this._dir=e,this._element=t,this._ngZone=n,this._changeDetectorRef=i,this._animationMode=o,this._drawers=new Kc,this.backdropClick=new jc,this._destroyed=new E,this._doCheckSubject=new E,this._contentMargins={left:null,right:null},this._contentMarginChanges=new E,e&&e.change.pipe(Jf(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),r.change().pipe(Jf(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=s}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=Ch(e)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(e){this._backdropOverride=null==e?null:Ch(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(Vd(this._allDrawers),Jf(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(e=>!e._container||e._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Vd(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(Nh(10),Jf(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,t=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const n=this._left._getWidth();e+=n,t-=n}if(this._right&&this._right.opened)if("side"==this._right.mode)t+=this._right._getWidth();else if("push"==this._right.mode){const n=this._right._getWidth();t+=n,e-=n}e=e||null,t=t||null,e===this._contentMargins.left&&t===this._contentMargins.right||(this._contentMargins={left:e,right:t},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(ad(e=>e.fromState!==e.toState),Jf(this._drawers.changes)).subscribe(e=>{"open-instant"!==e.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(Jf(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){e&&e.onPositionChanged.pipe(Jf(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.asObservable().pipe(pd(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(Jf($(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const t=this._element.nativeElement.classList,n="mat-drawer-container-has-open";e?t.add(n):t.remove(n)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?(null!=this._end&&xS("end"),this._end=e):(null!=this._start&&xS("start"),this._start=e)}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return e.\u0275fac=function(t){return new(t||e)(Ao(Ld,8),Ao(Ga),Ao(Rl),Ao(Zs),Ao(Bv),Ao(TS),Ao(lf,8))},e.\u0275cmp=dt({type:e,selectors:[["mat-drawer-container"]],contentQueries:function(e,t,n){var i;1&e&&(tl(n,RS,!0),tl(n,OS,!0)),2&e&&(Qc(i=rl())&&(t._content=i.first),Qc(i=rl())&&(t._allDrawers=i))},viewQuery:function(e,t){var n;1&e&&Jc(RS,!0),2&e&&Qc(n=rl())&&(t._userContent=n.first)},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,t){2&e&&oa("mat-drawer-container-explicit-backdrop",t._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[ja([{provide:IS,useExisting:e}])],ngContentSelectors:vS,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,t){1&e&&(Xo(yS),Ro(0,gS,1,2,"div",0),Qo(1),Qo(2,1),Ro(3,_S,2,0,"mat-drawer-content",1)),2&e&&(Po("ngIf",t.hasBackdrop),kr(3),Po("ngIf",!t._content))},directives:[Au,RS],styles:[kS],encapsulation:2,changeDetection:0}),e})(),DS=(()=>{class e extends RS{constructor(e,t,n,i,r){super(e,t,n,i,r)}}return e.\u0275fac=function(t){return new(t||e)(Ao(Zs),Ao(Se(()=>NS)),Ao(Ga),Ao(Fv),Ao(Rl))},e.\u0275cmp=dt({type:e,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(e,t){2&e&&sa("margin-left",t._container._contentMargins.left,"px")("margin-right",t._container._contentMargins.right,"px")},features:[Ia],ngContentSelectors:fS,decls:1,vars:0,template:function(e,t){1&e&&(Xo(),Qo(0))},encapsulation:2,changeDetection:0}),e})(),PS=(()=>{class e extends OS{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=Ch(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=xh(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=xh(e)}}return e.\u0275fac=function(t){return MS(t||e)},e.\u0275cmp=dt({type:e,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(e,t){2&e&&(To("align",null),sa("top",t.fixedInViewport?t.fixedTopGap:null,"px")("bottom",t.fixedInViewport?t.fixedBottomGap:null,"px"),oa("mat-drawer-end","end"===t.position)("mat-drawer-over","over"===t.mode)("mat-drawer-push","push"===t.mode)("mat-drawer-side","side"===t.mode)("mat-drawer-opened",t.opened)("mat-sidenav-fixed",t.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[Ia],ngContentSelectors:fS,decls:2,vars:0,consts:[[1,"mat-drawer-inner-container"]],template:function(e,t){1&e&&(Xo(),No(0,"div",0),Qo(1),Lo())},encapsulation:2,data:{animation:[CS.transformDrawer]},changeDetection:0}),e})();const MS=fi(PS);let NS=(()=>{class e extends AS{}return e.\u0275fac=function(t){return LS(t||e)},e.\u0275cmp=dt({type:e,selectors:[["mat-sidenav-container"]],contentQueries:function(e,t,n){var i;1&e&&(tl(n,DS,!0),tl(n,PS,!0)),2&e&&(Qc(i=rl())&&(t._content=i.first),Qc(i=rl())&&(t._allDrawers=i))},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(e,t){2&e&&oa("mat-drawer-container-explicit-backdrop",t._backdropOverride)},exportAs:["matSidenavContainer"],features:[ja([{provide:IS,useExisting:e}]),Ia],ngContentSelectors:ES,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],["cdkScrollable","",4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"],["cdkScrollable",""]],template:function(e,t){1&e&&(Xo(SS),Ro(0,bS,1,2,"div",0),Qo(1),Qo(2,1),Ro(3,wS,2,0,"mat-sidenav-content",1)),2&e&&(Po("ngIf",t.hasBackdrop),kr(3),Po("ngIf",!t._content))},directives:[Au,DS,Uv],styles:[kS],encapsulation:2,changeDetection:0}),e})();const LS=fi(NS);let FS=(()=>{class e{}return e.\u0275mod=gt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[$u,_f,Hh,jv],jv,_f]}),e})(),US=(()=>{class e{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=Ch(e)}get inset(){return this._inset}set inset(e){this._inset=Ch(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=dt({type:e,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,t){2&e&&(To("aria-orientation",t.vertical?"vertical":"horizontal"),oa("mat-divider-vertical",t.vertical)("mat-divider-horizontal",!t.vertical)("mat-divider-inset",t.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,t){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),e})(),BS=(()=>{class e{}return e.\u0275mod=gt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[_f],_f]}),e})();const jS=["*"],VS='.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n',KS=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],qS=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"];class GS{}const $S=yf(bf(GS));class HS{}const zS=bf(HS),WS=new Fe("MatList"),YS=new Fe("MatNavList");let XS=(()=>{class e extends $S{constructor(){super(...arguments),this._stateChanges=new E}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return e.\u0275fac=function(t){return QS(t||e)},e.\u0275cmp=dt({type:e,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[ja([{provide:YS,useExisting:e}]),Ia,At],ngContentSelectors:jS,decls:1,vars:0,template:function(e,t){1&e&&(Xo(),Qo(0))},styles:[VS],encapsulation:2,changeDetection:0}),e})();const QS=fi(XS);let ZS=(()=>{class e extends $S{constructor(e){super(),this._elementRef=e,this._stateChanges=new E,"action-list"===this._getListType()&&e.nativeElement.classList.add("mat-action-list")}_getListType(){const e=this._elementRef.nativeElement.nodeName.toLowerCase();return"mat-list"===e?"list":"mat-action-list"===e?"action-list":null}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return e.\u0275fac=function(t){return new(t||e)(Ao(Ga))},e.\u0275cmp=dt({type:e,selectors:[["mat-list"],["mat-action-list"]],hostAttrs:[1,"mat-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matList"],features:[ja([{provide:WS,useExisting:e}]),Ia,At],ngContentSelectors:jS,decls:1,vars:0,template:function(e,t){1&e&&(Xo(),Qo(0))},styles:[VS],encapsulation:2,changeDetection:0}),e})(),JS=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=yt({type:e,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),e})(),eE=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=yt({type:e,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),e})(),tE=(()=>{class e extends zS{constructor(e,t,n,i){super(),this._element=e,this._isInteractiveList=!1,this._destroyed=new E,this._disabled=!1,this._isInteractiveList=!!(n||i&&"action-list"===i._getListType()),this._list=n||i;const r=this._getHostElement();"button"!==r.nodeName.toLowerCase()||r.hasAttribute("type")||r.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(Jf(this._destroyed)).subscribe(()=>{t.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(e){this._disabled=Ch(e)}ngAfterContentInit(){!function(e,t,n="mat"){e.changes.pipe(Vd(e)).subscribe(({length:e})=>{Cf(t,n+"-2-line",!1),Cf(t,n+"-3-line",!1),Cf(t,n+"-multi-line",!1),2===e||3===e?Cf(t,`${n}-${e}-line`,!0):e>3&&Cf(t,n+"-multi-line",!0)})}(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return e.\u0275fac=function(t){return new(t||e)(Ao(Ga),Ao(Zs),Ao(YS,8),Ao(WS,8))},e.\u0275cmp=dt({type:e,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(e,t,n){var i;1&e&&(tl(n,JS,!0),tl(n,eE,!0),tl(n,kf,!0)),2&e&&(Qc(i=rl())&&(t._avatar=i.first),Qc(i=rl())&&(t._icon=i.first),Qc(i=rl())&&(t._lines=i))},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(e,t){2&e&&oa("mat-list-item-disabled",t.disabled)("mat-list-item-avatar",t._avatar||t._icon)("mat-list-item-with-avatar",t._avatar||t._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[Ia],ngContentSelectors:qS,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(e,t){1&e&&(Xo(KS),No(0,"div",0),Fo(1,"div",1),Qo(2),No(3,"div",2),Qo(4,1),Lo(),Qo(5,2),Lo()),2&e&&(kr(1),Po("matRippleTrigger",t._getHostElement())("matRippleDisabled",t._isRippleDisabled()))},directives:[Mf],encapsulation:2,changeDetection:0}),e})(),nE=(()=>{class e{}return e.\u0275mod=gt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[xf,Nf,_f,Ff,$u],xf,_f,Ff,BS]}),e})(),iE=(()=>{class e{}return e.\u0275mod=gt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)}}),e})(),rE=(()=>{class e{}return e.\u0275mod=gt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[iE,Nf,_f,qh],iE,_f]}),e})();const sE=["input"],oE=function(){return{enterDuration:150}},aE=["*"],cE=new Fe("mat-checkbox-default-options",{providedIn:"root",factory:function(){return{color:"accent",clickAction:"check-indeterminate"}}}),lE=new Fe("mat-checkbox-click-action");let uE=0;const hE={provide:Yg,useExisting:Se(()=>fE),multi:!0};class dE{}class pE{constructor(e){this._elementRef=e}}const mE=wf(vf(bf(yf(pE))));let fE=(()=>{class e extends mE{constructor(e,t,n,i,r,s,o,a){super(e),this._changeDetectorRef=t,this._focusMonitor=n,this._ngZone=i,this._clickAction=s,this._animationMode=o,this._options=a,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId="mat-checkbox-"+ ++uE,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new jc,this.indeterminateChange=new jc,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||{},this._options.color&&(this.color=this._options.color),this.tabIndex=parseInt(r)||0,this._clickAction=this._clickAction||this._options.clickAction}get inputId(){return(this.id||this._uniqueId)+"-input"}get required(){return this._required}set required(e){this._required=Ch(e)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e||Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}),this._syncIndeterminate(this._indeterminate)}ngAfterViewChecked(){}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}get checked(){return this._checked}set checked(e){e!=this.checked&&(this._checked=e,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){const t=Ch(e);t!==this.disabled&&(this._disabled=t,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){const t=e!=this._indeterminate;this._indeterminate=Ch(e),t&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(e){let t=this._currentCheckState,n=this._elementRef.nativeElement;if(t!==e&&(this._currentAnimationClass.length>0&&n.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(t,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){n.classList.add(this._currentAnimationClass);const e=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{n.classList.remove(e)},1e3)})}}_emitChangeEvent(){const e=new dE;e.source=this,e.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(e)}toggle(){this.checked=!this.checked}_onInputClick(e){e.stopPropagation(),this.disabled||"noop"===this._clickAction?this.disabled||"noop"!==this._clickAction||(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==this._clickAction&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this.toggle(),this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}focus(e="keyboard",t){this._focusMonitor.focusVia(this._inputElement,e,t)}_onInteractionEvent(e){e.stopPropagation()}_getAnimationClassForCheckStateTransition(e,t){if("NoopAnimations"===this._animationMode)return"";let n="";switch(e){case 0:if(1===t)n="unchecked-checked";else{if(3!=t)return"";n="unchecked-indeterminate"}break;case 2:n=1===t?"unchecked-checked":"unchecked-indeterminate";break;case 1:n=2===t?"checked-unchecked":"checked-indeterminate";break;case 3:n=1===t?"indeterminate-checked":"indeterminate-unchecked"}return"mat-checkbox-anim-"+n}_syncIndeterminate(e){const t=this._inputElement;t&&(t.nativeElement.indeterminate=e)}}return e.\u0275fac=function(t){return new(t||e)(Ao(Ga),Ao(Zs),Ao(Od),Ao(Rl),Do("tabindex"),Ao(lE,8),Ao(lf,8),Ao(cE,8))},e.\u0275cmp=dt({type:e,selectors:[["mat-checkbox"]],viewQuery:function(e,t){var n;1&e&&(Jc(sE,!0),Jc(Mf,!0)),2&e&&(Qc(n=rl())&&(t._inputElement=n.first),Qc(n=rl())&&(t.ripple=n.first))},hostAttrs:[1,"mat-checkbox"],hostVars:12,hostBindings:function(e,t){2&e&&(Ca("id",t.id),To("tabindex",null),oa("mat-checkbox-indeterminate",t.indeterminate)("mat-checkbox-checked",t.checked)("mat-checkbox-disabled",t.disabled)("mat-checkbox-label-before","before"==t.labelPosition)("_mat-animation-noopable","NoopAnimations"===t._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",labelPosition:"labelPosition",name:"name",required:"required",checked:"checked",disabled:"disabled",indeterminate:"indeterminate",ariaDescribedby:["aria-describedby","ariaDescribedby"],value:"value"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[ja([hE]),Ia],ngContentSelectors:aE,decls:17,vars:20,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24",0,"xml","space","preserve",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(e,t){if(1&e&&(Xo(),No(0,"label",0,1),No(2,"div",2),No(3,"input",3,4),qo("change",(function(e){return t._onInteractionEvent(e)}))("click",(function(e){return t._onInputClick(e)})),Lo(),No(5,"div",5),Fo(6,"div",6),Lo(),Fo(7,"div",7),No(8,"div",8),Rn(),No(9,"svg",9),Fo(10,"path",10),Lo(),On(),Fo(11,"div",11),Lo(),Lo(),No(12,"span",12,13),qo("cdkObserveContent",(function(){return t._onLabelTextChange()})),No(14,"span",14),ya(15,"\xa0"),Lo(),Qo(16),Lo(),Lo()),2&e){const e=Oo(1),n=Oo(13);To("for",t.inputId),kr(2),oa("mat-checkbox-inner-container-no-side-margin",!n.textContent||!n.textContent.trim()),kr(1),Po("id",t.inputId)("required",t.required)("checked",t.checked)("disabled",t.disabled)("tabIndex",t.tabIndex),To("value",t.value)("name",t.name)("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby)("aria-checked",t._getAriaChecked())("aria-describedby",t.ariaDescribedby),kr(2),Po("matRippleTrigger",e)("matRippleDisabled",t._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",function(e,t,n){const i=un()+19,r=en();return r[i]===vr?ko(r,i,t()):function(e,t){return e[t]}(r,i)}(0,oE))}},directives:[Mf,Kh],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox-layout{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.cdk-high-contrast-active .mat-checkbox.cdk-keyboard-focused .mat-checkbox-frame{border-style:dotted}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}\n"],encapsulation:2,changeDetection:0}),e})(),gE=(()=>{class e{}return e.\u0275mod=gt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)}}),e})(),_E=(()=>{class e{}return e.\u0275mod=gt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[Nf,_f,qh,gE],_f,gE]}),e})();function yE(e,t){if(1&e&&(Rn(),Fo(0,"circle",3)),2&e){const e=Wo();sa("animation-name","mat-progress-spinner-stroke-rotate-"+e.diameter)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),To("r",e._getCircleRadius())}}function vE(e,t){if(1&e&&(Rn(),Fo(0,"circle",3)),2&e){const e=Wo();sa("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),To("r",e._getCircleRadius())}}function bE(e,t){if(1&e&&(Rn(),Fo(0,"circle",3)),2&e){const e=Wo();sa("animation-name","mat-progress-spinner-stroke-rotate-"+e.diameter)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),To("r",e._getCircleRadius())}}function wE(e,t){if(1&e&&(Rn(),Fo(0,"circle",3)),2&e){const e=Wo();sa("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),To("r",e._getCircleRadius())}}const SE=".mat-progress-spinner{display:block;position:relative}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:currentColor}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n";class EE{constructor(e){this._elementRef=e}}const kE=vf(EE,"primary"),CE=new Fe("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});let xE=(()=>{class e extends kE{constructor(t,n,i,r,s){super(t),this._elementRef=t,this._document=i,this._diameter=100,this._value=0,this._fallbackAnimation=!1,this.mode="determinate";const o=e._diameters;o.has(i.head)||o.set(i.head,new Set([100])),this._fallbackAnimation=n.EDGE||n.TRIDENT,this._noopAnimations="NoopAnimations"===r&&!!s&&!s._forceAnimations,s&&(s.diameter&&(this.diameter=s.diameter),s.strokeWidth&&(this.strokeWidth=s.strokeWidth))}get diameter(){return this._diameter}set diameter(e){this._diameter=xh(e),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(e){this._strokeWidth=xh(e)}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,xh(e)))}ngOnInit(){const e=this._elementRef.nativeElement;this._styleRoot=ed(e)||this._document.head,this._attachStyleNode(),e.classList.add(`mat-progress-spinner-indeterminate${this._fallbackAnimation?"-fallback":""}-animation`)}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const e=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._getStrokeCircumference():null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const t=this._styleRoot,n=this._diameter,i=e._diameters;let r=i.get(t);if(!r||!r.has(n)){const e=this._document.createElement("style");e.setAttribute("mat-spinner-animation",n+""),e.textContent=this._getAnimationText(),t.appendChild(e),r||(r=new Set,i.set(t,r)),r.add(n)}}_getAnimationText(){const e=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*e).replace(/END_VALUE/g,""+.2*e).replace(/DIAMETER/g,""+this.diameter)}}return e.\u0275fac=function(t){return new(t||e)(Ao(Ga),Ao($h),Ao(ou,8),Ao(lf,8),Ao(CE))},e.\u0275cmp=dt({type:e,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(e,t){2&e&&(To("aria-valuemin","determinate"===t.mode?0:null)("aria-valuemax","determinate"===t.mode?100:null)("aria-valuenow","determinate"===t.mode?t.value:null)("mode",t.mode),sa("width",t.diameter,"px")("height",t.diameter,"px"),oa("_mat-animation-noopable",t._noopAnimations))},inputs:{color:"color",mode:"mode",diameter:"diameter",strokeWidth:"strokeWidth",value:"value"},exportAs:["matProgressSpinner"],features:[Ia],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(e,t){1&e&&(Rn(),No(0,"svg",0),Ro(1,yE,1,9,"circle",1),Ro(2,vE,1,7,"circle",2),Lo()),2&e&&(sa("width",t.diameter,"px")("height",t.diameter,"px"),Po("ngSwitch","indeterminate"===t.mode),To("viewBox",t._getViewBox()),kr(1),Po("ngSwitchCase",!0),kr(1),Po("ngSwitchCase",!1))},directives:[Nu,Lu],styles:[SE],encapsulation:2,changeDetection:0}),e._diameters=new WeakMap,e})(),TE=(()=>{class e extends xE{constructor(e,t,n,i,r){super(e,t,n,i,r),this.mode="indeterminate"}}return e.\u0275fac=function(t){return new(t||e)(Ao(Ga),Ao($h),Ao(ou,8),Ao(lf,8),Ao(CE))},e.\u0275cmp=dt({type:e,selectors:[["mat-spinner"]],hostAttrs:["role","progressbar","mode","indeterminate",1,"mat-spinner","mat-progress-spinner"],hostVars:6,hostBindings:function(e,t){2&e&&(sa("width",t.diameter,"px")("height",t.diameter,"px"),oa("_mat-animation-noopable",t._noopAnimations))},inputs:{color:"color"},features:[Ia],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(e,t){1&e&&(Rn(),No(0,"svg",0),Ro(1,bE,1,9,"circle",1),Ro(2,wE,1,7,"circle",2),Lo()),2&e&&(sa("width",t.diameter,"px")("height",t.diameter,"px"),Po("ngSwitch","indeterminate"===t.mode),To("viewBox",t._getViewBox()),kr(1),Po("ngSwitchCase",!0),kr(1),Po("ngSwitchCase",!1))},directives:[Nu,Lu],styles:[SE],encapsulation:2,changeDetection:0}),e})(),IE=(()=>{class e{}return e.\u0275mod=gt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[_f,$u],_f]}),e})();class RE extends E{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new b;return this._value}next(e){super.next(this._value=e)}}const OE=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})(),AE={};function DE(...e){let t=null,n=null;return C(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&c(e[0])&&(e=e[0]),G(e,n).lift(new PE(t))}class PE{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new ME(e,this.resultSelector))}}class ME extends M{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(AE),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++){const t=e[n];this.add(P(this,t,t,n))}}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n,i,r){const s=this.values,o=this.toRespond?s[n]===AE?--this.toRespond:this.toRespond:0;s[n]=t,0===o&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}function NE(e){return function(t){return 0===e?dd():t.lift(new LE(e))}}class LE{constructor(e){if(this.total=e,this.total<0)throw new ud}call(e,t){return t.subscribe(new FE(e,this.total))}}class FE extends m{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,i=this.count++;t.length<n?t.push(e):t[i%n]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,i=this.ring;for(let r=0;r<n;r++){const r=t++%n;e.next(i[r])}}e.complete()}}function UE(e=VE){return t=>t.lift(new BE(e))}class BE{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new jE(e,this.errorFactory))}}class jE extends m{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function VE(){return new OE}function KE(e=null){return t=>t.lift(new qE(e))}class qE{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new GE(e,this.defaultValue))}}class GE extends m{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function $E(e,t){const n=arguments.length>=2;return i=>i.pipe(e?ad((t,n)=>e(t,n,i)):_,pd(1),n?KE(t):UE(()=>new OE))}class HE{constructor(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}call(e,t){return t.subscribe(new zE(e,this.predicate,this.thisArg,this.source))}}class zE extends m{constructor(e,t,n,i){super(e),this.predicate=t,this.thisArg=n,this.source=i,this.index=0,this.thisArg=n||this}notifyComplete(e){this.destination.next(e),this.destination.complete()}_next(e){let t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}class WE{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new YE(e,this.accumulator,this.seed,this.hasSeed))}}class YE extends m{constructor(e,t,n,i){super(e),this.accumulator=t,this._seed=n,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(i){this.destination.error(i)}this.seed=n,this.destination.next(n)}}class XE{constructor(e,t){this.id=e,this.url=t}}class QE extends XE{constructor(e,t,n="imperative",i=null){super(e,t),this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ZE extends XE{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class JE extends XE{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ek extends XE{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class tk extends XE{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nk extends XE{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ik extends XE{constructor(e,t,n,i,r){super(e,t),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class rk extends XE{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sk extends XE{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ok{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ak{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ck{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lk{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uk{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hk{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dk{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class pk{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function mk(e){return new pk(e)}function fk(e){const t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function gk(e,t,n){const i=n.path.split("/");if(i.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||i.length<e.length))return null;const r={};for(let s=0;s<i.length;s++){const t=i[s],n=e[s];if(t.startsWith(":"))r[t.substring(1)]=n;else if(t!==n.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function _k(e,t){const n=Object.keys(e),i=Object.keys(t);if(!n||!i||n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],!yk(e[r],t[r]))return!1;return!0}function yk(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length==t.length&&e.every(e=>t.indexOf(e)>-1):e===t}function vk(e){return Array.prototype.concat.apply([],e)}function bk(e){return e.length>0?e[e.length-1]:null}function wk(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Sk(e){return Ko(e)?e:Vo(e)?B(Promise.resolve(e)):td(e)}function Ek(e,t,n){return n?function(e,t){return _k(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!Tk(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!t.children[i])return!1;if(!e(t.children[i],n.children[i]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>yk(e[n],t[n]))}(e.queryParams,t.queryParams)&&function e(t,n){return function t(n,i,r){if(n.segments.length>r.length)return!!Tk(n.segments.slice(0,r.length),r)&&!i.hasChildren();if(n.segments.length===r.length){if(!Tk(n.segments,r))return!1;for(const t in i.children){if(!n.children[t])return!1;if(!e(n.children[t],i.children[t]))return!1}return!0}{const e=r.slice(0,n.segments.length),s=r.slice(n.segments.length);return!!Tk(n.segments,e)&&!!n.children.primary&&t(n.children.primary,i,s)}}(t,n,n.segments)}(e.root,t.root)}class kk{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mk(this.queryParams)),this._queryParamMap}toString(){return Ak.serialize(this)}}class Ck{constructor(e,t){this.segments=e,this.children=t,this.parent=null,wk(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Dk(this)}}class xk{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=mk(this.parameters)),this._parameterMap}toString(){return Uk(this)}}function Tk(e,t){return e.length===t.length&&e.every((e,n)=>e.path===t[n].path)}function Ik(e,t){let n=[];return wk(e.children,(e,i)=>{"primary"===i&&(n=n.concat(t(e,i)))}),wk(e.children,(e,i)=>{"primary"!==i&&(n=n.concat(t(e,i)))}),n}class Rk{}class Ok{parse(e){const t=new qk(e);return new kk(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){return`${"/"+function e(t,n){if(!t.hasChildren())return Dk(t);if(n){const n=t.children.primary?e(t.children.primary,!1):"",i=[];return wk(t.children,(t,n)=>{"primary"!==n&&i.push(`${n}:${e(t,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}{const n=Ik(t,(n,i)=>"primary"===i?[e(t.children.primary,!1)]:[`${i}:${e(n,!1)}`]);return`${Dk(t)}/(${n.join("//")})`}}(e.root,!0)}${function(e){const t=Object.keys(e).map(t=>{const n=e[t];return Array.isArray(n)?n.map(e=>`${Mk(t)}=${Mk(e)}`).join("&"):`${Mk(t)}=${Mk(n)}`});return t.length?"?"+t.join("&"):""}(e.queryParams)}${"string"==typeof e.fragment?"#"+encodeURI(e.fragment):""}`}}const Ak=new Ok;function Dk(e){return e.segments.map(e=>Uk(e)).join("/")}function Pk(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Mk(e){return Pk(e).replace(/%3B/gi,";")}function Nk(e){return Pk(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Lk(e){return decodeURIComponent(e)}function Fk(e){return Lk(e.replace(/\+/g,"%20"))}function Uk(e){return`${Nk(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${Nk(e)}=${Nk(t[e])}`).join("")}`;var t}const Bk=/^[^\/()?;=#]+/;function jk(e){const t=e.match(Bk);return t?t[0]:""}const Vk=/^[^=?&#]+/,Kk=/^[^?&#]+/;class qk{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ck([],{}):new Ck([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new Ck(e,t)),n}parseSegment(){const e=jk(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new xk(Lk(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=jk(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=jk(this.remaining);e&&(n=e,this.capture(n))}e[Lk(t)]=Lk(n)}parseQueryParam(e){const t=function(e){const t=e.match(Vk);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(Kk);return t?t[0]:""}(this.remaining);e&&(n=e,this.capture(n))}const i=Fk(t),r=Fk(n);if(e.hasOwnProperty(i)){let t=e[i];Array.isArray(t)||(t=[t],e[i]=t),t.push(r)}else e[i]=r}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=jk(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let r=void 0;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):e&&(r="primary");const s=this.parseChildren();t[r]=1===Object.keys(s).length?s.primary:new Ck([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Gk{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=$k(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=$k(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Hk(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return Hk(e,this._root).map(e=>e.value)}}function $k(e,t){if(e===t.value)return t;for(const n of t.children){const t=$k(e,n);if(t)return t}return null}function Hk(e,t){if(e===t.value)return[t];for(const n of t.children){const i=Hk(e,n);if(i.length)return i.unshift(t),i}return[]}class zk{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Wk(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class Yk extends Gk{constructor(e,t){super(e),this.snapshot=t,tC(this,e)}toString(){return this.snapshot.toString()}}function Xk(e,t){const n=function(e,t){const n=new Jk([],{},{},"",{},"primary",t,null,e.root,-1,{});return new eC("",new zk(n,[]))}(e,t),i=new RE([new xk("",{})]),r=new RE({}),s=new RE({}),o=new RE({}),a=new RE(""),c=new Qk(i,r,o,a,s,"primary",t,n.root);return c.snapshot=n.root,new Yk(new zk(c,[]),n)}class Qk{constructor(e,t,n,i,r,s,o,a){this.url=e,this.params=t,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(N(e=>mk(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(N(e=>mk(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Zk(e,t="emptyOnly"){const n=e.pathFromRoot;let i=0;if("always"!==t)for(i=n.length-1;i>=1;){const e=n[i],t=n[i-1];if(e.routeConfig&&""===e.routeConfig.path)i--;else{if(t.component)break;i--}}return function(e){return e.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(i))}class Jk{constructor(e,t,n,i,r,s,o,a,c,l,u){this.url=e,this.params=t,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=mk(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mk(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class eC extends Gk{constructor(e,t){super(t),this.url=e,tC(this,t)}toString(){return nC(this._root)}}function tC(e,t){t.value._routerState=e,t.children.forEach(t=>tC(e,t))}function nC(e){const t=e.children.length>0?` { ${e.children.map(nC).join(", ")} } `:"";return`${e.value}${t}`}function iC(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,_k(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),_k(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!_k(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),_k(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function rC(e,t){var n,i;return _k(e.params,t.params)&&Tk(n=e.url,i=t.url)&&n.every((e,t)=>_k(e.parameters,i[t].parameters))&&!(!e.parent!=!t.parent)&&(!e.parent||rC(e.parent,t.parent))}function sC(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function oC(e,t,n,i,r){let s={};return i&&wk(i,(e,t)=>{s[t]=Array.isArray(e)?e.map(e=>""+e):""+e}),new kk(n.root===e?t:function e(t,n,i){const r={};return wk(t.children,(t,s)=>{r[s]=t===n?i:e(t,n,i)}),new Ck(t.segments,r)}(n.root,e,t),s,r)}class aC{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&sC(n[0]))throw new Error("Root segment cannot have matrix parameters");const i=n.find(e=>"object"==typeof e&&null!=e&&e.outlets);if(i&&i!==bk(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class cC{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function lC(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets.primary:""+e}function uC(e,t,n){if(e||(e=new Ck([],{})),0===e.segments.length&&e.hasChildren())return hC(e,t,n);const i=function(e,t,n){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(i>=n.length)return s;const t=e.segments[r],o=lC(n[i]),a=i<n.length-1?n[i+1]:null;if(r>0&&void 0===o)break;if(o&&a&&"object"==typeof a&&void 0===a.outlets){if(!fC(o,a,t))return s;i+=2}else{if(!fC(o,{},t))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(e,t,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){const t=new Ck(e.segments.slice(0,i.pathIndex),{});return t.children.primary=new Ck(e.segments.slice(i.pathIndex),e.children),hC(t,0,r)}return i.match&&0===r.length?new Ck(e.segments,{}):i.match&&!e.hasChildren()?dC(e,t,n):i.match?hC(e,0,r):dC(e,t,n)}function hC(e,t,n){if(0===n.length)return new Ck(e.segments,{});{const i=function(e){return"object"==typeof e[0]&&null!==e[0]&&e[0].outlets?e[0].outlets:{primary:e}}(n),r={};return wk(i,(n,i)=>{null!==n&&(r[i]=uC(e.children[i],t,n))}),wk(e.children,(e,t)=>{void 0===i[t]&&(r[t]=e)}),new Ck(e.segments,r)}}function dC(e,t,n){const i=e.segments.slice(0,t);let r=0;for(;r<n.length;){if("object"==typeof n[r]&&null!==n[r]&&void 0!==n[r].outlets){const e=pC(n[r].outlets);return new Ck(i,e)}if(0===r&&sC(n[0])){i.push(new xk(e.segments[t].path,n[0])),r++;continue}const s=lC(n[r]),o=r<n.length-1?n[r+1]:null;s&&o&&sC(o)?(i.push(new xk(s,mC(o))),r+=2):(i.push(new xk(s,{})),r++)}return new Ck(i,{})}function pC(e){const t={};return wk(e,(e,n)=>{null!==e&&(t[n]=dC(new Ck([],{}),0,e))}),t}function mC(e){const t={};return wk(e,(e,n)=>t[n]=""+e),t}function fC(e,t,n){return e==n.path&&_k(t,n.parameters)}class gC{constructor(e,t,n,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=i}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),iC(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const i=Wk(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,i[t],n),delete i[t]}),wk(i,(e,t)=>{this.deactivateRouteAndItsChildren(e,n)})}deactivateRoutes(e,t,n){const i=e.value,r=t?t.value:null;if(i===r)if(i.component){const r=n.getContext(i.outlet);r&&this.deactivateChildRoutes(e,t,r.children)}else this.deactivateChildRoutes(e,t,n);else r&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet);if(n&&n.outlet){const t=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:i})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet);if(n){const i=Wk(e),r=e.value.component?n.children:t;wk(i,(e,t)=>this.deactivateRouteAndItsChildren(e,r)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(e,t,n){const i=Wk(t);e.children.forEach(e=>{this.activateRoutes(e,i[e.value.outlet],n),this.forwardEvent(new hk(e.value.snapshot))}),e.children.length&&this.forwardEvent(new lk(e.value.snapshot))}activateRoutes(e,t,n){const i=e.value,r=t?t.value:null;if(iC(i),i===r)if(i.component){const r=n.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,r.children)}else this.activateChildRoutes(e,t,n);else if(i.component){const t=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const e=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),_C(e.route)}else{const n=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(i.snapshot),r=n?n.module.componentFactoryResolver:null;t.attachRef=null,t.route=i,t.resolver=r,t.outlet&&t.outlet.activateWith(i,r),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}function _C(e){iC(e.value),e.children.forEach(_C)}class yC{constructor(e,t){this.routes=e,this.module=t}}function vC(e){return"function"==typeof e}function bC(e){return e instanceof kk}class wC{constructor(e){this.segmentGroup=e||null}}class SC{constructor(e){this.urlTree=e}}function EC(e){return new y(t=>t.error(new wC(e)))}function kC(e){return new y(t=>t.error(new SC(e)))}function CC(e){return new y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class xC{constructor(e,t,n,i,r){this.configLoader=t,this.urlSerializer=n,this.urlTree=i,this.config=r,this.allowRedirects=!0,this.ngModule=e.get(Ze)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(N(e=>this.createUrlTree(e,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Iy(e=>{if(e instanceof SC)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof wC)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,"primary").pipe(N(t=>this.createUrlTree(t,e.queryParams,e.fragment))).pipe(Iy(e=>{if(e instanceof wC)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const i=e.segments.length>0?new Ck([],{primary:e}):e;return new kk(i,t,n)}expandSegmentGroup(e,t,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(N(e=>new Ck([],e))):this.expandSegment(e,n,t,n.segments,i,!0)}expandChildren(e,t,n){return function(e,t){if(0===Object.keys(e).length)return td({});const n=[],i=[],r={};return wk(e,(e,s)=>{const o=t(s,e).pipe(N(e=>r[s]=e));"primary"===s?n.push(o):i.push(o)}),td.apply(null,n.concat(i)).pipe(Bd(),function(e,t){const n=arguments.length>=2;return i=>i.pipe(e?ad((t,n)=>e(t,n,i)):_,NE(1),n?KE(t):UE(()=>new OE))}(),N(()=>r))}(n.children,(n,i)=>this.expandSegmentGroup(e,t,i,n))}expandSegment(e,t,n,i,r,s){return td(...n).pipe(N(o=>this.expandSegmentAgainstRoute(e,t,n,o,i,r,s).pipe(Iy(e=>{if(e instanceof wC)return td(null);throw e}))),Bd(),$E(e=>!!e),Iy((e,n)=>{if(e instanceof OE||"EmptyError"===e.name){if(this.noLeftoversInUrl(t,i,r))return td(new Ck([],{}));throw new wC(t)}throw e}))}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}expandSegmentAgainstRoute(e,t,n,i,r,s,o){return OC(i)!==s?EC(t):void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,r):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,i,r,s):EC(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,i,r,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,i,r,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,i){const r=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?kC(r):this.lineralizeSegments(n,r).pipe(j(n=>{const r=new Ck(n,{});return this.expandSegment(e,r,t,n,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,i,r,s){const{matched:o,consumedSegments:a,lastChild:c,positionalParamSegments:l}=TC(t,i,r);if(!o)return EC(t);const u=this.applyRedirectCommands(a,i.redirectTo,l);return i.redirectTo.startsWith("/")?kC(u):this.lineralizeSegments(i,u).pipe(j(i=>this.expandSegment(e,t,n,i.concat(r.slice(c)),s,!1)))}matchSegmentAgainstRoute(e,t,n,i){if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(N(e=>(n._loadedConfig=e,new Ck(i,{})))):td(new Ck(i,{}));const{matched:r,consumedSegments:s,lastChild:o}=TC(t,n,i);if(!r)return EC(t);const a=i.slice(o);return this.getChildConfig(e,n,i).pipe(j(e=>{const n=e.module,i=e.routes,{segmentGroup:r,slicedSegments:o}=function(e,t,n,i){return n.length>0&&function(e,t,n){return n.some(n=>RC(e,t,n)&&"primary"!==OC(n))}(e,n,i)?{segmentGroup:IC(new Ck(t,function(e,t){const n={};n.primary=t;for(const i of e)""===i.path&&"primary"!==OC(i)&&(n[OC(i)]=new Ck([],{}));return n}(i,new Ck(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return n.some(n=>RC(e,t,n))}(e,n,i)?{segmentGroup:IC(new Ck(e.segments,function(e,t,n,i){const r={};for(const s of n)RC(e,t,s)&&!i[OC(s)]&&(r[OC(s)]=new Ck([],{}));return Object.assign(Object.assign({},i),r)}(e,n,i,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,s,a,i);return 0===o.length&&r.hasChildren()?this.expandChildren(n,i,r).pipe(N(e=>new Ck(s,e))):0===i.length&&0===o.length?td(new Ck(s,{})):this.expandSegment(n,r,i,o,"primary",!0).pipe(N(e=>new Ck(s.concat(e.segments),e.children)))}))}getChildConfig(e,t,n){return t.children?td(new yC(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?td(t._loadedConfig):this.runCanLoadGuards(e.injector,t,n).pipe(j(n=>n?this.configLoader.load(e.injector,t).pipe(N(e=>(t._loadedConfig=e,e))):function(e){return new y(t=>t.error(fk(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):td(new yC([],e))}runCanLoadGuards(e,t,n){const i=t.canLoad;return i&&0!==i.length?B(i).pipe(N(i=>{const r=e.get(i);let s;if(function(e){return e&&vC(e.canLoad)}(r))s=r.canLoad(t,n);else{if(!vC(r))throw new Error("Invalid CanLoad guard");s=r(t,n)}return Sk(s)})).pipe(Bd(),rd(e=>{if(!bC(e))return;const t=fk(`Redirecting to "${this.urlSerializer.serialize(e)}"`);throw t.url=e,t}),(r=e=>!0===e,e=>e.lift(new HE(r,void 0,e)))):td(!0);var r}lineralizeSegments(e,t){let n=[],i=t.root;for(;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return td(n);if(i.numberOfChildren>1||!i.children.primary)return CC(e.redirectTo);i=i.children.primary}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,i){const r=this.createSegmentGroup(e,t.root,n,i);return new kk(r,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return wk(e,(e,i)=>{if("string"==typeof e&&e.startsWith(":")){const r=e.substring(1);n[i]=t[r]}else n[i]=e}),n}createSegmentGroup(e,t,n,i){const r=this.createSegments(e,t.segments,n,i);let s={};return wk(t.children,(t,r)=>{s[r]=this.createSegmentGroup(e,t,n,i)}),new Ck(r,s)}createSegments(e,t,n,i){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,i):this.findOrReturn(t,n))}findPosParam(e,t,n){const i=n[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let n=0;for(const i of t){if(i.path===e.path)return t.splice(n),i;n++}return e}}function TC(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const i=(t.matcher||gk)(n,e,t);return i?{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,positionalParamSegments:i.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function IC(e){if(1===e.numberOfChildren&&e.children.primary){const t=e.children.primary;return new Ck(e.segments.concat(t.segments),t.children)}return e}function RC(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function OC(e){return e.outlet||"primary"}class AC{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class DC{constructor(e,t){this.component=e,this.route=t}}function PC(e,t,n){const i=e._root;return function e(t,n,i,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=Wk(n);return t.children.forEach(t=>{!function(t,n,i,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,a=n?n.value:null,c=i?i.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const l=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Tk(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Tk(e.url,t.url)||!_k(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!rC(e,t)||!_k(e.queryParams,t.queryParams);case"paramsChange":default:return!rC(e,t)}}(a,o,o.routeConfig.runGuardsAndResolvers);l?s.canActivateChecks.push(new AC(r)):(o.data=a.data,o._resolvedData=a._resolvedData),e(t,n,o.component?c?c.children:null:i,r,s),l&&s.canDeactivateChecks.push(new DC(c&&c.outlet&&c.outlet.component||null,a))}else a&&NC(n,c,s),s.canActivateChecks.push(new AC(r)),e(t,null,o.component?c?c.children:null:i,r,s)}(t,o[t.value.outlet],i,r.concat([t.value]),s),delete o[t.value.outlet]}),wk(o,(e,t)=>NC(e,i.getContext(t),s)),s}(i,t?t._root:null,n,[i.value])}function MC(e,t,n){const i=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:n).get(e)}function NC(e,t,n){const i=Wk(e),r=e.value;wk(i,(e,i)=>{NC(e,r.component?t?t.children.getContext(i):null:t,n)}),n.canDeactivateChecks.push(new DC(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}const LC=Symbol("INITIAL_VALUE");function FC(){return kv(e=>DE(...e.map(e=>e.pipe(pd(1),Vd(LC)))).pipe(function(e,t){let n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new WE(e,t,n))}}((e,t)=>{let n=!1;return t.reduce((e,i,r)=>{if(e!==LC)return e;if(i===LC&&(n=!0),!n){if(!1===i)return i;if(r===t.length-1||bC(i))return i}return e},e)},LC),ad(e=>e!==LC),N(e=>bC(e)?e:!0===e),pd(1)))}function UC(e,t){return null!==e&&t&&t(new uk(e)),td(!0)}function BC(e,t){return null!==e&&t&&t(new ck(e)),td(!0)}function jC(e,t,n){const i=t.routeConfig?t.routeConfig.canActivate:null;return i&&0!==i.length?td(i.map(i=>Lb(()=>{const r=MC(i,t,n);let s;if(function(e){return e&&vC(e.canActivate)}(r))s=Sk(r.canActivate(t,e));else{if(!vC(r))throw new Error("Invalid CanActivate guard");s=Sk(r(t,e))}return s.pipe($E())}))).pipe(FC()):td(!0)}function VC(e,t,n){const i=t[t.length-1],r=t.slice(0,t.length-1).reverse().map(e=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)).filter(e=>null!==e).map(t=>Lb(()=>td(t.guards.map(r=>{const s=MC(r,t.node,n);let o;if(function(e){return e&&vC(e.canActivateChild)}(s))o=Sk(s.canActivateChild(i,e));else{if(!vC(s))throw new Error("Invalid CanActivateChild guard");o=Sk(s(i,e))}return o.pipe($E())})).pipe(FC())));return td(r).pipe(FC())}class KC{}class qC{constructor(e,t,n,i,r,s){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=i,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=s}recognize(){try{const e=HC(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,"primary"),n=new Jk([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),i=new zk(n,t),r=new eC(this.url,i);return this.inheritParamsAndData(r._root),td(r)}catch(e){return new y(t=>t.error(e))}}inheritParamsAndData(e){const t=e.value,n=Zk(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=Ik(t,(t,n)=>this.processSegmentGroup(e,t,n));return function(e){const t={};e.forEach(e=>{const n=t[e.value.outlet];if(n){const t=n.url.map(e=>e.toString()).join("/"),i=e.value.url.map(e=>e.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${t}' and '${i}'.`)}t[e.value.outlet]=e.value})}(n),n.sort((e,t)=>"primary"===e.value.outlet?-1:"primary"===t.value.outlet?1:e.value.outlet.localeCompare(t.value.outlet)),n}processSegment(e,t,n,i){for(const s of e)try{return this.processSegmentAgainstRoute(s,t,n,i)}catch(r){if(!(r instanceof KC))throw r}if(this.noLeftoversInUrl(t,n,i))return[];throw new KC}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}processSegmentAgainstRoute(e,t,n,i){if(e.redirectTo)throw new KC;if((e.outlet||"primary")!==i)throw new KC;let r,s=[],o=[];if("**"===e.path){const s=n.length>0?bk(n).parameters:{};r=new Jk(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,YC(e),i,e.component,e,GC(t),$C(t)+n.length,XC(e))}else{const a=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new KC;return{consumedSegments:[],lastChild:0,parameters:{}}}const i=(t.matcher||gk)(n,e,t);if(!i)throw new KC;const r={};wk(i.posParams,(e,t)=>{r[t]=e.path});const s=i.consumed.length>0?Object.assign(Object.assign({},r),i.consumed[i.consumed.length-1].parameters):r;return{consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s}}(t,e,n);s=a.consumedSegments,o=n.slice(a.lastChild),r=new Jk(s,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,YC(e),i,e.component,e,GC(t),$C(t)+s.length,XC(e))}const a=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),{segmentGroup:c,slicedSegments:l}=HC(t,s,o,a,this.relativeLinkResolution);if(0===l.length&&c.hasChildren()){const e=this.processChildren(a,c);return[new zk(r,e)]}if(0===a.length&&0===l.length)return[new zk(r,[])];const u=this.processSegment(a,c,l,"primary");return[new zk(r,u)]}}function GC(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function $C(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift?t._segmentIndexShift:0;return n-1}function HC(e,t,n,i,r){if(n.length>0&&function(e,t,n){return n.some(n=>zC(e,t,n)&&"primary"!==WC(n))}(e,n,i)){const r=new Ck(t,function(e,t,n,i){const r={};r.primary=i,i._sourceSegment=e,i._segmentIndexShift=t.length;for(const s of n)if(""===s.path&&"primary"!==WC(s)){const n=new Ck([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,r[WC(s)]=n}return r}(e,t,i,new Ck(n,e.children)));return r._sourceSegment=e,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(n=>zC(e,t,n))}(e,n,i)){const s=new Ck(e.segments,function(e,t,n,i,r,s){const o={};for(const a of i)if(zC(e,n,a)&&!r[WC(a)]){const n=new Ck([],{});n._sourceSegment=e,n._segmentIndexShift="legacy"===s?e.segments.length:t.length,o[WC(a)]=n}return Object.assign(Object.assign({},r),o)}(e,t,n,i,e.children,r));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}const s=new Ck(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function zC(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function WC(e){return e.outlet||"primary"}function YC(e){return e.data||{}}function XC(e){return e.resolve||{}}function QC(e){return function(t){return t.pipe(kv(t=>{const n=e(t);return n?B(n).pipe(N(()=>t)):B([t])}))}}class ZC{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let JC=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=dt({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&Fo(0,"router-outlet")},directives:function(){return[fx]},encapsulation:2}),e})();function ex(e,t=""){for(let n=0;n<e.length;n++){const i=e[n];tx(i,nx(t,i))}}function tx(e,t){if(!e)throw new Error(`\n      Invalid configuration of route '${t}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(e))throw new Error(`Invalid configuration of route '${t}': Array cannot be specified`);if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&"primary"!==e.outlet)throw new Error(`Invalid configuration of route '${t}': a componentless route without children or loadChildren cannot have a named outlet set`);if(e.redirectTo&&e.children)throw new Error(`Invalid configuration of route '${t}': redirectTo and children cannot be used together`);if(e.redirectTo&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': redirectTo and loadChildren cannot be used together`);if(e.children&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': children and loadChildren cannot be used together`);if(e.redirectTo&&e.component)throw new Error(`Invalid configuration of route '${t}': redirectTo and component cannot be used together`);if(e.path&&e.matcher)throw new Error(`Invalid configuration of route '${t}': path and matcher cannot be used together`);if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error(`Invalid configuration of route '${t}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===e.path&&void 0===e.matcher)throw new Error(`Invalid configuration of route '${t}': routes must have either a path or a matcher specified`);if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error(`Invalid configuration of route '${t}': path cannot start with a slash`);if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error(`Invalid configuration of route '{path: "${t}", redirectTo: "${e.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error(`Invalid configuration of route '${t}': pathMatch can only be set to 'prefix' or 'full'`);e.children&&ex(e.children,t)}function nx(e,t){return t?e||t.path?e&&!t.path?e+"/":!e&&t.path?t.path:`${e}/${t.path}`:"":e}function ix(e){const t=e.children&&e.children.map(ix),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=JC),n}const rx=new Fe("ROUTES");class sx{constructor(e,t,n,i){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=i}load(e,t){return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(N(n=>{this.onLoadEndListener&&this.onLoadEndListener(t);const i=n.create(e);return new yC(vk(i.injector.get(rx)).map(ix),i)}))}loadModuleFactory(e){return"string"==typeof e?B(this.loader.load(e)):Sk(e()).pipe(j(e=>e instanceof Je?td(e):B(this.compiler.compileModuleAsync(e))))}}class ox{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ax,this.attachRef=null}}class ax{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new ox,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class cx{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function lx(e){throw e}function ux(e,t,n){return t.parse("/")}function hx(e,t){return td(null)}let dx=(()=>{class e{constructor(e,t,n,i,r,s,o,a){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=i,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new E,this.errorHandler=lx,this.malformedUriErrorHandler=ux,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:hx,afterPreactivation:hx},this.urlHandlingStrategy=new cx,this.routeReuseStrategy=new ZC,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=r.get(Ze),this.console=r.get(gl);const c=r.get(Rl);this.isNgZoneEnabled=c instanceof Rl,this.resetConfig(a),this.currentUrlTree=new kk(new Ck([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new sx(s,o,e=>this.triggerEvent(new ok(e)),e=>this.triggerEvent(new ak(e))),this.routerState=Xk(this.currentUrlTree,this.rootComponentType),this.transitions=new RE({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(e){const t=this.events;return e.pipe(ad(e=>0!==e.id),N(e=>Object.assign(Object.assign({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),kv(e=>{let n=!1,i=!1;return td(e).pipe(rd(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),kv(e=>{const n=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return td(e).pipe(kv(e=>{const n=this.transitions.getValue();return t.next(new QE(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),n!==this.transitions.getValue()?hd:[e]}),kv(e=>Promise.resolve(e)),(i=this.ngModule.injector,r=this.configLoader,s=this.urlSerializer,o=this.config,function(e){return e.pipe(kv(e=>function(e,t,n,i,r){return new xC(e,t,n,i,r).apply()}(i,r,s,e.extractedUrl,o).pipe(N(t=>Object.assign(Object.assign({},e),{urlAfterRedirects:t})))))}),rd(e=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,t,n,i,r){return function(s){return s.pipe(j(s=>function(e,t,n,i,r="emptyOnly",s="legacy"){return new qC(e,t,n,i,r,s).recognize()}(e,t,s.urlAfterRedirects,n(s.urlAfterRedirects),i,r).pipe(N(e=>Object.assign(Object.assign({},s),{targetSnapshot:e})))))}}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),rd(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),rd(e=>{const n=new tk(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(n)}));var i,r,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:i,source:r,restoredState:s,extras:o}=e,a=new QE(n,this.serializeUrl(i),r,s);t.next(a);const c=Xk(i,this.rootComponentType).snapshot;return td(Object.assign(Object.assign({},e),{targetSnapshot:c,urlAfterRedirects:i,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),hd}),QC(e=>{const{targetSnapshot:t,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:s,replaceUrl:o}}=e;return this.hooks.beforePreactivation(t,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!s,replaceUrl:!!o})}),rd(e=>{const t=new nk(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),N(e=>Object.assign(Object.assign({},e),{guards:PC(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return function(n){return n.pipe(j(n=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?td(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,i){return B(e).pipe(j(e=>function(e,t,n,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?td(s.map(s=>{const o=MC(s,t,r);let a;if(function(e){return e&&vC(e.canDeactivate)}(o))a=Sk(o.canDeactivate(e,t,n,i));else{if(!vC(o))throw new Error("Invalid CanDeactivate guard");a=Sk(o(e,t,n,i))}return a.pipe($E())})).pipe(FC()):td(!0)}(e.component,e.route,n,t,i)),$E(e=>!0!==e,!0))}(o,i,r,e).pipe(j(n=>n&&"boolean"==typeof n?function(e,t,n,i){return B(t).pipe(My(t=>B([BC(t.route.parent,i),UC(t.route,i),VC(e,t.path,n),jC(e,t.route,n)]).pipe(Bd(),$E(e=>!0!==e,!0))),$E(e=>!0!==e,!0))}(i,s,e,t):td(n)),N(e=>Object.assign(Object.assign({},n),{guardsResult:e})))}))}}(this.ngModule.injector,e=>this.triggerEvent(e)),rd(e=>{if(bC(e.guardsResult)){const t=fk(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}}),rd(e=>{const t=new ik(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),ad(e=>{if(!e.guardsResult){this.resetUrlToCurrentUrlTree();const n=new JE(e.id,this.serializeUrl(e.extractedUrl),"");return t.next(n),e.resolve(!1),!1}return!0}),QC(e=>{if(e.guards.canActivateChecks.length)return td(e).pipe(rd(e=>{const t=new rk(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),kv(e=>{let n=!1;return td(e).pipe((i=this.paramsInheritanceStrategy,r=this.ngModule.injector,function(e){return e.pipe(j(e=>{const{targetSnapshot:t,guards:{canActivateChecks:n}}=e;if(!n.length)return td(e);let s=0;return B(n).pipe(My(e=>function(e,t,n,i){return function(e,t,n,i){const r=Object.keys(e);if(0===r.length)return td({});const s={};return B(r).pipe(j(r=>function(e,t,n,i){const r=MC(e,t,i);return Sk(r.resolve?r.resolve(t,n):r(t,n))}(e[r],t,n,i).pipe(rd(e=>{s[r]=e}))),NE(1),j(()=>Object.keys(s).length===r.length?td(s):hd))}(e._resolve,e,t,i).pipe(N(t=>(e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),Zk(e,n).resolve),null)))}(e.route,t,i,r)),rd(()=>s++),NE(1),j(t=>s===n.length?td(e):hd))}))}),rd({next:()=>n=!0,complete:()=>{if(!n){const n=new JE(e.id,this.serializeUrl(e.extractedUrl),"At least one route resolver didn't emit any value.");t.next(n),e.resolve(!1)}}}));var i,r}),rd(e=>{const t=new sk(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}))}),QC(e=>{const{targetSnapshot:t,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:s,replaceUrl:o}}=e;return this.hooks.afterPreactivation(t,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!s,replaceUrl:!!o})}),N(e=>{const t=function(e,t,n){const i=function e(t,n,i){if(i&&t.shouldReuseRoute(n.value,i.value.snapshot)){const r=i.value;r._futureSnapshot=n.value;const s=function(t,n,i){return n.children.map(n=>{for(const r of i.children)if(t.shouldReuseRoute(r.value.snapshot,n.value))return e(t,n,r);return e(t,n)})}(t,n,i);return new zk(r,s)}{const i=t.retrieve(n.value);if(i){const e=i.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(let i=0;i<t.children.length;++i)e(t.children[i],n.children[i])}(n,e),e}{const i=new Qk(new RE((r=n.value).url),new RE(r.params),new RE(r.queryParams),new RE(r.fragment),new RE(r.data),r.outlet,r.component,r),s=n.children.map(n=>e(t,n));return new zk(i,s)}}var r}(e,t._root,n?n._root:void 0);return new Yk(i,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:t})}),rd(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),(r=this.rootContexts,s=this.routeReuseStrategy,o=e=>this.triggerEvent(e),N(e=>(new gC(s,e.targetRouterState,e.currentRouterState,o).activate(r),e))),rd({next(){n=!0},complete(){n=!0}}),Ay(()=>{if(!n&&!i){this.resetUrlToCurrentUrlTree();const n=new JE(e.id,this.serializeUrl(e.extractedUrl),`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`);t.next(n),e.resolve(!1)}this.currentNavigation=null}),Iy(n=>{if(i=!0,(r=n)&&r.ngNavigationCancelingError){const i=bC(n.url);i||(this.navigated=!0,this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));const r=new JE(e.id,this.serializeUrl(e.extractedUrl),n.message);t.next(r),i?setTimeout(()=>{const t=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(t,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);const i=new ek(e.id,this.serializeUrl(e.extractedUrl),n);t.next(i);try{e.resolve(this.errorHandler(n))}catch(s){e.reject(s)}}var r;return hd}));var r,s,o}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{let t=this.parseUrl(e.url);const n="popstate"===e.type?"popstate":"hashchange",i=e.state&&e.state.navigationId?e.state:null;setTimeout(()=>{this.scheduleNavigation(t,n,i,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){ex(e),this.config=e.map(ix),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(e,t={}){const{relativeTo:n,queryParams:i,fragment:r,preserveQueryParams:s,queryParamsHandling:o,preserveFragment:a}=t;Ai()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const c=n||this.routerState.root,l=a?this.currentUrlTree.fragment:r;let u=null;if(o)switch(o){case"merge":u=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=i||null}else u=s?this.currentUrlTree.queryParams:i||null;return null!==u&&(u=this.removeEmptyProps(u)),function(e,t,n,i,r){if(0===n.length)return oC(t.root,t.root,t,i,r);const s=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new aC(!0,0,e);let t=0,n=!1;const i=e.reduce((e,i,r)=>{if("object"==typeof i&&null!=i){if(i.outlets){const t={};return wk(i.outlets,(e,n)=>{t[n]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(i.segmentPath)return[...e,i.segmentPath]}return"string"!=typeof i?[...e,i]:0===r?(i.split("/").forEach((i,r)=>{0==r&&"."===i||(0==r&&""===i?n=!0:".."===i?t++:""!=i&&e.push(i))}),e):[...e,i]},[]);return new aC(n,t,i)}(n);if(s.toRoot())return oC(t.root,new Ck([],{}),t,i,r);const o=function(e,t,n){if(e.isAbsolute)return new cC(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){const e=n.snapshot._urlSegment;return new cC(e,e===t.root,0)}const i=sC(e.commands[0])?0:1;return function(e,t,n){let i=e,r=t,s=n;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new cC(i,!1,r-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,e.numberOfDoubleDots)}(s,t,e),a=o.processChildren?hC(o.segmentGroup,o.index,s.commands):uC(o.segmentGroup,o.index,s.commands);return oC(o.segmentGroup,a,t,i,r)}(c,this.currentUrlTree,e,u,l)}navigateByUrl(e,t={skipLocationChange:!1}){Ai()&&this.isNgZoneEnabled&&!Rl.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=bC(e)?e:this.parseUrl(e),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}isActive(e,t){if(bC(e))return Ek(this.currentUrlTree,e,t);const n=this.parseUrl(e);return Ek(this.currentUrlTree,n,t)}removeEmptyProps(e){return Object.keys(e).reduce((t,n)=>{const i=e[n];return null!=i&&(t[n]=i),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.events.next(new ZE(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,n,i,r){const s=this.getTransition();if(s&&"imperative"!==t&&"imperative"===s.source&&s.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(s&&"hashchange"==t&&"popstate"===s.source&&s.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(s&&"popstate"==t&&"hashchange"===s.source&&s.rawUrl.toString()===e.toString())return Promise.resolve(!0);let o,a,c;r?(o=r.resolve,a=r.reject,c=r.promise):c=new Promise((e,t)=>{o=e,a=t});const l=++this.navigationId;return this.setTransition({id:l,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:i,resolve:o,reject:a,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(e=>Promise.reject(e))}setBrowserUrl(e,t,n,i){const r=this.urlSerializer.serialize(e);i=i||{},this.location.isCurrentPathEqualTo(r)||t?this.location.replaceState(r,"",Object.assign(Object.assign({},i),{navigationId:n})):this.location.go(r,"",Object.assign(Object.assign({},i),{navigationId:n}))}resetStateAndUrl(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return e.\u0275fac=function(t){return new(t||e)(ze(eo),ze(Rk),ze(ax),ze(wu),ze(go),ze(Xl),ze(xl),ze(void 0))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})(),px=(()=>{class e{constructor(e,t,n){this.router=e,this.route=t,this.locationStrategy=n,this.commands=[],this.onChanges=new E,this.subscription=e.events.subscribe(e=>{e instanceof ZE&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}set preserveQueryParams(e){Ai()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,t,n,i){if(0!==e||t||n||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const r={skipLocationChange:mx(this.skipLocationChange),replaceUrl:mx(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,r),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:mx(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:mx(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(Ao(dx),Ao(Qk),Ao(gu))},e.\u0275dir=yt({type:e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&qo("click",(function(e){return t.onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)})),2&e&&(Ca("href",t.href,ir),To("target",t.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[At]}),e})();function mx(e){return""===e||!!e}let fx=(()=>{class e{constructor(e,t,n,i,r){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=r,this.activated=null,this._activatedRoute=null,this.activateEvents=new jc,this.deactivateEvents=new jc,this.name=i||"primary",e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,r=new gx(e,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)(Ao(ax),Ao(gc),Ao(qa),Do("name"),Ao(Zs))},e.\u0275dir=yt({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class gx{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===Qk?this.route:e===ax?this.childContexts:this.parent.get(e,t)}}class _x{}class yx{preload(e,t){return td(null)}}let vx=(()=>{class e{constructor(e,t,n,i,r){this.router=e,this.injector=i,this.preloadingStrategy=r,this.loader=new sx(t,n,t=>e.triggerEvent(new ok(t)),t=>e.triggerEvent(new ak(t)))}setUpPreloading(){this.subscription=this.router.events.pipe(ad(e=>e instanceof ZE),My(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(Ze);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,t){const n=[];for(const i of t)if(i.loadChildren&&!i.canLoad&&i._loadedConfig){const e=i._loadedConfig;n.push(this.processRoutes(e.module,e.routes))}else i.loadChildren&&!i.canLoad?n.push(this.preloadConfig(e,i)):i.children&&n.push(this.processRoutes(e,i.children));return B(n).pipe(q(),N(e=>{}))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>this.loader.load(e.injector,t).pipe(j(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}return e.\u0275fac=function(t){return new(t||e)(ze(dx),ze(Xl),ze(xl),ze(go),ze(_x))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})(),bx=(()=>{class e{constructor(e,t,n={}){this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof QE?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof ZE&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof dk&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new dk(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(ze(dx),ze(Hu),ze(void 0))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})();const wx=new Fe("ROUTER_CONFIGURATION"),Sx=new Fe("ROUTER_FORROOT_GUARD"),Ex=[wu,{provide:Rk,useClass:Ok},{provide:dx,useFactory:function(e,t,n,i,r,s,o,a={},c,l){const u=new dx(null,e,t,n,i,r,s,vk(o));if(c&&(u.urlHandlingStrategy=c),l&&(u.routeReuseStrategy=l),a.errorHandler&&(u.errorHandler=a.errorHandler),a.malformedUriErrorHandler&&(u.malformedUriErrorHandler=a.malformedUriErrorHandler),a.enableTracing){const e=su();u.events.subscribe(t=>{e.logGroup("Router Event: "+t.constructor.name),e.log(t.toString()),e.log(t),e.logGroupEnd()})}return a.onSameUrlNavigation&&(u.onSameUrlNavigation=a.onSameUrlNavigation),a.paramsInheritanceStrategy&&(u.paramsInheritanceStrategy=a.paramsInheritanceStrategy),a.urlUpdateStrategy&&(u.urlUpdateStrategy=a.urlUpdateStrategy),a.relativeLinkResolution&&(u.relativeLinkResolution=a.relativeLinkResolution),u},deps:[Rk,ax,wu,go,Xl,xl,rx,wx,[class{},new ie],[class{},new ie]]},ax,{provide:Qk,useFactory:function(e){return e.routerState.root},deps:[dx]},{provide:Xl,useClass:Jl},vx,yx,class{preload(e,t){return t().pipe(Iy(()=>td(null)))}},{provide:wx,useValue:{enableTracing:!1}}];function kx(){return new ql("Router",dx)}let Cx=(()=>{class e{constructor(e,t){}static forRoot(t,n){return{ngModule:e,providers:[Ex,Rx(t),{provide:Sx,useFactory:Ix,deps:[[dx,new ie,new se]]},{provide:wx,useValue:n||{}},{provide:gu,useFactory:Tx,deps:[au,[new ne(yu),new ie],wx]},{provide:bx,useFactory:xx,deps:[dx,Hu,wx]},{provide:_x,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:yx},{provide:ql,multi:!0,useFactory:kx},[Ox,{provide:cl,multi:!0,useFactory:Ax,deps:[Ox]},{provide:Px,useFactory:Dx,deps:[Ox]},{provide:fl,multi:!0,useExisting:Px}]]}}static forChild(t){return{ngModule:e,providers:[Rx(t)]}}}return e.\u0275mod=gt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)(ze(Sx,8),ze(dx,8))}}),e})();function xx(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new bx(e,t,n)}function Tx(e,t,n={}){return n.useHash?new bu(e,t):new vu(e,t)}function Ix(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Rx(e){return[{provide:_o,multi:!0,useValue:e},{provide:rx,multi:!0,useValue:e}]}let Ox=(()=>{class e{constructor(e){this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new E}appInitializer(){return this.injector.get(lu,Promise.resolve(null)).then(()=>{let e=null;const t=new Promise(t=>e=t),n=this.injector.get(dx),i=this.injector.get(wx);if(this.isLegacyDisabled(i)||this.isLegacyEnabled(i))e(!0);else if("disabled"===i.initialNavigation)n.setUpLocationChangeListener(),e(!0);else{if("enabled"!==i.initialNavigation)throw new Error(`Invalid initialNavigation options: '${i.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?td(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),n.initialNavigation()}return t})}bootstrapListener(e){const t=this.injector.get(wx),n=this.injector.get(vx),i=this.injector.get(bx),r=this.injector.get(dx),s=this.injector.get(Wl);e===s.components[0]&&(this.isLegacyEnabled(t)?r.initialNavigation():this.isLegacyDisabled(t)&&r.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),r.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}isLegacyDisabled(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}return e.\u0275fac=function(t){return new(t||e)(ze(go))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})();function Ax(e){return e.appInitializer.bind(e)}function Dx(e){return e.bootstrapListener.bind(e)}const Px=new Fe("Router Initializer");function Mx(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{c(i.next(e))}catch(t){s(t)}}function a(e){try{c(i.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))}var Nx=function(e){return e[e.EUR=0]="EUR",e[e.USD=1]="USD",e}({});const Lx=["\u20ac","$"],Fx=["EUR","USD"];class Ux{constructor(e,t){this._contactId=e,this._name=t}get contactId(){return this._contactId}set contactId(e){this._contactId=e}get name(){return this._name}set name(e){this._name=e}}var Bx=function(e){return e[e.GERMAN=0]="GERMAN",e[e.ENGLISH=1]="ENGLISH",e}({});class jx{constructor(e,t){this._contact=e,this._group=t,this._balance=0,this._active=!0}set active(e){this._active=e}get active(){return this._active}get contact(){return this._contact}get group(){return this._group}get balance(){return this._balance}set balance(e){this._balance=e}}let Vx=(()=>{class e{}return e.log=!0,e})();class Kx{constructor(e,t,n,i,r,s,o,a){this._transactionType=e,this._transactionId=t,this._name=n,this._creationDate=i,this._group=r,this._payer=s,this._recipients=o,this._sender=a}get transactionType(){return this._transactionType}get transactionId(){return this._transactionId}get name(){return this._name}set name(e){this._name=e}get creationDate(){return this._creationDate}get group(){return this._group}get payer(){return this._payer}set payer(e){this._payer=e}get recipients(){return this._recipients}set recipients(e){this._recipients=e}get sender(){return this._sender}}var qx=function(e){return e[e.EXPENSE=0]="EXPENSE",e[e.PAYBACK=1]="PAYBACK",e}({});class Gx{constructor(e,t){this._contact=e,this._amount=t}get contact(){return this._contact}get amount(){return this._amount}}class $x{constructor(e,t,n,i){this._activityType=e,this._subject=t,this._actor=n,this._creationDate=i}get activityType(){return this._activityType}get subject(){return this._subject}get actor(){return this._actor}get creationDate(){return this._creationDate}}var Hx=function(e){return e[e.NEWEXPENSE=0]="NEWEXPENSE",e[e.EXPENSECHANGE=1]="EXPENSECHANGE",e[e.NEWPAYBACK=2]="NEWPAYBACK",e[e.GROUPCREATION=3]="GROUPCREATION",e[e.NEWCONTACTINGROUP=4]="NEWCONTACTINGROUP",e[e.CONTACTLEFTGROUP=5]="CONTACTLEFTGROUP",e}({});let zx=(()=>{class e{constructor(e,t){this.time=e,this.id=t}static getTransactionTimeByID(t){for(const n of e.transactionTimes)if(n.id===t)return n.time;return 0}}return e.transactionTimes=[],e.groupCreationTime=0,e})();var Wx=n("xPRb");class Yx{}class Xx extends Yx{constructor(e,t){super(),this.error=e,this.message=t}getError(){return this.error}getMessage(){return this.message}getValue(){return null}wasSuccessful(){return!1}}class Qx extends Yx{constructor(e){super(),this.value=e}getError(){return null}getMessage(){return""}getValue(){return this.value}wasSuccessful(){return!0}}var Zx=function(e){return e[e.Autodiscovery=0]="Autodiscovery",e[e.InvalidPassword=1]="InvalidPassword",e[e.Unknown=2]="Unknown",e}({}),Jx=function(e){return e[e.Setter=0]="Setter",e}({}),eT=function(e){return e[e.SendEvent=0]="SendEvent",e[e.NoOriginal=1]="NoOriginal",e[e.InvalidUsers=2]="InvalidUsers",e[e.Unknown=3]="Unknown",e[e.InvalidName=4]="InvalidName",e[e.SetCurrency=5]="SetCurrency",e[e.InUse=6]="InUse",e[e.RoomNotFound=7]="RoomNotFound",e}({});let tT=(()=>{class e{constructor(){}findClientConfig(e){return Wx.AutoDiscovery.findClientConfig(e)}createClient(e,t,n){let i;return i=void 0!==n&&void 0!==t?{baseUrl:e,accessToken:n.accessToken,userId:n.account,store:t,useAutorizationHeader:!0}:void 0===n&&void 0!==t?{baseUrl:e,store:t,useAutorizationHeader:!0}:void 0!==n&&void 0===t?{baseUrl:e,accessToken:n.accessToken,userId:n.account,useAutorizationHeader:!0}:{baseUrl:e,useAutorizationHeader:!0},console.log(i),Object(Wx.createClient)(i)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),nT=(()=>{class e{constructor(e){this.matrixClassProviderService=e,this.loggedIn=!1,this.prepared=!1,this.loggedInEmitter=new jc,this.logoutEmitter=new jc}login(e,t,n){return Mx(this,void 0,void 0,(function*(){if(this.loggedIn)throw new Error("already logged in");const i=yield this.autodiscovery(e);if(i instanceof Xx)return i;try{yield this.authenticate(e,t,n)}catch(s){let e;return console.log(s),this.loggedIn=!1,e="string"==typeof s?s:s.data.errcode+": "+s.data.error,new Xx(Zx.InvalidPassword,e)}yield this.setDefaultSettings();const r=(e,t,n)=>Mx(this,void 0,void 0,(function*(){this.prepared="PREPARED"===e||"SYNCING"===e,console.log("Matrix Client prepared: "+this.prepared),this.prepared&&this.matrixClient.removeListener("sync",r)}));return this.matrixClient.on("sync",r),this.isLoggedIn()&&this.loggedInEmitter.emit(),new Qx}))}autodiscovery(t){return Mx(this,void 0,void 0,(function*(){const n=localStorage.getItem("baseUrl");if(null!==n)return void(this.serverAddress=n);const i=t.split(e.ACCOUNT_SEPARATOR);if(2!=i.length||""==i[1]||null==i[1])throw new Error("wrong user id format");const r=i[1],s=yield this.matrixClassProviderService.findClientConfig(r);if(s["m.homeserver"].state!=e.AUTODISCOVERY_SUCCESS)return console.log(s),new Xx(Zx.Autodiscovery,s["m.homeserver"].error);this.serverAddress=s["m.homeserver"].base_url,localStorage.setItem("baseUrl",this.serverAddress)}))}authenticate(e,t,n){return Mx(this,void 0,void 0,(function*(){if(void 0===t){if(void 0===n)return Promise.reject("No authentification data provided. Need either account/pw or accessToken.");this.matrixClient=yield this.matrixClassProviderService.createClient(this.serverAddress,void 0,{accessToken:n,account:e}),this.roomTypeMatrixClient=yield this.matrixClassProviderService.createClient(this.serverAddress,void 0,{accessToken:n,account:e}),this.loginInfo={access_token:n}}else{if(void 0===e)return Promise.reject("No authentification data provided. Need account, not only password.");this.matrixClient=yield this.matrixClassProviderService.createClient(this.serverAddress),this.roomTypeMatrixClient=yield this.matrixClassProviderService.createClient(this.serverAddress),this.loginInfo=yield this.matrixClient.loginWithPassword(e,t),yield this.roomTypeMatrixClient.loginWithPassword(e,t),localStorage.setItem("accessToken",this.loginInfo.access_token),localStorage.setItem("account",e)}console.log("token written"),console.log(this.loginInfo),this.loggedIn=!0}))}setDefaultSettings(){return Mx(this,void 0,void 0,(function*(){let t,n;try{t=yield this.matrixClient.getAccountDataFromServer(e.CURRENCY_KEY)}catch(i){console.log("caught "+i.message+" while getting currency setting")}try{n=yield this.matrixClient.getAccountDataFromServer(e.LANGUAGE_KEY)}catch(i){console.log("caught "+i.message+" while getting language setting")}console.log(t),null===t&&(yield this.matrixClient.setAccountData(e.CURRENCY_KEY,{currency:e.DEFAULT_CURRENCY})),null===n&&(yield this.matrixClient.setAccountData(e.LANGUAGE_KEY,{language:e.DEFAULT_LANGUAGE}))}))}getLoggedInEmitter(){return this.loggedInEmitter}getLogoutEmitter(){return this.logoutEmitter}logout(){return Mx(this,void 0,void 0,(function*(){return this.loggedIn&&(yield this.matrixClient.logout(),this.loggedIn=!1,this.prepared=!1),localStorage.clear(),this.loginInfo=void 0,this.logoutEmitter.emit(),new Qx}))}getClient(){if(0==this.loggedIn)throw new Error("can only get Client if logged in");if(void 0===this.matrixClient)throw new Error("unknown error");return this.matrixClient}getRoomTypeClient(){if(!1===this.loggedIn)throw new Error("can only get Client if logged in");if(void 0===this.matrixClient)throw new Error("unknown error");return this.roomTypeMatrixClient}getNewClient(){return Mx(this,void 0,void 0,(function*(){const e={accessToken:localStorage.getItem("accessToken"),account:localStorage.getItem("account")};return console.log(e),yield this.matrixClassProviderService.createClient(this.serverAddress,void 0,e)}))}isLoggedIn(){return this.loggedIn}isPrepared(){return this.prepared}}return e.ACCOUNT_SEPARATOR=":",e.AUTODISCOVERY_SUCCESS="SUCCESS",e.CURRENCY_KEY="com.matrixpay.currency",e.LANGUAGE_KEY="com.matrixpay.language",e.DEFAULT_CURRENCY=Fx[0],e.DEFAULT_LANGUAGE="English",e.\u0275fac=function(t){return new(t||e)(ze(tT))},e.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),iT=(()=>{class e{constructor(e){this.filterCount=1,this.filterDefinition={room:{rooms:[],state:{types:["m.room.*","org.matrix.msc1840"]},timeline:{limit:10,types:["com.matrixpay.currency","com.matrixpay.language","com.matrixpay.payback","com.matrixpay.expense","m.room.create","m.room.member","org.matrix.msc1840"]},ephemeral:{not_types:["*"]}},presence:{not_types:["*"]}},this.transactions={},this.initializedPayRooms=new Set,this.clientService=e,this.userObservable=new E,this.groupsObservable=new E,this.balancesObservable=new E,this.recommendationsObservable=new E,this.settingsCurrencyObservable=new E,this.groupMembershipObservable=new E,this.newTransactionObservable=new E,this.modifiedTransactionsObservable=new E,this.multipleNewTransactionsObservable=new E,this.settingsLanguageObservable=new E,this.groupActivityObservable=new E,this.logoutObservable=new E,this.clientService.getLoggedInEmitter().subscribe(()=>Mx(this,void 0,void 0,(function*(){yield this.setUp()}))),this.clientService.getLogoutEmitter().subscribe(()=>this.logoutObservable.next())}setUp(){return Mx(this,void 0,void 0,(function*(){this.matrixClient=this.clientService.getClient(),this.roomTypeMatrixClient=this.clientService.getRoomTypeClient(),this.accountDataListener(),this.timelineListener(),this.roomListener(),this.membershipListener(),this.timelineResetListener(),this.roomStateListener(),this.roomTypeListener();const t=Wx.Filter.fromJson(this.matrixClient.credentials.userId,e.FILTER_ID+this.filterCount,this.filterDefinition),n=Wx.Filter.fromJson(this.roomTypeMatrixClient.credentials.userId,e.ROOM_TYPE_FILTER_ID,{room:{state:{types:["org.matrix.msc1840"]}}});yield this.matrixClient.startClient({includeArchivedRooms:!1,filter:t}),yield this.roomTypeMatrixClient.startClient({includeArchivedRooms:!1,roomTypeFilter:n});const i=this.matrixClient.getUserId(),r=yield this.matrixClient.getAccountDataFromServer("com.matrixpay.currency"),s=yield this.matrixClient.getAccountDataFromServer("com.matrixpay.language");null!==r&&(this.checkProperties(r,e.CHECK_CURRENCY_PROPERTIES)?this.userObservable.next({contactId:i,name:this.matrixClient.getUser(i).displayName,currency:r.currency,language:s.language}):console.log("Found invalid currency event"))}))}processNewRoom(t){return Mx(this,void 0,void 0,(function*(){const n=t.roomId,i=t.name,r=[],s=[],o=t.getLiveTimeline().getState(Wx.EventTimeline.FORWARDS).getStateEvents("com.matrixpay.currency","");let a;null===o?console.log("no currency set"):this.checkProperties(o.getContent(),e.CHECK_CURRENCY_PROPERTIES)?(a=o.getContent().currency,Vx.log&&console.log(o.getContent().currency)):console.log("Found invalid currency event"),Vx.log&&console.log("new room detected. groupName: "+i+" userIds: "+r+" userNames: "+s+" currency: "+a),this.groupsObservable.next({groupId:n,groupName:i,currency:a,userIds:r,userNames:s,isLeave:!1}),yield this.paginateBackwards(t)}))}paginateBackwards(e){return Mx(this,void 0,void 0,(function*(){const t=new Wx.TimelineWindow(this.matrixClient,e.getLiveTimeline().getTimelineSet());t.load(),yield this.paginateBackwardsUntilTheEnd(t),Vx.log&&console.log("found old transactions in room "+e.roomId+": "+this.transactions.hasOwnProperty(e.roomId)),this.transactions.hasOwnProperty(e.roomId)&&(this.initializedPayRooms.add(e.roomId),this.multipleNewTransactionsObservable.next(this.transactions[e.roomId]),Vx.log&&console.log("Anzahl Transaktionen: "+this.transactions[e.roomId].length))}))}paginateBackwardsUntilTheEnd(e){return Mx(this,void 0,void 0,(function*(){(yield e.paginate(Wx.EventTimeline.BACKWARDS,10))&&(yield this.paginateBackwardsUntilTheEnd(e))}))}accountDataCallback(t,n){switch(t.getType()){case"com.matrixpay.currency":Vx.log&&console.log("got currency change to "+t.getContent().currency),this.checkProperties(t.getContent(),e.CHECK_CURRENCY_PROPERTIES)?(this.settingsCurrencyObservable.next({currency:t.getContent().currency}),console.log("currency sent")):console.log("found invalid currency event");break;case"com.matrixpay.language":this.checkProperties(t.getContent(),e.CHECK_LANGUAGE_PROPERTIES)?(Vx.log&&console.log("got language change to "+t.getContent().language),this.settingsLanguageObservable.next({language:t.getContent().language})):console.log("found invalid language event")}}accountDataListener(){this.matrixClient.on("accountData",(e,t)=>{this.accountDataCallback(e,t)})}timelineListener(){this.matrixClient.on("Room.timeline",(t,n,i,r,s)=>{if(!s.liveEvent)switch(t.getType()){case"com.matrixpay.payback":console.log("got an old payback. name: "+t.getContent().name+" room: "+n.name),this.checkProperties(t.getContent(),e.CHECK_TRANSACTION_PROPERTIES)?this.initializedPayRooms.has(n.roomId)?this.multipleNewTransactionsObservable.next([this.getPaybackFromEvent(n,t)]):(this.transactions.hasOwnProperty(n.roomId)||(this.transactions[n.roomId]=[]),this.transactions[n.roomId].push(this.getPaybackFromEvent(n,t))):console.log("Found invalid transaction");break;case"com.matrixpay.expense":this.checkProperties(t.getContent(),e.CHECK_TRANSACTION_PROPERTIES)?t.isRelation()?t.isRelation("m.replace")&&(Vx.log&&console.log("got an old editing of an expense. name: "+t.getContent().name),this.modifiedTransactionsObservable.next(this.getExpenseFromEvent(n,t))):(Vx.log&&console.log("got an old expense. name: "+t.getContent().name),this.initializedPayRooms.has(n.roomId)?this.multipleNewTransactionsObservable.next([this.getExpenseFromEvent(n,t)]):(this.transactions.hasOwnProperty(n.roomId)||(this.transactions[n.roomId]=[]),this.transactions[n.roomId].push(this.getExpenseFromEvent(n,t))),console.log(this.transactions[n.roomId])):console.log("Found invalid transaction");break;case"m.room.create":Vx.log&&console.log("got an old room creation. room: "+n.name+" creator: "+t.getContent().creator+" date: "+t.getDate()),this.groupActivityObservable.next({groupId:n.roomId,creatorId:t.getContent().creator,creationDate:t.getDate()});break;case"m.room.member":{let e;"join"===t.getContent().membership&&(Vx.log&&console.log("got an old room membership change: "+t.getStateKey()+" joined the room "+n.name),e=!1),"leave"===t.getContent().membership&&(Vx.log&&console.log("got an old room membership change: "+t.getStateKey()+" left the room "+n.name),e=!0),this.groupMembershipObservable.next({groupId:n.roomId,userId:t.getStateKey(),date:t.getDate(),isLeave:e,name:n.getMember(t.getStateKey()).user.displayName});break}}if(s.liveEvent)switch(t.getType()){case"com.matrixpay.payback":this.checkProperties(t.getContent(),e.CHECK_TRANSACTION_PROPERTIES)?this.multipleNewTransactionsObservable.next([this.getPaybackFromEvent(n,t)]):console.log("Found invalid transaction");break;case"com.matrixpay.expense":console.log(t),this.checkProperties(t.getContent(),e.CHECK_TRANSACTION_PROPERTIES)?t.isRelation()?t.isRelation("m.replace")&&(Vx.log&&console.log("got editing of payback. name: "+t.getContent().name),this.modifiedTransactionsObservable.next(this.getExpenseFromEvent(n,t))):(Vx.log&&console.log("got expense. name: "+t.getContent().name),this.multipleNewTransactionsObservable.next([this.getExpenseFromEvent(n,t)])):console.log("Found invalid transaction");break;case"m.room.create":Vx.log&&console.log("got a room creation. room: "+n.name+" creator: "+t.getContent().creator+" date: "+t.getDate()),this.groupActivityObservable.next({groupId:n.roomId,creatorId:t.getContent().creator,creationDate:t.getDate()})}})}roomListener(){this.matrixClient.on("Room",e=>Mx(this,void 0,void 0,(function*(){console.log("--- new Room ---"),console.log(e.getLiveTimeline().getState(Wx.EventTimeline.FORWARDS));const t=e.getLiveTimeline().getState(Wx.EventTimeline.FORWARDS).getMember(this.matrixClient.getUserId());Vx.log&&console.log(t),Vx.log&&console.log(this.matrixClient.getUserId()),"join"===t.membership&&(console.log("triggered"),yield this.processNewRoom(e)),"invite"===t.membership&&(yield this.matrixClient.joinRoom(e.roomId))})))}membershipListener(){this.matrixClient.on("RoomMember.membership",(e,t,n)=>{const i=t.userId,r=t.roomId;if(console.log("membership changed from "+n+" to "+t.membership+". room:  "+r+" member: "+t.userId),i===this.matrixClient.getUserId())"invite"!==n&&"leave"!==n&&null!==n||"join"!==t.membership||this.groupMembershipObservable.next({groupId:r,isLeave:!1,userId:i,date:e.getDate(),name:t.name}),"join"===n&&"leave"===t.membership&&(Vx.log&&console.log("user left the room "+r+" date: "+e.getDate()),this.groupsObservable.next({groupId:r,isLeave:!0,currency:void 0,groupName:void 0,userNames:void 0,userIds:void 0}));else{let s;"invite"===t.membership||"join"===t.membership?(s=!1,Vx.log&&console.log("membership change: userId: "+i+"isLeave: "+s+" date: "+e.getDate())):"join"===n&&"leave"===t.membership&&(s=!0,Vx.log&&console.log("membership change: userId: "+i+"isLeave: "+s+" date: "+e.getDate())),this.groupMembershipObservable.next({groupId:r,isLeave:s,userId:i,date:e.getDate(),name:t.name})}})}timelineResetListener(){this.matrixClient.on("Room.timelineReset",(e,t,n)=>Mx(this,void 0,void 0,(function*(){console.log("LiveTimeline in room "+e.roomId+" has been reset. Events may have been missed."),yield this.paginateBackwards(e)})))}roomStateListener(){this.matrixClient.on("RoomState.events",(e,t,n)=>{console.log(e.getType())})}roomTypeListener(){this.roomTypeMatrixClient.on("RoomState.events",(e,t,n,i,r)=>Mx(this,void 0,void 0,(function*(){if("org.matrix.msc1840"===e.getType()){this.matrixClient.stopClient(),this.matrixClient.removeAllListeners(),console.log(t.roomId),this.filterDefinition.room.rooms.push(t.roomId);const e=this.hashObject(this.filterDefinition),n=Wx.Filter.fromJson(this.matrixClient.credentials.userId,e,this.filterDefinition);console.log(n.filterId),console.log(this.filterDefinition.room.rooms),this.matrixClient=yield this.clientService.getNewClient(),yield this.matrixClient.startClient({includeArchivedRooms:!1,filter:n}),this.accountDataListener(),this.timelineListener(),this.roomListener(),this.membershipListener(),this.timelineResetListener(),this.roomStateListener()}})))}hashObject(e){const t=JSON.stringify(e);console.log(t);for(var n=0,i=0,r=t.length;i<r;)n=(n<<5)-n+t.charCodeAt(i++)<<0;return n}getExpenseFromEvent(t,n){const i=n.getContent();return console.log("content"),console.log(i),{transactionType:e.TRANSACTION_TYPE_EXPENSE,transactionId:n.getId(),name:i.name,creationDate:n.getDate(),groupId:t.roomId,payerId:i.payer,recipientIds:i.recipients,recipientAmounts:i.amounts,senderId:n.getSender()}}getPaybackFromEvent(t,n){console.log("this is getPaybackFromEvent");const i=n.getContent();return{transactionType:e.TRANSACTION_TYPE_PAYBACK,transactionId:n.getId(),name:i.name,creationDate:n.getDate(),groupId:t.roomId,payerId:i.payer,recipientIds:i.recipients,recipientAmounts:i.amounts,senderId:n.getSender()}}checkProperties(e,t){for(const n of t)if(console.log(n),console.log(e.hasOwnProperty(n)),!e.hasOwnProperty(n))return!1;return!0}getUserObservable(){return this.userObservable}getGroupsObservable(){return this.groupsObservable}getBalancesObservable(){return this.balancesObservable}getRecommendationsObservable(){return this.recommendationsObservable}getSettingsCurrencyObservable(){return this.settingsCurrencyObservable}getGroupMembershipObservable(){return this.groupMembershipObservable}getModifiedTransactionObservable(){return this.modifiedTransactionsObservable}getMultipleNewTransactionsObservable(){return this.multipleNewTransactionsObservable}getNewTransactionObservable(){return this.newTransactionObservable}getSettingsLanguageObservable(){return this.settingsLanguageObservable}getGroupActivityObservable(){return this.groupActivityObservable}getLogoutObservable(){return this.logoutObservable}}return e.TRANSACTION_TYPE_PAYBACK="PAYBACK",e.TRANSACTION_TYPE_EXPENSE="EXPENSE",e.FILTER_ID="edu.kit.tm.dsn.psess2020.matrixpay-v",e.ROOM_TYPE_FILTER_ID="edu.kit.tm.dsn.psess2020.matrixpay-roomType",e.CHECK_TRANSACTION_PROPERTIES=["name","recipients","payer","amounts"],e.CHECK_CURRENCY_PROPERTIES=["currency"],e.CHECK_LANGUAGE_PROPERTIES=["language"],e.AUTODISCOVERY_SUCCESS="SUCCESS",e.\u0275fac=function(t){return new(t||e)(ze(nT))},e.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class rT{constructor(e,t,n){this.transactionChangeEmitter=new E,this.activityChangeEmitter=new E,this.memberChangeEmitter=new E,this._groupId=e,this._name=t,this._currency=n,this._groupmembers=[],this._transactions=[],this._recommendations=[],this._activities=[]}getTransactionChangeEmitter(){return this.transactionChangeEmitter}getActivityChangeEmitter(){return this.activityChangeEmitter}getMemberChangeEmitter(){return this.memberChangeEmitter}get groupId(){return this._groupId}get name(){return this._name}set name(e){this._name=e}get currency(){return this._currency}set currency(e){this._currency=e}get groupmembers(){return this._groupmembers}get transactions(){return this._transactions}get recommendations(){return this._recommendations}get activities(){return this._activities}addGroupmember(e){this._groupmembers.push(e),this.memberChangeEmitter.next()}removeGroupmember(e){this._groupmembers.forEach((t,n)=>{t.contact.contactId===e&&this._groupmembers.splice(n,1)}),this.memberChangeEmitter.next()}addTransaction(e){this._transactions.push(e),this.transactionChangeEmitter.next()}editTransaction(e,t,n,i){const r=this.getTransaction(e);null!=r&&(r.name=t,r.payer=n,r.recipients=i),this.transactionChangeEmitter.next()}getTransaction(e){for(const t of this._transactions)if(t.transactionId===e)return t;return null}getGroupmember(e){for(const t of this._groupmembers)if(t.contact.contactId===e)return t;return null}setRecommendations(e){this._recommendations=e}deleteRecommendation(e,t){this._recommendations.forEach((n,i)=>{n.payer.contact.contactId===e&&n.recipient.contact.contactId===t&&this._recommendations.splice(i,1)})}addActivity(e){this._activities.push(e),this._activities=this._activities.sort(this.compare),console.log(this._activities[0].creationDate),this.activityChangeEmitter.next()}compare(e,t){const n=e.creationDate,i=t.creationDate;let r=0;return n>i?r=1:n<i&&(r=-1),r}}let sT=(()=>{class e{constructor(t,n,i){this.groupChangeEmitter=new E,this._contact=t,this._currency=n,this._language=i,this._groups=[],e._singleUser=this}getGroupChangeEmitter(){return this.groupChangeEmitter}static get singleUser(){return this._singleUser}get contact(){return this._contact}set contact(e){this._contact=e}get currency(){return this._currency}set currency(e){this._currency=e}get language(){return this._language}set language(e){this._language=e}get groups(){return this._groups}getGroup(e){for(const t of this.groups)if(t.groupId===e)return t;return null}createGroup(e,t,n){const i=new rT(e,t,n);return this._groups.push(i),this.groupChangeEmitter.next(),i}removeGroup(e){this._groups.forEach((t,n)=>{t.groupId===e&&this._groups.splice(n,1)})}resetUserData(){this._groups=[],this._contact.contactId="",this._contact.name="",this._currency=Nx.EUR,this._language=Bx.ENGLISH}}return e._singleUser=null,e})();class oT{constructor(){this._responses=[]}get responses(){return this._responses}newResponse(e){this.responses.push(e)}}class aT{constructor(e,t,n){this._group=e,this._payer=t,this._recipient=n}get group(){return this._group}get payer(){return this._payer}get recipient(){return this._recipient}}class cT{constructor(e){this.contactIds=[],this.amounts=[];for(const t of e)this.contactIds.push(t.contact.contactId),this.amounts.push(t.balance)}getUsers(){return this.contactIds}getBalanceForUser(e){return this.amounts[e]}getBalances(){return this.amounts}}let lT=(()=>{class e{constructor(){}calculateBalances(e,t){for(const n of t){let t=n.payer.contact.contactId,i=n.payer.amount;for(const r of e)if(r.contact.contactId===t&&r.group.groupId===n.group.groupId){r.balance+=i;break}for(const r of n.recipients){t=r.contact.contactId,i=r.amount;for(const r of e)if(r.contact.contactId===t&&r.group.groupId===n.group.groupId){r.balance-=i;break}}}return new cT(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class uT{constructor(e,t,n){this.payerIds=e,this.recipientIds=t,this.amounts=n}getPayerIds(){return this.payerIds}getRecipientIds(){return this.recipientIds}getAmounts(){return this.amounts}}let hT=(()=>{class e{constructor(){}static getMinIndex(e){let t=0;for(let n=1;n<e.length;n++)e[n]<e[t]&&(t=n);return t}static getMaxIndex(e){let t=0;for(let n=1;n<e.length;n++)e[n]>e[t]&&(t=n);return t}calculateOptimisation(t){const n=[],i=[],r=[];for(;;){const s=t.getBalances(),o=t.getUsers(),a=e.getMaxIndex(s),c=e.getMinIndex(s);if(0===s[c]||0===s[a])break;const l=Math.min(-s[c],s[a]);s[a]-=l,s[c]+=l,n.push(o[c]),i.push(o[a]),r.push(l)}return new uT(n,i,r)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),dT=(()=>{class e{constructor(e,t){this.balanceCalculator=e,this.greedyOptimisation=t,this._userExists=!1,this.balanceChangeEmitter=new E,this.emitter=new E,this.navItem$=this.emitter.asObservable();const n=new Ux("","");new sT(n,Nx.EUR,Bx.ENGLISH),this.status=new oT,this._userExists=!0}getBalanceEmitter(){return this.balanceChangeEmitter}get userExists(){return this._userExists}get user(){return sT.singleUser}notifyViewModelWhenReady(){this.emitter.next(!0)}getUser(){return this.user}fillInUserData(e,t,n,i){const r=new Ux(e,t);return this.user.contact=r,this.user.currency=n,this.user.language=i,this.notifyViewModelWhenReady(),this.user}initializeUserFirstTime(e,t){const n=new Ux(e,t),i=new sT(n,Nx.EUR,Bx.GERMAN);return this.status=new oT,i}getTransactions(e){return this.getGroup(e).transactions}getTransaction(e,t){return this.getGroup(e).getTransaction(t)}getGroups(){return this.user.groups}getGroup(e){return this.user.getGroup(e)}getStatus(){return this.status}calculateBalances(e,t,n){return Mx(this,void 0,void 0,(function*(){Date.now();const n=this.getGroup(e),i=this.balanceCalculator.calculateBalances(n.groupmembers,t),r=this.greedyOptimisation.calculateOptimisation(i),s=[];for(let e=0;e<r.getPayerIds().length;e++){const t=new Gx(n.getGroupmember(r.getPayerIds()[e]).contact,r.getAmounts()[e]),i=new Gx(n.getGroupmember(r.getRecipientIds()[e]).contact,r.getAmounts()[e]),o=new aT(n,t,i);s.push(o)}n.setRecommendations(s),this.balanceChangeEmitter.next()}))}}return e.\u0275fac=function(t){return new(t||e)(ze(lT),ze(hT))},e.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),pT=(()=>{class e{constructor(e,t){this.dataModel=t,Vx.log&&console.log("This is BasicDataUpdateService!"),this.observables=e,this.createUser(),this.addGroup(),this.addGroupActivity(),this.updateDefaultCurrency(),this.updateDefaultLanguage(),this.addGroupMember(),this.updateNewGroupTransactions(),this.logout()}createUser(){this.observables.getUserObservable().subscribe(e=>{console.log("updateService: createUser: user filled in: "+e.contactId+" , "+e.name),this.dataModel.fillInUserData(e.contactId,e.name,this.currencyStringToEnum(e.currency),this.languageStringToEnum(e.language))})}addGroup(){return Mx(this,void 0,void 0,(function*(){this.observables.getGroupsObservable().subscribe(e=>{if(this.dataModel.userExists)if(null===this.dataModel.getGroup(e.groupId))if(e.isLeave)this.dataModel.user.removeGroup(e.groupId),console.log("updateService: addGroup: Group deleted: "+e.groupId+" , "+e.groupName);else{this.dataModel.getUser().createGroup(e.groupId,e.groupName,this.currencyStringToEnum(e.currency)),console.log("updateService: addGroup: group created: "+e.groupId+" , "+e.groupName);const t=zx.groupCreationTime;t>0&&console.log("updateService: addGroup: time taken for group: "+e.groupName+": "+(Date.now()-t));const n=this.dataModel.getGroup(e.groupId);for(let i=0;i<e.userIds.length;i++)null===n.getGroupmember(e.userIds[i])?(n.addGroupmember(new jx(new Ux(e.userIds[i],e.userNames[i]),n)),console.log("updateService: addGroup: member created: "+e.userIds[i]+" , "+e.userNames[i]),this.dataModel.getBalanceEmitter().next()):""===n.getGroupmember(e.userIds[i]).contact.name&&(n.getGroupmember(e.userIds[i]).contact.name=e.userNames[i],console.log("updateService: addGroup: member filled in: "+e.userIds[i]+" , "+e.userNames[i]),this.dataModel.getBalanceEmitter().next())}else if(e.isLeave)this.dataModel.user.removeGroup(e.groupId),console.log("updateService: addGroup: Group deleted: "+e.groupId+" , "+e.groupName);else{const t=this.dataModel.getGroup(e.groupId);t.name=e.groupName,t.currency=this.currencyStringToEnum(e.currency),this.dataModel.getUser().getGroupChangeEmitter().next(),console.log("updateService: addGroup: group filled in: "+e.groupId+" , "+e.groupName);const n=zx.groupCreationTime;n>0&&console.log("updateService: addGroup: time taken for group: "+e.groupName+": "+(Date.now()-n))}else console.log("updateService: addGroup: user wasnt ready yet. this should never happen.")})}))}addGroupActivity(){return Mx(this,void 0,void 0,(function*(){this.observables.getGroupActivityObservable().subscribe(t=>{let n=this.dataModel.getGroup(t.groupId);null===n&&(n=this.dataModel.user.createGroup(t.groupId,e.EMPTY_GROUP_NAME,Nx.EUR),console.log("updateService: addGroupActivity: added empty group: "+t.groupId+" , "+n.name));let i=!1;for(const e of n.activities)if(e.activityType===Hx.GROUPCREATION){i=!0;break}if(!i){let e=n.getGroupmember(t.creatorId);null===e&&(e=new jx(new Ux(t.creatorId,""),n),n.addGroupmember(e));const i=new $x(Hx.GROUPCREATION,n,e.contact,t.creationDate);n.addActivity(i),console.log("updateService: addGroupActivity: "+t.groupId+" , "+n.name)}})}))}updateDefaultCurrency(){return Mx(this,void 0,void 0,(function*(){this.observables.getSettingsCurrencyObservable().subscribe(e=>{this.dataModel.getUser().currency=this.currencyStringToEnum(e.currency),console.log("updateService: updateDefaultCurrency: "+e.currency)})}))}updateDefaultLanguage(){return Mx(this,void 0,void 0,(function*(){this.observables.getSettingsLanguageObservable().subscribe(e=>{this.dataModel.getUser().language=this.languageStringToEnum(e.language),console.log("updateService: updateDefaultLanguage: "+e.language)})}))}addGroupMember(){return Mx(this,void 0,void 0,(function*(){this.observables.getGroupMembershipObservable().subscribe(e=>{console.log(e);let t=this.dataModel.getGroup(e.groupId);null===t&&(t=this.dataModel.user.createGroup(e.groupId,"",Nx.EUR),console.log("updateService: addGroupMember: created empty group: "+e.groupId+" , "+t.name));let n=t.getGroupmember(e.userId);if(e.isLeave)t.getGroupmember(e.userId).active=!1,console.log("updateService: addGroupMember: set member to inactive: "+e.userId+" , "+e.name),this.dataModel.getBalanceEmitter().next();else if(null===n){n=new jx(new Ux(e.userId,e.name),t),t.addGroupmember(n);const i=new $x(Hx.NEWCONTACTINGROUP,t,n.contact,e.date);t.addActivity(i),console.log("updateService: addGroupMember: created member: "+e.userId+" , "+e.name),this.dataModel.getBalanceEmitter().next()}else if(""===n.contact.name){n.contact.name=e.name;const i=new $x(Hx.NEWCONTACTINGROUP,t,n.contact,e.date);t.addActivity(i),console.log("updateService: addGroupMember: filled in member: "+e.userId+" , "+e.name),this.dataModel.getBalanceEmitter().next()}})}))}updateSingleTransaction(e){let t,n=this.dataModel.getGroup(e.groupId);null===n&&(n=this.dataModel.user.createGroup(e.groupId,"",Nx.EUR),console.log("updateService: updateSingleTransaction: crated empty group: "+e.groupId)),null===n.getGroupmember(e.payerId)?(t=new Ux(e.payerId,""),n.addGroupmember(new jx(t,n)),console.log("updateService: updateSingleTransaction: crated empty payer: "+e.payerId)):t=n.getGroupmember(e.payerId).contact;let i=0;for(const u of e.recipientAmounts)i+=u;const r=new Gx(t,i),s=[];for(let u=0;u<e.recipientIds.length;u++){let t;null===n.getGroupmember(e.recipientIds[u])?(t=new Ux(e.recipientIds[u],""),n.addGroupmember(new jx(t,n)),console.log("updateService: updateSingleTransaction: crated empty recipient: "+e.recipientIds[u])):t=n.getGroupmember(e.recipientIds[u]).contact,s.push(new Gx(t,e.recipientAmounts[u]))}let o;null===n.getGroupmember(e.senderId)?(o=new jx(new Ux(e.senderId,""),n),n.addGroupmember(o),console.log("updateService: updateSingleTransaction: crated empty sender: "+e.senderId)):o=n.getGroupmember(e.senderId);const a=new Kx(this.transactionStringToEnum(e.transactionType),e.transactionId,e.name,e.creationDate,n,r,s,o);let c;n.addTransaction(a),a.transactionType===qx.EXPENSE&&(c=new $x(Hx.NEWEXPENSE,a,o.contact,e.creationDate),console.log("updateService: updateSingleTransaction: crated expense: "+e.transactionId+" + "+e.name)),a.transactionType===qx.PAYBACK&&(c=new $x(Hx.NEWPAYBACK,a,o.contact,e.creationDate),console.log("updateService: updateSingleTransaction: crated payback: "+e.transactionId+" + "+e.name)),n.addActivity(c);const l=zx.getTransactionTimeByID(e.groupId+e.name);return l>0&&console.log("updateService: updateSingleTransaction: Time Taken for Transaction "+e.transactionId+" + "+e.name+": "+(Date.now()-l)),a}updateNewGroupTransactions(){return Mx(this,void 0,void 0,(function*(){this.observables.getMultipleNewTransactionsObservable().subscribe(e=>{const t=[];for(const n of e)if(null===this.dataModel.getGroup(n.groupId)||null===this.dataModel.getGroup(n.groupId).getTransaction(n.transactionId)){const e=this.updateSingleTransaction(n);t.push(e)}this.dataModel.calculateBalances(e[0].groupId,t,e[e.length-1].groupId),console.log("updateService: updateNewGroupTransactions: calculated Balances: "+e[0].groupId)})}))}logout(){this.observables.getLogoutObservable().subscribe(()=>{this.dataModel.getUser().resetUserData()})}currencyStringToEnum(e){let t=Nx.EUR;switch(e){case Fx[0]:t=Nx.EUR;break;case Fx[1]:t=Nx.USD}return t}languageStringToEnum(e){let t=Bx.ENGLISH;switch(e){case"GERMAN":t=Bx.GERMAN;break;case"ENGLISH":t=Bx.ENGLISH}return t}transactionStringToEnum(e){let t=qx.EXPENSE;switch(e){case"EXPENSE":t=qx.EXPENSE;break;case"PAYBACK":t=qx.PAYBACK}return t}}return e.EMPTY_GROUP_NAME="Empty Group",e.\u0275fac=function(t){return new(t||e)(ze(iT),ze(dT))},e.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),mT=(()=>{class e{constructor(e,t){this.dataModel=t,this.observables=e,this.updateBalances(),this.updateRecommendationsForUserPaybacks()}updateBalances(){this.observables.getBalancesObservable().subscribe(e=>{for(let t=0;t<e.participantIds.length;t++)this.findGroupMember(e.groupId,e.participantIds[t]).balance=e.balances[t]})}updateRecommendationsForUserPaybacks(){this.observables.getRecommendationsObservable().subscribe(e=>{for(let t=0;t<e.receiverIds.length;t++)(void 0).push(new aT(this.dataModel.getGroup(e.groupId),new Gx(this.findContact(e.groupId,e.payerIds[t]),-1*e.amounts[t]),new Gx(this.findContact(e.groupId,e.receiverIds[t]),e.amounts[t])));this.dataModel.getGroup(e.groupId).setRecommendations(void 0)})}findContact(e,t){const n=this.dataModel.getGroup(e).groupmembers;for(const i of n)return i.contact.contactId===t?i.contact:null}findGroupMember(e,t){const n=this.dataModel.getGroup(e).groupmembers;for(const i of n)return i.contact.contactId===t?i:null}}return e.\u0275fac=function(t){return new(t||e)(ze(iT),ze(dT))},e.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class fT{constructor(e){this.total=e}call(e,t){return t.subscribe(new gT(e,this.total))}}class gT extends m{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){++this.count>this.total&&this.destination.next(e)}}let _T=(()=>{class e{}return e.\u0275mod=gt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)}}),e})();const yT=new Set;let vT,bT=(()=>{class e{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):wT}matchMedia(e){return this._platform.WEBKIT&&function(e){if(!yT.has(e))try{vT||(vT=document.createElement("style"),vT.setAttribute("type","text/css"),document.head.appendChild(vT)),vT.sheet&&(vT.sheet.insertRule(`@media ${e} {.fx-query-test{ }}`,0),yT.add(e))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return e.\u0275fac=function(t){return new(t||e)(ze($h))},e.\u0275prov=le({factory:function(){return new e(ze($h))},token:e,providedIn:"root"}),e})();function wT(e){return{matches:"all"===e||""===e,media:e,addListener:()=>{},removeListener:()=>{}}}let ST=(()=>{class e{constructor(e,t){this._mediaMatcher=e,this._zone=t,this._queries=new Map,this._destroySubject=new E}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return ET(Th(e)).some(e=>this._registerQuery(e).mql.matches)}observe(e){let t=DE(ET(Th(e)).map(e=>this._registerQuery(e).observable));return t=jd(t.pipe(pd(1)),t.pipe(e=>e.lift(new fT(1)),Nh(0))),t.pipe(N(e=>{const t={matches:!1,breakpoints:{}};return e.forEach(e=>{t.matches=t.matches||e.matches,t.breakpoints[e.query]=e.matches}),t}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const t=this._mediaMatcher.matchMedia(e),n={observable:new y(e=>{const n=t=>this._zone.run(()=>e.next(t));return t.addListener(n),()=>{t.removeListener(n)}}).pipe(Vd(t),N(t=>({query:e,matches:t.matches})),Jf(this._destroySubject)),mql:t};return this._queries.set(e,n),n}}return e.\u0275fac=function(t){return new(t||e)(ze(bT),ze(Rl))},e.\u0275prov=le({factory:function(){return new e(ze(bT),ze(Rl))},token:e,providedIn:"root"}),e})();function ET(e){return e.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const kT="(max-width: 599.99px) and (orientation: portrait), (max-width: 959.99px) and (orientation: landscape)";function CT(e,t){const n=new Promise((t,n)=>{const i=setTimeout(()=>{clearTimeout(i),n("Timed out in "+e+"ms.")},e)});return Promise.race([t,n])}let xT=(()=>{class e{constructor(e,t){this.dialogRef=e,this.data=t}onCancel(){this.dialogRef.close()}}return e.\u0275fac=function(t){return new(t||e)(Ao(Zw),Ao(eS))},e.\u0275cmp=dt({type:e,selectors:[["app-error-modal"]],decls:7,vars:1,consts:[["mat-dialog-content",""],["mat-raised-button","",1,"button",3,"click"]],template:function(e,t){1&e&&(No(0,"h1"),ya(1,"Error"),Lo(),No(2,"div",0),No(3,"mat-label"),ya(4),Lo(),No(5,"button",1),qo("click",(function(){return t.onCancel()})),ya(6,"Ok"),Lo(),Lo()),2&e&&(kr(4),va(t.data.errorMessage))},directives:[sS,xg,vv],styles:[".button[_ngcontent-%COMP%]{margin-bottom:10px}"]}),e})(),TT=(()=>{class e{constructor(){}openErrorModal(e,t){t.open(xT,{width:"300px",data:{errorMessage:e}})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function IT(e,t){if(1&e){const e=jo();No(0,"button",10),qo("click",(function(){return nn(e),Wo(),Oo(2).toggle()})),No(1,"mat-icon",11),ya(2,"menu"),Lo(),Lo()}}let RT=(()=>{class e{constructor(e,t,n,i,r){this.breakpointObserver=e,this.matrixClientService=t,this.dialog=n,this.dialogProviderService=i,this.dataModelService=r,this.loggedOut=new jc,this.loadingLogout=!1,this.userContact=new Ux("",""),this.isHandset$=this.breakpointObserver.observe(kT).pipe(N(e=>e.matches),Nv())}ngOnInit(){this.userContact=this.dataModelService.getUser().contact}logout(){this.loadingLogout=!0,CT(1e5,this.matrixClientService.logout()).then(e=>{e.wasSuccessful()?this.loggedOut.emit(!1):this.dialogProviderService.openErrorModal("error logout 1: "+e.getMessage(),this.dialog),this.loadingLogout=!1},e=>{this.dialogProviderService.openErrorModal("error logout 2: "+e,this.dialog),this.loadingLogout=!1})}}return e.\u0275fac=function(t){return new(t||e)(Ao(ST),Ao(nT),Ao(rS),Ao(TT),Ao(dT))},e.\u0275cmp=dt({type:e,selectors:[["app-navigation-menu"]],outputs:{loggedOut:"loggedOut"},decls:26,vars:13,consts:[[1,"sidenav-container"],["fixedInViewport","",1,"sidenav",3,"mode","opened"],["drawer",""],["mat-list-item","","routerLink","/home"],["mat-list-item","","routerLink","/groups"],["mat-list-item","","routerLink","/settings"],["color","primary"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click",4,"ngIf"],[1,"userName"],["mat-raised-button","",1,"logout",3,"click"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Side nav toggle icon"]],template:function(e,t){1&e&&(No(0,"mat-sidenav-container",0),No(1,"mat-sidenav",1,2),Uc(3,"async"),Uc(4,"async"),Uc(5,"async"),No(6,"mat-toolbar"),ya(7,"Menu"),Lo(),No(8,"mat-nav-list"),No(9,"a",3),ya(10,"Home"),Lo(),No(11,"a",4),ya(12,"Groups"),Lo(),No(13,"a",5),ya(14,"Settings"),Lo(),Lo(),Lo(),No(15,"mat-sidenav-content"),No(16,"mat-toolbar",6),Ro(17,IT,3,0,"button",7),Uc(18,"async"),No(19,"span"),ya(20,"Matrix Pay"),Lo(),No(21,"mat-label",8),ya(22),Lo(),No(23,"button",9),qo("click",(function(){return t.logout()})),ya(24,"Logout"),Lo(),Lo(),Fo(25,"router-outlet"),Lo(),Lo()),2&e&&(kr(1),Po("mode",Bc(4,7,t.isHandset$)?"over":"side")("opened",!1===Bc(5,9,t.isHandset$)),To("role",Bc(3,5,t.isHandset$)?"dialog":"navigation"),kr(16),Po("ngIf",Bc(18,11,t.isHandset$)),kr(5),va(t.userContact.name))},directives:[NS,PS,pS,XS,tE,px,DS,Au,xg,vv,fx,cv],pipes:[Gu],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:200px}.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background:inherit}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:0;z-index:1;height:11vh}.logout[_ngcontent-%COMP%]{top:30px}.logout[_ngcontent-%COMP%], .userName[_ngcontent-%COMP%]{position:absolute;right:10px}.userName[_ngcontent-%COMP%]{top:2px;font-size:small}@media only screen and (min-width:1200px){.userName[_ngcontent-%COMP%]{position:relative;margin-left:20px;font-size:small}.logout[_ngcontent-%COMP%]{position:absolute;right:10px;top:auto}}"]}),e})(),OT=(()=>{class e{constructor(e){this.clientService=e}setBalances(t,n,i,r){return Mx(this,void 0,void 0,(function*(){const s=this.clientService.getClient(),o={balances:n,contacts:i,last_transaction:r};return yield s.setRoomAccountData(t,e.BALANCES_EVENT_TYPE,o),new Qx}))}setRecommendations(t,n,i,r,s){return Mx(this,void 0,void 0,(function*(){const o=this.clientService.getClient(),a={recipients:r,payers:i,amounts:n,last_transaction:s};return yield o.setRoomAccountData(t,e.RECOMMENDATIONS_EVENT_TYPE,a),new Qx}))}}return e.BALANCES_EVENT_TYPE="com.matrixpay.balances",e.RECOMMENDATIONS_EVENT_TYPE="com.matrixpay.recommendations",e.\u0275fac=function(t){return new(t||e)(ze(nT))},e.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),AT=(()=>{class e{constructor(e){this.matrixClientService=e}createTransaction(t,n,i,r,s,o){return Mx(this,void 0,void 0,(function*(){return this.sendTransaction(t,o?e.MESSAGE_TYPE_PAYBACK:e.MESSAGE_TYPE_EXPENSE,{name:n,payer:i,recipients:r,amounts:s})}))}modifyTransaction(e,t,n,i,r,s){return Mx(this,void 0,void 0,(function*(){const o=this.matrixClientService.getClient();let a;try{a=yield o.fetchRoomEvent(e,t)}catch(p){return new Xx(eT.NoOriginal,p)}console.log(a);let c=n,l=i,u=r,h=s;null==c&&(c=a.content.name),null==l&&(l=a.content.payer),null==u&&(u=a.content.recipients),null==h&&(h=a.content.amounts);const d={new_content:{name:c,payer:l,recipients:u,amounts:h},relates_to:{rel_type:"replace",event_id:t}};return console.log(d),this.sendTransaction(e,a.type,d)}))}sendTransaction(e,t,n){return Mx(this,void 0,void 0,(function*(){const i=this.matrixClientService.getClient();let r;try{r=(yield i.sendEvent(e,t,n,"")).event_id}catch(s){return new Xx(eT.SendEvent,s)}return new Qx(r)}))}}return e.MESSAGE_TYPE_EXPENSE="com.matrixpay.expense",e.MESSAGE_TYPE_PAYBACK="com.matrixpay.payback",e.\u0275fac=function(t){return new(t||e)(ze(nT))},e.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),DT=(()=>{class e{constructor(e,t,n){this.transactionService=e,this.matrixClientService=t,this.matrixEmergentDataService=n}addMember(t,n){return Mx(this,void 0,void 0,(function*(){if(!this.matrixClientService.isPrepared())throw new Error("Client is not prepared");const i=this.matrixClientService.getClient();try{yield i.invite(t,n)}catch(r){switch(r.data.errcode){case e.ERRCODE_UNKNOWN:case e.ERRCODE_UNRECOGNIZED:throw new Error("GroupId invalid");case e.ERRCODE_INVALID_PARAM:throw new Error("UserId invalid");default:throw new Error("unknown error")}}return new Qx}))}confirmRecommendation(t,n){return Mx(this,void 0,void 0,(function*(){if(!this.matrixClientService.isPrepared())throw new Error("Client is not prepared");const i=this.matrixClientService.getClient(),r=i.getRoom(t);if(null===r)throw new Error("room not found");const s=r[e.ACCOUNT_DATA_KEY][e.RECOMMENDATIONS_KEY];if(void 0===s)throw new Error("no recommendations have been saved yet");const o=s.getOriginalContent();if(!Number.isInteger(n)||n<0||n>=o.amounts.length)throw new Error("invalid recommendation id");const a=o.amounts,c=o.payers,l=o.recipients,u=a[n],h=c[n],d=l[n];if(h!=(yield i.getUserId()))throw new Error("user must be payer of the recommendation");const p="Payback from "+h+" to "+d+" for "+u,m=yield this.createTransaction(t,p,h,[d],[u],!0);if(!m.wasSuccessful())return m;const f=m.getValue();return a.splice(n,1),c.splice(n,1),l.splice(n,1),yield this.matrixEmergentDataService.setRecommendations(t,a,c,l,f),new Qx(f)}))}createGroup(t,n,i,r){return Mx(this,void 0,void 0,(function*(){const s=this.matrixClientService.getClient();null!=i&&(i.includes(" ")||i.includes(":"))&&(i=void 0);const o={room_alias_name:i,visibility:e.ROOM_VISIBILITY,invite:[],name:t,topic:r};let a;try{a=yield s.createRoom(o)}catch(l){let t=eT.Unknown;const n=l.data.error;switch(l.data.errcode){case e.ERRCODE_UNKNOWN:t=eT.InvalidName;break;case e.ERRCODE_INUSE:t=eT.InUse}return new Xx(t,n)}const c=a.room_id;try{yield s.sendStateEvent(c,e.CURRENCY_KEY,{currency:n},"")}catch(u){return new Xx(eT.SetCurrency,u)}try{yield s.sendStateEvent(c,e.ROOM_TYPE_KEY,{[e.ROOM_TYPE_CONTENT_KEY]:e.ROOM_TYPE_CONTENT_VALUE},"")}catch(u){return new Xx(eT.SetCurrency,u)}return new Qx(c)}))}createTransaction(e,t,n,i,r,s){return Mx(this,void 0,void 0,(function*(){return this.transactionService.createTransaction(e,t,n,i,r,s)}))}fetchHistory(t){return Mx(this,void 0,void 0,(function*(){if(!this.matrixClientService.isPrepared())throw new Error("Client is not prepared");const n=this.matrixClientService.getClient(),i=yield n.getRoom(t);return yield n.scrollback(i,e.SCROLLBACK_LIMIT),new Qx}))}leaveGroup(t){return Mx(this,void 0,void 0,(function*(){if(!this.matrixClientService.isPrepared())throw new Error("Client is not prepared");const n=this.matrixClientService.getClient();if(void 0===n.getRoom(t))return new Xx(eT.RoomNotFound);try{yield n.leave(t)}catch(i){let t=eT.Unknown;const n=i.data.error;switch(i.data.errcode){case e.ERRCODE_UNKNOWN:t=eT.RoomNotFound}return new Xx(t,n)}return new Qx}))}modifyTransaction(e,t,n,i,r,s){return Mx(this,void 0,void 0,(function*(){return this.transactionService.modifyTransaction(e,t,n,i,r,s)}))}}return e.ROOM_VISIBILITY="private",e.ERRCODE_UNKNOWN="M_UNKNOWN",e.ERRCODE_INUSE="M_ROOM_IN_USE",e.ERRCODE_UNRECOGNIZED="M_UNRECOGNIZED",e.ERRCODE_INVALID_PARAM="M_INVALID_PARAM",e.CURRENCY_KEY="com.matrixpay.currency",e.TYPE_KEY="org.matrix.msc1840",e.MATRIX_PAY_TYPE="MatrixPay",e.RECOMMENDATIONS_KEY="recommendations",e.ACCOUNT_DATA_KEY="accountData",e.SCROLLBACK_LIMIT=30,e.ROOM_TYPE_KEY="org.matrix.msc1840",e.ROOM_TYPE_CONTENT_KEY="room_type",e.ROOM_TYPE_CONTENT_VALUE="MatrixPay",e.\u0275fac=function(t){return new(t||e)(ze(AT),ze(nT),ze(OT))},e.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),PT=(()=>{class e{constructor(e){this.matrixClientService=e}changeCurrency(t){return Mx(this,void 0,void 0,(function*(){if(!this.matrixClientService.isPrepared())throw new Error("Client is not prepared");const n=this.matrixClientService.getClient();try{yield n.setAccountData(e.CURRENCY_CONTENT_KEY,{currency:t})}catch(i){return new Xx(Jx.Setter,i)}return new Qx}))}changeLanguage(t){return Mx(this,void 0,void 0,(function*(){if(!this.matrixClientService.isPrepared())throw new Error("Client is not prepared");const n=this.matrixClientService.getClient();try{yield n.setAccountData(e.LANGUAGE_CONTENT_KEY,{language:t})}catch(i){return new Xx(Jx.Setter,i)}return new Qx}))}}return e.CURRENCY_CONTENT_KEY="com.matrixpay.currency",e.LANGUAGE_CONTENT_KEY="com.matrixpay.language",e.\u0275fac=function(t){return new(t||e)(ze(nT))},e.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),MT=(()=>{class e{constructor(e,t){this.groupService=e,this.settingsService=t}confirmPayback(e,t){return this.groupService.confirmRecommendation(e,t)}createTransaction(e,t,n,i,r,s){return this.groupService.createTransaction(e,t,n,i,r,s)}fetchHistory(e){return this.groupService.fetchHistory(e)}groupAddMember(e,t){return this.groupService.addMember(e,t)}groupCreate(e,t){return this.groupService.createGroup(e,t)}leaveGroup(e){return this.groupService.leaveGroup(e)}modifyTransaction(e,t,n,i,r,s){return this.groupService.modifyTransaction(e,t,n,i,r,s)}userChangeDefaultCurrency(e){return this.settingsService.changeCurrency(e)}userChangeLanguage(e){return this.settingsService.changeLanguage(e)}}return e.\u0275fac=function(t){return new(t||e)(ze(DT),ze(PT))},e.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function NT(e,t){if(1&e&&(No(0,"mat-error"),ya(1),Lo()),2&e){const e=Wo(2);kr(1),va(e.getMatrixUrlErrorMessage())}}function LT(e,t){if(1&e&&(No(0,"mat-error"),ya(1),Lo()),2&e){const e=Wo(2);kr(1),va(e.getPasswordErrorMessage())}}function FT(e,t){1&e&&Fo(0,"mat-spinner",12),2&e&&Po("diameter",30)}function UT(e,t){if(1&e){const e=jo();No(0,"mat-card",3),No(1,"div",4),No(2,"mat-label"),ya(3,"Matrix Pay"),Lo(),Lo(),No(4,"div",5),No(5,"mat-form-field",6),No(6,"mat-label"),ya(7,"Matrix ID"),Lo(),Fo(8,"input",7),Ro(9,NT,2,1,"mat-error",2),Lo(),Lo(),No(10,"div",5),No(11,"mat-form-field",6),No(12,"mat-label"),ya(13,"Enter your password"),Lo(),No(14,"input",8),qo("keyup.enter",(function(){return nn(e),Wo().login()})),Lo(),Ro(15,LT,2,1,"mat-error",2),No(16,"button",9),qo("click",(function(){nn(e);const t=Wo();return t.hidePassword=!t.hidePassword})),No(17,"mat-icon"),ya(18),Lo(),Lo(),Lo(),Lo(),No(19,"div",5),No(20,"button",10),qo("click",(function(){return nn(e),Wo().login()})),ya(21,"Login"),Lo(),Ro(22,FT,1,1,"mat-spinner",11),Lo(),Lo()}if(2&e){const e=Wo();kr(8),Po("formControl",e.matrixUrlControl),kr(1),Po("ngIf",e.matrixUrlControl.invalid),kr(5),Po("type",e.hidePassword?"password":"text")("formControl",e.passwordControl),kr(1),Po("ngIf",e.passwordControl.invalid),kr(1),To("aria-label","Hide password")("aria-pressed",e.hidePassword),kr(2),va(e.hidePassword?"visibility_off":"visibility"),kr(2),Po("disabled",e.passwordControl.invalid||e.matrixUrlControl.invalid||e.loadingLogIn),kr(2),Po("ngIf",e.loadingLogIn)}}function BT(e,t){1&e&&(No(0,"div"),Fo(1,"mat-spinner",13),Lo()),2&e&&(kr(1),Po("diameter",50))}let jT=(()=>{class e{constructor(e,t,n,i,r,s){this.clientService=e,this.emergentDataService=t,this.basicDataService=n,this.dataModelService=i,this.dialogProviderService=r,this.dialog=s,this.loggedIn=new jc,this.hidePassword=!0,this.loadingLogIn=!1,this.autoLogin=!1,this.matrixUrlControl=new X_("",[d_.required,d_.pattern("@[_a-z0-9-]+:[a-z0-9.-]+")]),this.passwordControl=new X_("",[d_.required])}ngOnInit(){this.subscription=this.dataModelService.navItem$.subscribe(e=>{e&&(this.loggedIn.emit(!0),this.loadingLogIn=!1)});const e=localStorage.getItem("account"),t=localStorage.getItem("accessToken");console.log(e),console.log(t),null!==e&&null!==t&&(this.autoLogin=!0,CT(1e5,this.clientService.login(e,void 0,t)).then(e=>{e.wasSuccessful()||(this.clientService.logout().then(()=>{this.autoLogin=!1},e=>{this.autoLogin=!1}),this.dialogProviderService.openErrorModal("error login 1: "+e.getMessage(),this.dialog))},e=>{this.clientService.logout().then(()=>{this.autoLogin=!1},e=>{this.autoLogin=!1}),this.dialogProviderService.openErrorModal("error login 2: "+e,this.dialog)}))}ngOnDestroy(){void 0!==this.subscription&&this.subscription.unsubscribe()}login(){this.loadingLogIn||this.passwordControl.invalid||this.matrixUrlControl.invalid||(this.loadingLogIn=!0,this.matrixUrlControl.markAllAsTouched(),this.passwordControl.markAllAsTouched(),this.matrixUrlControl.invalid||this.passwordControl.invalid||CT(1e5,this.clientService.login(this.matrixUrlControl.value,this.passwordControl.value)).then(e=>{e.wasSuccessful()||(this.clientService.logout().then(()=>{this.loadingLogIn=!1},e=>{this.loadingLogIn=!1}),this.dialogProviderService.openErrorModal("error login 1: "+e.getMessage(),this.dialog))},e=>{this.clientService.logout().then(()=>{this.loadingLogIn=!1},e=>{this.loadingLogIn=!1}),this.dialogProviderService.openErrorModal("error login 2: "+e,this.dialog)}))}getPasswordErrorMessage(){return"Please enter a password"}getMatrixUrlErrorMessage(){return this.matrixUrlControl.hasError("required")?"Please enter a matrixUrl":"Please enter a valid matrixUrl"}}return e.\u0275fac=function(t){return new(t||e)(Ao(nT),Ao(OT),Ao(MT),Ao(dT),Ao(TT),Ao(rS))},e.\u0275cmp=dt({type:e,selectors:[["app-login"]],outputs:{loggedIn:"loggedIn"},decls:3,vars:2,consts:[[1,"baseDiv"],["class","center",4,"ngIf"],[4,"ngIf"],[1,"center"],[1,"centerText"],[1,"row"],["appearance","fill",1,"full-width"],["matInput","","type","text","autocomplete","username","placeholder","@uxxxx:example.com",3,"formControl"],["matInput","","autocomplete","current-password","placeholder","password",3,"type","formControl","keyup.enter"],["mat-icon-button","","matSuffix","",3,"click"],["mat-raised-button","","color","primary",1,"row",3,"disabled","click"],[3,"diameter",4,"ngIf"],[3,"diameter"],[1,"centerspinner",3,"diameter"]],template:function(e,t){1&e&&(No(0,"div",0),Ro(1,UT,23,10,"mat-card",1),Ro(2,BT,2,1,"div",2),Lo()),2&e&&(kr(1),Po("ngIf",!t.autoLogin),kr(1),Po("ngIf",t.autoLogin))},directives:[Au,dv,xg,Lg,ky,e_,o_,dy,vv,Og,cv,wg,TE],styles:[".center[_ngcontent-%COMP%]{margin:auto;max-width:300px;padding:20px}.centerspinner[_ngcontent-%COMP%]{margin:auto;width:50%;padding:10px}.row[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin:auto}.full-width[_ngcontent-%COMP%]{width:100%}.centerText[_ngcontent-%COMP%]{text-align:center;font-size:300%;padding:30px}.baseDiv[_ngcontent-%COMP%]{padding-top:25vh;background-color:#add8e6;height:75vh}"]}),e})();function VT(e,t){if(1&e){const e=jo();No(0,"app-navigation-menu",2),qo("loggedOut",(function(){return nn(e),Wo().logout()})),Lo()}}function KT(e,t){if(1&e){const e=jo();No(0,"app-login",3),qo("loggedIn",(function(){return nn(e),Wo().login()})),Lo()}}let qT=(()=>{class e{constructor(e,t,n){this.router=e,this.updateBasicData=t,this.updateEmergentData=n,this.title="Angular-MatrixMicroPayments-App",this.loggedIn=!1}logout(){this.loggedIn=!1}login(){this.loggedIn=!0}}return e.\u0275fac=function(t){return new(t||e)(Ao(dx),Ao(pT),Ao(mT))},e.\u0275cmp=dt({type:e,selectors:[["app-root"]],decls:2,vars:2,consts:[[3,"loggedOut",4,"ngIf"],[3,"loggedIn",4,"ngIf"],[3,"loggedOut"],[3,"loggedIn"]],template:function(e,t){1&e&&(Ro(0,VT,1,0,"app-navigation-menu",0),Ro(1,KT,1,0,"app-login",1)),2&e&&(Po("ngIf",t.loggedIn),kr(1),Po("ngIf",!t.loggedIn))},directives:[Au,RT,jT],styles:[""]}),e})();function GT(e,t){if(1&e&&(No(0,"mat-option",7),ya(1),Lo()),2&e){const e=t.$implicit;Po("value",t.index),kr(1),va(e)}}function $T(e,t){1&e&&Fo(0,"mat-spinner",8),2&e&&Po("diameter",30)}let HT=(()=>{class e{constructor(e,t,n,i){this.dataModelService=e,this.matrixBasicDataService=t,this.dialog=n,this.dialogProviderService=i,this.selectedCurrency=Nx.USD,this.currencyMap=Lx,this.loadingCurrency=!1}ngOnInit(){this.initSettings()}initSettings(){this.selectedCurrency=this.dataModelService.getUser().currency,this.oldSelectedCurrency=this.selectedCurrency}applySettings(){this.oldSelectedCurrency!==this.selectedCurrency&&(this.oldSelectedCurrency=this.selectedCurrency,this.loadingCurrency=!0,CT(1e5,this.matrixBasicDataService.userChangeDefaultCurrency(Fx[this.selectedCurrency])).then(e=>{e.wasSuccessful()||this.dialogProviderService.openErrorModal("error currency 1: "+e.getMessage(),this.dialog),this.loadingCurrency=!1},e=>{this.dialogProviderService.openErrorModal("error currency 2: "+e,this.dialog),this.loadingCurrency=!1}))}}return e.\u0275fac=function(t){return new(t||e)(Ao(dT),Ao(MT),Ao(rS),Ao(TT))},e.\u0275cmp=dt({type:e,selectors:[["app-settings"]],decls:11,vars:3,consts:[[1,"absolute"],[1,"settings_label"],["appearance","fill"],[3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",1,"first",3,"click"],["class","second",3,"diameter",4,"ngIf"],[3,"value"],[1,"second",3,"diameter"]],template:function(e,t){1&e&&(No(0,"div",0),No(1,"div"),No(2,"mat-label",1),ya(3,"Default Currency"),Lo(),No(4,"mat-form-field",2),No(5,"mat-select",3),qo("valueChange",(function(e){return t.selectedCurrency=e})),Ro(6,GT,2,2,"mat-option",4),Lo(),Lo(),Lo(),No(7,"div"),No(8,"button",5),qo("click",(function(){return t.applySettings()})),ya(9,"Apply"),Lo(),Ro(10,$T,1,1,"mat-spinner",6),Lo(),Lo()),2&e&&(kr(5),Po("value",t.selectedCurrency),kr(1),Po("ngForOf",t.currencyMap),kr(4),Po("ngIf",t.loadingCurrency))},directives:[xg,Lg,tw,Ru,vv,Au,Wf,TE],styles:[".first[_ngcontent-%COMP%]{float:left;margin-right:5px}.second[_ngcontent-%COMP%]{overflow:hidden}.absolute[_ngcontent-%COMP%]{position:absolute;margin-left:20px;margin-top:20px}.settings_label[_ngcontent-%COMP%]{font-size:15px;margin-right:10px}"]}),e})();function zT(e,t){if(1&e&&(No(0,"mat-error"),ya(1),Lo()),2&e){const e=Wo();kr(1),va(e.getInvalidGroupNameErrorMessage())}}function WT(e,t){if(1&e&&(No(0,"mat-option",8),ya(1),Lo()),2&e){const e=t.$implicit;Po("value",t.index),kr(1),va(e)}}function YT(e,t){if(1&e&&(No(0,"mat-error"),ya(1),Lo()),2&e){const e=Wo();kr(1),va(e.getInvalidGroupNameErrorMessage())}}let XT=(()=>{class e{constructor(e,t){this.dialogRef=e,this.data=t,this.formControlGroupName=new X_("",[d_.required,d_.maxLength(30)]),this.currencyMap=Lx}ngOnInit(){this.selectedCurrency=this.data.currency,this.formControlGroupName.setValue(this.data.groupName)}onCancel(){this.dialogRef.close()}onSave(){this.formControlGroupName.invalid||this.dialogRef.close({groupName:this.formControlGroupName.value,currency:this.selectedCurrency})}getInvalidGroupNameErrorMessage(){return this.formControlGroupName.hasError("required")?"Please enter a group name":"The group name is too long"}}return e.\u0275fac=function(t){return new(t||e)(Ao(Zw),Ao(eS))},e.\u0275cmp=dt({type:e,selectors:[["app-create-group-modal"]],decls:18,vars:5,consts:[["mat-dialog-content",""],["matInput","","placeholder","Insert Group Name","value","",3,"formControl"],[4,"ngIf"],["appearance","fill"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","",1,"button_left",3,"click"],["mat-raised-button","",1,"button_right",3,"click"],[3,"value"]],template:function(e,t){1&e&&(No(0,"h1"),ya(1,"Create Group"),Lo(),No(2,"div",0),No(3,"mat-form-field"),No(4,"mat-label"),ya(5,"Group Name"),Lo(),Fo(6,"input",1),Ro(7,zT,2,1,"mat-error",2),Lo(),No(8,"mat-form-field",3),No(9,"mat-label"),ya(10,"Group Currency"),Lo(),No(11,"mat-select",4),qo("ngModelChange",(function(e){return t.selectedCurrency=e})),Ro(12,WT,2,2,"mat-option",5),Lo(),Lo(),No(13,"button",6),qo("click",(function(){return t.onCancel()})),ya(14,"Cancel"),Lo(),No(15,"button",7),qo("click",(function(){return t.onSave()})),ya(16,"Create Group"),Lo(),Ro(17,YT,2,1,"mat-error",2),Lo()),2&e&&(kr(6),Po("formControl",t.formControlGroupName),kr(1),Po("ngIf",t.formControlGroupName.invalid),kr(4),Po("ngModel",t.selectedCurrency),kr(1),Po("ngForOf",t.currencyMap),kr(5),Po("ngIf",t.formControlGroupName.invalid))},directives:[sS,Lg,xg,ky,e_,o_,dy,Au,tw,ly,Ru,vv,wg,Wf],styles:[".button_left[_ngcontent-%COMP%], .button_right[_ngcontent-%COMP%]{margin-bottom:10px}.button_right[_ngcontent-%COMP%]{margin-left:10px}"]}),e})(),QT=(()=>{class e{constructor(e,t){this.dialogRef=e,this.data=t}ngOnInit(){}onCancel(){this.dialogRef.close()}onSave(){this.dialogRef.close(this.data)}}return e.\u0275fac=function(t){return new(t||e)(Ao(Zw),Ao(eS))},e.\u0275cmp=dt({type:e,selectors:[["app-leave-group-modal"]],decls:7,vars:1,consts:[["mat-dialog-content",""],["mat-raised-button","",1,"button_left",3,"click"],["mat-raised-button","",1,"button_right",3,"click"]],template:function(e,t){1&e&&(No(0,"h1"),ya(1),Lo(),No(2,"div",0),No(3,"button",1),qo("click",(function(){return t.onCancel()})),ya(4,"Cancel"),Lo(),No(5,"button",2),qo("click",(function(){return t.onSave()})),ya(6,"Leave"),Lo(),Lo()),2&e&&(kr(1),ba("Leave ",t.data.group.name,""))},directives:[sS,vv],styles:[".button_left[_ngcontent-%COMP%], .button_right[_ngcontent-%COMP%]{margin-bottom:10px}.button_right[_ngcontent-%COMP%]{margin-left:10px}"]}),e})();function ZT(e,t){if(1&e&&(No(0,"mat-error"),ya(1),Lo()),2&e){const e=Wo();kr(1),va(e.getInvalidUserErrorMessage())}}function JT(e,t){if(1&e&&(No(0,"mat-error"),ya(1),Lo()),2&e){const e=Wo();kr(1),va(e.getInvalidUserErrorMessage())}}let eI=(()=>{class e{constructor(e,t){this.dialogRef=e,this.data=t,this.formControlUser=new X_("",[d_.required,d_.pattern("@[_a-z0-9-]+:[a-z0-9.-]+")])}ngOnInit(){this.formControlUser.setValue(this.data.user)}onCancel(){this.dialogRef.close()}onSave(){this.formControlUser.invalid||this.dialogRef.close({user:this.formControlUser.value,group:this.data.group})}getInvalidUserErrorMessage(){return"Not a valid user name"}}return e.\u0275fac=function(t){return new(t||e)(Ao(Zw),Ao(eS))},e.\u0275cmp=dt({type:e,selectors:[["app-add-user-to-group-modal"]],decls:13,vars:4,consts:[["mat-dialog-content",""],["matInput","","placeholder","Insert User Name","value","",3,"formControl"],[4,"ngIf"],["mat-raised-button","",1,"button_left",3,"click"],["mat-raised-button","",1,"button_right",3,"click"]],template:function(e,t){1&e&&(No(0,"h1"),ya(1),Lo(),No(2,"div",0),No(3,"mat-form-field"),No(4,"mat-label"),ya(5,"User Name"),Lo(),Fo(6,"input",1),Ro(7,ZT,2,1,"mat-error",2),Lo(),No(8,"button",3),qo("click",(function(){return t.onCancel()})),ya(9,"Cancel"),Lo(),No(10,"button",4),qo("click",(function(){return t.onSave()})),ya(11,"Add member"),Lo(),Ro(12,JT,2,1,"mat-error",2),Lo()),2&e&&(kr(1),ba("Add user to ",t.data.group.name,""),kr(5),Po("formControl",t.formControlUser),kr(1),Po("ngIf",t.formControlUser.invalid),kr(5),Po("ngIf",t.formControlUser.invalid))},directives:[sS,Lg,xg,ky,e_,o_,dy,Au,vv,wg],styles:[".button_left[_ngcontent-%COMP%], .button_right[_ngcontent-%COMP%]{margin-bottom:10px}.button_right[_ngcontent-%COMP%]{margin-left:10px}"]}),e})();function tI(e,t){if(1&e&&(No(0,"mat-error"),ya(1),Lo()),2&e){const e=Wo();kr(1),va(e.getInvalidDescriptionErrorMessage())}}function nI(e,t){if(1&e&&(No(0,"mat-option",9),ya(1),Lo()),2&e){const e=t.$implicit;Po("value",e),kr(1),va(e.name)}}function iI(e,t){if(1&e&&(No(0,"mat-error"),ya(1),Lo()),2&e){const e=Wo(3);kr(1),va(e.getInvalidNumberErrorMessage())}}function rI(e,t){if(1&e&&(No(0,"mat-form-field"),No(1,"mat-label"),ya(2,"Amount"),Lo(),Fo(3,"input",13),Ro(4,iI,2,1,"mat-error",2),Lo()),2&e){const e=Wo().index,t=Wo();kr(3),Po("formControl",t.formControlAmount[e]),kr(1),Po("ngIf",t.formControlAmount[e].invalid)}}function sI(e,t){if(1&e){const e=jo();No(0,"mat-list-item"),No(1,"div",10),No(2,"mat-checkbox",11),qo("ngModelChange",(function(n){nn(e);const i=t.index;return Wo().data.isAdded[i]=n})),Lo(),Lo(),No(3,"mat-label",12),ya(4),Lo(),Ro(5,rI,5,2,"mat-form-field",2),Lo()}if(2&e){const e=t.$implicit,n=t.index,i=Wo();kr(2),Po("ngModel",i.data.isAdded[n]),kr(2),va(e.name),kr(1),Po("ngIf",i.data.isAdded[n])}}function oI(e,t){if(1&e&&(No(0,"mat-error"),ya(1),Lo()),2&e){const e=Wo();kr(1),va(e.getInvalidFormErrorMessage())}}let aI=(()=>{class e{constructor(e,t){this.dialogRef=e,this.data=t,this.formInvalid=!1}ngOnInit(){this.formControlAmount=new Array(this.data.amount.length);for(let e=0;e<this.data.amount.length;e++)this.formControlAmount[e]=new X_(this.data.amount[e]/100,[d_.required,d_.pattern("[0-9]*[.]?[0-9]?[0-9]?")]);this.formControlDescription=new X_(this.data.description,[d_.required,d_.maxLength(60)])}checkForm(){let e=!1;for(let t=0;t<this.data.amount.length;t++)this.formControlAmount[t].invalid&&this.data.isAdded[t]&&(e=!0);return(this.formControlDescription.invalid||null==this.data.payer)&&(e=!0),e}onCancel(){this.dialogRef.close()}onSave(){this.formInvalid=this.checkForm(),this.formInvalid||this.dialogRef.close(this.createReturnData())}createReturnData(){const e=this.formControlDescription.value,t=this.data.payer,n=new Array(0),i=new Array(0);for(let r=0;r<this.data.amount.length;r++)n.push(this.data.recipients[r]),i.push(Math.round(100*this.formControlAmount[r].value));return{modalTitle:this.data.modalTitle,description:e,payer:t,recipients:n,amount:i,isAdded:this.data.isAdded,currency:this.data.currency}}getInvalidNumberErrorMessage(){return"Not a valid number"}getInvalidDescriptionErrorMessage(){return this.formControlDescription.hasError("required")?"Please enter a description":"The description is too long"}getInvalidFormErrorMessage(){return"Not all inputs are valid"}}return e.\u0275fac=function(t){return new(t||e)(Ao(Zw),Ao(eS))},e.\u0275cmp=dt({type:e,selectors:[["app-payment-modal"]],decls:21,vars:7,consts:[["mat-dialog-content",""],["matInput","","placeholder","Insert Description","value","",3,"formControl"],[4,"ngIf"],[3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["mat-raised-button","",1,"button_distance",3,"click"],["mat-raised-button","",3,"click"],["height","1"],[3,"value"],[1,"checkbox"],[3,"ngModel","ngModelChange"],[1,"name_amount"],["matInput","",3,"formControl"]],template:function(e,t){1&e&&(No(0,"h1"),ya(1),Lo(),No(2,"div",0),No(3,"mat-form-field"),No(4,"mat-label"),ya(5,"Description"),Lo(),Fo(6,"input",1),Ro(7,tI,2,1,"mat-error",2),Lo(),No(8,"mat-form-field"),No(9,"mat-label"),ya(10,"Payer"),Lo(),No(11,"mat-select",3),qo("valueChange",(function(e){return t.data.payer=e})),Ro(12,nI,2,2,"mat-option",4),Lo(),Lo(),No(13,"mat-action-list"),Ro(14,sI,6,3,"mat-list-item",5),Lo(),No(15,"button",6),qo("click",(function(){return t.onCancel()})),ya(16,"Cancel"),Lo(),No(17,"button",7),qo("click",(function(){return t.onSave()})),ya(18,"Save"),Lo(),Fo(19,"canvas",8),Ro(20,oI,2,1,"mat-error",2),Lo()),2&e&&(kr(1),va(t.data.modalTitle),kr(5),Po("formControl",t.formControlDescription),kr(1),Po("ngIf",t.formControlDescription.invalid),kr(4),Po("value",t.data.payer),kr(1),Po("ngForOf",t.data.recipients),kr(2),Po("ngForOf",t.data.recipients),kr(6),Po("ngIf",t.formInvalid))},directives:[sS,Lg,xg,ky,e_,o_,dy,Au,tw,Ru,ZS,vv,wg,Wf,tE,fE,ly],styles:[".name_amount[_ngcontent-%COMP%]{margin-right:auto}.button_distance[_ngcontent-%COMP%], .checkbox[_ngcontent-%COMP%]{margin-right:10px}"]}),e})();function cI(e,t){if(1&e&&(No(0,"mat-list-item",2),No(1,"mat-card"),No(2,"mat-label",5),ya(3),Lo(),No(4,"mat-label"),ya(5),Lo(),Lo(),Lo()),2&e){const e=t.$implicit,n=t.index,i=Wo();kr(3),va(e.name),kr(2),wa("",i.data.amount[n]/100,"",i.currencyMap[i.data.currency.valueOf()],"")}}let lI=(()=>{class e{constructor(e,t){this.dialogRef=e,this.data=t,this.currencyMap=Lx}ngOnInit(){const e=[],t=[];for(let n=0;n<this.data.amount.length;n++)this.data.isAdded[n]&&(e.push(this.data.recipients[n]),t.push(this.data.amount[n]));this.data.recipients=e,this.data.amount=t}onCancel(){console.log(this.data),console.log("closing"),this.dialogRef.close()}}return e.\u0275fac=function(t){return new(t||e)(Ao(Zw),Ao(eS))},e.\u0275cmp=dt({type:e,selectors:[["app-payment-view"]],decls:14,vars:3,consts:[["mat-dialog-content",""],[1,"header"],[1,"bottom_margin"],["class","bottom_margin",4,"ngFor","ngForOf"],["mat-raised-button","",3,"click"],[1,"name_amount"]],template:function(e,t){1&e&&(No(0,"h1"),ya(1),Lo(),No(2,"div",0),No(3,"mat-label",1),ya(4,"Payer"),Lo(),No(5,"mat-card",2),No(6,"mat-label"),ya(7),Lo(),Lo(),No(8,"mat-label",1),ya(9,"Recipients"),Lo(),No(10,"mat-list"),Ro(11,cI,6,3,"mat-list-item",3),Lo(),No(12,"button",4),qo("click",(function(){return t.onCancel()})),ya(13,"Close"),Lo(),Lo()),2&e&&(kr(1),va(t.data.modalTitle),kr(6),va(t.data.payer.name),kr(4),Po("ngForOf",t.data.recipients))},directives:[sS,xg,dv,ZS,Ru,vv,tE],styles:[".name_amount[_ngcontent-%COMP%]{margin-right:10px}.header[_ngcontent-%COMP%]{font-size:20px;margin-bottom:10px}.bottom_margin[_ngcontent-%COMP%]{margin-bottom:8px}"]}),e})(),uI=(()=>{class e{transform(e){return e.slice().reverse()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=vt({name:"reversePipe",type:e,pure:!0}),e})();function hI(e,t){1&e&&Fo(0,"mat-spinner",5),2&e&&Po("diameter",30)}const dI=function(e){return{color:e}};function pI(e,t){if(1&e){const e=jo();No(0,"button",6),qo("click",(function(){nn(e);const n=t.$implicit;return Wo().editExpense(n)})),No(1,"mat-card"),No(2,"div"),No(3,"mat-label",7),ya(4),Lo(),No(5,"div",8),No(6,"mat-label",9),ya(7),Lo(),No(8,"mat-label"),ya(9),Lo(),Lo(),No(10,"mat-label",10),ya(11),Lo(),Lo(),Lo(),Lo()}if(2&e){const e=t.$implicit,n=Wo();kr(4),va(e.name),kr(3),Sa("",e.payer.amount/100,"",n.currencyMap[e.group.currency]," paid by ",e.payer.contact.name,""),kr(2),va(e.creationDate.toDateString()),kr(1),Po("ngStyle",Mc(8,dI,n.userAmounts[e.transactionId]>=0?"green":"red")),kr(1),wa("",n.userAmounts[e.transactionId]/100,"",n.currencyMap[e.group.currency],"")}}let mI=(()=>{class e{constructor(e,t,n,i,r,s){this.dialog=e,this.matrixBasicDataService=t,this.dialogProviderService=n,this.ref=i,this.dataModelService=r,this.zone=s,this.transactions=[],this.loadingCreateExpense=!1,this.loadingEditExpense=!1,this.currencyMap=Lx,this.userAmounts={}}calculateUserAmounts(){for(const e of this.transactions)if(null==this.userAmounts[e.transactionId]){let t=0;for(const n of e.recipients)if(n.contact.contactId===this.userContact.contactId){t=n.amount;break}this.userAmounts[e.transactionId]=e.payer.contact.contactId===this.userContact.contactId?e.payer.amount-t:-t}}ngOnChanges(){this.userContact=this.dataModelService.getUser().contact,this.transactions=this.group.transactions,this.calculateUserAmounts(),this.group.getTransactionChangeEmitter().subscribe(()=>{this.calculateUserAmounts(),this.ref.detectChanges()})}createExpense(){this.dialog.open(aI,{width:"400px",data:this.generateCreateExpenseData()}).afterClosed().subscribe(e=>{if(this.data=e,void 0!==this.data){const e=[],t=[];for(let n=0;n<this.data.recipients.length;n++)!0===this.data.isAdded[n]&&(e.push(this.data.recipients[n].contactId),t.push(this.data.amount[n]));this.loadingCreateExpense=!0,zx.transactionTimes.push(new zx(Date.now(),this.group.groupId+this.data.description)),CT(1e5,this.matrixBasicDataService.createTransaction(this.group.groupId,this.data.description,this.data.payer.contactId,e,t,!1)).then(e=>{e.wasSuccessful()||this.dialogProviderService.openErrorModal("error create transaction 1: "+e.getMessage(),this.dialog),this.loadingCreateExpense=!1},e=>{this.dialogProviderService.openErrorModal("error create Transaction 2: "+e,this.dialog),this.loadingCreateExpense=!1})}})}editExpense(e){this.zone.run(()=>{this.dialog.open(lI,{width:"350px",data:this.generateEditExpenseData(e)})})}generateEditExpenseData(e){const t=e.name,n=Array(0),i=e.name,r=e.payer.contact,s=Array(0),o=Array(0);for(const a of this.group.groupmembers){n.push(a.contact);const t=this.getRecipientAmountFromTransaction(a.contact.contactId,e);s.push(t),o.push(0!==t)}return{modalTitle:t,description:i,payer:r,recipients:n,amount:s,isAdded:o,currency:this.group.currency}}generateCreateExpenseData(){const e=Array(0);let t=this.group.groupmembers[0].contact;for(const r of this.group.groupmembers)if(r.active){t=r.contact;break}const n=Array(0),i=Array(0);for(const r of this.group.groupmembers)r.active&&(e.push(r.contact),n.push(0),i.push(!0));return{modalTitle:"Create Transaction",description:"",payer:t,recipients:e,amount:n,isAdded:i,currency:this.group.currency}}getRecipientAmountFromTransaction(e,t){for(const n of t.recipients)if(n.contact.contactId===e)return n.amount;return 0}}return e.\u0275fac=function(t){return new(t||e)(Ao(rS),Ao(MT),Ao(TT),Ao(Zs),Ao(dT),Ao(Rl))},e.\u0275cmp=dt({type:e,selectors:[["app-group-transaction"]],inputs:{group:"group"},features:[At],decls:11,vars:4,consts:[[1,"createButtonDiv"],["class","first",3,"diameter",4,"ngIf"],["mat-raised-button","","color","primary",1,"second",3,"click"],["mat-list-item","","class","transaction",3,"click",4,"ngFor","ngForOf"],["width","1","height","100"],[1,"first",3,"diameter"],["mat-list-item","",1,"transaction",3,"click"],[1,"title"],[1,"description"],[1,"description_left"],[1,"payed_amount",3,"ngStyle"]],template:function(e,t){1&e&&(No(0,"div"),No(1,"div"),No(2,"div",0),Ro(3,hI,1,1,"mat-spinner",1),No(4,"button",2),qo("click",(function(){return t.createExpense()})),ya(5,"Create Transaction"),Lo(),Lo(),Lo(),No(6,"div"),No(7,"mat-action-list"),Ro(8,pI,12,10,"button",3),Uc(9,"reversePipe"),Fo(10,"canvas",4),Lo(),Lo(),Lo()),2&e&&(kr(3),Po("ngIf",t.loadingEditExpense||t.loadingCreateExpense),kr(5),Po("ngForOf",Bc(9,2,t.transactions)))},directives:[Au,vv,ZS,Ru,TE,tE,dv,xg,Uu],pipes:[uI],styles:[".createButtonDiv[_ngcontent-%COMP%]{position:fixed;right:50%;bottom:20px;transform:translate(50%,-50%);margin:0 auto}.transaction[_ngcontent-%COMP%]{margin-top:100px;margin-bottom:100px}.payed_amount[_ngcontent-%COMP%]{position:absolute;right:20px;bottom:30px;font-size:30px}.first[_ngcontent-%COMP%]{width:300px;float:left;margin-right:5px}.second[_ngcontent-%COMP%]{overflow:hidden}.title[_ngcontent-%COMP%]{font-size:20px;margin-right:130px}.description[_ngcontent-%COMP%]{color:grey;margin-bottom:50px}.description_left[_ngcontent-%COMP%]{margin-right:20px}@media only screen and (min-width:1200px){.createButtonDiv[_ngcontent-%COMP%]{position:fixed;right:40px;bottom:40px;transform:translate(0)}.transaction[_ngcontent-%COMP%]{margin-top:50px;margin-bottom:25px}.description[_ngcontent-%COMP%]{margin-right:500px;margin-bottom:0;color:grey}.payed_amount[_ngcontent-%COMP%]{position:absolute;right:20px;top:30px;font-size:60px}}@media not all and (min-resolution:0.001dpcm){@supports (-webkit-appearance:none) and (stroke-color:transparent){.createButtonDiv[_ngcontent-%COMP%]{position:relative;left:5px;top:5px;transform:translate(0);margin:0 auto}}}"]}),e})(),fI=(()=>{class e{constructor(e,t){this.dialogRef=e,this.data=t,this.currencyMap=Lx}onCancel(){this.dialogRef.close()}onSave(){this.dialogRef.close(this.data)}}return e.\u0275fac=function(t){return new(t||e)(Ao(Zw),Ao(eS))},e.\u0275cmp=dt({type:e,selectors:[["app-confirm-payback-modal"]],decls:9,vars:4,consts:[["mat-dialog-content",""],[1,"text"],["mat-raised-button","",1,"button_left",3,"click"],["mat-raised-button","",1,"button_right",3,"click"]],template:function(e,t){1&e&&(No(0,"h1"),ya(1,"Approve Paypack"),Lo(),No(2,"div",0),No(3,"mat-label",1),ya(4),Lo(),No(5,"button",2),qo("click",(function(){return t.onCancel()})),ya(6,"Cancel"),Lo(),No(7,"button",3),qo("click",(function(){return t.onSave()})),ya(8,"Confirm"),Lo(),Lo()),2&e&&(kr(4),Ea("Have you really payed back ",t.data.recommendation.payer.contact.name," ",t.data.recommendation.recipient.amount/100," ",t.currencyMap[t.data.recommendation.group.currency]," in Group ",t.data.recommendation.group.name,"?"))},directives:[sS,xg,vv],styles:[".text[_ngcontent-%COMP%]{margin-right:100px}.button_left[_ngcontent-%COMP%], .button_right[_ngcontent-%COMP%]{margin-bottom:10px}.button_right[_ngcontent-%COMP%]{margin-left:10px}"]}),e})();function gI(e,t,n){return Math.ceil(e/t*n)}function _I(){}var yI=function(e){return null==e?_I:function(){return this.querySelector(e)}};function vI(){return[]}var bI=function(e){return null==e?vI:function(){return this.querySelectorAll(e)}},wI=function(e){return function(){return this.matches(e)}},SI=function(e){return new Array(e.length)};function EI(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function kI(e,t,n,i,r,s){for(var o,a=0,c=t.length,l=s.length;a<l;++a)(o=t[a])?(o.__data__=s[a],i[a]=o):n[a]=new EI(e,s[a]);for(;a<c;++a)(o=t[a])&&(r[a]=o)}function CI(e,t,n,i,r,s,o){var a,c,l,u={},h=t.length,d=s.length,p=new Array(h);for(a=0;a<h;++a)(c=t[a])&&(p[a]=l="$"+o.call(c,c.__data__,a,t),l in u?r[a]=c:u[l]=c);for(a=0;a<d;++a)(c=u[l="$"+o.call(e,s[a],a,s)])?(i[a]=c,c.__data__=s[a],u[l]=null):n[a]=new EI(e,s[a]);for(a=0;a<h;++a)(c=t[a])&&u[p[a]]===c&&(r[a]=c)}function xI(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}EI.prototype={constructor:EI,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var TI="http://www.w3.org/1999/xhtml",II={svg:"http://www.w3.org/2000/svg",xhtml:TI,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},RI=function(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),II.hasOwnProperty(t)?{space:II[t],local:e}:e};function OI(e){return function(){this.removeAttribute(e)}}function AI(e){return function(){this.removeAttributeNS(e.space,e.local)}}function DI(e,t){return function(){this.setAttribute(e,t)}}function PI(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function MI(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function NI(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}var LI=function(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView};function FI(e){return function(){this.style.removeProperty(e)}}function UI(e,t,n){return function(){this.style.setProperty(e,t,n)}}function BI(e,t,n){return function(){var i=t.apply(this,arguments);null==i?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function jI(e,t){return e.style.getPropertyValue(t)||LI(e).getComputedStyle(e,null).getPropertyValue(t)}function VI(e){return function(){delete this[e]}}function KI(e,t){return function(){this[e]=t}}function qI(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function GI(e){return e.trim().split(/^|\s+/)}function $I(e){return e.classList||new HI(e)}function HI(e){this._node=e,this._names=GI(e.getAttribute("class")||"")}function zI(e,t){for(var n=$I(e),i=-1,r=t.length;++i<r;)n.add(t[i])}function WI(e,t){for(var n=$I(e),i=-1,r=t.length;++i<r;)n.remove(t[i])}function YI(e){return function(){zI(this,e)}}function XI(e){return function(){WI(this,e)}}function QI(e,t){return function(){(t.apply(this,arguments)?zI:WI)(this,e)}}function ZI(){this.textContent=""}function JI(e){return function(){this.textContent=e}}function eR(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function tR(){this.innerHTML=""}function nR(e){return function(){this.innerHTML=e}}function iR(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function rR(){this.nextSibling&&this.parentNode.appendChild(this)}function sR(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function oR(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===TI&&t.documentElement.namespaceURI===TI?t.createElement(e):t.createElementNS(n,e)}}function aR(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}HI.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var cR=function(e){var t=RI(e);return(t.local?aR:oR)(t)};function lR(){return null}function uR(){var e=this.parentNode;e&&e.removeChild(this)}function hR(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function dR(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}var pR={},mR=null;function fR(e,t,n){return e=gR(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function gR(e,t,n){return function(i){var r=mR;mR=i;try{e.call(this,this.__data__,t,n)}finally{mR=r}}}function _R(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function yR(e){return function(){var t=this.__on;if(t){for(var n,i=0,r=-1,s=t.length;i<s;++i)n=t[i],e.type&&n.type!==e.type||n.name!==e.name?t[++r]=n:this.removeEventListener(n.type,n.listener,n.capture);++r?t.length=r:delete this.__on}}}function vR(e,t,n){var i=pR.hasOwnProperty(e.type)?fR:gR;return function(r,s,o){var a,c=this.__on,l=i(t,s,o);if(c)for(var u=0,h=c.length;u<h;++u)if((a=c[u]).type===e.type&&a.name===e.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=l,a.capture=n),void(a.value=t);this.addEventListener(e.type,l,n),a={type:e.type,name:e.name,value:t,listener:l,capture:n},c?c.push(a):this.__on=[a]}}function bR(e,t,n){var i=LI(e),r=i.CustomEvent;"function"==typeof r?r=new r(t,n):(r=i.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function wR(e,t){return function(){return bR(this,e,t)}}function SR(e,t){return function(){return bR(this,e,t.apply(this,arguments))}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(pR={mouseenter:"mouseover",mouseleave:"mouseout"}));var ER=[null];function kR(e,t){this._groups=e,this._parents=t}function CR(){return new kR([[document.documentElement]],ER)}kR.prototype=CR.prototype={constructor:kR,select:function(e){"function"!=typeof e&&(e=yI(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var s,o,a=t[r],c=a.length,l=i[r]=new Array(c),u=0;u<c;++u)(s=a[u])&&(o=e.call(s,s.__data__,u,a))&&("__data__"in s&&(o.__data__=s.__data__),l[u]=o);return new kR(i,this._parents)},selectAll:function(e){"function"!=typeof e&&(e=bI(e));for(var t=this._groups,n=t.length,i=[],r=[],s=0;s<n;++s)for(var o,a=t[s],c=a.length,l=0;l<c;++l)(o=a[l])&&(i.push(e.call(o,o.__data__,l,a)),r.push(o));return new kR(i,r)},filter:function(e){"function"!=typeof e&&(e=wI(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var s,o=t[r],a=o.length,c=i[r]=[],l=0;l<a;++l)(s=o[l])&&e.call(s,s.__data__,l,o)&&c.push(s);return new kR(i,this._parents)},data:function(e,t){if(!e)return m=new Array(this.size()),u=-1,this.each((function(e){m[++u]=e})),m;var n,i=t?CI:kI,r=this._parents,s=this._groups;"function"!=typeof e&&(n=e,e=function(){return n});for(var o=s.length,a=new Array(o),c=new Array(o),l=new Array(o),u=0;u<o;++u){var h=r[u],d=s[u],p=d.length,m=e.call(h,h&&h.__data__,u,r),f=m.length,g=c[u]=new Array(f),_=a[u]=new Array(f);i(h,d,g,_,l[u]=new Array(p),m,t);for(var y,v,b=0,w=0;b<f;++b)if(y=g[b]){for(b>=w&&(w=b+1);!(v=_[w])&&++w<f;);y._next=v||null}}return(a=new kR(a,r))._enter=c,a._exit=l,a},enter:function(){return new kR(this._enter||this._groups.map(SI),this._parents)},exit:function(){return new kR(this._exit||this._groups.map(SI),this._parents)},join:function(e,t,n){var i=this.enter(),r=this,s=this.exit();return i="function"==typeof e?e(i):i.append(e+""),null!=t&&(r=t(r)),null==n?s.remove():n(s),i&&r?i.merge(r).order():r},merge:function(e){for(var t=this._groups,n=e._groups,i=t.length,r=Math.min(i,n.length),s=new Array(i),o=0;o<r;++o)for(var a,c=t[o],l=n[o],u=c.length,h=s[o]=new Array(u),d=0;d<u;++d)(a=c[d]||l[d])&&(h[d]=a);for(;o<i;++o)s[o]=t[o];return new kR(s,this._parents)},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i,r=e[t],s=r.length-1,o=r[s];--s>=0;)(i=r[s])&&(o&&4^i.compareDocumentPosition(o)&&o.parentNode.insertBefore(i,o),o=i);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=xI);for(var n=this._groups,i=n.length,r=new Array(i),s=0;s<i;++s){for(var o,a=n[s],c=a.length,l=r[s]=new Array(c),u=0;u<c;++u)(o=a[u])&&(l[u]=o);l.sort(t)}return new kR(r,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=new Array(this.size()),t=-1;return this.each((function(){e[++t]=this})),e},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,s=i.length;r<s;++r){var o=i[r];if(o)return o}return null},size:function(){var e=0;return this.each((function(){++e})),e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var r,s=t[n],o=0,a=s.length;o<a;++o)(r=s[o])&&e.call(r,r.__data__,o,s);return this},attr:function(e,t){var n=RI(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==t?n.local?AI:OI:"function"==typeof t?n.local?NI:MI:n.local?PI:DI)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?FI:"function"==typeof t?BI:UI)(e,t,null==n?"":n)):jI(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?VI:"function"==typeof t?qI:KI)(e,t)):this.node()[e]},classed:function(e,t){var n=GI(e+"");if(arguments.length<2){for(var i=$I(this.node()),r=-1,s=n.length;++r<s;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof t?QI:t?YI:XI)(n,t))},text:function(e){return arguments.length?this.each(null==e?ZI:("function"==typeof e?eR:JI)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?tR:("function"==typeof e?iR:nR)(e)):this.node().innerHTML},raise:function(){return this.each(rR)},lower:function(){return this.each(sR)},append:function(e){var t="function"==typeof e?e:cR(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"==typeof e?e:cR(e),i=null==t?lR:"function"==typeof t?t:yI(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(uR)},clone:function(e){return this.select(e?dR:hR)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var i,r,s=_R(e+""),o=s.length;if(!(arguments.length<2)){for(a=t?vR:yR,null==n&&(n=!1),i=0;i<o;++i)this.each(a(s[i],t,n));return this}var a=this.node().__on;if(a)for(var c,l=0,u=a.length;l<u;++l)for(i=0,c=a[l];i<o;++i)if((r=s[i]).type===c.type&&r.name===c.name)return c.value},dispatch:function(e,t){return this.each(("function"==typeof t?SR:wR)(e,t))}};var xR=CR,TR={value:function(){}};function IR(){for(var e,t=0,n=arguments.length,i={};t<n;++t){if(!(e=arguments[t]+"")||e in i||/[\s.]/.test(e))throw new Error("illegal type: "+e);i[e]=[]}return new RR(i)}function RR(e){this._=e}function OR(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",i=e.indexOf(".");if(i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function AR(e,t){for(var n,i=0,r=e.length;i<r;++i)if((n=e[i]).name===t)return n.value}function DR(e,t,n){for(var i=0,r=e.length;i<r;++i)if(e[i].name===t){e[i]=TR,e=e.slice(0,i).concat(e.slice(i+1));break}return null!=n&&e.push({name:t,value:n}),e}RR.prototype=IR.prototype={constructor:RR,on:function(e,t){var n,i=this._,r=OR(e+"",i),s=-1,o=r.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++s<o;)if(n=(e=r[s]).type)i[n]=DR(i[n],e.name,t);else if(null==t)for(n in i)i[n]=DR(i[n],e.name,null);return this}for(;++s<o;)if((n=(e=r[s]).type)&&(n=AR(i[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new RR(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),s=0;s<n;++s)r[s]=arguments[s+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=0,n=(i=this._[e]).length;s<n;++s)i[s].value.apply(t,r)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],r=0,s=i.length;r<s;++r)i[r].value.apply(t,n)}};var PR=IR,MR=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e};function NR(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function LR(){}var FR="\\s*([+-]?\\d+)\\s*",UR="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",BR="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",jR=/^#([0-9a-f]{3,8})$/,VR=new RegExp("^rgb\\("+[FR,FR,FR]+"\\)$"),KR=new RegExp("^rgb\\("+[BR,BR,BR]+"\\)$"),qR=new RegExp("^rgba\\("+[FR,FR,FR,UR]+"\\)$"),GR=new RegExp("^rgba\\("+[BR,BR,BR,UR]+"\\)$"),$R=new RegExp("^hsl\\("+[UR,BR,BR]+"\\)$"),HR=new RegExp("^hsla\\("+[UR,BR,BR,UR]+"\\)$"),zR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function WR(){return this.rgb().formatHex()}function YR(){return this.rgb().formatRgb()}function XR(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=jR.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?QR(t):3===n?new tO(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?ZR(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?ZR(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=VR.exec(e))?new tO(t[1],t[2],t[3],1):(t=KR.exec(e))?new tO(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=qR.exec(e))?ZR(t[1],t[2],t[3],t[4]):(t=GR.exec(e))?ZR(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=$R.exec(e))?sO(t[1],t[2]/100,t[3]/100,1):(t=HR.exec(e))?sO(t[1],t[2]/100,t[3]/100,t[4]):zR.hasOwnProperty(e)?QR(zR[e]):"transparent"===e?new tO(NaN,NaN,NaN,0):null}function QR(e){return new tO(e>>16&255,e>>8&255,255&e,1)}function ZR(e,t,n,i){return i<=0&&(e=t=n=NaN),new tO(e,t,n,i)}function JR(e){return e instanceof LR||(e=XR(e)),e?new tO((e=e.rgb()).r,e.g,e.b,e.opacity):new tO}function eO(e,t,n,i){return 1===arguments.length?JR(e):new tO(e,t,n,null==i?1:i)}function tO(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}function nO(){return"#"+rO(this.r)+rO(this.g)+rO(this.b)}function iO(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function rO(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function sO(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new aO(e,t,n,i)}function oO(e){if(e instanceof aO)return new aO(e.h,e.s,e.l,e.opacity);if(e instanceof LR||(e=XR(e)),!e)return new aO;if(e instanceof aO)return e;var t=(e=e.rgb()).r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),s=Math.max(t,n,i),o=NaN,a=s-r,c=(s+r)/2;return a?(o=t===s?(n-i)/a+6*(n<i):n===s?(i-t)/a+2:(t-n)/a+4,a/=c<.5?s+r:2-s-r,o*=60):a=c>0&&c<1?0:o,new aO(o,a,c,e.opacity)}function aO(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}function cO(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function lO(e,t,n,i,r){var s=e*e,o=s*e;return((1-3*e+3*s-o)*t+(4-6*s+3*o)*n+(1+3*e+3*s-3*o)*i+o*r)/6}MR(LR,XR,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:WR,formatHex:WR,formatHsl:function(){return oO(this).formatHsl()},formatRgb:YR,toString:YR}),MR(tO,eO,NR(LR,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new tO(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new tO(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:nO,formatHex:nO,formatRgb:iO,toString:iO})),MR(aO,(function(e,t,n,i){return 1===arguments.length?oO(e):new aO(e,t,n,null==i?1:i)}),NR(LR,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new aO(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new aO(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new tO(cO(e>=240?e-240:e+120,r,i),cO(e,r,i),cO(e<120?e+240:e-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var uO=function(e){return function(){return e}};function hO(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):uO(isNaN(e)?t:e)}var dO=function e(t){var n=function(e){return 1==(e=+e)?hO:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}(t,n,e):uO(isNaN(t)?n:t)}}(t);function i(e,t){var i=n((e=eO(e)).r,(t=eO(t)).r),r=n(e.g,t.g),s=n(e.b,t.b),o=hO(e.opacity,t.opacity);return function(t){return e.r=i(t),e.g=r(t),e.b=s(t),e.opacity=o(t),e+""}}return i.gamma=e,i}(1);function pO(e){return function(t){var n,i,r=t.length,s=new Array(r),o=new Array(r),a=new Array(r);for(n=0;n<r;++n)i=eO(t[n]),s[n]=i.r||0,o[n]=i.g||0,a[n]=i.b||0;return s=e(s),o=e(o),a=e(a),i.opacity=1,function(e){return i.r=s(e),i.g=o(e),i.b=a(e),i+""}}}pO((function(e){var t=e.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),r=e[i],s=e[i+1];return lO((n-i/t)*t,i>0?e[i-1]:2*r-s,r,s,i<t-1?e[i+2]:2*s-r)}})),pO((function(e){var t=e.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*t);return lO((n-i/t)*t,e[(i+t-1)%t],e[i%t],e[(i+1)%t],e[(i+2)%t])}}));var mO=function(e,t){t||(t=[]);var n,i=e?Math.min(t.length,e.length):0,r=t.slice();return function(s){for(n=0;n<i;++n)r[n]=e[n]*(1-s)+t[n]*s;return r}};function fO(e,t){var n,i=t?t.length:0,r=e?Math.min(i,e.length):0,s=new Array(r),o=new Array(i);for(n=0;n<r;++n)s[n]=kO(e[n],t[n]);for(;n<i;++n)o[n]=t[n];return function(e){for(n=0;n<r;++n)o[n]=s[n](e);return o}}var gO,_O,yO=function(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}},vO=function(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}},bO=function(e,t){var n,i={},r={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?i[n]=kO(e[n],t[n]):r[n]=t[n];return function(e){for(n in i)r[n]=i[n](e);return r}},wO=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,SO=new RegExp(wO.source,"g"),EO=function(e,t){var n,i,r,s=wO.lastIndex=SO.lastIndex=0,o=-1,a=[],c=[];for(e+="",t+="";(n=wO.exec(e))&&(i=SO.exec(t));)(r=i.index)>s&&(r=t.slice(s,r),a[o]?a[o]+=r:a[++o]=r),(n=n[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,c.push({i:o,x:vO(n,i)})),s=SO.lastIndex;return s<t.length&&(r=t.slice(s),a[o]?a[o]+=r:a[++o]=r),a.length<2?c[0]?function(e){return function(t){return e(t)+""}}(c[0].x):function(e){return function(){return e}}(t):(t=c.length,function(e){for(var n,i=0;i<t;++i)a[(n=c[i]).i]=n.x(e);return a.join("")})},kO=function(e,t){var n,i,r=typeof t;return null==t||"boolean"===r?uO(t):("number"===r?vO:"string"===r?(n=XR(t))?(t=n,dO):EO:t instanceof XR?dO:t instanceof Date?yO:(i=t,!ArrayBuffer.isView(i)||i instanceof DataView?Array.isArray(t)?fO:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?bO:vO:mO))(e,t)},CO=0,xO=0,TO=0,IO=0,RO=0,OO=0,AO="object"==typeof performance&&performance.now?performance:Date,DO="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function PO(){return RO||(DO(MO),RO=AO.now()+OO)}function MO(){RO=0}function NO(){this._call=this._time=this._next=null}function LO(e,t,n){var i=new NO;return i.restart(e,t,n),i}function FO(){RO=(IO=AO.now())+OO,CO=xO=0;try{!function(){PO(),++CO;for(var e,t=gO;t;)(e=RO-t._time)>=0&&t._call.call(null,e),t=t._next;--CO}()}finally{CO=0,function(){for(var e,t,n=gO,i=1/0;n;)n._call?(i>n._time&&(i=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:gO=t);_O=e,BO(i)}(),RO=0}}function UO(){var e=AO.now(),t=e-IO;t>1e3&&(OO-=t,IO=e)}function BO(e){CO||(xO&&(xO=clearTimeout(xO)),e-RO>24?(e<1/0&&(xO=setTimeout(FO,e-AO.now()-OO)),TO&&(TO=clearInterval(TO))):(TO||(IO=AO.now(),TO=setInterval(UO,1e3)),CO=1,DO(FO)))}NO.prototype=LO.prototype={constructor:NO,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?PO():+n)+(null==t?0:+t),this._next||_O===this||(_O?_O._next=this:gO=this,_O=this),this._call=e,this._time=n,BO()},stop:function(){this._call&&(this._call=null,this._time=1/0,BO())}};var jO=function(e,t,n){var i=new NO;return i.restart((function(n){i.stop(),e(n+t)}),t=null==t?0:+t,n),i},VO=PR("start","end","cancel","interrupt"),KO=[],qO=function(e,t,n,i,r,s){var o=e.__transition;if(o){if(n in o)return}else e.__transition={};!function(e,t,n){var i,r=e.__transition;function s(c){var l,u,h,d;if(1!==n.state)return a();for(l in r)if((d=r[l]).name===n.name){if(3===d.state)return jO(s);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete r[l]):+l<t&&(d.state=6,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete r[l])}if(jO((function(){3===n.state&&(n.state=4,n.timer.restart(o,n.delay,n.time),o(c))})),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,i=new Array(h=n.tween.length),l=0,u=-1;l<h;++l)(d=n.tween[l].value.call(e,e.__data__,n.index,n.group))&&(i[++u]=d);i.length=u+1}}function o(t){for(var r=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(a),n.state=5,1),s=-1,o=i.length;++s<o;)i[s].call(e,r);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){for(var i in n.state=6,n.timer.stop(),delete r[t],r)return;delete e.__transition}r[t]=n,n.timer=LO((function(e){n.state=1,n.timer.restart(s,n.delay,n.time),n.delay<=e&&s(e-n.delay)}),0,n.time)}(e,n,{name:t,index:i,group:r,on:VO,tween:KO,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:0})};function GO(e,t){var n=HO(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function $O(e,t){var n=HO(e,t);if(n.state>3)throw new Error("too late; already running");return n}function HO(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}var zO,WO,YO,XO,QO=180/Math.PI,ZO={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},JO=function(e,t,n,i,r,s){var o,a,c;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(c=e*n+t*i)&&(n-=e*c,i-=t*c),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,c/=a),e*i<t*n&&(e=-e,t=-t,c=-c,o=-o),{translateX:r,translateY:s,rotate:Math.atan2(t,e)*QO,skewX:Math.atan(c)*QO,scaleX:o,scaleY:a}};function eA(e,t,n,i){function r(e){return e.length?e.pop()+" ":""}return function(s,o){var a=[],c=[];return s=e(s),o=e(o),function(e,i,r,s,o,a){if(e!==r||i!==s){var c=o.push("translate(",null,t,null,n);a.push({i:c-4,x:vO(e,r)},{i:c-2,x:vO(i,s)})}else(r||s)&&o.push("translate("+r+t+s+n)}(s.translateX,s.translateY,o.translateX,o.translateY,a,c),function(e,t,n,s){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),s.push({i:n.push(r(n)+"rotate(",null,i)-2,x:vO(e,t)})):t&&n.push(r(n)+"rotate("+t+i)}(s.rotate,o.rotate,a,c),function(e,t,n,s){e!==t?s.push({i:n.push(r(n)+"skewX(",null,i)-2,x:vO(e,t)}):t&&n.push(r(n)+"skewX("+t+i)}(s.skewX,o.skewX,a,c),function(e,t,n,i,s,o){if(e!==n||t!==i){var a=s.push(r(s)+"scale(",null,",",null,")");o.push({i:a-4,x:vO(e,n)},{i:a-2,x:vO(t,i)})}else 1===n&&1===i||s.push(r(s)+"scale("+n+","+i+")")}(s.scaleX,s.scaleY,o.scaleX,o.scaleY,a,c),s=o=null,function(e){for(var t,n=-1,i=c.length;++n<i;)a[(t=c[n]).i]=t.x(e);return a.join("")}}}var tA=eA((function(e){return"none"===e?ZO:(zO||(zO=document.createElement("DIV"),WO=document.documentElement,YO=document.defaultView),zO.style.transform=e,e=YO.getComputedStyle(WO.appendChild(zO),null).getPropertyValue("transform"),WO.removeChild(zO),e=e.slice(7,-1).split(","),JO(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}),"px, ","px)","deg)"),nA=eA((function(e){return null==e?ZO:(XO||(XO=document.createElementNS("http://www.w3.org/2000/svg","g")),XO.setAttribute("transform",e),(e=XO.transform.baseVal.consolidate())?JO((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):ZO)}),", ",")",")");function iA(e,t){var n,i;return function(){var r=$O(this,e),s=r.tween;if(s!==n)for(var o=0,a=(i=n=s).length;o<a;++o)if(i[o].name===t){(i=i.slice()).splice(o,1);break}r.tween=i}}function rA(e,t,n){var i,r;if("function"!=typeof n)throw new Error;return function(){var s=$O(this,e),o=s.tween;if(o!==i){r=(i=o).slice();for(var a={name:t,value:n},c=0,l=r.length;c<l;++c)if(r[c].name===t){r[c]=a;break}c===l&&r.push(a)}s.tween=r}}function sA(e,t,n){var i=e._id;return e.each((function(){var e=$O(this,i);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return HO(e,i).value[t]}}var oA=function(e,t){var n;return("number"==typeof t?vO:t instanceof XR?dO:(n=XR(t))?(t=n,dO):EO)(e,t)};function aA(e){return function(){this.removeAttribute(e)}}function cA(e){return function(){this.removeAttributeNS(e.space,e.local)}}function lA(e,t,n){var i,r,s=n+"";return function(){var o=this.getAttribute(e);return o===s?null:o===i?r:r=t(i=o,n)}}function uA(e,t,n){var i,r,s=n+"";return function(){var o=this.getAttributeNS(e.space,e.local);return o===s?null:o===i?r:r=t(i=o,n)}}function hA(e,t,n){var i,r,s;return function(){var o,a,c=n(this);if(null!=c)return(o=this.getAttribute(e))===(a=c+"")?null:o===i&&a===r?s:(r=a,s=t(i=o,c));this.removeAttribute(e)}}function dA(e,t,n){var i,r,s;return function(){var o,a,c=n(this);if(null!=c)return(o=this.getAttributeNS(e.space,e.local))===(a=c+"")?null:o===i&&a===r?s:(r=a,s=t(i=o,c));this.removeAttributeNS(e.space,e.local)}}function pA(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function mA(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function fA(e,t){var n,i;function r(){var r=t.apply(this,arguments);return r!==i&&(n=(i=r)&&mA(e,r)),n}return r._value=t,r}function gA(e,t){var n,i;function r(){var r=t.apply(this,arguments);return r!==i&&(n=(i=r)&&pA(e,r)),n}return r._value=t,r}function _A(e,t){return function(){GO(this,e).delay=+t.apply(this,arguments)}}function yA(e,t){return t=+t,function(){GO(this,e).delay=t}}function vA(e,t){return function(){$O(this,e).duration=+t.apply(this,arguments)}}function bA(e,t){return t=+t,function(){$O(this,e).duration=t}}function wA(e,t){if("function"!=typeof t)throw new Error;return function(){$O(this,e).ease=t}}function SA(e,t,n){var i,r,s=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?GO:$O;return function(){var o=s(this,e),a=o.on;a!==i&&(r=(i=a).copy()).on(t,n),o.on=r}}var EA=xR.prototype.constructor;function kA(e){return function(){this.style.removeProperty(e)}}function CA(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n)}}function xA(e,t,n){var i,r;function s(){var s=t.apply(this,arguments);return s!==r&&(i=(r=s)&&CA(e,s,n)),i}return s._value=t,s}function TA(e){return function(t){this.textContent=e.call(this,t)}}function IA(e){var t,n;function i(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&TA(i)),t}return i._value=e,i}var RA=0;function OA(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function AA(){return++RA}var DA=xR.prototype;OA.prototype=(function(e){return xR().transition(e)}).prototype={constructor:OA,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=yI(e));for(var i=this._groups,r=i.length,s=new Array(r),o=0;o<r;++o)for(var a,c,l=i[o],u=l.length,h=s[o]=new Array(u),d=0;d<u;++d)(a=l[d])&&(c=e.call(a,a.__data__,d,l))&&("__data__"in a&&(c.__data__=a.__data__),h[d]=c,qO(h[d],t,n,d,h,HO(a,n)));return new OA(s,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=bI(e));for(var i=this._groups,r=i.length,s=[],o=[],a=0;a<r;++a)for(var c,l=i[a],u=l.length,h=0;h<u;++h)if(c=l[h]){for(var d,p=e.call(c,c.__data__,h,l),m=HO(c,n),f=0,g=p.length;f<g;++f)(d=p[f])&&qO(d,t,n,f,p,m);s.push(p),o.push(c)}return new OA(s,o,t,n)},filter:function(e){"function"!=typeof e&&(e=wI(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var s,o=t[r],a=o.length,c=i[r]=[],l=0;l<a;++l)(s=o[l])&&e.call(s,s.__data__,l,o)&&c.push(s);return new OA(i,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,r=Math.min(i,n.length),s=new Array(i),o=0;o<r;++o)for(var a,c=t[o],l=n[o],u=c.length,h=s[o]=new Array(u),d=0;d<u;++d)(a=c[d]||l[d])&&(h[d]=a);for(;o<i;++o)s[o]=t[o];return new OA(s,this._parents,this._name,this._id)},selection:function(){return new EA(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=AA(),i=this._groups,r=i.length,s=0;s<r;++s)for(var o,a=i[s],c=a.length,l=0;l<c;++l)if(o=a[l]){var u=HO(o,t);qO(o,e,n,l,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new OA(i,this._parents,e,n)},call:DA.call,nodes:DA.nodes,node:DA.node,size:DA.size,empty:DA.empty,each:DA.each,on:function(e,t){var n=this._id;return arguments.length<2?HO(this.node(),n).on.on(e):this.each(SA(n,e,t))},attr:function(e,t){var n=RI(e),i="transform"===n?nA:oA;return this.attrTween(e,"function"==typeof t?(n.local?dA:hA)(n,i,sA(this,"attr."+e,t)):null==t?(n.local?cA:aA)(n):(n.local?uA:lA)(n,i,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var i=RI(e);return this.tween(n,(i.local?fA:gA)(i,t))},style:function(e,t,n){var i="transform"==(e+="")?tA:oA;return null==t?this.styleTween(e,function(e,t){var n,i,r;return function(){var s=jI(this,e),o=(this.style.removeProperty(e),jI(this,e));return s===o?null:s===n&&o===i?r:r=t(n=s,i=o)}}(e,i)).on("end.style."+e,kA(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var i,r,s;return function(){var o=jI(this,e),a=n(this),c=a+"";return null==a&&(this.style.removeProperty(e),c=a=jI(this,e)),o===c?null:o===i&&c===r?s:(r=c,s=t(i=o,a))}}(e,i,sA(this,"style."+e,t))).each(function(e,t){var n,i,r,s,o="style."+t,a="end."+o;return function(){var c=$O(this,e),l=c.on,u=null==c.value[o]?s||(s=kA(t)):void 0;l===n&&r===u||(i=(n=l).copy()).on(a,r=u),c.on=i}}(this._id,e)):this.styleTween(e,function(e,t,n){var i,r,s=n+"";return function(){var o=jI(this,e);return o===s?null:o===i?r:r=t(i=o,n)}}(e,i,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==t)return this.tween(i,null);if("function"!=typeof t)throw new Error;return this.tween(i,xA(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(sA(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,IA(e))},remove:function(){return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}));var e},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i,r=HO(this.node(),n).tween,s=0,o=r.length;s<o;++s)if((i=r[s]).name===e)return i.value;return null}return this.each((null==t?iA:rA)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?_A:yA)(t,e)):HO(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?vA:bA)(t,e)):HO(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(wA(t,e)):HO(this.node(),t).ease},end:function(){var e,t,n=this,i=n._id,r=n.size();return new Promise((function(s,o){var a={value:o},c={value:function(){0==--r&&s()}};n.each((function(){var n=$O(this,i),r=n.on;r!==e&&((t=(e=r).copy())._.cancel.push(a),t._.interrupt.push(a),t._.end.push(c)),n.on=t}))}))}};var PA={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function MA(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))return PA.time=PO(),PA;return n}function NA(e){return{type:e}}xR.prototype.interrupt=function(e){return this.each((function(){!function(e,t){var n,i,r,s=e.__transition,o=!0;if(s){for(r in t=null==t?null:t+"",s)(n=s[r]).name===t?(i=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete s[r]):o=!1;o&&delete e.__transition}}(this,e)}))},xR.prototype.transition=function(e){var t,n;e instanceof OA?(t=e._id,e=e._name):(t=AA(),(n=PA).time=PO(),e=null==e?null:e+"");for(var i=this._groups,r=i.length,s=0;s<r;++s)for(var o,a=i[s],c=a.length,l=0;l<c;++l)(o=a[l])&&qO(o,e,t,l,a,n||MA(o,t));return new OA(i,this._parents,e,t)},["w","e"].map(NA),["n","s"].map(NA),["n","w","e","s","nw","ne","sw","se"].map(NA);var LA=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},FA=Math.sqrt(50),UA=Math.sqrt(10),BA=Math.sqrt(2);function jA(e,t,n){var i=(t-e)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),s=i/Math.pow(10,r);return r>=0?(s>=FA?10:s>=UA?5:s>=BA?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(s>=FA?10:s>=UA?5:s>=BA?2:1)}var VA=new Date,KA=new Date;function qA(e,t,n,i){function r(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return r.floor=function(t){return e(t=new Date(+t)),t},r.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},r.round=function(e){var t=r(e),n=r.ceil(e);return e-t<n-e?t:n},r.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},r.range=function(n,i,s){var o,a=[];if(n=r.ceil(n),s=null==s?1:Math.floor(s),!(n<i&&s>0))return a;do{a.push(o=new Date(+n)),t(n,s),e(n)}while(o<n&&n<i);return a},r.filter=function(n){return qA((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,i){if(e>=e)if(i<0)for(;++i<=0;)for(;t(e,-1),!n(e););else for(;--i>=0;)for(;t(e,1),!n(e););}))},n&&(r.count=function(t,i){return VA.setTime(+t),KA.setTime(+i),e(VA),e(KA),Math.floor(n(VA,KA))},r.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?r.filter(i?function(t){return i(t)%e==0}:function(t){return r.count(0,t)%e==0}):r:null}),r}var GA=qA((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));GA.every=function(e){return isFinite(e=Math.floor(e))&&e>0?qA((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};var $A=GA;function HA(e){return qA((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/6048e5}))}qA((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()}));var zA=HA(0),WA=HA(1),YA=(HA(2),HA(3),HA(4)),XA=(HA(5),HA(6),qA((function(e){e.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5}),(function(e){return e.getDate()-1}))),QA=(qA((function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds()-6e4*e.getMinutes())}),(function(e,t){e.setTime(+e+36e5*t)}),(function(e,t){return(t-e)/36e5}),(function(e){return e.getHours()})),qA((function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds())}),(function(e,t){e.setTime(+e+6e4*t)}),(function(e,t){return(t-e)/6e4}),(function(e){return e.getMinutes()})),qA((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+1e3*t)}),(function(e,t){return(t-e)/1e3}),(function(e){return e.getUTCSeconds()})),qA((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e})));function ZA(e){return qA((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/6048e5}))}QA.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?qA((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):QA:null};var JA=ZA(0),eD=ZA(1),tD=(ZA(2),ZA(3),ZA(4)),nD=(ZA(5),ZA(6),qA((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/864e5}),(function(e){return e.getUTCDate()-1}))),iD=qA((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()}));iD.every=function(e){return isFinite(e=Math.floor(e))&&e>0?qA((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var rD=iD;var sD={"-":"",_:" ",0:"0"},oD=/[\\^$*+?|[\]().{}]/g;function aD(e,t,n){var i=e<0?"-":"",r=(i?-e:e)+"",s=r.length;return i+(s<n?new Array(n-s+1).join(t)+r:r)}function cD(e){return e.replace(oD,"\\$&")}function lD(e){return new RegExp("^(?:"+e.map(cD).join("|")+")","i")}function uD(e){for(var t={},n=-1,i=e.length;++n<i;)t[e[n].toLowerCase()]=n;return t}function hD(e,t){return aD(e.getDate(),t,2)}function dD(e,t){return aD(e.getHours(),t,2)}function pD(e,t){return aD(e.getHours()%12||12,t,2)}function mD(e,t){return aD(1+XA.count($A(e),e),t,3)}function fD(e,t){return aD(e.getMilliseconds(),t,3)}function gD(e,t){return fD(e,t)+"000"}function _D(e,t){return aD(e.getMonth()+1,t,2)}function yD(e,t){return aD(e.getMinutes(),t,2)}function vD(e,t){return aD(e.getSeconds(),t,2)}function bD(e){var t=e.getDay();return 0===t?7:t}function wD(e,t){return aD(zA.count($A(e)-1,e),t,2)}function SD(e,t){var n=e.getDay();return e=n>=4||0===n?YA(e):YA.ceil(e),aD(YA.count($A(e),e)+(4===$A(e).getDay()),t,2)}function ED(e){return e.getDay()}function kD(e,t){return aD(WA.count($A(e)-1,e),t,2)}function CD(e,t){return aD(e.getFullYear()%100,t,2)}function xD(e,t){return aD(e.getFullYear()%1e4,t,4)}function TD(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+aD(t/60|0,"0",2)+aD(t%60,"0",2)}function ID(e,t){return aD(e.getUTCDate(),t,2)}function RD(e,t){return aD(e.getUTCHours(),t,2)}function OD(e,t){return aD(e.getUTCHours()%12||12,t,2)}function AD(e,t){return aD(1+nD.count(rD(e),e),t,3)}function DD(e,t){return aD(e.getUTCMilliseconds(),t,3)}function PD(e,t){return DD(e,t)+"000"}function MD(e,t){return aD(e.getUTCMonth()+1,t,2)}function ND(e,t){return aD(e.getUTCMinutes(),t,2)}function LD(e,t){return aD(e.getUTCSeconds(),t,2)}function FD(e){var t=e.getUTCDay();return 0===t?7:t}function UD(e,t){return aD(JA.count(rD(e)-1,e),t,2)}function BD(e,t){var n=e.getUTCDay();return e=n>=4||0===n?tD(e):tD.ceil(e),aD(tD.count(rD(e),e)+(4===rD(e).getUTCDay()),t,2)}function jD(e){return e.getUTCDay()}function VD(e,t){return aD(eD.count(rD(e)-1,e),t,2)}function KD(e,t){return aD(e.getUTCFullYear()%100,t,2)}function qD(e,t){return aD(e.getUTCFullYear()%1e4,t,4)}function GD(){return"+0000"}function $D(){return"%"}function HD(e){return+e}function zD(e){return Math.floor(+e/1e3)}!function(e){var t=e.dateTime,n=e.date,i=e.time,r=e.periods,s=e.days,o=e.shortDays,a=e.months,c=e.shortMonths,l=(lD(r),uD(r),lD(s),uD(s),lD(o),uD(o),lD(a),uD(a),lD(c),uD(c),{a:function(e){return o[e.getDay()]},A:function(e){return s[e.getDay()]},b:function(e){return c[e.getMonth()]},B:function(e){return a[e.getMonth()]},c:null,d:hD,e:hD,f:gD,H:dD,I:pD,j:mD,L:fD,m:_D,M:yD,p:function(e){return r[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:HD,s:zD,S:vD,u:bD,U:wD,V:SD,w:ED,W:kD,x:null,X:null,y:CD,Y:xD,Z:TD,"%":$D}),u={a:function(e){return o[e.getUTCDay()]},A:function(e){return s[e.getUTCDay()]},b:function(e){return c[e.getUTCMonth()]},B:function(e){return a[e.getUTCMonth()]},c:null,d:ID,e:ID,f:PD,H:RD,I:OD,j:AD,L:DD,m:MD,M:ND,p:function(e){return r[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:HD,s:zD,S:LD,u:FD,U:UD,V:BD,w:jD,W:VD,x:null,X:null,y:KD,Y:qD,Z:GD,"%":$D};function h(e,t){return function(n){var i,r,s,o=[],a=-1,c=0,l=e.length;for(n instanceof Date||(n=new Date(+n));++a<l;)37===e.charCodeAt(a)&&(o.push(e.slice(c,a)),null!=(r=sD[i=e.charAt(++a)])?i=e.charAt(++a):r="e"===i?" ":"0",(s=t[i])&&(i=s(n,r)),o.push(i),c=a+1);return o.push(e.slice(c,a)),o.join("")}}l.x=h(n,l),l.X=h(i,l),l.c=h(t,l),u.x=h(n,u),u.X=h(i,u),u.c=h(t,u)}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var WD,YD,XD=(1===(WD=LA).length&&(YD=WD,WD=function(e,t){return LA(YD(e),t)}),{left:function(e,t,n,i){for(null==n&&(n=0),null==i&&(i=e.length);n<i;){var r=n+i>>>1;WD(e[r],t)<0?n=r+1:i=r}return n},right:function(e,t,n,i){for(null==n&&(n=0),null==i&&(i=e.length);n<i;){var r=n+i>>>1;WD(e[r],t)>0?i=r:n=r+1}return n}}).right,QD=function(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}},ZD=function(e){return+e},JD=[0,1];function eP(e){return e}function tP(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function nP(e,t,n){var i=e[0],r=e[1],s=t[0],o=t[1];return r<i?(i=tP(r,i),s=n(o,s)):(i=tP(i,r),s=n(s,o)),function(e){return s(i(e))}}function iP(e,t,n){var i=Math.min(e.length,t.length)-1,r=new Array(i),s=new Array(i),o=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<i;)r[o]=tP(e[o],e[o+1]),s[o]=n(t[o],t[o+1]);return function(t){var n=XD(e,t,1,i)-1;return s[n](r[n](t))}}function rP(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function sP(){return function(){var e,t,n,i,r,s,o=JD,a=JD,c=kO,l=eP;function u(){var e,t,n,c=Math.min(o.length,a.length);return l!==eP&&((e=o[0])>(t=o[c-1])&&(n=e,e=t,t=n),l=function(n){return Math.max(e,Math.min(t,n))}),i=c>2?iP:nP,r=s=null,h}function h(t){return isNaN(t=+t)?n:(r||(r=i(o.map(e),a,c)))(e(l(t)))}return h.invert=function(n){return l(t((s||(s=i(a,o.map(e),vO)))(n)))},h.domain=function(e){return arguments.length?(o=Array.from(e,ZD),u()):o.slice()},h.range=function(e){return arguments.length?(a=Array.from(e),u()):a.slice()},h.rangeRound=function(e){return a=Array.from(e),c=QD,u()},h.clamp=function(e){return arguments.length?(l=!!e||eP,u()):l!==eP},h.interpolate=function(e){return arguments.length?(c=e,u()):c},h.unknown=function(e){return arguments.length?(n=e,h):n},function(n,i){return e=n,t=i,u()}}()(eP,eP)}function oP(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}var aP=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function cP(e){if(!(t=aP.exec(e)))throw new Error("invalid format: "+e);var t;return new lP({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function lP(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}cP.prototype=lP.prototype,lP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var uP,hP,dP,pP,mP=function(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]},fP=function(e){return(e=mP(Math.abs(e)))?e[1]:NaN},gP=function(e,t){var n=mP(e,t);if(!n)return e+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")},_P={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return gP(100*e,t)},r:gP,s:function(e,t){var n=mP(e,t);if(!n)return e+"";var i=n[0],r=n[1],s=r-(uP=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,o=i.length;return s===o?i:s>o?i+new Array(s-o+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+mP(e,Math.max(0,t+s-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},yP=function(e){return e},vP=Array.prototype.map,bP=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];hP=function(e){var t,n,i=void 0===e.grouping||void 0===e.thousands?yP:(t=vP.call(e.grouping,Number),n=e.thousands+"",function(e,i){for(var r=e.length,s=[],o=0,a=t[0],c=0;r>0&&a>0&&(c+a+1>i&&(a=Math.max(1,i-c)),s.push(e.substring(r-=a,r+a)),!((c+=a+1)>i));)a=t[o=(o+1)%t.length];return s.reverse().join(n)}),r=void 0===e.currency?"":e.currency[0]+"",s=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",a=void 0===e.numerals?yP:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(vP.call(e.numerals,String)),c=void 0===e.percent?"%":e.percent+"",l=void 0===e.minus?"-":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function h(e){var t=(e=cP(e)).fill,n=e.align,h=e.sign,d=e.symbol,p=e.zero,m=e.width,f=e.comma,g=e.precision,_=e.trim,y=e.type;"n"===y?(f=!0,y="g"):_P[y]||(void 0===g&&(g=12),_=!0,y="g"),(p||"0"===t&&"="===n)&&(p=!0,t="0",n="=");var v="$"===d?r:"#"===d&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",b="$"===d?s:/[%p]/.test(y)?c:"",w=_P[y],S=/[defgprs%]/.test(y);function E(e){var r,s,c,d=v,E=b;if("c"===y)E=w(e)+E,e="";else{var k=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),g),_&&(e=function(e){e:for(var t,n=e.length,i=1,r=-1;i<n;++i)switch(e[i]){case".":r=t=i;break;case"0":0===r&&(r=i),t=i;break;default:if(!+e[i])break e;r>0&&(r=0)}return r>0?e.slice(0,r)+e.slice(t+1):e}(e)),k&&0==+e&&"+"!==h&&(k=!1),d=(k?"("===h?h:l:"-"===h||"("===h?"":h)+d,E=("s"===y?bP[8+uP/3]:"")+E+(k&&"("===h?")":""),S)for(r=-1,s=e.length;++r<s;)if(48>(c=e.charCodeAt(r))||c>57){E=(46===c?o+e.slice(r+1):e.slice(r))+E,e=e.slice(0,r);break}}f&&!p&&(e=i(e,1/0));var C=d.length+e.length+E.length,x=C<m?new Array(m-C+1).join(t):"";switch(f&&p&&(e=i(x+e,x.length?m-E.length:1/0),x=""),n){case"<":e=d+e+E+x;break;case"=":e=d+x+e+E;break;case"^":e=x.slice(0,C=x.length>>1)+d+e+E+x.slice(C);break;default:e=x+d+e+E}return a(e)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),E.toString=function(){return e+""},E}return{format:h,formatPrefix:function(e,t){var n=h(((e=cP(e)).type="f",e)),i=3*Math.max(-8,Math.min(8,Math.floor(fP(t)/3))),r=Math.pow(10,-i),s=bP[8+i/3];return function(e){return n(r*e)+s}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),dP=hP.format,pP=hP.formatPrefix;function wP(e){var t=e.domain;return e.ticks=function(e){var n=t();return function(e,t,n){var i,r,s,o,a=-1;if(n=+n,(e=+e)==(t=+t)&&n>0)return[e];if((i=t<e)&&(r=e,e=t,t=r),0===(o=jA(e,t,n))||!isFinite(o))return[];if(o>0)for(e=Math.ceil(e/o),t=Math.floor(t/o),s=new Array(r=Math.ceil(t-e+1));++a<r;)s[a]=(e+a)*o;else for(o=-o,e=Math.floor(e*o),t=Math.ceil(t*o),s=new Array(r=Math.ceil(t-e+1));++a<r;)s[a]=(e+a)/o;return i&&s.reverse(),s}(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var i=t();return function(e,t,n,i){var r,s=function(e,t,n){var i=Math.abs(t-e)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),s=i/r;return s>=FA?r*=10:s>=UA?r*=5:s>=BA&&(r*=2),t<e?-r:r}(e,t,n);switch((i=cP(null==i?",f":i)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=i.precision||isNaN(r=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(fP(t)/3)))-fP(Math.abs(e)))}(s,o))||(i.precision=r),pP(i,o);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(r=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,fP(t)-fP(e))+1}(s,Math.max(Math.abs(e),Math.abs(t))))||(i.precision=r-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(r=function(e){return Math.max(0,-fP(Math.abs(e)))}(s))||(i.precision=r-2*("%"===i.type))}return dP(i)}(i[0],i[i.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var i,r=t(),s=0,o=r.length-1,a=r[s],c=r[o];return c<a&&(i=a,a=c,c=i,i=s,s=o,o=i),(i=jA(a,c,n))>0?i=jA(a=Math.floor(a/i)*i,c=Math.ceil(c/i)*i,n):i<0&&(i=jA(a=Math.ceil(a*i)/i,c=Math.floor(c*i)/i,n)),i>0?(r[s]=Math.floor(a/i)*i,r[o]=Math.ceil(c/i)*i,t(r)):i<0&&(r[s]=Math.ceil(a*i)/i,r[o]=Math.floor(c*i)/i,t(r)),e},e}function SP(){var e=sP();return e.copy=function(){return rP(e,SP())},oP.apply(e,arguments),wP(e)}var EP=function(e,t,n){e=+e,t=+t,n=(r=arguments.length)<2?(t=e,e=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((t-e)/n)),s=new Array(r);++i<r;)s[i]=e+i*n;return s};const kP=Symbol("implicit");function CP(){var e=new Map,t=[],n=[],i=kP;function r(r){var s=r+"",o=e.get(s);if(!o){if(i!==kP)return i;e.set(s,o=t.push(r))}return n[(o-1)%n.length]}return r.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Map;for(const i of n){const n=i+"";e.has(n)||e.set(n,t.push(i))}return r},r.range=function(e){return arguments.length?(n=Array.from(e),r):n.slice()},r.unknown=function(e){return arguments.length?(i=e,r):i},r.copy=function(){return CP(t,n).unknown(i)},oP.apply(r,arguments),r}function xP(){var e,t,n=CP().unknown(void 0),i=n.domain,r=n.range,s=0,o=1,a=!1,c=0,l=0,u=.5;function h(){var n=i().length,h=o<s,d=h?o:s,p=h?s:o;e=(p-d)/Math.max(1,n-c+2*l),a&&(e=Math.floor(e)),d+=(p-d-e*(n-c))*u,t=e*(1-c),a&&(d=Math.round(d),t=Math.round(t));var m=EP(n).map((function(t){return d+e*t}));return r(h?m.reverse():m)}return delete n.unknown,n.domain=function(e){return arguments.length?(i(e),h()):i()},n.range=function(e){return arguments.length?([s,o]=e,s=+s,o=+o,h()):[s,o]},n.rangeRound=function(e){return[s,o]=e,s=+s,o=+o,a=!0,h()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(a=!!e,h()):a},n.padding=function(e){return arguments.length?(c=Math.min(1,l=+e),h()):c},n.paddingInner=function(e){return arguments.length?(c=Math.min(1,e),h()):c},n.paddingOuter=function(e){return arguments.length?(l=+e,h()):l},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),h()):u},n.copy=function(){return xP(i(),[s,o]).round(a).paddingInner(c).paddingOuter(l).align(u)},oP.apply(h(),arguments)}function TP(e,t){let n;if(void 0===t)for(const i of e)null!=i&&(n<i||void 0===n&&i>=i)&&(n=i);else{let i=-1;for(let r of e)null!=(r=t(r,++i,e))&&(n<r||void 0===n&&r>=r)&&(n=r)}return n}function IP(e,t){let n;if(void 0===t)for(const i of e)null!=i&&(n>i||void 0===n&&i>=i)&&(n=i);else{let i=-1;for(let r of e)null!=(r=t(r,++i,e))&&(n>r||void 0===n&&r>=r)&&(n=r)}return n}function RP(e,t,n){const i=e[t];e[t]=e[n],e[n]=i}function OP(e,t,n){if(i=(e=Float64Array.from(function*(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let i of e)null!=(i=t(i,++n,e))&&(i=+i)>=i&&(yield i)}}(e,n))).length){if((t=+t)<=0||i<2)return IP(e);if(t>=1)return TP(e);var i,r=(i-1)*t,s=Math.floor(r),o=TP(function e(t,n,i=0,r=t.length-1,s=LA){for(;r>i;){if(r-i>600){const o=r-i+1,a=n-i+1,c=Math.log(o),l=.5*Math.exp(2*c/3),u=.5*Math.sqrt(c*l*(o-l)/o)*(a-o/2<0?-1:1);e(t,n,Math.max(i,Math.floor(n-a*l/o+u)),Math.min(r,Math.floor(n+(o-a)*l/o+u)),s)}const o=t[n];let a=i,c=r;for(RP(t,i,n),s(t[r],o)>0&&RP(t,i,r);a<c;){for(RP(t,a,c),++a,--c;s(t[a],o)<0;)++a;for(;s(t[c],o)>0;)--c}0===s(t[i],o)?RP(t,i,c):(++c,RP(t,c,r)),c<=n&&(i=c+1),n<=c&&(r=c-1)}return t}(e,s).subarray(0,s+1));return o+(IP(e.subarray(s+1))-o)*(r-s)}}function AP(e){this._context=e}AP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var DP=Math.PI,PP=2*DP,MP=PP-1e-6;function NP(){this._x0=this._y0=this._x1=this._y1=null,this._=""}NP.prototype=(function(){return new NP}).prototype={constructor:NP,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,i){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(e,t,n,i,r,s){this._+="C"+ +e+","+ +t+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+s)},arcTo:function(e,t,n,i,r){var s=this._x1,o=this._y1,a=(n=+n)-(e=+e),c=(i=+i)-(t=+t),l=s-e,u=o-t,h=l*l+u*u;if((r=+r)<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(h>1e-6)if(Math.abs(u*a-c*l)>1e-6&&r){var d=n-s,p=i-o,m=a*a+c*c,f=d*d+p*p,g=Math.sqrt(m),_=Math.sqrt(h),y=r*Math.tan((DP-Math.acos((m+h-f)/(2*g*_)))/2),v=y/_,b=y/g;Math.abs(v-1)>1e-6&&(this._+="L"+(e+v*l)+","+(t+v*u)),this._+="A"+r+","+r+",0,0,"+ +(u*d>l*p)+","+(this._x1=e+b*a)+","+(this._y1=t+b*c)}else this._+="L"+(this._x1=e)+","+(this._y1=t)},arc:function(e,t,n,i,r,s){e=+e,t=+t,s=!!s;var o=(n=+n)*Math.cos(i),a=n*Math.sin(i),c=e+o,l=t+a,u=1^s,h=s?i-r:r-i;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+c+","+l:(Math.abs(this._x1-c)>1e-6||Math.abs(this._y1-l)>1e-6)&&(this._+="L"+c+","+l),n&&(h<0&&(h=h%PP+PP),h>MP?this._+="A"+n+","+n+",0,1,"+u+","+(e-o)+","+(t-a)+"A"+n+","+n+",0,1,"+u+","+(this._x1=c)+","+(this._y1=l):h>1e-6&&(this._+="A"+n+","+n+",0,"+ +(h>=DP)+","+u+","+(this._x1=e+n*Math.cos(r))+","+(this._y1=t+n*Math.sin(r))))},rect:function(e,t,n,i){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};var LP=function(){};function FP(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function UP(e,t){this._context=e,this._k=(1-t)/6}function BP(e,t){this._context=e,this._k=(1-t)/6}function jP(e){this._curve=e}UP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:FP(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:FP(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},function e(t){function n(e){return new UP(e,t)}return n.tension=function(t){return e(+t)},n}(0),BP.prototype={areaStart:LP,areaEnd:LP,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:FP(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},function e(t){function n(e){return new BP(e,t)}return n.tension=function(t){return e(+t)},n}(0),jP.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}},Math,Math,Math,Math,Math,Math,Math,Math;var VP=function(e,t,n,i,r){for(var s,o=e.children,a=-1,c=o.length,l=e.value&&(i-t)/e.value;++a<c;)(s=o[a]).y0=n,s.y1=r,s.x0=t,s.x1=t+=s.value*l},KP=function(e,t,n,i,r){for(var s,o=e.children,a=-1,c=o.length,l=e.value&&(r-n)/e.value;++a<c;)(s=o[a]).x0=t,s.x1=i,s.y0=n,s.y1=n+=s.value*l};function qP(e){var t=0,n=e.children,i=n&&n.length;if(i)for(;--i>=0;)t+=n[i].value;else t=1;e.value=t}function GP(e,t){var n,i,r,s,o,a=new WP(e),c=+e.value&&(a.value=e.value),l=[a];for(null==t&&(t=$P);n=l.pop();)if(c&&(n.value=+n.data.value),(r=t(n.data))&&(o=r.length))for(n.children=new Array(o),s=o-1;s>=0;--s)l.push(i=n.children[s]=new WP(r[s])),i.parent=n,i.depth=n.depth+1;return a.eachBefore(zP)}function $P(e){return e.children}function HP(e){e.data=e.data.data}function zP(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function WP(e){this.data=e,this.depth=this.height=0,this.parent=null}!function e(t){function n(e,n,i,r,s){!function(e,t,n,i,r,s){for(var o,a,c,l,u,h,d,p,m,f,g,_=[],y=t.children,v=0,b=0,w=y.length,S=t.value;v<w;){c=r-n,l=s-i;do{u=y[b++].value}while(!u&&b<w);for(h=d=u,g=u*u*(f=Math.max(l/c,c/l)/(S*e)),m=Math.max(d/g,g/h);b<w;++b){if(u+=a=y[b].value,a<h&&(h=a),a>d&&(d=a),g=u*u*f,(p=Math.max(d/g,g/h))>m){u-=a;break}m=p}_.push(o={value:u,dice:c<l,children:y.slice(v,b)}),o.dice?VP(o,n,i,r,S?i+=l*u/S:s):KP(o,n,i,S?n+=c*u/S:r,s),S-=u,v=b}}(t,e,n,i,r,s)}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}((1+Math.sqrt(5))/2),WP.prototype=GP.prototype={constructor:WP,count:function(){return this.eachAfter(qP)},each:function(e){var t,n,i,r,s=this,o=[s];do{for(t=o.reverse(),o=[];s=t.pop();)if(e(s),n=s.children)for(i=0,r=n.length;i<r;++i)o.push(n[i])}while(o.length);return this},eachAfter:function(e){for(var t,n,i,r=this,s=[r],o=[];r=s.pop();)if(o.push(r),t=r.children)for(n=0,i=t.length;n<i;++n)s.push(t[n]);for(;r=o.pop();)e(r);return this},eachBefore:function(e){for(var t,n,i=this,r=[i];i=r.pop();)if(e(i),t=i.children)for(n=t.length-1;n>=0;--n)r.push(t[n]);return this},sum:function(e){return this.eachAfter((function(t){for(var n=+e(t.data)||0,i=t.children,r=i&&i.length;--r>=0;)n+=i[r].value;t.value=n}))},sort:function(e){return this.eachBefore((function(t){t.children&&t.children.sort(e)}))},path:function(e){for(var t=this,n=function(e,t){if(e===t)return e;var n=e.ancestors(),i=t.ancestors(),r=null;for(e=n.pop(),t=i.pop();e===t;)r=e,e=n.pop(),t=i.pop();return r}(t,e),i=[t];t!==n;)i.push(t=t.parent);for(var r=i.length;e!==n;)i.splice(r,0,e),e=e.parent;return i},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){var e=[];return this.each((function(t){e.push(t)})),e},leaves:function(){var e=[];return this.eachBefore((function(t){t.children||e.push(t)})),e},links:function(){var e=this,t=[];return e.each((function(n){n!==e&&t.push({source:n.parent,target:n})})),t},copy:function(){return GP(this).eachBefore(HP)}};const YP=["caretElm"];function XP(e,t){}const QP=function(e){return{model:e}};function ZP(e,t){if(1&e&&(No(0,"span"),Ro(1,XP,0,0,"ng-template",5),Lo()),2&e){const e=Wo();kr(1),Po("ngTemplateOutlet",e.template)("ngTemplateOutletContext",Mc(2,QP,e.context))}}function JP(e,t){1&e&&Fo(0,"span",6),2&e&&Po("innerHTML",Wo().title,nr)}function eM(e,t){if(1&e&&(Rn(),On(),Fo(0,"ngx-charts-scale-legend",4)),2&e){const e=Wo();Po("horizontal",e.legendOptions&&"below"===e.legendOptions.position)("valueRange",e.legendOptions.domain)("colors",e.legendOptions.colors)("height",e.view[1])("width",e.legendWidth)}}function tM(e,t){if(1&e){const e=jo();Rn(),On(),No(0,"ngx-charts-legend",5),qo("labelClick",(function(t){return nn(e),Wo().legendLabelClick.emit(t)}))("labelActivate",(function(t){return nn(e),Wo().legendLabelActivate.emit(t)}))("labelDeactivate",(function(t){return nn(e),Wo().legendLabelDeactivate.emit(t)})),Lo()}if(2&e){const e=Wo();Po("horizontal",e.legendOptions&&"below"===e.legendOptions.position)("data",e.legendOptions.domain)("title",e.legendOptions.title)("colors",e.legendOptions.colors)("height",e.view[1])("width",e.legendWidth)("activeEntries",e.activeEntries)}}const nM=["*"],iM=["ngx-charts-axis-label",""],rM=["ticksel"],sM=["ngx-charts-x-axis-ticks",""];function oM(e,t){if(1&e&&(Rn(),No(0,"g",3),No(1,"title"),ya(2),Lo(),No(3,"text",4),ya(4),Lo(),Lo()),2&e){const e=t.$implicit,n=Wo();To("transform",n.tickTransform(e)),kr(2),va(n.tickFormat(e)),kr(1),sa("font-size","12px"),To("text-anchor",n.textAnchor)("transform",n.textTransform),kr(1),ba(" ",n.tickTrim(n.tickFormat(e))," ")}}function aM(e,t){if(1&e&&(Rn(),No(0,"g"),Fo(1,"line",6),Lo()),2&e){const e=Wo(2);To("transform",e.gridLineTransform()),kr(1),To("y1",0-e.gridLineHeight)}}function cM(e,t){if(1&e&&(Rn(),No(0,"g"),Ro(1,aM,2,2,"g",5),Lo()),2&e){const e=t.$implicit,n=Wo();To("transform",n.tickTransform(e)),kr(1),Po("ngIf",n.showGridLines)}}const lM=["ngx-charts-x-axis",""];function uM(e,t){if(1&e){const e=jo();Rn(),No(0,"g",2),qo("dimensionsChanged",(function(t){return nn(e),Wo().emitTicksHeight(t)})),Lo()}if(2&e){const e=Wo();Po("trimTicks",e.trimTicks)("rotateTicks",e.rotateTicks)("maxTickLength",e.maxTickLength)("tickFormatting",e.tickFormatting)("tickArguments",e.tickArguments)("tickStroke",e.tickStroke)("scale",e.xScale)("orient",e.xOrient)("showGridLines",e.showGridLines)("gridLineHeight",e.dims.height)("width",e.dims.width)("tickValues",e.ticks)}}function hM(e,t){if(1&e&&(Rn(),Fo(0,"g",3)),2&e){const e=Wo();Po("label",e.labelText)("offset",e.labelOffset)("orient","bottom")("height",e.dims.height)("width",e.dims.width)}}const dM=["ngx-charts-y-axis-ticks",""];function pM(e,t){if(1&e&&(Rn(),No(0,"g",4),No(1,"title"),ya(2),Lo(),No(3,"text",5),ya(4),Lo(),Lo()),2&e){const e=t.$implicit,n=Wo();To("transform",n.transform(e)),kr(2),va(n.tickFormat(e)),kr(1),sa("font-size","12px"),To("dy",n.dy)("x",n.x1)("y",n.y1)("text-anchor",n.textAnchor),kr(1),ba(" ",n.tickTrim(n.tickFormat(e))," ")}}function mM(e,t){if(1&e&&(Rn(),Fo(0,"path",6)),2&e){const e=Wo();To("d",e.referenceAreaPath)("transform",e.gridLineTransform())}}function fM(e,t){1&e&&(Rn(),Fo(0,"line",9)),2&e&&To("x2",Wo(3).gridLineWidth)}function gM(e,t){1&e&&(Rn(),Fo(0,"line",9)),2&e&&To("x2",0-Wo(3).gridLineWidth)}function _M(e,t){if(1&e&&(Rn(),No(0,"g"),Ro(1,fM,1,1,"line",8),Ro(2,gM,1,1,"line",8),Lo()),2&e){const e=Wo(2);To("transform",e.gridLineTransform()),kr(1),Po("ngIf","left"===e.orient),kr(1),Po("ngIf","right"===e.orient)}}function yM(e,t){if(1&e&&(Rn(),No(0,"g"),Ro(1,_M,3,3,"g",7),Lo()),2&e){const e=t.$implicit,n=Wo();To("transform",n.transform(e)),kr(1),Po("ngIf",n.showGridLines)}}function vM(e,t){if(1&e&&(Rn(),No(0,"g"),No(1,"title"),ya(2),Lo(),No(3,"text",11),ya(4),Lo(),Lo()),2&e){const e=Wo(2).$implicit,t=Wo();kr(2),va(t.tickTrim(t.tickFormat(e.value))),kr(1),To("dy",t.dy)("y",-6)("x",t.gridLineWidth)("text-anchor",t.textAnchor),kr(1),ba(" ",e.name," ")}}function bM(e,t){if(1&e&&(Rn(),No(0,"g"),Fo(1,"line",10),Ro(2,vM,5,6,"g",7),Lo()),2&e){const e=Wo().$implicit,t=Wo();To("transform",t.transform(e.value)),kr(1),To("x2",t.gridLineWidth)("transform",t.gridLineTransform()),kr(1),Po("ngIf",t.showRefLabels)}}function wM(e,t){if(1&e&&(Rn(),No(0,"g"),Ro(1,bM,3,4,"g",7),Lo()),2&e){const e=Wo();kr(1),Po("ngIf",e.showRefLines)}}const SM=["ngx-charts-y-axis",""];function EM(e,t){if(1&e){const e=jo();Rn(),No(0,"g",2),qo("dimensionsChanged",(function(t){return nn(e),Wo().emitTicksWidth(t)})),Lo()}if(2&e){const e=Wo();Po("trimTicks",e.trimTicks)("maxTickLength",e.maxTickLength)("tickFormatting",e.tickFormatting)("tickArguments",e.tickArguments)("tickValues",e.ticks)("tickStroke",e.tickStroke)("scale",e.yScale)("orient",e.yOrient)("showGridLines",e.showGridLines)("gridLineWidth",e.dims.width)("referenceLines",e.referenceLines)("showRefLines",e.showRefLines)("showRefLabels",e.showRefLabels)("height",e.dims.height)}}function kM(e,t){if(1&e&&(Rn(),Fo(0,"g",3)),2&e){const e=Wo();Po("label",e.labelText)("offset",e.labelOffset)("orient",e.yOrient)("height",e.dims.height)("width",e.dims.width)}}const CM=["ngx-charts-svg-linear-gradient",""];function xM(e,t){if(1&e&&(Rn(),Fo(0,"stop")),2&e){const e=t.$implicit;sa("stop-color",e.color)("stop-opacity",e.opacity),To("offset",e.offset+"%")}}function TM(e,t){if(1&e&&(No(0,"header",4),No(1,"span",5),ya(2),Lo(),Lo()),2&e){const e=Wo();kr(2),va(e.title)}}function IM(e,t){if(1&e){const e=jo();No(0,"li",6),No(1,"ngx-charts-legend-entry",7),qo("select",(function(t){return nn(e),Wo().labelClick.emit(t)}))("activate",(function(t){return nn(e),Wo().activate(t)}))("deactivate",(function(t){return nn(e),Wo().deactivate(t)})),Lo(),Lo()}if(2&e){const e=t.$implicit,n=Wo();kr(1),Po("label",e.label)("formattedLabel",e.formattedLabel)("color",e.color)("isActive",n.isActive(e))}}const RM=["tooltipTemplate"],OM=function(e,t){return[e,t]},AM=["ngx-charts-bar",""];function DM(e,t){if(1&e&&(Rn(),No(0,"defs"),Fo(1,"g",2),Lo()),2&e){const e=Wo();kr(1),Po("orientation",e.orientation)("name",e.gradientId)("stops",e.gradientStops)}}function PM(e,t){if(1&e){const e=jo();Rn(),No(0,"g",5),qo("dimensionsChanged",(function(t){return nn(e),Wo().updateXAxisHeight(t)})),Lo()}if(2&e){const e=Wo();Po("xScale",e.xScale)("dims",e.dims)("showGridLines",e.showGridLines)("showLabel",e.showXAxisLabel)("labelText",e.xAxisLabel)("trimTicks",e.trimXAxisTicks)("rotateTicks",e.rotateXAxisTicks)("maxTickLength",e.maxXAxisTickLength)("tickFormatting",e.xAxisTickFormatting)("ticks",e.xAxisTicks)}}function MM(e,t){if(1&e){const e=jo();Rn(),No(0,"g",6),qo("dimensionsChanged",(function(t){return nn(e),Wo().updateYAxisWidth(t)})),Lo()}if(2&e){const e=Wo();Po("yScale",e.yScale)("dims",e.dims)("showLabel",e.showYAxisLabel)("labelText",e.yAxisLabel)("trimTicks",e.trimYAxisTicks)("maxTickLength",e.maxYAxisTickLength)("tickFormatting",e.yAxisTickFormatting)("ticks",e.yAxisTicks)("yAxisOffset",e.dataLabelMaxWidth.negative)}}const NM=["ngx-charts-series-horizontal",""];function LM(e,t){if(1&e){const e=jo();Rn(),No(0,"g",2),qo("select",(function(t){return nn(e),Wo().click(t)}))("activate",(function(t){return nn(e),Wo().activate.emit(t)}))("deactivate",(function(t){return nn(e),Wo().deactivate.emit(t)})),Lo()}if(2&e){const e=t.$implicit,n=Wo();Po("@animationState","active")("width",e.width)("height",e.height)("x",e.x)("y",e.y)("fill",e.color)("stops",e.gradientStops)("data",e.data)("orientation","horizontal")("roundEdges",e.roundEdges)("gradient",n.gradient)("isActive",n.isActive(e.data))("ariaLabel",e.ariaLabel)("animations",n.animations)("tooltipDisabled",n.tooltipDisabled)("tooltipPlacement",n.tooltipPlacement)("tooltipType",n.tooltipType)("tooltipTitle",n.tooltipTemplate?void 0:e.tooltipText)("tooltipTemplate",n.tooltipTemplate)("tooltipContext",e.data)("noBarWhenZero",n.noBarWhenZero)}}function FM(e,t){if(1&e){const e=jo();Rn(),No(0,"g",4),qo("dimensionsChanged",(function(n){nn(e);const i=t.index;return Wo(2).dataLabelWidthChanged.emit({size:n,index:i})})),Lo()}if(2&e){const e=t.$implicit,n=Wo(2);Po("barX",e.x)("barY",e.y)("barWidth",e.width)("barHeight",e.height)("value",e.total)("valueFormatting",n.dataLabelFormatting)("orientation","horizontal")}}function UM(e,t){if(1&e&&(Rn(),No(0,"g"),Ro(1,FM,1,7,"g",3),Lo()),2&e){const e=Wo();kr(1),Po("ngForOf",e.barsForDataLabels)("ngForTrackBy",e.trackDataLabelBy)}}const BM=["ngx-charts-bar-label",""];var jM;let VM=(()=>{let e=jM=class{constructor(e,t,n){this.applicationRef=e,this.componentFactoryResolver=t,this.injector=n}static setGlobalRootViewContainer(e){jM.globalRootViewContainer=e}getRootViewContainer(){if(this._container)return this._container;if(jM.globalRootViewContainer)return jM.globalRootViewContainer;if(this.applicationRef.components.length)return this.applicationRef.components[0];throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer or setGlobalRootViewContainer.")}setRootViewContainer(e){this._container=e}getComponentRootNode(e){return e.element?e.element.nativeElement:e.hostView&&e.hostView.rootNodes.length>0?e.hostView.rootNodes[0]:e.location.nativeElement}getRootViewContainerNode(e){return this.getComponentRootNode(e)}projectComponentBindings(e,t){if(t){if(void 0!==t.inputs){const n=Object.getOwnPropertyNames(t.inputs);for(const i of n)e.instance[i]=t.inputs[i]}if(void 0!==t.outputs){const n=Object.getOwnPropertyNames(t.outputs);for(const i of n)e.instance[i]=t.outputs[i]}}return e}appendComponent(e,t={},n){n||(n=this.getRootViewContainer());const i=this.getComponentRootNode(n),r=new Yv(i,this.componentFactoryResolver,this.applicationRef,this.injector),s=new Gv(e),o=r.attach(s);return this.projectComponentBindings(o,t),o}};return e.\u0275fac=function(t){return new(t||e)(ze(Wl),ze(qa),ze(go))},e.\u0275prov=le({token:e,factory:function(t){return e.\u0275fac(t)}}),e.globalRootViewContainer=null,e})();function KM(e,t,n){let i,r,s;n=n||{};let o=null,a=0;function c(){a=!1===n.leading?0:+new Date,o=null,s=e.apply(i,r)}return function(){const l=+new Date;a||!1!==n.leading||(a=l);const u=t-(l-a);return i=this,r=arguments,u<=0?(clearTimeout(o),o=null,a=l,s=e.apply(i,r)):o||!1===n.trailing||(o=setTimeout(c,u)),s}}var qM=function(e){return e[e.top="top"]="top",e[e.bottom="bottom"]="bottom",e[e.left="left"]="left",e[e.right="right"]="right",e}({});function GM(e,t,n){return"top"===n?e.top-7:"bottom"===n?e.top+e.height-t.height+7:"center"===n?e.top+e.height/2-t.height/2:void 0}function $M(e,t,n){return"left"===n?e.left-7:"right"===n?e.left+e.width-t.width+7:"center"===n?e.left+e.width/2-t.width/2:void 0}class HM{static calculateVerticalAlignment(e,t,n){let i=GM(e,t,n);return i+t.height>window.innerHeight&&(i=window.innerHeight-t.height),i}static calculateVerticalCaret(e,t,n,i){let r;"top"===i&&(r=e.height/2-n.height/2+7),"bottom"===i&&(r=t.height-e.height/2-n.height/2-7),"center"===i&&(r=t.height/2-n.height/2);const s=GM(e,t,i);return s+t.height>window.innerHeight&&(r+=s+t.height-window.innerHeight),r}static calculateHorizontalAlignment(e,t,n){let i=$M(e,t,n);return i+t.width>window.innerWidth&&(i=window.innerWidth-t.width),i}static calculateHorizontalCaret(e,t,n,i){let r;"left"===i&&(r=e.width/2-n.width/2+7),"right"===i&&(r=t.width-e.width/2-n.width/2-7),"center"===i&&(r=t.width/2-n.width/2);const s=$M(e,t,i);return s+t.width>window.innerWidth&&(r+=s+t.width-window.innerWidth),r}static shouldFlip(e,t,n,i){let r=!1;return"right"===n&&e.left+e.width+t.width+i>window.innerWidth&&(r=!0),"left"===n&&e.left-t.width-i<0&&(r=!0),"top"===n&&e.top-t.height-i<0&&(r=!0),"bottom"===n&&e.top+e.height+t.height+i>window.innerHeight&&(r=!0),r}static positionCaret(e,t,n,i,r){let s=0,o=0;return e===qM.right?(o=-7,s=HM.calculateVerticalCaret(n,t,i,r)):e===qM.left?(o=t.width,s=HM.calculateVerticalCaret(n,t,i,r)):e===qM.top?(s=t.height,o=HM.calculateHorizontalCaret(n,t,i,r)):e===qM.bottom&&(s=-7,o=HM.calculateHorizontalCaret(n,t,i,r)),{top:s,left:o}}static positionContent(e,t,n,i,r){let s=0,o=0;return e===qM.right?(o=n.left+n.width+i,s=HM.calculateVerticalAlignment(n,t,r)):e===qM.left?(o=n.left-t.width-i,s=HM.calculateVerticalAlignment(n,t,r)):e===qM.top?(s=n.top-t.height-i,o=HM.calculateHorizontalAlignment(n,t,r)):e===qM.bottom&&(s=n.top+n.height+i,o=HM.calculateHorizontalAlignment(n,t,r)),{top:s,left:o}}static determinePlacement(e,t,n,i){if(HM.shouldFlip(n,t,e,i)){if(e===qM.right)return qM.left;if(e===qM.left)return qM.right;if(e===qM.top)return qM.bottom;if(e===qM.bottom)return qM.top}return e}}let zM=(()=>{let e=class{constructor(e,t){this.element=e,this.renderer=t}get cssClasses(){let e="ngx-charts-tooltip-content";return e+=" position-"+this.placement,e+=" type-"+this.type,e+=" "+this.cssClass,e}ngAfterViewInit(){setTimeout(this.position.bind(this))}position(){const e=this.element.nativeElement,t=this.host.nativeElement.getBoundingClientRect();if(!t.height&&!t.width)return;const n=e.getBoundingClientRect();this.checkFlip(t,n),this.positionContent(e,t,n),this.showCaret&&this.positionCaret(t,n),setTimeout(()=>this.renderer.addClass(e,"animate"),1)}positionContent(e,t,n){const{top:i,left:r}=HM.positionContent(this.placement,n,t,this.spacing,this.alignment);this.renderer.setStyle(e,"top",i+"px"),this.renderer.setStyle(e,"left",r+"px")}positionCaret(e,t){const n=this.caretElm.nativeElement,i=n.getBoundingClientRect(),{top:r,left:s}=HM.positionCaret(this.placement,t,e,i,this.alignment);this.renderer.setStyle(n,"top",r+"px"),this.renderer.setStyle(n,"left",s+"px")}checkFlip(e,t){this.placement=HM.determinePlacement(this.placement,t,e,this.spacing)}onWindowResize(){this.position()}};return e.\u0275fac=function(t){return new(t||e)(Ao(Ga),Ao(Wa))},e.\u0275cmp=dt({type:e,selectors:[["ngx-tooltip-content"]],viewQuery:function(e,t){var n;1&e&&Jc(YP,!0),2&e&&Qc(n=rl())&&(t.caretElm=n.first)},hostVars:2,hostBindings:function(e,t){1&e&&qo("resize",(function(){return t.onWindowResize()}),!1,Xn),2&e&&la(rt,aa,t.cssClasses,!0)},inputs:{placement:"placement",host:"host",showCaret:"showCaret",type:"type",alignment:"alignment",spacing:"spacing",cssClass:"cssClass",title:"title",template:"template",context:"context"},decls:6,vars:6,consts:[[3,"hidden"],["caretElm",""],[1,"tooltip-content"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(e,t){1&e&&(No(0,"div"),Fo(1,"span",0,1),No(3,"div",2),Ro(4,ZP,2,4,"span",3),Ro(5,JP,1,1,"span",4),Lo(),Lo()),2&e&&(kr(1),ka("tooltip-caret position-",t.placement,""),Po("hidden",!t.showCaret),kr(3),Po("ngIf",!t.title),kr(1),Po("ngIf",t.title))},directives:[Au,Bu],styles:[".ngx-charts-tooltip-content{position:fixed;border-radius:3px;z-index:5000;display:block;font-weight:400;opacity:0;pointer-events:none!important}.ngx-charts-tooltip-content.type-popover{background:#fff;color:#060709;border:1px solid #72809b;box-shadow:0 1px 3px 0 rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 2px 1px -1px rgba(0,0,0,.12);font-size:13px;padding:4px}.ngx-charts-tooltip-content.type-popover .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #fff}.ngx-charts-tooltip-content.type-tooltip{color:#fff;background:rgba(0,0,0,.75);font-size:12px;padding:0 10px;text-align:center;pointer-events:auto}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content .tooltip-label{display:block;line-height:1em;padding:8px 5px 5px;font-size:1em}.ngx-charts-tooltip-content .tooltip-val{display:block;font-size:1.3em;line-height:1em;padding:0 5px 8px}.ngx-charts-tooltip-content .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.position-right{transform:translate3d(10px,0,0)}.ngx-charts-tooltip-content.position-left{transform:translate3d(-10px,0,0)}.ngx-charts-tooltip-content.position-top{transform:translate3d(0,-10px,0)}.ngx-charts-tooltip-content.position-bottom{transform:translate3d(0,10px,0)}.ngx-charts-tooltip-content.animate{opacity:1;transition:opacity .3s,transform .3s;transform:translate3d(0,0,0);pointer-events:auto}.area-tooltip-container{padding:5px 0;pointer-events:none}.tooltip-item{text-align:left;line-height:1.2em;padding:5px 0}.tooltip-item .tooltip-item-color{display:inline-block;height:12px;width:12px;margin-right:5px;color:#5b646b;border-radius:3px}"],encapsulation:2}),function(e,t,n,i){var r,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,n,o):r(t,n))||o);s>3&&o&&Object.defineProperty(t,n,o)}([function(e,t,n){return{configurable:!0,enumerable:n.enumerable,get:function(){return Object.defineProperty(this,t,{configurable:!0,enumerable:n.enumerable,value:KM(n.value,100,void 0)}),this[t]}}}],e.prototype,"onWindowResize",null),e})(),WM=(()=>{let e=class extends class{constructor(e){this.injectionService=e,this.defaults={},this.components=new Map}getByType(e=this.type){return this.components.get(e)}create(e){return this.createByType(this.type,e)}createByType(e,t){t=this.assignDefaults(t);const n=this.injectComponent(e,t);return this.register(e,n),n}destroy(e){const t=this.components.get(e.componentType);if(t&&t.length){const n=t.indexOf(e);n>-1&&(t[n].destroy(),t.splice(n,1))}}destroyAll(){this.destroyByType(this.type)}destroyByType(e){const t=this.components.get(e);if(t&&t.length){let e=t.length-1;for(;e>=0;)this.destroy(t[e--])}}injectComponent(e,t){return this.injectionService.appendComponent(e,t)}assignDefaults(e){const t=Object.assign({},this.defaults.inputs),n=Object.assign({},this.defaults.outputs);return e.inputs||e.outputs||(e={inputs:e}),t&&(e.inputs=Object.assign(Object.assign({},t),e.inputs)),n&&(e.outputs=Object.assign(Object.assign({},n),e.outputs)),e}register(e,t){this.components.has(e)||this.components.set(e,[]),this.components.get(e).push(t)}}{constructor(e){super(e),this.type=zM}};return e.\u0275fac=function(t){return new(t||e)(ze(VM))},e.\u0275prov=le({token:e,factory:function(t){return e.\u0275fac(t)}}),e})(),YM=(()=>{let e=class{constructor(){this.showLegend=!1,this.animations=!0,this.legendLabelClick=new jc,this.legendLabelActivate=new jc,this.legendLabelDeactivate=new jc}ngOnChanges(e){this.update()}update(){let e=0;this.showLegend&&(this.legendType=this.getLegendType(),this.legendOptions&&"right"!==this.legendOptions.position||(e="scaleLegend"===this.legendType?1:2)),this.chartWidth=Math.floor(this.view[0]*(12-e)/12),this.legendWidth=this.legendOptions&&"right"!==this.legendOptions.position?this.chartWidth:Math.floor(this.view[0]*e/12)}getLegendType(){return"linear"===this.legendOptions.scaleType?"scaleLegend":"legend"}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=dt({type:e,selectors:[["ngx-charts-chart"]],inputs:{showLegend:"showLegend",animations:"animations",legendType:"legendType",view:"view",legendOptions:"legendOptions",data:"data",legendData:"legendData",colors:"colors",activeEntries:"activeEntries"},outputs:{legendLabelClick:"legendLabelClick",legendLabelActivate:"legendLabelActivate",legendLabelDeactivate:"legendLabelDeactivate"},features:[ja([WM]),At],ngContentSelectors:nM,decls:5,vars:8,consts:[[1,"ngx-charts-outer"],[1,"ngx-charts"],["class","chart-legend",3,"horizontal","valueRange","colors","height","width",4,"ngIf"],["class","chart-legend",3,"horizontal","data","title","colors","height","width","activeEntries","labelClick","labelActivate","labelDeactivate",4,"ngIf"],[1,"chart-legend",3,"horizontal","valueRange","colors","height","width"],[1,"chart-legend",3,"horizontal","data","title","colors","height","width","activeEntries","labelClick","labelActivate","labelDeactivate"]],template:function(e,t){1&e&&(Xo(),No(0,"div",0),Rn(),No(1,"svg",1),Qo(2),Lo(),Ro(3,eM,1,5,"ngx-charts-scale-legend",2),Ro(4,tM,1,7,"ngx-charts-legend",3),Lo()),2&e&&(sa("width",t.view[0],"px"),Po("@animationState","active")("@.disabled",!t.animations),kr(1),To("width",t.chartWidth)("height",t.view[1]),kr(2),Po("ngIf",t.showLegend&&"scaleLegend"===t.legendType),kr(1),Po("ngIf",t.showLegend&&"legend"===t.legendType))},directives:function(){return[Au,yN,gN]},encapsulation:2,data:{animation:[qd("animationState",[Wd(":enter",[Hd({opacity:0}),Gd("500ms 100ms",Hd({opacity:1}))])])]},changeDetection:0}),e})(),XM=(()=>{let e=class{constructor(e,t){this.element=e,this.zone=t,this.visible=new jc,this.isVisible=!1,this.runCheck()}destroy(){clearTimeout(this.timeout)}onVisibilityChange(){this.zone.run(()=>{this.isVisible=!0,this.visible.emit(!0)})}runCheck(){const e=()=>{if(!this.element)return;const{offsetHeight:t,offsetWidth:n}=this.element.nativeElement;t&&n?(clearTimeout(this.timeout),this.onVisibilityChange()):(clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>e(),100)}))};this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>e())})}};return e.\u0275fac=function(t){return new(t||e)(Ao(Ga),Ao(Rl))},e.\u0275dir=yt({type:e,selectors:[["visibility-observer"]],outputs:{visible:"visible"}}),e})(),QM=(()=>{let e=class{constructor(e,t,n){this.chartElement=e,this.zone=t,this.cd=n,this.scheme="cool",this.schemeType="ordinal",this.animations=!0,this.select=new jc}ngAfterViewInit(){this.bindWindowResizeEvent(),this.visibilityObserver=new XM(this.chartElement,this.zone),this.visibilityObserver.visible.subscribe(this.update.bind(this))}ngOnDestroy(){this.unbindEvents(),this.visibilityObserver&&(this.visibilityObserver.visible.unsubscribe(),this.visibilityObserver.destroy())}ngOnChanges(e){this.update()}update(){if(this.results=this.results?this.cloneData(this.results):[],this.view)this.width=this.view[0],this.height=this.view[1];else{const e=this.getContainerDims();e&&(this.width=e.width,this.height=e.height)}this.width||(this.width=600),this.height||(this.height=400),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this.cd&&this.cd.markForCheck()}getContainerDims(){let e,t;const n=this.chartElement.nativeElement;if(null!==n.parentNode){const i=n.parentNode.getBoundingClientRect();e=i.width,t=i.height}return e&&t?{width:e,height:t}:null}formatDates(){for(let e=0;e<this.results.length;e++){const t=this.results[e];if(t.label=t.name,t.label instanceof Date&&(t.label=t.label.toLocaleDateString()),t.series)for(let e=0;e<t.series.length;e++){const n=t.series[e];n.label=n.name,n.label instanceof Date&&(n.label=n.label.toLocaleDateString())}}}unbindEvents(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}bindWindowResizeEvent(){const e=Zf(window,"resize").pipe(Nh(200)).subscribe(e=>{this.update(),this.cd&&this.cd.markForCheck()});this.resizeSubscription=e}cloneData(e){const t=[];for(const n of e){const e={name:n.name};if(void 0!==n.value&&(e.value=n.value),void 0!==n.series){e.series=[];for(const t of n.series){const n=Object.assign({},t);e.series.push(n)}}void 0!==n.extra&&(e.extra=JSON.parse(JSON.stringify(n.extra))),t.push(e)}return t}};return e.\u0275fac=function(t){return new(t||e)(Ao(Ga),Ao(Rl),Ao(Zs))},e.\u0275cmp=dt({type:e,selectors:[["base-chart"]],inputs:{scheme:"scheme",schemeType:"schemeType",animations:"animations",results:"results",view:"view",customColors:"customColors"},outputs:{select:"select"},features:[At],decls:1,vars:0,template:function(e,t){1&e&&Fo(0,"div")},encapsulation:2}),e})(),ZM=(()=>{let e=class{constructor(e){this.textHeight=25,this.margin=5,this.element=e.nativeElement}ngOnChanges(e){this.update()}update(){switch(this.strokeWidth="0.01",this.textAnchor="middle",this.transform="",this.orient){case"top":case"bottom":this.y=this.offset,this.x=this.width/2;break;case"left":this.y=-(this.offset+this.textHeight+this.margin),this.x=-this.height/2,this.transform="rotate(270)";break;case"right":this.y=this.offset+this.margin,this.x=-this.height/2,this.transform="rotate(270)"}}};return e.\u0275fac=function(t){return new(t||e)(Ao(Ga))},e.\u0275cmp=dt({type:e,selectors:[["g","ngx-charts-axis-label",""]],inputs:{orient:"orient",label:"label",offset:"offset",width:"width",height:"height"},features:[At],attrs:iM,decls:2,vars:6,template:function(e,t){1&e&&(Rn(),No(0,"text"),ya(1),Lo()),2&e&&(To("stroke-width",t.strokeWidth)("x",t.x)("y",t.y)("text-anchor",t.textAnchor)("transform",t.transform),kr(1),ba(" ",t.label," "))},encapsulation:2,changeDetection:0}),e})();function JM(e,t=16){return"string"!=typeof e?"number"==typeof e?e+"":"":(e=e.trim()).length<=t?e:e.slice(0,t)+"..."}function eN(e,t){if(e.length>t){const n=[],i=Math.floor(e.length/t);for(let t=0;t<e.length;t++)t%i==0&&n.push(e[t]);e=n}return e}let tN=(()=>{let e=class{constructor(){this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.rotateTicks=!0,this.dimensionsChanged=new jc,this.verticalSpacing=20,this.rotateLabels=!1,this.innerTickSize=6,this.outerTickSize=6,this.tickPadding=3,this.textAnchor="middle",this.maxTicksLength=0,this.maxAllowedLength=16,this.height=0}ngOnChanges(e){this.update()}ngAfterViewInit(){setTimeout(()=>this.updateDims())}updateDims(){const e=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().height,10);e!==this.height&&(this.height=e,this.dimensionsChanged.emit({height:e}),setTimeout(()=>this.updateDims()))}update(){const e=this.scale;this.ticks=this.getTicks(),this.tickFormat=this.tickFormatting?this.tickFormatting:e.tickFormat?e.tickFormat.apply(e,this.tickArguments):function(e){return"Date"===e.constructor.name?e.toLocaleDateString():e.toLocaleString()};const t=this.rotateTicks?this.getRotationAngle(this.ticks):null;this.adjustedScale=this.scale.bandwidth?function(e){return this.scale(e)+.5*this.scale.bandwidth()}:this.scale,this.textTransform="",t&&0!==t?(this.textTransform=`rotate(${t})`,this.textAnchor="end",this.verticalSpacing=10):this.textAnchor="middle",setTimeout(()=>this.updateDims())}getRotationAngle(e){let t=0;this.maxTicksLength=0;for(let s=0;s<e.length;s++){const t=this.tickFormat(e[s]).toString();let n=t.length;this.trimTicks&&(n=this.tickTrim(t).length),n>this.maxTicksLength&&(this.maxTicksLength=n)}const n=8*Math.min(this.maxTicksLength,this.maxAllowedLength);let i=n;const r=Math.floor(this.width/e.length);for(;i>r&&t>-90;)t-=30,i=Math.cos(t*(Math.PI/180))*n;return t}getTicks(){let e;const t=this.getMaxTicks(20),n=this.getMaxTicks(100);return this.tickValues?e=this.tickValues:this.scale.ticks?e=this.scale.ticks.apply(this.scale,[n]):(e=this.scale.domain(),e=eN(e,t)),e}getMaxTicks(e){return Math.floor(this.width/e)}tickTransform(e){return"translate("+this.adjustedScale(e)+","+this.verticalSpacing+")"}gridLineTransform(){return`translate(0,${-this.verticalSpacing-5})`}tickTrim(e){return this.trimTicks?JM(e,this.maxTickLength):e}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=dt({type:e,selectors:[["g","ngx-charts-x-axis-ticks",""]],viewQuery:function(e,t){var n;1&e&&Jc(rM,!0),2&e&&Qc(n=rl())&&(t.ticksElement=n.first)},inputs:{tickArguments:"tickArguments",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",showGridLines:"showGridLines",rotateTicks:"rotateTicks",scale:"scale",orient:"orient",tickValues:"tickValues",tickFormatting:"tickFormatting",gridLineHeight:"gridLineHeight",width:"width"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[At],attrs:sM,decls:4,vars:2,consts:[["ticksel",""],["class","tick",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"tick"],["stroke-width","0.01"],[4,"ngIf"],["y2","0",1,"gridline-path","gridline-path-vertical"]],template:function(e,t){1&e&&(Rn(),No(0,"g",null,0),Ro(2,oM,5,7,"g",1),Lo(),Ro(3,cM,2,2,"g",2)),2&e&&(kr(2),Po("ngForOf",t.ticks),kr(1),Po("ngForOf",t.ticks))},directives:[Ru,Au],encapsulation:2,changeDetection:0}),e})(),nN=(()=>{let e=class{constructor(){this.rotateTicks=!0,this.showGridLines=!1,this.xOrient="bottom",this.xAxisOffset=0,this.dimensionsChanged=new jc,this.xAxisClassName="x axis",this.labelOffset=0,this.fill="none",this.stroke="stroke",this.tickStroke="#ccc",this.strokeWidth="none",this.padding=5}ngOnChanges(e){this.update()}update(){this.transform=`translate(0,${this.xAxisOffset+this.padding+this.dims.height})`,void 0!==this.xAxisTickCount&&(this.tickArguments=[this.xAxisTickCount])}emitTicksHeight({height:e}){const t=e+25+5;t!==this.labelOffset&&(this.labelOffset=t,setTimeout(()=>{this.dimensionsChanged.emit({height:e})},0))}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=dt({type:e,selectors:[["g","ngx-charts-x-axis",""]],viewQuery:function(e,t){var n;1&e&&Jc(tN,!0),2&e&&Qc(n=rl())&&(t.ticksComponent=n.first)},inputs:{rotateTicks:"rotateTicks",showGridLines:"showGridLines",xOrient:"xOrient",xAxisOffset:"xAxisOffset",xScale:"xScale",dims:"dims",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showLabel:"showLabel",labelText:"labelText",ticks:"ticks",xAxisTickInterval:"xAxisTickInterval",xAxisTickCount:"xAxisTickCount"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[At],attrs:lM,decls:3,vars:4,consts:[["ngx-charts-x-axis-ticks","",3,"trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","width","tickValues","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-x-axis-ticks","",3,"trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","width","tickValues","dimensionsChanged"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(e,t){1&e&&(Rn(),No(0,"g"),Ro(1,uM,1,12,"g",0),Ro(2,hM,1,5,"g",1),Lo()),2&e&&(To("class",t.xAxisClassName)("transform",t.transform),kr(1),Po("ngIf",t.xScale),kr(1),Po("ngIf",t.showLabel))},directives:[Au,tN,ZM],encapsulation:2,changeDetection:0}),e})();function iN(e,t,n,i,r,[s,o,a,c]){let l="";return l="M"+[e+r,t],l+="h"+((n=0===(n=Math.floor(n))?1:n)-2*r),l+=o?`a${[r,r]} 0 0 1 ${[r,r]}`:`h${r}v${r}`,l+="v"+((i=0===(i=Math.floor(i))?1:i)-2*r),l+=c?`a${[r,r]} 0 0 1 ${[-r,r]}`:`v${r}h${-r}`,l+="h"+(2*r-n),l+=a?`a${[r,r]} 0 0 1 ${[-r,-r]}`:`h${-r}v${-r}`,l+="v"+(2*r-i),l+=s?`a${[r,r]} 0 0 1 ${[r,-r]}`:`v${-r}h${r}`,l+="z",l}let rN=(()=>{let e=class{constructor(){this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.showRefLabels=!1,this.showRefLines=!1,this.dimensionsChanged=new jc,this.innerTickSize=6,this.tickPadding=3,this.verticalSpacing=20,this.textAnchor="middle",this.width=0,this.outerTickSize=6,this.rotateLabels=!1,this.referenceLineLength=0}ngOnChanges(e){this.update()}ngAfterViewInit(){setTimeout(()=>this.updateDims())}updateDims(){const e=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().width,10);e!==this.width&&(this.width=e,this.dimensionsChanged.emit({width:e}),setTimeout(()=>this.updateDims()))}update(){let e;const t="top"===this.orient||"right"===this.orient?-1:1;switch(this.tickSpacing=Math.max(this.innerTickSize,0)+this.tickPadding,e=this.scale,this.ticks=this.getTicks(),this.tickFormat=this.tickFormatting?this.tickFormatting:e.tickFormat?e.tickFormat.apply(e,this.tickArguments):function(e){return"Date"===e.constructor.name?e.toLocaleDateString():e.toLocaleString()},this.adjustedScale=e.bandwidth?function(t){return e(t)+.5*e.bandwidth()}:e,this.showRefLines&&this.referenceLines&&this.setReferencelines(),this.orient){case"top":case"bottom":this.transform=function(e){return"translate("+this.adjustedScale(e)+",0)"},this.textAnchor="middle",this.y2=this.innerTickSize*t,this.y1=this.tickSpacing*t,this.dy=t<0?"0em":".71em";break;case"left":this.transform=function(e){return"translate(0,"+this.adjustedScale(e)+")"},this.textAnchor="end",this.x2=this.innerTickSize*-t,this.x1=this.tickSpacing*-t,this.dy=".32em";break;case"right":this.transform=function(e){return"translate(0,"+this.adjustedScale(e)+")"},this.textAnchor="start",this.x2=this.innerTickSize*-t,this.x1=this.tickSpacing*-t,this.dy=".32em"}setTimeout(()=>this.updateDims())}setReferencelines(){this.refMin=this.adjustedScale(Math.min.apply(null,this.referenceLines.map(e=>e.value))),this.refMax=this.adjustedScale(Math.max.apply(null,this.referenceLines.map(e=>e.value))),this.referenceLineLength=this.referenceLines.length,this.referenceAreaPath=iN(0,this.refMax,this.gridLineWidth,this.refMin-this.refMax,0,[!1,!1,!1,!1])}getTicks(){let e;const t=this.getMaxTicks(20),n=this.getMaxTicks(50);return this.tickValues?e=this.tickValues:this.scale.ticks?e=this.scale.ticks.apply(this.scale,[n]):(e=this.scale.domain(),e=eN(e,t)),e}getMaxTicks(e){return Math.floor(this.height/e)}tickTransform(e){return`translate(${this.adjustedScale(e)},${this.verticalSpacing})`}gridLineTransform(){return"translate(5,0)"}tickTrim(e){return this.trimTicks?JM(e,this.maxTickLength):e}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=dt({type:e,selectors:[["g","ngx-charts-y-axis-ticks",""]],viewQuery:function(e,t){var n;1&e&&Jc(rM,!0),2&e&&Qc(n=rl())&&(t.ticksElement=n.first)},inputs:{tickArguments:"tickArguments",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",showGridLines:"showGridLines",showRefLabels:"showRefLabels",showRefLines:"showRefLines",scale:"scale",orient:"orient",tickValues:"tickValues",tickFormatting:"tickFormatting",gridLineWidth:"gridLineWidth",height:"height",referenceLines:"referenceLines"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[At],attrs:dM,decls:6,vars:4,consts:[["ticksel",""],["class","tick",4,"ngFor","ngForOf"],["class","reference-area",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"tick"],["stroke-width","0.01"],[1,"reference-area"],[4,"ngIf"],["class","gridline-path gridline-path-horizontal","x1","0",4,"ngIf"],["x1","0",1,"gridline-path","gridline-path-horizontal"],["x1","0",1,"refline-path","gridline-path-horizontal"],[1,"refline-label"]],template:function(e,t){1&e&&(Rn(),No(0,"g",null,0),Ro(2,pM,5,9,"g",1),Lo(),Ro(3,mM,1,2,"path",2),Ro(4,yM,2,2,"g",3),Ro(5,wM,2,1,"g",3)),2&e&&(kr(2),Po("ngForOf",t.ticks),kr(1),Po("ngIf",t.referenceLineLength>1&&t.refMax&&t.refMin&&t.showRefLines),kr(1),Po("ngForOf",t.ticks),kr(1),Po("ngForOf",t.referenceLines))},directives:[Ru,Au],encapsulation:2,changeDetection:0}),e})(),sN=(()=>{let e=class{constructor(){this.showGridLines=!1,this.yOrient="left",this.yAxisOffset=0,this.dimensionsChanged=new jc,this.yAxisClassName="y axis",this.labelOffset=15,this.fill="none",this.stroke="#CCC",this.tickStroke="#CCC",this.strokeWidth=1,this.padding=5}ngOnChanges(e){this.update()}update(){this.offset=-(this.yAxisOffset+this.padding),"right"===this.yOrient?(this.labelOffset=65,this.transform=`translate(${this.offset+this.dims.width} , 0)`):(this.offset=this.offset,this.transform=`translate(${this.offset} , 0)`),void 0!==this.yAxisTickCount&&(this.tickArguments=[this.yAxisTickCount])}emitTicksWidth({width:e}){e!==this.labelOffset&&"right"===this.yOrient?(this.labelOffset=e+this.labelOffset,setTimeout(()=>{this.dimensionsChanged.emit({width:e})},0)):e!==this.labelOffset&&(this.labelOffset=e,setTimeout(()=>{this.dimensionsChanged.emit({width:e})},0))}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=dt({type:e,selectors:[["g","ngx-charts-y-axis",""]],viewQuery:function(e,t){var n;1&e&&Jc(rN,!0),2&e&&Qc(n=rl())&&(t.ticksComponent=n.first)},inputs:{showGridLines:"showGridLines",yOrient:"yOrient",yAxisOffset:"yAxisOffset",yScale:"yScale",dims:"dims",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",ticks:"ticks",showLabel:"showLabel",labelText:"labelText",yAxisTickInterval:"yAxisTickInterval",yAxisTickCount:"yAxisTickCount",referenceLines:"referenceLines",showRefLines:"showRefLines",showRefLabels:"showRefLabels"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[At],attrs:SM,decls:3,vars:4,consts:[["ngx-charts-y-axis-ticks","",3,"trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-y-axis-ticks","",3,"trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","dimensionsChanged"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(e,t){1&e&&(Rn(),No(0,"g"),Ro(1,EM,1,14,"g",0),Ro(2,kM,1,5,"g",1),Lo()),2&e&&(To("class",t.yAxisClassName)("transform",t.transform),kr(1),Po("ngIf",t.yScale),kr(1),Po("ngIf",t.showLabel))},directives:[Au,rN,ZM],encapsulation:2,changeDetection:0}),e})(),oN=(()=>{let e=class{};return e.\u0275mod=gt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[$u]]}),e})();var aN=function(e){return e[e.popover="popover"]="popover",e[e.tooltip="tooltip"]="tooltip",e}({}),cN=function(e){return e[e.left="left"]="left",e[e.center="center"]="center",e[e.right="right"]="right",e}({}),lN=function(e){return e[e.all="all"]="all",e[e.focus="focus"]="focus",e[e.mouseover="mouseover"]="mouseover",e}({});let uN=(()=>{let e=class{constructor(e,t,n){this.tooltipService=e,this.viewContainerRef=t,this.renderer=n,this.tooltipCssClass="",this.tooltipTitle="",this.tooltipAppendToBody=!0,this.tooltipSpacing=10,this.tooltipDisabled=!1,this.tooltipShowCaret=!0,this.tooltipPlacement=qM.top,this.tooltipAlignment=cN.center,this.tooltipType=aN.popover,this.tooltipCloseOnClickOutside=!0,this.tooltipCloseOnMouseLeave=!0,this.tooltipHideTimeout=300,this.tooltipShowTimeout=100,this.tooltipShowEvent=lN.all,this.tooltipImmediateExit=!1,this.show=new jc,this.hide=new jc}get listensForFocus(){return this.tooltipShowEvent===lN.all||this.tooltipShowEvent===lN.focus}get listensForHover(){return this.tooltipShowEvent===lN.all||this.tooltipShowEvent===lN.mouseover}ngOnDestroy(){this.hideTooltip(!0)}onFocus(){this.listensForFocus&&this.showTooltip()}onBlur(){this.listensForFocus&&this.hideTooltip(!0)}onMouseEnter(){this.listensForHover&&this.showTooltip()}onMouseLeave(e){if(this.listensForHover&&this.tooltipCloseOnMouseLeave){if(clearTimeout(this.timeout),this.component&&this.component.instance.element.nativeElement.contains(e))return;this.hideTooltip(this.tooltipImmediateExit)}}onMouseClick(){this.listensForHover&&this.hideTooltip(!0)}showTooltip(e){if(this.component||this.tooltipDisabled)return;const t=e?0:this.tooltipShowTimeout;clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.tooltipService.destroyAll();const e=this.createBoundOptions();this.component=this.tooltipService.create(e),setTimeout(()=>{this.component&&this.addHideListeners(this.component.instance.element.nativeElement)},10),this.show.emit(!0)},t)}addHideListeners(e){this.mouseEnterContentEvent=this.renderer.listen(e,"mouseenter",()=>{clearTimeout(this.timeout)}),this.tooltipCloseOnMouseLeave&&(this.mouseLeaveContentEvent=this.renderer.listen(e,"mouseleave",()=>{this.hideTooltip(this.tooltipImmediateExit)})),this.tooltipCloseOnClickOutside&&(this.documentClickEvent=this.renderer.listen(document,"click",t=>{e.contains(t.target)||this.hideTooltip()}))}hideTooltip(e=!1){if(!this.component)return;const t=()=>{this.mouseLeaveContentEvent&&this.mouseLeaveContentEvent(),this.mouseEnterContentEvent&&this.mouseEnterContentEvent(),this.documentClickEvent&&this.documentClickEvent(),this.hide.emit(!0),this.tooltipService.destroy(this.component),this.component=void 0};clearTimeout(this.timeout),e?t():this.timeout=setTimeout(t,this.tooltipHideTimeout)}createBoundOptions(){return{title:this.tooltipTitle,template:this.tooltipTemplate,host:this.viewContainerRef.element,placement:this.tooltipPlacement,alignment:this.tooltipAlignment,type:this.tooltipType,showCaret:this.tooltipShowCaret,cssClass:this.tooltipCssClass,spacing:this.tooltipSpacing,context:this.tooltipContext}}};return e.\u0275fac=function(t){return new(t||e)(Ao(WM),Ao(gc),Ao(Wa))},e.\u0275dir=yt({type:e,selectors:[["","ngx-tooltip",""]],hostBindings:function(e,t){1&e&&qo("focusin",(function(){return t.onFocus()}))("blur",(function(){return t.onBlur()}))("mouseenter",(function(){return t.onMouseEnter()}))("mouseleave",(function(e){return t.onMouseLeave(e.target)}))("click",(function(){return t.onMouseClick()}))},inputs:{tooltipCssClass:"tooltipCssClass",tooltipTitle:"tooltipTitle",tooltipAppendToBody:"tooltipAppendToBody",tooltipSpacing:"tooltipSpacing",tooltipDisabled:"tooltipDisabled",tooltipShowCaret:"tooltipShowCaret",tooltipPlacement:"tooltipPlacement",tooltipAlignment:"tooltipAlignment",tooltipType:"tooltipType",tooltipCloseOnClickOutside:"tooltipCloseOnClickOutside",tooltipCloseOnMouseLeave:"tooltipCloseOnMouseLeave",tooltipHideTimeout:"tooltipHideTimeout",tooltipShowTimeout:"tooltipShowTimeout",tooltipShowEvent:"tooltipShowEvent",tooltipImmediateExit:"tooltipImmediateExit",tooltipTemplate:"tooltipTemplate",tooltipContext:"tooltipContext"},outputs:{show:"show",hide:"hide"}}),e})(),hN=(()=>{let e=class{};return e.\u0275mod=gt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:[VM,WM],imports:[[$u]]}),e})();function dN(e){return e instanceof Date?e.toLocaleDateString():e.toLocaleString()}const pN={};let mN,fN=(()=>{let e=class{constructor(){this.orientation="vertical"}ngOnChanges(e){this.x1="0%",this.x2="0%",this.y1="0%",this.y2="0%","horizontal"===this.orientation?this.x2="100%":"vertical"===this.orientation&&(this.y1="100%")}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=dt({type:e,selectors:[["g","ngx-charts-svg-linear-gradient",""]],inputs:{orientation:"orientation",name:"name",stops:"stops"},features:[At],attrs:CM,decls:2,vars:6,consts:[[3,"id"],[3,"stop-color","stop-opacity",4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(Rn(),No(0,"linearGradient",0),Ro(1,xM,1,5,"stop",1),Lo()),2&e&&(Po("id",t.name),To("x1",t.x1)("y1",t.y1)("x2",t.x2)("y2",t.y2),kr(1),Po("ngForOf",t.stops))},directives:[Ru],encapsulation:2,changeDetection:0}),e})();"undefined"!=typeof window?mN=window:"undefined"!=typeof global&&(mN=global);let gN=(()=>{let e=class{constructor(e){this.cd=e,this.horizontal=!1,this.labelClick=new jc,this.labelActivate=new jc,this.labelDeactivate=new jc,this.legendEntries=[]}ngOnChanges(e){this.update()}update(){this.cd.markForCheck(),this.legendEntries=this.getLegendEntries()}getLegendEntries(){const e=[];for(const t of this.data){const n=dN(t);-1===e.findIndex(e=>e.label===n)&&e.push({label:t,formattedLabel:n,color:this.colors.getColor(t)})}return e}isActive(e){return!!this.activeEntries&&void 0!==this.activeEntries.find(t=>e.label===t.name)}activate(e){this.labelActivate.emit(e)}deactivate(e){this.labelDeactivate.emit(e)}trackBy(e,t){return t.label}};return e.\u0275fac=function(t){return new(t||e)(Ao(Zs))},e.\u0275cmp=dt({type:e,selectors:[["ngx-charts-legend"]],inputs:{horizontal:"horizontal",data:"data",title:"title",colors:"colors",height:"height",width:"width",activeEntries:"activeEntries"},outputs:{labelClick:"labelClick",labelActivate:"labelActivate",labelDeactivate:"labelDeactivate"},features:[At],decls:5,vars:9,consts:[["class","legend-title",4,"ngIf"],[1,"legend-wrap"],[1,"legend-labels"],["class","legend-label",4,"ngFor","ngForOf","ngForTrackBy"],[1,"legend-title"],[1,"legend-title-text"],[1,"legend-label"],[3,"label","formattedLabel","color","isActive","select","activate","deactivate"]],template:function(e,t){1&e&&(No(0,"div"),Ro(1,TM,3,1,"header",0),No(2,"div",1),No(3,"ul",2),Ro(4,IM,2,4,"li",3),Lo(),Lo(),Lo()),2&e&&(sa("width",t.width,"px"),kr(1),Po("ngIf",(null==t.title?null:t.title.length)>0),kr(2),sa("max-height",t.height-45,"px"),oa("horizontal-legend",t.horizontal),kr(1),Po("ngForOf",t.legendEntries)("ngForTrackBy",t.trackBy))},directives:function(){return[Au,Ru,_N]},styles:[".chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .legend-title{white-space:nowrap;overflow:hidden;margin-left:10px;margin-bottom:5px;font-size:14px;font-weight:700}.chart-legend li,.chart-legend ul{padding:0;margin:0;list-style:none}.chart-legend .horizontal-legend li{display:inline-block}.chart-legend .legend-wrap{width:calc(100% - 10px)}.chart-legend .legend-labels{line-height:85%;list-style:none;text-align:left;float:left;width:100%;border-radius:3px;overflow-y:auto;overflow-x:hidden;white-space:nowrap;background:rgba(0,0,0,.05)}.chart-legend .legend-label{cursor:pointer;font-size:90%;margin:8px;color:#afb7c8}.chart-legend .legend-label:hover{color:#000;transition:.2s}.chart-legend .legend-label .active .legend-label-text{color:#000}.chart-legend .legend-label-color{display:inline-block;height:15px;width:15px;margin-right:5px;color:#5b646b;border-radius:3px}.chart-legend .legend-label-text{display:inline-block;vertical-align:top;line-height:15px;font-size:12px;width:calc(100% - 20px);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.chart-legend .legend-title-text{vertical-align:bottom;display:inline-block;line-height:16px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}"],encapsulation:2,changeDetection:0}),e})(),_N=(()=>{let e=class{constructor(){this.isActive=!1,this.select=new jc,this.activate=new jc,this.deactivate=new jc,this.toggle=new jc}get trimmedLabel(){return this.formattedLabel||"(empty)"}onMouseEnter(){this.activate.emit({name:this.label})}onMouseLeave(){this.deactivate.emit({name:this.label})}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=dt({type:e,selectors:[["ngx-charts-legend-entry"]],hostBindings:function(e,t){1&e&&qo("mouseenter",(function(){return t.onMouseEnter()}))("mouseleave",(function(){return t.onMouseLeave()}))},inputs:{isActive:"isActive",color:"color",label:"label",formattedLabel:"formattedLabel"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",toggle:"toggle"},decls:4,vars:6,consts:[["tabindex","-1",3,"title","click"],[1,"legend-label-color",3,"click"],[1,"legend-label-text"]],template:function(e,t){1&e&&(No(0,"span",0),qo("click",(function(){return t.select.emit(t.formattedLabel)})),No(1,"span",1),qo("click",(function(){return t.toggle.emit(t.formattedLabel)})),Lo(),No(2,"span",2),ya(3),Lo(),Lo()),2&e&&(oa("active",t.isActive),Po("title",t.formattedLabel),kr(1),sa("background-color",t.color),kr(2),ba(" ",t.trimmedLabel," "))},encapsulation:2,changeDetection:0}),e})(),yN=(()=>{let e=class{constructor(e){this.sanitizer=e,this.horizontal=!1}ngOnChanges(e){const t=this.gradientString(this.colors.range(),this.colors.domain());this.gradient=this.sanitizer.bypassSecurityTrustStyle(`linear-gradient(to ${this.horizontal?"right":"bottom"}, ${t})`)}gradientString(e,t){t.push(1);const n=[];return e.reverse().forEach((e,i)=>{n.push(`${e} ${Math.round(100*t[i])}%`)}),n.join(", ")}};return e.\u0275fac=function(t){return new(t||e)(Ao(bh))},e.\u0275cmp=dt({type:e,selectors:[["ngx-charts-scale-legend"]],inputs:{horizontal:"horizontal",valueRange:"valueRange",colors:"colors",height:"height",width:"width"},features:[At],decls:8,vars:10,consts:[[1,"scale-legend"],[1,"scale-legend-label"],[1,"scale-legend-wrap"]],template:function(e,t){1&e&&(No(0,"div",0),No(1,"div",1),No(2,"span"),ya(3),Lo(),Lo(),Fo(4,"div",2),No(5,"div",1),No(6,"span"),ya(7),Lo(),Lo(),Lo()),2&e&&(sa("height",t.horizontal?void 0:t.height,"px")("width",t.width,"px"),oa("horizontal-legend",t.horizontal),kr(3),va(t.valueRange[1].toLocaleString()),kr(1),sa("background",t.gradient),kr(3),va(t.valueRange[0].toLocaleString()))},styles:[".chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .scale-legend{text-align:center;display:flex;flex-direction:column}.chart-legend .scale-legend-wrap{display:inline-block;flex:1;width:30px;border-radius:5px;margin:0 auto}.chart-legend .scale-legend-label{font-size:12px}.chart-legend .horizontal-legend.scale-legend{flex-direction:row}.chart-legend .horizontal-legend .scale-legend-wrap{width:auto;height:30px;margin:0 16px}"],encapsulation:2,changeDetection:0}),e})(),vN=(()=>{let e=class{};return e.\u0275mod=gt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[$u,oN,hN],$u,oN,hN]}),e})(),bN=[{name:"vivid",selectable:!0,group:"Ordinal",domain:["#647c8a","#3f51b5","#2196f3","#00b862","#afdf0a","#a7b61a","#f3e562","#ff9800","#ff5722","#ff4514"]},{name:"natural",selectable:!0,group:"Ordinal",domain:["#bf9d76","#e99450","#d89f59","#f2dfa7","#a5d7c6","#7794b1","#afafaf","#707160","#ba9383","#d9d5c3"]},{name:"cool",selectable:!0,group:"Ordinal",domain:["#a8385d","#7aa3e5","#a27ea8","#aae3f5","#adcded","#a95963","#8796c0","#7ed3ed","#50abcc","#ad6886"]},{name:"fire",selectable:!0,group:"Ordinal",domain:["#ff3d00","#bf360c","#ff8f00","#ff6f00","#ff5722","#e65100","#ffca28","#ffab00"]},{name:"solar",selectable:!0,group:"Continuous",domain:["#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00"]},{name:"air",selectable:!0,group:"Continuous",domain:["#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b"]},{name:"aqua",selectable:!0,group:"Continuous",domain:["#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064"]},{name:"flame",selectable:!1,group:"Ordinal",domain:["#A10A28","#D3342D","#EF6D49","#FAAD67","#FDDE90","#DBED91","#A9D770","#6CBA67","#2C9653","#146738"]},{name:"ocean",selectable:!1,group:"Ordinal",domain:["#1D68FB","#33C0FC","#4AFFFE","#AFFFFF","#FFFC63","#FDBD2D","#FC8A25","#FA4F1E","#FA141B","#BA38D1"]},{name:"forest",selectable:!1,group:"Ordinal",domain:["#55C22D","#C1F33D","#3CC099","#AFFFFF","#8CFC9D","#76CFFA","#BA60FB","#EE6490","#C42A1C","#FC9F32"]},{name:"horizon",selectable:!1,group:"Ordinal",domain:["#2597FB","#65EBFD","#99FDD0","#FCEE4B","#FEFCFA","#FDD6E3","#FCB1A8","#EF6F7B","#CB96E8","#EFDEE0"]},{name:"neons",selectable:!1,group:"Ordinal",domain:["#FF3333","#FF33FF","#CC33FF","#0000FF","#33CCFF","#33FFFF","#33FF66","#CCFF33","#FFCC00","#FF6600"]},{name:"picnic",selectable:!1,group:"Ordinal",domain:["#FAC51D","#66BD6D","#FAA026","#29BB9C","#E96B56","#55ACD2","#B7332F","#2C83C9","#9166B8","#92E7E8"]},{name:"night",selectable:!1,group:"Ordinal",domain:["#2B1B5A","#501356","#183356","#28203F","#391B3C","#1E2B3C","#120634","#2D0432","#051932","#453080","#75267D","#2C507D","#4B3880","#752F7D","#35547D"]},{name:"nightLights",selectable:!1,group:"Ordinal",domain:["#4e31a5","#9c25a7","#3065ab","#57468b","#904497","#46648b","#32118d","#a00fb3","#1052a2","#6e51bd","#b63cc3","#6c97cb","#8671c1","#b455be","#7496c3"]}];class wN{constructor(e,t,n,i){"string"==typeof e&&(e=bN.find(t=>t.name===e)),this.colorDomain=e.domain,this.scaleType=t,this.domain=n,this.customColors=i,this.scale=this.generateColorScheme(e,t,this.domain)}generateColorScheme(e,t,n){let i;if("string"==typeof e&&(e=bN.find(t=>t.name===e)),"quantile"===t)i=function e(){var t,n=[],i=[],r=[];function s(){var e=0,t=Math.max(1,i.length);for(r=new Array(t-1);++e<t;)r[e-1]=OP(n,e/t);return o}function o(e){return isNaN(e=+e)?t:i[XD(r,e)]}return o.invertExtent=function(e){var t=i.indexOf(e);return t<0?[NaN,NaN]:[t>0?r[t-1]:n[0],t<r.length?r[t]:n[n.length-1]]},o.domain=function(e){if(!arguments.length)return n.slice();n=[];for(let t of e)null==t||isNaN(t=+t)||n.push(t);return n.sort(LA),s()},o.range=function(e){return arguments.length?(i=Array.from(e),s()):i.slice()},o.unknown=function(e){return arguments.length?(t=e,o):t},o.quantiles=function(){return r.slice()},o.copy=function(){return e().domain(n).range(i).unknown(t)},oP.apply(o,arguments)}().range(e.domain).domain(n);else if("ordinal"===t)i=CP().range(e.domain).domain(n);else if("linear"===t){const t=[...e.domain];1===t.length&&(t.push(t[0]),this.colorDomain=t);const n=EP(0,1,1/t.length);i=SP().domain(n).range(t)}return i}getColor(e){if(null==e)throw new Error("Value can not be null");if("linear"===this.scaleType){const t=SP().domain(this.domain).range([0,1]);return this.scale(t(e))}{if("function"==typeof this.customColors)return this.customColors(e);const t=e.toString();let n;return this.customColors&&this.customColors.length>0&&(n=this.customColors.find(e=>e.name.toLowerCase()===t.toLowerCase())),n?n.value:this.scale(e)}}getLinearGradientStops(e,t){void 0===t&&(t=this.domain[0]);const n=SP().domain(this.domain).range([0,1]),i=xP().domain(this.colorDomain).range([0,1]),r=this.getColor(e),s=n(t),o=this.getColor(t),a=n(e);let c=1,l=s;const u=[];for(u.push({color:o,offset:s,originalOffset:s,opacity:1});l<a&&c<this.colorDomain.length;){const e=this.colorDomain[c],t=i(e);if(t<=s)c++;else{if(t.toFixed(4)>=(a-i.bandwidth()).toFixed(4))break;u.push({color:e,offset:t,opacity:1}),l=t,c++}}if(u[u.length-1].offset<100&&u.push({color:r,offset:a,opacity:1}),a===s)u[0].offset=0,u[1].offset=100;else if(100!==u[u.length-1].offset)for(const h of u)h.offset=(h.offset-s)/(a-s)*100;return u}}let SN=(()=>{let e=class{};return e.\u0275mod=gt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[vN]]}),e})(),EN=(()=>{let e=class{constructor(e){this.roundEdges=!0,this.gradient=!1,this.offset=0,this.isActive=!1,this.animations=!0,this.noBarWhenZero=!0,this.select=new jc,this.activate=new jc,this.deactivate=new jc,this.hasGradient=!1,this.hideBar=!1,this.element=e.nativeElement}ngOnChanges(e){e.roundEdges&&this.loadAnimation(),this.update()}update(){this.gradientId="grad"+function e(){let t=("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4);return t="a"+t,pN[t]?e():(pN[t]=!0,t)}().toString(),this.gradientFill=`url(#${this.gradientId})`,this.gradient||this.stops?(this.gradientStops=this.getGradient(),this.hasGradient=!0):this.hasGradient=!1,this.updatePathEl(),this.checkToHideBar()}loadAnimation(){this.path=this.getStartingPath(),setTimeout(this.update.bind(this),100)}updatePathEl(){const e=(n=this.element,"string"==typeof n?new kR([[document.querySelector(n)]],[document.documentElement]):new kR([[n]],ER)).select(".bar"),t=this.getPath();var n;this.animations?e.transition().duration(500).attr("d",t):e.attr("d",t)}getGradient(){return this.stops?this.stops:[{offset:0,color:this.fill,opacity:this.getStartOpacity()},{offset:100,color:this.fill,opacity:1}]}getStartingPath(){if(!this.animations)return this.getPath();let e,t=this.getRadius();return this.roundEdges?"vertical"===this.orientation?(t=Math.min(this.height,t),e=iN(this.x,this.y+this.height,this.width,1,0,this.edges)):"horizontal"===this.orientation&&(t=Math.min(this.width,t),e=iN(this.x,this.y,1,this.height,0,this.edges)):"vertical"===this.orientation?e=iN(this.x,this.y+this.height,this.width,1,0,this.edges):"horizontal"===this.orientation&&(e=iN(this.x,this.y,1,this.height,0,this.edges)),e}getPath(){let e,t=this.getRadius();return this.roundEdges?"vertical"===this.orientation?(t=Math.min(this.height,t),e=iN(this.x,this.y,this.width,this.height,t,this.edges)):"horizontal"===this.orientation&&(t=Math.min(this.width,t),e=iN(this.x,this.y,this.width,this.height,t,this.edges)):e=iN(this.x,this.y,this.width,this.height,t,this.edges),e}getRadius(){let e=0;return this.roundEdges&&this.height>5&&this.width>5&&(e=Math.floor(Math.min(5,this.height/2,this.width/2))),e}getStartOpacity(){return this.roundEdges?.2:.5}get edges(){let e=[!1,!1,!1,!1];return this.roundEdges&&("vertical"===this.orientation?e=this.data.value>0?[!0,!0,!1,!1]:[!1,!1,!0,!0]:"horizontal"===this.orientation&&(e=this.data.value>0?[!1,!0,!1,!0]:[!0,!1,!0,!1])),e}onMouseEnter(){this.activate.emit(this.data)}onMouseLeave(){this.deactivate.emit(this.data)}checkToHideBar(){this.hideBar=this.noBarWhenZero&&("vertical"===this.orientation&&0===this.height||"horizontal"===this.orientation&&0===this.width)}};return e.\u0275fac=function(t){return new(t||e)(Ao(Ga))},e.\u0275cmp=dt({type:e,selectors:[["g","ngx-charts-bar",""]],hostBindings:function(e,t){1&e&&qo("mouseenter",(function(){return t.onMouseEnter()}))("mouseleave",(function(){return t.onMouseLeave()}))},inputs:{roundEdges:"roundEdges",gradient:"gradient",offset:"offset",isActive:"isActive",animations:"animations",noBarWhenZero:"noBarWhenZero",fill:"fill",data:"data",width:"width",height:"height",x:"x",y:"y",orientation:"orientation",stops:"stops",ariaLabel:"ariaLabel"},outputs:{select:"select",activate:"activate",deactivate:"deactivate"},features:[At],attrs:AM,decls:2,vars:8,consts:[[4,"ngIf"],["stroke","none","role","img","tabIndex","-1",1,"bar",3,"click"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"]],template:function(e,t){1&e&&(Ro(0,DM,2,3,"defs",0),Rn(),No(1,"path",1),qo("click",(function(){return t.select.emit(t.data)})),Lo()),2&e&&(Po("ngIf",t.hasGradient),kr(1),oa("active",t.isActive)("hidden",t.hideBar),To("d",t.path)("aria-label",t.ariaLabel)("fill",t.hasGradient?t.gradientFill:t.fill))},directives:[Au,fN],encapsulation:2,changeDetection:0}),e})(),kN=(()=>{let e=class extends QM{constructor(){super(...arguments),this.legend=!1,this.legendTitle="Legend",this.legendPosition="right",this.tooltipDisabled=!1,this.showGridLines=!0,this.activeEntries=[],this.trimXAxisTicks=!0,this.trimYAxisTicks=!0,this.rotateXAxisTicks=!0,this.maxXAxisTickLength=16,this.maxYAxisTickLength=16,this.barPadding=8,this.roundDomains=!1,this.roundEdges=!0,this.showDataLabel=!1,this.noBarWhenZero=!0,this.activate=new jc,this.deactivate=new jc,this.margin=[10,20,10,20],this.xAxisHeight=0,this.yAxisWidth=0,this.dataLabelMaxWidth={negative:0,positive:0}}update(){super.update(),this.showDataLabel||(this.dataLabelMaxWidth={negative:0,positive:0}),this.margin=[10,20+this.dataLabelMaxWidth.positive,10,20+this.dataLabelMaxWidth.negative],this.dims=function({width:e,height:t,margins:n,showXAxis:i=!1,showYAxis:r=!1,xAxisHeight:s=0,yAxisWidth:o=0,showXLabel:a=!1,showYLabel:c=!1,showLegend:l=!1,legendType:u="ordinal",legendPosition:h="right",columns:d=12}){let p=n[3],m=e,f=t-n[0]-n[2];if(l&&"right"===h&&(d-="ordinal"===u?2:1),m=m*d/12,m=m-n[1]-n[3],i&&(f-=5,f-=s,a)&&(f-=30),r&&(m-=5,m-=o,p+=o,p+=10,c)){const e=30;m-=e,p+=e}return m=Math.max(0,m),f=Math.max(0,f),{width:Math.floor(m),height:Math.floor(f),xOffset:Math.floor(p)}}({width:this.width,height:this.height,margins:this.margin,showXAxis:this.xAxis,showYAxis:this.yAxis,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,showLegend:this.legend,legendType:this.schemeType,legendPosition:this.legendPosition}),this.formatDates(),this.xScale=this.getXScale(),this.yScale=this.getYScale(),this.setColors(),this.legendOptions=this.getLegendOptions(),this.transform=`translate(${this.dims.xOffset} , ${this.margin[0]})`}getXScale(){this.xDomain=this.getXDomain();const e=SP().range([0,this.dims.width]).domain(this.xDomain);return this.roundDomains?e.nice():e}getYScale(){this.yDomain=this.getYDomain();const e=this.yDomain.length/(this.dims.height/this.barPadding+1);return xP().rangeRound([0,this.dims.height]).paddingInner(e).domain(this.yDomain)}getXDomain(){const e=this.results.map(e=>e.value);return[this.xScaleMin?Math.min(this.xScaleMin,...e):Math.min(0,...e),this.xScaleMax?Math.max(this.xScaleMax,...e):Math.max(0,...e)]}getYDomain(){return this.results.map(e=>e.label)}onClick(e){this.select.emit(e)}setColors(){let e;e="ordinal"===this.schemeType?this.yDomain:this.xDomain,this.colors=new wN(this.scheme,this.schemeType,e,this.customColors)}getLegendOptions(){const e={scaleType:this.schemeType,colors:void 0,domain:[],title:void 0,position:this.legendPosition};return"ordinal"===e.scaleType?(e.domain=this.yDomain,e.colors=this.colors,e.title=this.legendTitle):(e.domain=this.xDomain,e.colors=this.colors.scale),e}updateYAxisWidth({width:e}){this.yAxisWidth=e,this.update()}updateXAxisHeight({height:e}){this.xAxisHeight=e,this.update()}onDataLabelMaxWidthChanged(e){e.size.negative?this.dataLabelMaxWidth.negative=Math.max(this.dataLabelMaxWidth.negative,e.size.width):this.dataLabelMaxWidth.positive=Math.max(this.dataLabelMaxWidth.positive,e.size.width),e.index===this.results.length-1&&setTimeout(()=>this.update())}onActivate(e,t=!1){e=this.results.find(n=>t?n.label===e.name:n.name===e.name),this.activeEntries.findIndex(t=>t.name===e.name&&t.value===e.value&&t.series===e.series)>-1||(this.activeEntries=[e,...this.activeEntries],this.activate.emit({value:e,entries:this.activeEntries}))}onDeactivate(e,t=!1){e=this.results.find(n=>t?n.label===e.name:n.name===e.name);const n=this.activeEntries.findIndex(t=>t.name===e.name&&t.value===e.value&&t.series===e.series);this.activeEntries.splice(n,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:e,entries:this.activeEntries})}};return e.\u0275fac=function(t){return UN(t||e)},e.\u0275cmp=dt({type:e,selectors:[["ngx-charts-bar-horizontal"]],contentQueries:function(e,t,n){var i;1&e&&tl(n,RM,!0),2&e&&Qc(i=rl())&&(t.tooltipTemplate=i.first)},inputs:{legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",tooltipDisabled:"tooltipDisabled",showGridLines:"showGridLines",activeEntries:"activeEntries",trimXAxisTicks:"trimXAxisTicks",trimYAxisTicks:"trimYAxisTicks",rotateXAxisTicks:"rotateXAxisTicks",maxXAxisTickLength:"maxXAxisTickLength",maxYAxisTickLength:"maxYAxisTickLength",barPadding:"barPadding",roundDomains:"roundDomains",roundEdges:"roundEdges",showDataLabel:"showDataLabel",noBarWhenZero:"noBarWhenZero",xAxis:"xAxis",yAxis:"yAxis",showXAxisLabel:"showXAxisLabel",showYAxisLabel:"showYAxisLabel",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",gradient:"gradient",schemeType:"schemeType",xAxisTickFormatting:"xAxisTickFormatting",yAxisTickFormatting:"yAxisTickFormatting",xAxisTicks:"xAxisTicks",yAxisTicks:"yAxisTicks",xScaleMax:"xScaleMax",xScaleMin:"xScaleMin",dataLabelFormatting:"dataLabelFormatting"},outputs:{activate:"activate",deactivate:"deactivate"},features:[Ia],decls:5,vars:25,consts:[[3,"view","showLegend","legendOptions","activeEntries","animations","legendLabelClick","legendLabelActivate","legendLabelDeactivate"],[1,"bar-chart","chart"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged",4,"ngIf"],["ngx-charts-y-axis","",3,"yScale","dims","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","yAxisOffset","dimensionsChanged",4,"ngIf"],["ngx-charts-series-horizontal","",3,"xScale","yScale","colors","series","dims","gradient","tooltipDisabled","tooltipTemplate","activeEntries","roundEdges","animations","showDataLabel","dataLabelFormatting","noBarWhenZero","select","activate","deactivate","dataLabelWidthChanged"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged"],["ngx-charts-y-axis","",3,"yScale","dims","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","yAxisOffset","dimensionsChanged"]],template:function(e,t){1&e&&(No(0,"ngx-charts-chart",0),qo("legendLabelClick",(function(e){return t.onClick(e)}))("legendLabelActivate",(function(e){return t.onActivate(e,!0)}))("legendLabelDeactivate",(function(e){return t.onDeactivate(e,!0)})),Rn(),No(1,"g",1),Ro(2,PM,1,10,"g",2),Ro(3,MM,1,9,"g",3),No(4,"g",4),qo("select",(function(e){return t.onClick(e)}))("activate",(function(e){return t.onActivate(e)}))("deactivate",(function(e){return t.onDeactivate(e)}))("dataLabelWidthChanged",(function(e){return t.onDataLabelMaxWidthChanged(e)})),Lo(),Lo(),Lo()),2&e&&(Po("view",Nc(22,OM,t.width,t.height))("showLegend",t.legend)("legendOptions",t.legendOptions)("activeEntries",t.activeEntries)("animations",t.animations),kr(1),To("transform",t.transform),kr(1),Po("ngIf",t.xAxis),kr(1),Po("ngIf",t.yAxis),kr(1),Po("xScale",t.xScale)("yScale",t.yScale)("colors",t.colors)("series",t.results)("dims",t.dims)("gradient",t.gradient)("tooltipDisabled",t.tooltipDisabled)("tooltipTemplate",t.tooltipTemplate)("activeEntries",t.activeEntries)("roundEdges",t.roundEdges)("animations",t.animations)("showDataLabel",t.showDataLabel)("dataLabelFormatting",t.dataLabelFormatting)("noBarWhenZero",t.noBarWhenZero))},directives:function(){return[YM,Au,xN,nN,sN]},styles:[".ngx-charts{float:left;overflow:visible}.ngx-charts .arc,.ngx-charts .bar,.ngx-charts .circle{cursor:pointer}.ngx-charts .arc.active,.ngx-charts .arc:hover,.ngx-charts .bar.active,.ngx-charts .bar:hover,.ngx-charts .card.active,.ngx-charts .card:hover,.ngx-charts .cell.active,.ngx-charts .cell:hover{opacity:.8;transition:opacity .1s ease-in-out}.ngx-charts .arc:focus,.ngx-charts .bar:focus,.ngx-charts .card:focus,.ngx-charts .cell:focus{outline:0}.ngx-charts .arc.hidden,.ngx-charts .bar.hidden,.ngx-charts .card.hidden,.ngx-charts .cell.hidden{display:none}.ngx-charts g:focus{outline:0}.ngx-charts .area-series.inactive,.ngx-charts .line-series-range.inactive,.ngx-charts .line-series.inactive,.ngx-charts .polar-series-area.inactive,.ngx-charts .polar-series-path.inactive{transition:opacity .1s ease-in-out;opacity:.2}.ngx-charts .line-highlight{display:none}.ngx-charts .line-highlight.active{display:block}.ngx-charts .area{opacity:.6}.ngx-charts .circle:hover{cursor:pointer}.ngx-charts .label{font-size:12px;font-weight:400}.ngx-charts .tooltip-anchor{fill:#000}.ngx-charts .gridline-path{stroke:#ddd;stroke-width:1;fill:none}.ngx-charts .refline-path{stroke:#a8b2c7;stroke-width:1;stroke-dasharray:5;stroke-dashoffset:5}.ngx-charts .refline-label{font-size:9px}.ngx-charts .reference-area{fill-opacity:.05;fill:#000}.ngx-charts .gridline-path-dotted{stroke:#ddd;stroke-width:1;fill:none;stroke-dasharray:1,20;stroke-dashoffset:3}.ngx-charts .grid-panel rect{fill:none}.ngx-charts .grid-panel.odd rect{fill:rgba(0,0,0,.05)}"],encapsulation:2,changeDetection:0}),e})();var CN=function(e){return e.positive="positive",e.negative="negative",e}({});let xN=(()=>{let e=class{constructor(){this.barsForDataLabels=[],this.type="standard",this.tooltipDisabled=!1,this.animations=!0,this.showDataLabel=!1,this.noBarWhenZero=!0,this.select=new jc,this.activate=new jc,this.deactivate=new jc,this.dataLabelWidthChanged=new jc}ngOnChanges(e){this.update()}update(){this.updateTooltipSettings();const e={[CN.positive]:0,[CN.negative]:0};let t,n;t=CN.positive,"normalized"===this.type&&(n=this.series.map(e=>e.value).reduce((e,t)=>e+t,0));const i=Math.max(this.xScale.domain()[0],0);this.bars=this.series.map((r,s)=>{let o=r.value;const a=this.getLabel(r),c=dN(a);t=o>0?CN.positive:CN.negative;const l={value:o,label:a,roundEdges:this.roundEdges,data:r,formattedLabel:c};if(l.height=this.yScale.bandwidth(),"standard"===this.type)l.width=Math.abs(this.xScale(o)-this.xScale(i)),l.x=this.xScale(o<0?o:i),l.y=this.yScale(a);else if("stacked"===this.type){const n=e[t],i=n+o;e[t]+=o,l.width=this.xScale(i)-this.xScale(n),l.x=this.xScale(n),l.y=0,l.offset0=n,l.offset1=i}else if("normalized"===this.type){let i=e[t],r=i+o;e[t]+=o,n>0?(i=100*i/n,r=100*r/n):(i=0,r=0),l.width=this.xScale(r)-this.xScale(i),l.x=this.xScale(i),l.y=0,l.offset0=i,l.offset1=r,o=(r-i).toFixed(2)+"%"}"ordinal"===this.colors.scaleType?l.color=this.colors.getColor(a):"standard"===this.type?(l.color=this.colors.getColor(o),l.gradientStops=this.colors.getLinearGradientStops(o)):(l.color=this.colors.getColor(l.offset1),l.gradientStops=this.colors.getLinearGradientStops(l.offset1,l.offset0));let u=c;return l.ariaLabel=c+" "+o.toLocaleString(),this.seriesName&&(u=`${this.seriesName} \u2022 ${c}`,l.data.series=this.seriesName,l.ariaLabel=this.seriesName+" "+l.ariaLabel),l.tooltipText=this.tooltipDisabled?void 0:`\n        <span class="tooltip-label">${function(e){return e.toLocaleString().replace(/[&'`"<>]/g,e=>({"&":"&amp;","'":"&#x27;","`":"&#x60;",'"':"&quot;","<":"&lt;",">":"&gt;"}[e]))}(u)}</span>\n        <span class="tooltip-val">${o.toLocaleString()}</span>\n      `,l}),this.updateDataLabels()}updateDataLabels(){if("stacked"===this.type){this.barsForDataLabels=[];const e={};e.series=this.seriesName;const t=this.series.map(e=>e.value).reduce((e,t)=>t>0?e+t:e,0),n=this.series.map(e=>e.value).reduce((e,t)=>t<0?e+t:e,0);e.total=t+n,e.x=0,e.y=0,e.width=this.xScale(e.total>0?t:n),e.height=this.yScale.bandwidth(),this.barsForDataLabels.push(e)}else this.barsForDataLabels=this.series.map(e=>{const t={};return t.series=this.seriesName?this.seriesName:e.label,t.total=e.value,t.x=this.xScale(0),t.y=this.yScale(e.label),t.width=this.xScale(t.total)-this.xScale(0),t.height=this.yScale.bandwidth(),t})}updateTooltipSettings(){this.tooltipPlacement=this.tooltipDisabled?void 0:"top",this.tooltipType=this.tooltipDisabled?void 0:"tooltip"}isActive(e){return!!this.activeEntries&&void 0!==this.activeEntries.find(t=>e.name===t.name&&e.series===t.series)}getLabel(e){return e.label?e.label:e.name}trackBy(e,t){return t.label}trackDataLabelBy(e,t){return e+"#"+t.series+"#"+t.total}click(e){this.select.emit(e)}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=dt({type:e,selectors:[["g","ngx-charts-series-horizontal",""]],inputs:{type:"type",tooltipDisabled:"tooltipDisabled",animations:"animations",showDataLabel:"showDataLabel",noBarWhenZero:"noBarWhenZero",dims:"dims",series:"series",xScale:"xScale",yScale:"yScale",colors:"colors",gradient:"gradient",activeEntries:"activeEntries",seriesName:"seriesName",tooltipTemplate:"tooltipTemplate",roundEdges:"roundEdges",dataLabelFormatting:"dataLabelFormatting"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",dataLabelWidthChanged:"dataLabelWidthChanged"},features:[At],attrs:NM,decls:2,vars:3,consts:[["ngx-charts-bar","","ngx-tooltip","",3,"width","height","x","y","fill","stops","data","orientation","roundEdges","gradient","isActive","ariaLabel","animations","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","noBarWhenZero","select","activate","deactivate",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["ngx-charts-bar","","ngx-tooltip","",3,"width","height","x","y","fill","stops","data","orientation","roundEdges","gradient","isActive","ariaLabel","animations","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","noBarWhenZero","select","activate","deactivate"],["ngx-charts-bar-label","",3,"barX","barY","barWidth","barHeight","value","valueFormatting","orientation","dimensionsChanged",4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-bar-label","",3,"barX","barY","barWidth","barHeight","value","valueFormatting","orientation","dimensionsChanged"]],template:function(e,t){1&e&&(Ro(0,LM,1,21,"g",0),Ro(1,UM,2,2,"g",1)),2&e&&(Po("ngForOf",t.bars)("ngForTrackBy",t.trackBy),kr(1),Po("ngIf",t.showDataLabel))},directives:function(){return[Ru,Au,EN,uN,TN]},encapsulation:2,data:{animation:[qd("animationState",[Wd(":leave",[Hd({opacity:1}),Gd(500,Hd({opacity:0}))])])]},changeDetection:0}),e})(),TN=(()=>{let e=class{constructor(e){this.dimensionsChanged=new jc,this.horizontalPadding=2,this.verticalPadding=5,this.element=e.nativeElement}ngOnChanges(e){this.update()}getSize(){return{height:this.element.getBoundingClientRect().height,width:this.element.getBoundingClientRect().width,negative:this.value<0}}ngAfterViewInit(){this.dimensionsChanged.emit(this.getSize())}update(){this.formatedValue=this.valueFormatting?this.valueFormatting(this.value):dN(this.value),"horizontal"===this.orientation?(this.x=this.barX+this.barWidth,this.value<0?(this.x=this.x-this.horizontalPadding,this.textAnchor="end"):(this.x=this.x+this.horizontalPadding,this.textAnchor="start"),this.y=this.barY+this.barHeight/2):(this.x=this.barX+this.barWidth/2,this.y=this.barY+this.barHeight,this.value<0?(this.y=this.y+this.verticalPadding,this.textAnchor="end"):(this.y=this.y-this.verticalPadding,this.textAnchor="start"),this.transform=`rotate(-45, ${this.x} , ${this.y})`)}};return e.\u0275fac=function(t){return new(t||e)(Ao(Ga))},e.\u0275cmp=dt({type:e,selectors:[["g","ngx-charts-bar-label",""]],inputs:{value:"value",valueFormatting:"valueFormatting",barX:"barX",barY:"barY",barWidth:"barWidth",barHeight:"barHeight",orientation:"orientation"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[At],attrs:BM,decls:2,vars:5,consts:[["alignment-baseline","middle",1,"textDataLabel"]],template:function(e,t){1&e&&(Rn(),No(0,"text",0),ya(1),Lo()),2&e&&(To("text-anchor",t.textAnchor)("transform",t.transform)("x",t.x)("y",t.y),kr(1),ba(" ",t.formatedValue," "))},styles:[".textDataLabel[_ngcontent-%COMP%]{font-size:11px}"],changeDetection:0}),e})(),IN=(()=>{let e=class{};return e.\u0275mod=gt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[vN]]}),e})(),RN=(()=>{let e=class{};return e.\u0275mod=gt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[vN]]}),e})(),ON=(()=>{let e=class{};return e.\u0275mod=gt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[vN]]}),e})(),AN=(()=>{let e=class{};return e.\u0275mod=gt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[vN]]}),e})();Math;let DN=(()=>{let e=class{};return e.\u0275mod=gt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[vN]]}),e})(),PN=(()=>{let e=class{};return e.\u0275mod=gt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[vN,DN,AN]]}),e})(),MN=(()=>{let e=class{};return e.\u0275mod=gt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[vN]]}),e})(),NN=(()=>{let e=class{};return e.\u0275mod=gt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[vN]]}),e})(),LN=(()=>{let e=class{};return e.\u0275mod=gt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[vN,DN,IN]]}),e})(),FN=(()=>{let e=class{constructor(){"undefined"!=typeof SVGElement&&void 0===SVGElement.prototype.contains&&(SVGElement.prototype.contains=HTMLDivElement.prototype.contains)}};return e.\u0275mod=gt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[vN,SN,IN,RN,ON,AN,PN,MN,DN,NN,LN]}),e})();const UN=fi(kN),BN=["*"],jN=".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-figure{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}\n",VN=new Fe("MAT_GRID_LIST");let KN=(()=>{class e{constructor(e,t){this._element=e,this._gridList=t,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(e){this._rowspan=Math.round(xh(e))}get colspan(){return this._colspan}set colspan(e){this._colspan=Math.round(xh(e))}_setStyle(e,t){this._element.nativeElement.style[e]=t}}return e.\u0275fac=function(t){return new(t||e)(Ao(Ga),Ao(VN,8))},e.\u0275cmp=dt({type:e,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(e,t){2&e&&To("rowspan",t.rowspan)("colspan",t.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:BN,decls:2,vars:0,consts:[[1,"mat-figure"]],template:function(e,t){1&e&&(Xo(),No(0,"figure",0),Qo(1),Lo())},styles:[jN],encapsulation:2,changeDetection:0}),e})();class qN{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const e=Math.max(...this.tracker);return e>1?this.rowCount+e-1:this.rowCount}update(e,t){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(e),this.tracker.fill(0,0,this.tracker.length),this.positions=t.map(e=>this._trackTile(e))}_trackTile(e){const t=this._findMatchingGap(e.colspan);return this._markTilePosition(t,e),this.columnIndex=t+e.colspan,new GN(this.rowIndex,t)}_findMatchingGap(e){if(e>this.tracker.length)throw Error(`mat-grid-list: tile with colspan ${e} is wider than grid with cols="${this.tracker.length}".`);let t=-1,n=-1;do{this.columnIndex+e>this.tracker.length?(this._nextRow(),t=this.tracker.indexOf(0,this.columnIndex),n=this._findGapEndIndex(t)):(t=this.tracker.indexOf(0,this.columnIndex),-1!=t?(n=this._findGapEndIndex(t),this.columnIndex=t+1):(this._nextRow(),t=this.tracker.indexOf(0,this.columnIndex),n=this._findGapEndIndex(t)))}while(n-t<e||0==n);return Math.max(t,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let e=0;e<this.tracker.length;e++)this.tracker[e]=Math.max(0,this.tracker[e]-1)}_findGapEndIndex(e){for(let t=e+1;t<this.tracker.length;t++)if(0!=this.tracker[t])return t;return this.tracker.length}_markTilePosition(e,t){for(let n=0;n<t.colspan;n++)this.tracker[e+n]=t.rowspan}}class GN{constructor(e,t){this.row=e,this.col=t}}const $N=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class HN{constructor(){this._rows=0,this._rowspan=0}init(e,t,n,i){this._gutterSize=QN(e),this._rows=t.rowCount,this._rowspan=t.rowspan,this._cols=n,this._direction=i}getBaseTileSize(e,t){return`(${e}% - (${this._gutterSize} * ${t}))`}getTilePosition(e,t){return 0===t?"0":XN(`(${e} + ${this._gutterSize}) * ${t}`)}getTileSize(e,t){return`(${e} * ${t}) + (${t-1} * ${this._gutterSize})`}setStyle(e,t,n){let i=100/this._cols,r=(this._cols-1)/this._cols;this.setColStyles(e,n,i,r),this.setRowStyles(e,t,i,r)}setColStyles(e,t,n,i){let r=this.getBaseTileSize(n,i);e._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(r,t)),e._setStyle("width",XN(this.getTileSize(r,e.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(e){return`${this._rowspan} * ${this.getTileSize(e,1)}`}getComputedHeight(){return null}}class zN extends HN{constructor(e){super(),this.fixedRowHeight=e}init(e,t,n,i){if(super.init(e,t,n,i),this.fixedRowHeight=QN(this.fixedRowHeight),!$N.test(this.fixedRowHeight))throw Error(`Invalid value "${this.fixedRowHeight}" set as rowHeight.`)}setRowStyles(e,t){e._setStyle("top",this.getTilePosition(this.fixedRowHeight,t)),e._setStyle("height",XN(this.getTileSize(this.fixedRowHeight,e.rowspan)))}getComputedHeight(){return["height",XN(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(e){e._setListStyle(["height",null]),e._tiles&&e._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}class WN extends HN{constructor(e){super(),this._parseRatio(e)}setRowStyles(e,t,n,i){this.baseTileHeight=this.getBaseTileSize(n/this.rowHeightRatio,i),e._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,t)),e._setStyle("paddingTop",XN(this.getTileSize(this.baseTileHeight,e.rowspan)))}getComputedHeight(){return["paddingBottom",XN(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(e){e._setListStyle(["paddingBottom",null]),e._tiles.forEach(e=>{e._setStyle("marginTop",null),e._setStyle("paddingTop",null)})}_parseRatio(e){const t=e.split(":");if(2!==t.length)throw Error(`mat-grid-list: invalid ratio given for row-height: "${e}"`);this.rowHeightRatio=parseFloat(t[0])/parseFloat(t[1])}}class YN extends HN{setRowStyles(e,t){let n=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);e._setStyle("top",this.getTilePosition(n,t)),e._setStyle("height",XN(this.getTileSize(n,e.rowspan)))}reset(e){e._tiles&&e._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}function XN(e){return`calc(${e})`}function QN(e){return e.match(/([A-Za-z%]+)$/)?e:e+"px"}let ZN=(()=>{class e{constructor(e,t){this._element=e,this._dir=t,this._gutter="1px"}get cols(){return this._cols}set cols(e){this._cols=Math.max(1,Math.round(xh(e)))}get gutterSize(){return this._gutter}set gutterSize(e){this._gutter=""+(null==e?"":e)}get rowHeight(){return this._rowHeight}set rowHeight(e){const t=""+(null==e?"":e);t!==this._rowHeight&&(this._rowHeight=t,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){if(!this.cols)throw Error('mat-grid-list: must pass in number of columns. Example: <mat-grid-list cols="3">')}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(e){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===e?new YN:e&&e.indexOf(":")>-1?new WN(e):new zN(e)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new qN);const e=this._tileCoordinator,t=this._tiles.filter(e=>!e._gridList||e._gridList===this),n=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,t),this._tileStyler.init(this.gutterSize,e,this.cols,n),t.forEach((t,n)=>{const i=e.positions[n];this._tileStyler.setStyle(t,i.row,i.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(e){e&&(this._element.nativeElement.style[e[0]]=e[1])}}return e.\u0275fac=function(t){return new(t||e)(Ao(Ga),Ao(Ld,8))},e.\u0275cmp=dt({type:e,selectors:[["mat-grid-list"]],contentQueries:function(e,t,n){var i;1&e&&tl(n,KN,!0),2&e&&Qc(i=rl())&&(t._tiles=i)},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(e,t){2&e&&To("cols",t.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[ja([{provide:VN,useExisting:e}])],ngContentSelectors:BN,decls:2,vars:0,template:function(e,t){1&e&&(Xo(),No(0,"div"),Qo(1),Lo())},styles:[jN],encapsulation:2,changeDetection:0}),e})(),JN=(()=>{class e{}return e.\u0275mod=gt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[xf,_f],xf,_f]}),e})();function eL(e,t){if(1&e){const e=jo();No(0,"div"),No(1,"div",7),No(2,"mat-label",8),ya(3),Lo(),No(4,"button",9),qo("click",(function(){nn(e);const t=Wo().index;return Wo().confirmPayback(t)})),ya(5," Approve Payback "),Lo(),Lo(),No(6,"mat-label",10),ya(7),Lo(),Lo()}if(2&e){const e=Wo().$implicit,t=Wo();kr(3),ba("You owe ",e.recipient.contact.name,""),kr(4),wa(" ",e.payer.amount/100,"",t.currencyMap[t.group.currency]," ")}}function tL(e,t){if(1&e&&(No(0,"div"),No(1,"div",7),No(2,"mat-label",8),ya(3),Lo(),Lo(),No(4,"mat-label",10),ya(5),Lo(),Lo()),2&e){const e=Wo().$implicit,t=Wo();kr(3),ba("",e.payer.contact.name," owes you"),kr(2),wa(" ",e.payer.amount/100,"",t.currencyMap[t.group.currency]," ")}}function nL(e,t){if(1&e&&(No(0,"mat-grid-tile"),No(1,"mat-card"),Ro(2,eL,8,3,"div",6),Ro(3,tL,6,3,"div",6),Lo(),Lo()),2&e){const e=t.$implicit,n=Wo();kr(2),Po("ngIf",e.payer.contact.contactId===n.userContact.contactId),kr(1),Po("ngIf",e.payer.contact.contactId!==n.userContact.contactId)}}function iL(e,t){1&e&&Fo(0,"mat-spinner",11),2&e&&Po("diameter",30)}let rL=(()=>{class e{constructor(e,t,n,i,r,s){this.dialog=e,this.matrixBasicDataService=t,this.dialogProviderService=n,this.dataModelService=i,this.ref=r,this.zone=s,this.currencyMap=Lx,this.loadingConfirmPayback=!1,this.recommendations=[],this.balanceData=[],this.chartHeight=0,this.barHeight=75,this.getCustomColor=e=>{for(const t of this.balanceData)if(t.name===e)return t.value>=0?"green":"red"}}ngOnChanges(){this.userContact=this.dataModelService.getUser().contact,this.initBalancesRecommendations(),this.dataModelService.getBalanceEmitter().subscribe(()=>{this.initBalancesRecommendations()}),this.group.getMemberChangeEmitter().subscribe(()=>{this.ref.detectChanges()}),this.breakpoint=gI(window.innerWidth,1920,3)}initBalancesRecommendations(){const e=[];for(const n of this.group.recommendations)n.payer.contact.contactId!==this.userContact.contactId&&n.recipient.contact.contactId!==this.userContact.contactId||e.push(n);this.recommendations=e,this.balanceData=[];const t=this.group.groupmembers;for(const n of t)n.active&&this.balanceData.push({name:n.contact.name,value:n.balance/100});this.chartHeight=this.balanceData.length*this.barHeight}onResize(e){this.breakpoint=gI(e.target.innerWidth,1920,3)}confirmPayback(e){this.zone.run(()=>{this.dialog.open(fI,{width:"350px",data:{recommendation:this.recommendations[e]}}).afterClosed().subscribe(e=>{this.dialogData=e,void 0!==this.dialogData&&(this.loadingConfirmPayback=!0,CT(1e5,this.matrixBasicDataService.createTransaction(this.dialogData.recommendation.group.groupId,"Payback from "+this.dialogData.recommendation.payer.contact.name+" to "+this.dialogData.recommendation.recipient.contact.name,this.dialogData.recommendation.payer.contact.contactId,[this.dialogData.recommendation.recipient.contact.contactId],[this.dialogData.recommendation.recipient.amount],!0)).then(e=>{e.wasSuccessful()||this.dialogProviderService.openErrorModal("error confirm payback 1: "+e.getMessage(),this.dialog),this.loadingConfirmPayback=!1},e=>{this.dialogProviderService.openErrorModal("error confirm payback 2: "+e,this.dialog),this.loadingConfirmPayback=!1}))})})}}return e.\u0275fac=function(t){return new(t||e)(Ao(rS),Ao(MT),Ao(TT),Ao(dT),Ao(Zs),Ao(Rl))},e.\u0275cmp=dt({type:e,selectors:[["app-group-balance"]],inputs:{group:"group"},features:[At],decls:8,vars:10,consts:[[1,"center"],[3,"results","xAxis","yAxis","xAxisLabel","customColors"],[1,"divider"],["rowHeight","2:1",3,"cols","resize"],[4,"ngFor","ngForOf"],[3,"diameter",4,"ngIf"],[4,"ngIf"],[1,"approve_div"],[1,"approve_person"],["mat-raised-button","","color","primary",1,"approve_button",3,"click"],[1,"approve_amount"],[3,"diameter"]],template:function(e,t){1&e&&(No(0,"div"),No(1,"div",0),Fo(2,"ngx-charts-bar-horizontal",1),Lo(),Fo(3,"mat-divider"),No(4,"div",2),No(5,"mat-grid-list",3),qo("resize",(function(e){return t.onResize(e)}),!1,Xn),Ro(6,nL,4,2,"mat-grid-tile",4),Lo(),Ro(7,iL,1,1,"mat-spinner",5),Lo(),Lo()),2&e&&(kr(2),sa("height",t.chartHeight,"px"),Po("results",t.balanceData)("xAxis",!0)("yAxis",!0)("xAxisLabel",!0)("customColors",t.getCustomColor),kr(3),Po("cols",t.breakpoint),kr(1),Po("ngForOf",t.recommendations),kr(1),Po("ngIf",t.loadingConfirmPayback))},directives:[kN,US,ZN,Ru,Au,KN,dv,xg,vv,TE],styles:[".approve_button[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin-top:10px}.center[_ngcontent-%COMP%]{display:grid;width:50%;margin-left:auto;margin-right:auto}.center[_ngcontent-%COMP%], .item[_ngcontent-%COMP%]{margin-bottom:50px}.item[_ngcontent-%COMP%]{margin-top:50px}.approve_person[_ngcontent-%COMP%]{font-size:120%}.approve_group[_ngcontent-%COMP%]{margin-left:10px;color:grey}.approve_div[_ngcontent-%COMP%]{display:inline-block;margin-right:20px}.approve_amount[_ngcontent-%COMP%]{font-size:300%}.divider[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px}.payback_div[_ngcontent-%COMP%]{display:block;margin-top:30px}"]}),e})();function sL(e,t){if(1&e&&(No(0,"div"),No(1,"mat-label"),ya(2),Lo(),Lo()),2&e){const e=Wo().$implicit;kr(2),va(e.subject.name)}}function oL(e,t){if(1&e&&(No(0,"div"),No(1,"mat-label"),ya(2),Lo(),Lo()),2&e){const e=Wo().$implicit;kr(2),wa("",e.actor.name," has been added to ",e.subject.name,"")}}function aL(e,t){if(1&e&&(No(0,"div"),No(1,"mat-label"),ya(2),Lo(),Lo()),2&e){const e=Wo().$implicit;kr(2),wa("",e.actor.name," created ",e.subject.name,"")}}function cL(e,t){if(1&e&&(No(0,"div"),No(1,"mat-label"),ya(2),Lo(),Lo()),2&e){const e=Wo().$implicit;kr(2),wa("",e.actor.name," left ",e.subject.name,"")}}function lL(e,t){if(1&e&&(No(0,"div"),No(1,"mat-label"),ya(2),Lo(),Lo()),2&e){const e=Wo().$implicit;kr(2),Sa("",e.actor.name," edited transaction ",e.subject.name," in ",e.subject.group.name,"")}}function uL(e,t){if(1&e&&(No(0,"div"),No(1,"mat-label"),ya(2),Lo(),Lo()),2&e){const e=Wo().$implicit;kr(2),Sa("",e.actor.name," created ",e.subject.name," in ",e.subject.group.name,"")}}function hL(e,t){if(1&e&&(No(0,"mat-list-item",1),No(1,"mat-card"),No(2,"div",2),Ro(3,sL,3,1,"div",3),Ro(4,oL,3,2,"div",3),Ro(5,aL,3,2,"div",3),Ro(6,cL,3,2,"div",3),Ro(7,lL,3,3,"div",3),Ro(8,uL,3,3,"div",3),Lo(),No(9,"mat-label",4),ya(10),Lo(),Lo(),Lo()),2&e){const e=t.$implicit,n=Wo();kr(3),Po("ngIf",e.activityType===n.activityTypes.NEWPAYBACK),kr(1),Po("ngIf",e.activityType===n.activityTypes.NEWCONTACTINGROUP),kr(1),Po("ngIf",e.activityType===n.activityTypes.GROUPCREATION),kr(1),Po("ngIf",e.activityType===n.activityTypes.CONTACTLEFTGROUP),kr(1),Po("ngIf",e.activityType===n.activityTypes.EXPENSECHANGE),kr(1),Po("ngIf",e.activityType===n.activityTypes.NEWEXPENSE),kr(2),va(e.creationDate.toDateString())}}let dL=(()=>{class e{constructor(e){this.ref=e,this.activities=[],this.activityTypes=Hx}ngOnChanges(){this.activities=this.group.activities,this.group.getActivityChangeEmitter().subscribe(()=>{this.ref.detectChanges()})}}return e.\u0275fac=function(t){return new(t||e)(Ao(Zs))},e.\u0275cmp=dt({type:e,selectors:[["app-history"]],inputs:{group:"group"},features:[At],decls:4,vars:3,consts:[["class","activity_item",4,"ngFor","ngForOf"],[1,"activity_item"],[1,"label_div"],[4,"ngIf"],[1,"date"]],template:function(e,t){1&e&&(No(0,"div"),No(1,"mat-list"),Ro(2,hL,11,7,"mat-list-item",0),Uc(3,"reversePipe"),Lo(),Lo()),2&e&&(kr(2),Po("ngForOf",Bc(3,1,t.activities)))},directives:[ZS,Ru,tE,dv,Au,xg],pipes:[uI],styles:[".activity_item[_ngcontent-%COMP%]{margin-bottom:30px;margin-top:30px}.date[_ngcontent-%COMP%]{color:grey;position:absolute;right:18px;bottom:10px}.label_div[_ngcontent-%COMP%]{margin-bottom:15px}"]}),e})();function pL(e,t){if(1&e){const e=jo();No(0,"a",18),qo("click",(function(){nn(e);const n=t.index;return Wo().selectGroup(n)})),ya(1),Lo()}if(2&e){const e=t.$implicit;kr(1),va(e.name)}}function mL(e,t){if(1&e){const e=jo();No(0,"button",19),qo("click",(function(){return nn(e),Wo(),Oo(2).toggle()})),No(1,"mat-icon",20),ya(2,"menu"),Lo(),Lo()}}function fL(e,t){1&e&&Fo(0,"mat-spinner",21),2&e&&Po("diameter",30)}const gL=function(e){return{color:e}};function _L(e,t){if(1&e&&(No(0,"mat-grid-tile"),No(1,"mat-card",6),No(2,"mat-label",7),ya(3),Lo(),No(4,"mat-label",8),ya(5),Lo(),Lo(),Lo()),2&e){const e=t.$implicit,n=Wo();kr(3),ba("Balance ",n.currencyMap[e.currency],""),kr(1),Po("ngStyle",Mc(3,gL,e.balance>=0?"green":"red")),kr(1),va(e.balance/100)}}function yL(e,t){if(1&e){const e=jo();No(0,"div"),No(1,"div",11),No(2,"mat-label",12),ya(3),Lo(),No(4,"button",13),qo("click",(function(){nn(e);const t=Wo().index;return Wo().confirmPayback(t)})),ya(5," Approve Payback "),Lo(),Lo(),No(6,"mat-label",14),ya(7),Lo(),No(8,"mat-label",15),ya(9),Lo(),Lo()}if(2&e){const e=Wo().$implicit,t=Wo();kr(3),ba("You owe ",e.recipient.contact.name,""),kr(4),wa("",e.payer.amount/100,"",t.currencyMap[e.group.currency],""),kr(2),va(e.group.name)}}function vL(e,t){if(1&e&&(No(0,"div"),No(1,"div",11),No(2,"mat-label",12),ya(3),Lo(),Lo(),No(4,"mat-label",14),ya(5),Lo(),No(6,"mat-label",15),ya(7),Lo(),Lo()),2&e){const e=Wo().$implicit,t=Wo();kr(3),ba("",e.payer.contact.name," owes you"),kr(2),wa("",e.payer.amount/100,"",t.currencyMap[e.group.currency],""),kr(2),va(e.group.name)}}function bL(e,t){if(1&e&&(No(0,"mat-grid-tile"),No(1,"mat-card",9),Ro(2,yL,10,4,"div",10),Ro(3,vL,8,4,"div",10),Lo(),Lo()),2&e){const e=t.$implicit,n=Wo();kr(2),Po("ngIf",e.payer.contact.contactId===n.userContact.contactId),kr(1),Po("ngIf",e.payer.contact.contactId!==n.userContact.contactId)}}function wL(e,t){1&e&&Fo(0,"mat-spinner",16),2&e&&Po("diameter",30)}const SL=[{path:"settings",component:HT},{path:"groups",component:(()=>{class e{constructor(e,t,n,i,r,s){this.breakpointObserver=e,this.dialog=t,this.dataModelService=n,this.matrixBasicDataService=i,this.dialogProviderService=r,this.ref=s,this.currentGroup=new rT("","",null),this.loadingLeaveGroup=!1,this.loadingAddMember=!1,this.loadingAddGroup=!1,this.groups=[],this.isHandset$=this.breakpointObserver.observe(kT).pipe(N(e=>e.matches),Nv())}ngOnInit(){this.groups=this.dataModelService.getGroups(),this.groups.length>=1&&(this.currentGroup=this.groups[0]),this.dataModelService.getUser().getGroupChangeEmitter().subscribe(()=>{this.ref.detectChanges()})}selectGroup(e){this.currentGroup=0===this.groups.length?new rT("","",null):this.groups[e],this.ref.detectChanges()}leaveGroup(){let e=null;for(const t of this.currentGroup.groupmembers)if(this.dataModelService.getUser().contact.contactId===t.contact.contactId){e=t;break}null===e?this.dialogProviderService.openErrorModal("Please select a group",this.dialog):0!==e.balance?this.dialogProviderService.openErrorModal("Your balance needs to be 0 to leave the group",this.dialog):this.dialog.open(QT,{width:"300px",data:{group:this.currentGroup}}).afterClosed().subscribe(e=>{this.leaveGroupData=e,void 0!==this.leaveGroupData&&(this.loadingLeaveGroup=!0,CT(1e5,this.matrixBasicDataService.leaveGroup(this.leaveGroupData.group.groupId)).then(e=>{e.wasSuccessful()?this.selectGroup(0):this.dialogProviderService.openErrorModal("error leave group 1: "+e.getMessage(),this.dialog),this.loadingLeaveGroup=!1},e=>{this.dialogProviderService.openErrorModal("error leave group 2: "+e,this.dialog),this.loadingLeaveGroup=!1}))})}addGroup(){this.dialog.open(XT,{width:"300px",data:{groupName:"",currency:this.dataModelService.getUser().currency}}).afterClosed().subscribe(e=>{this.createGroupData=e,void 0!==this.createGroupData&&(this.loadingAddGroup=!0,zx.groupCreationTime=Date.now(),CT(1e5,this.matrixBasicDataService.groupCreate(this.createGroupData.groupName,Fx[this.createGroupData.currency])).then(e=>{e.wasSuccessful()||this.dialogProviderService.openErrorModal("error add group 1: "+e.getMessage(),this.dialog),this.loadingAddGroup=!1},e=>{this.dialogProviderService.openErrorModal("error add group 2: "+e,this.dialog),this.loadingAddGroup=!1}))})}addMemberToGroup(){""===this.currentGroup.groupId?this.dialogProviderService.openErrorModal("Please select a group to add a member",this.dialog):this.dialog.open(eI,{width:"300px",data:{group:this.currentGroup,user:""}}).afterClosed().subscribe(e=>{this.addUserToGroupData=e,void 0!==this.addUserToGroupData&&(this.loadingAddGroup=!0,CT(1e5,this.matrixBasicDataService.groupAddMember(this.addUserToGroupData.group.groupId,this.addUserToGroupData.user)).then(e=>{e.wasSuccessful()||this.dialogProviderService.openErrorModal("error add member 1: "+e.getMessage(),this.dialog),this.loadingAddGroup=!1},e=>{this.dialogProviderService.openErrorModal("error add member 2: "+e,this.dialog),this.loadingAddGroup=!1}))})}}return e.\u0275fac=function(t){return new(t||e)(Ao(ST),Ao(rS),Ao(dT),Ao(MT),Ao(TT),Ao(Zs))},e.\u0275cmp=dt({type:e,selectors:[["app-group-selection"]],decls:37,vars:18,consts:[[1,"sidenav-container"],[1,"sidenav",3,"mode","opened"],["drawer",""],["mat-list-item","",3,"click",4,"ngFor","ngForOf"],["color","primary",1,"toolbar"],[1,"group_title"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click",4,"ngIf"],[1,"first"],[1,"second"],["class","spinner","color","accent",3,"diameter",4,"ngIf"],[1,"buttonDiv"],[1,"groupButtons"],["mat-raised-button","",3,"click"],["animationDuration","0ms"],["label","Transactions"],[3,"group"],["label","Balances"],["label","History"],["mat-list-item","",3,"click"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Side nav toggle icon"],["color","accent",1,"spinner",3,"diameter"]],template:function(e,t){1&e&&(No(0,"mat-sidenav-container",0),No(1,"mat-sidenav",1,2),Uc(3,"async"),Uc(4,"async"),Uc(5,"async"),No(6,"mat-toolbar"),ya(7,"Group Menu"),Lo(),No(8,"mat-action-list"),Ro(9,pL,2,1,"a",3),Lo(),Lo(),No(10,"mat-sidenav-content"),No(11,"mat-toolbar",4),No(12,"div",5),Ro(13,mL,3,0,"button",6),Uc(14,"async"),No(15,"div",7),No(16,"mat-label"),ya(17),Lo(),Lo(),No(18,"div",8),Ro(19,fL,1,1,"mat-spinner",9),Lo(),Lo(),No(20,"div",10),No(21,"div",11),No(22,"button",12),qo("click",(function(){return t.leaveGroup()})),ya(23,"Leave Group"),Lo(),Lo(),No(24,"div",11),No(25,"button",12),qo("click",(function(){return t.addGroup()})),ya(26,"Create Group"),Lo(),Lo(),No(27,"div",11),No(28,"button",12),qo("click",(function(){return t.addMemberToGroup()})),ya(29,"Add User to Group"),Lo(),Lo(),Lo(),Lo(),No(30,"mat-tab-group",13),No(31,"mat-tab",14),Fo(32,"app-group-transaction",15),Lo(),No(33,"mat-tab",16),Fo(34,"app-group-balance",15),Lo(),No(35,"mat-tab",17),Fo(36,"app-history",15),Lo(),Lo(),Lo(),Lo()),2&e&&(kr(1),Po("mode",Bc(4,12,t.isHandset$)?"over":"side")("opened",!1===Bc(5,14,t.isHandset$)),To("role",Bc(3,10,t.isHandset$)?"dialog":"navigation"),kr(8),Po("ngForOf",t.groups),kr(4),Po("ngIf",Bc(14,16,t.isHandset$)),kr(4),va(t.currentGroup.name),kr(2),Po("ngIf",t.loadingAddGroup||t.loadingLeaveGroup||t.loadingAddMember),kr(13),Po("group",t.currentGroup),kr(2),Po("group",t.currentGroup),kr(2),Po("group",t.currentGroup))},directives:[NS,PS,pS,ZS,Ru,DS,Au,xg,vv,Fw,xw,mI,rL,dL,tE,cv,TE],pipes:[Gu],styles:[".sidenav-container[_ngcontent-%COMP%]{height:89vh}.spinner[_ngcontent-%COMP%]{margin-left:10px}.sidenav[_ngcontent-%COMP%]{width:200px}.first[_ngcontent-%COMP%]{float:right;margin-right:5px;margin-top:5px}.second[_ngcontent-%COMP%]{overflow:hidden;margin-left:150px}.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background:inherit}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:0;z-index:100}.group_title[_ngcontent-%COMP%]{position:absolute;top:8px;left:16px}.groupButtons[_ngcontent-%COMP%]{clear:both;margin-top:5px;margin-bottom:5px}.toolbar[_ngcontent-%COMP%]{height:180px}.buttonDiv[_ngcontent-%COMP%]{margin-top:35px}@media only screen and (min-width:1200px){.groupButtons[_ngcontent-%COMP%]{display:inline;position:relative;margin-left:10px}.toolbar[_ngcontent-%COMP%]{height:50px}.buttonDiv[_ngcontent-%COMP%]{margin-top:auto;position:absolute;right:10px}.first[_ngcontent-%COMP%]{float:left;margin-right:5px;margin-top:0}.second[_ngcontent-%COMP%]{overflow:hidden}}"]}),e})()},{path:"home",component:(()=>{class e{constructor(e,t,n,i,r,s){this.dataModelService=e,this.dialog=t,this.matrixBasicDataService=n,this.dialogProviderService=i,this.ref=r,this.zone=s,this.usedCurrencies=new Set,this.recommendations=[],this.currencyMap=Lx,this.balanceList=[],this.loadingConfirmPayback=!1}ngOnInit(){this.userContact=this.dataModelService.getUser().contact,this.initBalancesRecommendations(),this.dataModelService.getBalanceEmitter().subscribe(()=>{this.initBalancesRecommendations()}),this.breakpoint=gI(window.innerWidth,2200,4)}initBalancesRecommendations(){const e=this.dataModelService.getGroups();this.recommendations=[];for(const t of e){for(const e of t.recommendations)e.payer.contact.contactId!==this.userContact.contactId&&e.recipient.contact.contactId!==this.userContact.contactId||this.recommendations.push(e);this.usedCurrencies.add(t.currency)}this.balanceList=[];for(const t of this.usedCurrencies){const e=this.getTotalBalance(t);this.balanceList=this.balanceList.concat({balance:e,currency:t})}this.ref.detectChanges()}onResize(e){this.breakpoint=gI(e.target.innerWidth,2200,4)}getTotalBalance(e){const t=this.dataModelService.getGroups();let n=0;for(const i of t)if(i.currency===e)for(const e of i.groupmembers)if(e.contact.contactId===this.userContact.contactId){n+=e.balance;break}return n}confirmPayback(e){this.zone.run(()=>{const t=this.recommendations[e];console.log(t),this.dialog.open(fI,{width:"350px",data:{recommendation:t}}).afterClosed().subscribe(e=>{this.dialogData=e,void 0!==this.dialogData&&(this.loadingConfirmPayback=!0,CT(1e5,this.matrixBasicDataService.createTransaction(this.dialogData.recommendation.group.groupId,"Payback from "+this.dialogData.recommendation.payer.contact.name+" to "+this.dialogData.recommendation.recipient.contact.name,this.dialogData.recommendation.payer.contact.contactId,[this.dialogData.recommendation.recipient.contact.contactId],[this.dialogData.recommendation.recipient.amount],!0)).then(e=>{e.wasSuccessful()||this.dialogProviderService.openErrorModal("error confirm payback 1: "+e.getMessage(),this.dialog),this.loadingConfirmPayback=!1},e=>{this.dialogProviderService.openErrorModal("error confirm payback 2: "+e,this.dialog),this.loadingConfirmPayback=!1}))})})}}return e.\u0275fac=function(t){return new(t||e)(Ao(dT),Ao(rS),Ao(MT),Ao(TT),Ao(Zs),Ao(Rl))},e.\u0275cmp=dt({type:e,selectors:[["app-home"]],decls:8,vars:5,consts:[[1,"balance"],["rowHeight","2:1",3,"cols","resize"],[4,"ngFor","ngForOf"],[1,"divider"],[1,"payback_div"],[3,"diameter",4,"ngIf"],[1,"center"],[1,"balance_label"],[1,"balance_number",3,"ngStyle"],[1,"card"],[4,"ngIf"],[1,"approve_div"],[1,"approve_person"],["mat-raised-button","","color","primary",1,"approve_button",3,"click"],[1,"approve_amount"],[1,"approve_group"],[3,"diameter"]],template:function(e,t){1&e&&(No(0,"div",0),No(1,"mat-grid-list",1),qo("resize",(function(e){return t.onResize(e)}),!1,Xn),Ro(2,_L,6,5,"mat-grid-tile",2),Lo(),Lo(),Fo(3,"mat-divider",3),No(4,"div",4),No(5,"mat-grid-list",1),qo("resize",(function(e){return t.onResize(e)}),!1,Xn),Ro(6,bL,4,2,"mat-grid-tile",2),Lo(),Ro(7,wL,1,1,"mat-spinner",5),Lo()),2&e&&(kr(1),Po("cols",t.breakpoint),kr(1),Po("ngForOf",t.balanceList),kr(3),Po("cols",t.breakpoint),kr(1),Po("ngForOf",t.recommendations),kr(1),Po("ngIf",t.loadingConfirmPayback))},directives:[ZN,Ru,US,Au,KN,dv,xg,Uu,vv,TE],styles:[".center[_ngcontent-%COMP%]{margin:auto;width:50%;padding:20px}.card[_ngcontent-%COMP%]{height:80px;width:320px}.balance[_ngcontent-%COMP%]{margin-bottom:10px}.balance_label[_ngcontent-%COMP%]{font-size:200%}.balance_number[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin:auto;font-size:500%;line-height:100%}.approve_button[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin-top:10px}.approve_person[_ngcontent-%COMP%]{font-size:120%}.approve_group[_ngcontent-%COMP%]{position:absolute;right:5px;bottom:5px;color:grey}.approve_div[_ngcontent-%COMP%]{display:inline-block;margin-right:20px}.approve_amount[_ngcontent-%COMP%]{font-size:300%;position:absolute;top:20px;left:auto}.divider[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px}.payback_div[_ngcontent-%COMP%]{margin-top:30px}"]}),e})()},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",component:(()=>{class e{constructor(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=dt({type:e,selectors:[["app-page-not-found"]],decls:4,vars:0,consts:[[1,"baseDiv"],[1,"center"]],template:function(e,t){1&e&&(No(0,"div",0),No(1,"mat-card",1),No(2,"mat-label"),ya(3,"Error, page not found"),Lo(),Lo(),Lo())},directives:[dv,xg],styles:[".center[_ngcontent-%COMP%]{margin:auto;width:20%;padding:20px}.baseDiv[_ngcontent-%COMP%]{padding-top:150px;background-color:#add8e6;height:100%}"]}),e})()}];let EL=(()=>{class e{}return e.\u0275mod=gt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[Cx.forRoot(SL)],Cx]}),e})(),kL=(()=>{class e{}return e.\u0275mod=gt({type:e,bootstrap:[qT]}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:[{provide:Zw,useValue:{}},{provide:eS,useValue:[]},TT],imports:[[kh,hf,Fg,Cy,lv,pv,_y,bv,nw,aS,yy,_T,mS,FS,nE,$w,oS,EL,FN,rE,_E,IE,JN]]}),e})();(function(){if(Oi)throw new Error("Cannot enable prod mode after platform setup.");Ri=!1})(),Sh().bootstrapModule(kL).catch(e=>console.error(e))},zn8P:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0]]]);